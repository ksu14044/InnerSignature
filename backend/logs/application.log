2025-12-30T09:14:23.864+09:00  INFO 19004 --- [main] c.i.backend.BackendApplication           : Starting BackendApplication using Java 17.0.17 with PID 19004 (C:\InnerSignature\backend\target\classes started by owner in C:\InnerSignature\backend)
2025-12-30T09:14:23.917+09:00 DEBUG 19004 --- [main] c.i.backend.BackendApplication           : Running with Spring Boot v3.5.8, Spring v6.2.14
2025-12-30T09:14:23.923+09:00  INFO 19004 --- [main] c.i.backend.BackendApplication           : The following 1 profile is active: "dev"
2025-12-30T09:14:26.040+09:00 DEBUG 19004 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Searching for mappers annotated with @Mapper
2025-12-30T09:14:26.041+09:00 DEBUG 19004 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Using auto-configuration base package 'com.innersignature.backend'
2025-12-30T09:14:26.415+09:00 DEBUG 19004 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AccountCodeMappingMapper.class]
2025-12-30T09:14:26.417+09:00 DEBUG 19004 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AuditLogMapper.class]
2025-12-30T09:14:26.420+09:00 DEBUG 19004 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AuditRuleMapper.class]
2025-12-30T09:14:26.423+09:00 DEBUG 19004 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\BudgetMapper.class]
2025-12-30T09:14:26.433+09:00 DEBUG 19004 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CompanyMapper.class]
2025-12-30T09:14:26.436+09:00 DEBUG 19004 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CreditMapper.class]
2025-12-30T09:14:26.445+09:00 DEBUG 19004 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\ExpenseMapper.class]
2025-12-30T09:14:26.446+09:00 DEBUG 19004 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\MonthlyClosingMapper.class]
2025-12-30T09:14:26.447+09:00 DEBUG 19004 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PasswordResetTokenMapper.class]
2025-12-30T09:14:26.447+09:00 DEBUG 19004 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PaymentMapper.class]
2025-12-30T09:14:26.448+09:00 DEBUG 19004 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionMapper.class]
2025-12-30T09:14:26.448+09:00 DEBUG 19004 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionPlanMapper.class]
2025-12-30T09:14:26.467+09:00 DEBUG 19004 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserMapper.class]
2025-12-30T09:14:26.472+09:00 DEBUG 19004 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'accountCodeMappingMapper' and 'com.innersignature.backend.mapper.AccountCodeMappingMapper' mapperInterface
2025-12-30T09:14:26.476+09:00 DEBUG 19004 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'auditLogMapper' and 'com.innersignature.backend.mapper.AuditLogMapper' mapperInterface
2025-12-30T09:14:26.479+09:00 DEBUG 19004 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'auditRuleMapper' and 'com.innersignature.backend.mapper.AuditRuleMapper' mapperInterface
2025-12-30T09:14:26.481+09:00 DEBUG 19004 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'budgetMapper' and 'com.innersignature.backend.mapper.BudgetMapper' mapperInterface
2025-12-30T09:14:26.483+09:00 DEBUG 19004 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'companyMapper' and 'com.innersignature.backend.mapper.CompanyMapper' mapperInterface
2025-12-30T09:14:26.484+09:00 DEBUG 19004 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'creditMapper' and 'com.innersignature.backend.mapper.CreditMapper' mapperInterface
2025-12-30T09:14:26.485+09:00 DEBUG 19004 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'expenseMapper' and 'com.innersignature.backend.mapper.ExpenseMapper' mapperInterface
2025-12-30T09:14:26.487+09:00 DEBUG 19004 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'monthlyClosingMapper' and 'com.innersignature.backend.mapper.MonthlyClosingMapper' mapperInterface
2025-12-30T09:14:26.489+09:00 DEBUG 19004 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'passwordResetTokenMapper' and 'com.innersignature.backend.mapper.PasswordResetTokenMapper' mapperInterface
2025-12-30T09:14:26.490+09:00 DEBUG 19004 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'paymentMapper' and 'com.innersignature.backend.mapper.PaymentMapper' mapperInterface
2025-12-30T09:14:26.492+09:00 DEBUG 19004 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionMapper' and 'com.innersignature.backend.mapper.SubscriptionMapper' mapperInterface
2025-12-30T09:14:26.493+09:00 DEBUG 19004 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionPlanMapper' and 'com.innersignature.backend.mapper.SubscriptionPlanMapper' mapperInterface
2025-12-30T09:14:26.495+09:00 DEBUG 19004 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'com.innersignature.backend.mapper.UserMapper' mapperInterface
2025-12-30T09:14:27.468+09:00  INFO 19004 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-12-30T09:14:27.493+09:00  INFO 19004 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-30T09:14:27.501+09:00  INFO 19004 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-30T09:14:27.736+09:00  INFO 19004 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-30T09:14:27.737+09:00  INFO 19004 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3609 ms
2025-12-30T09:14:27.848+09:00 DEBUG 19004 --- [main] c.i.b.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-12-30T09:14:27.858+09:00 DEBUG 19004 --- [main] c.i.backend.security.RateLimitFilter     : Filter 'rateLimitFilter' configured for use
2025-12-30T09:14:28.616+09:00 DEBUG 19004 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\AccountCodeMappingMapper.xml]'
2025-12-30T09:14:28.640+09:00 DEBUG 19004 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\AuditLogMapper.xml]'
2025-12-30T09:14:28.685+09:00 DEBUG 19004 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\AuditRuleMapper.xml]'
2025-12-30T09:14:28.725+09:00 DEBUG 19004 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\BudgetMapper.xml]'
2025-12-30T09:14:28.760+09:00 DEBUG 19004 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CompanyMapper.xml]'
2025-12-30T09:14:28.800+09:00 DEBUG 19004 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CreditMapper.xml]'
2025-12-30T09:14:28.950+09:00 DEBUG 19004 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\ExpenseMapper.xml]'
2025-12-30T09:14:29.002+09:00 DEBUG 19004 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\MonthlyClosingMapper.xml]'
2025-12-30T09:14:29.016+09:00 DEBUG 19004 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PasswordResetTokenMapper.xml]'
2025-12-30T09:14:29.037+09:00 DEBUG 19004 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PaymentMapper.xml]'
2025-12-30T09:14:29.076+09:00 DEBUG 19004 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionMapper.xml]'
2025-12-30T09:14:29.085+09:00 DEBUG 19004 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionPlanMapper.xml]'
2025-12-30T09:14:29.123+09:00 DEBUG 19004 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserMappeer.xml]'
2025-12-30T09:14:30.232+09:00 DEBUG 19004 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 118 mappings in 'requestMappingHandlerMapping'
2025-12-30T09:14:30.403+09:00 DEBUG 19004 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /api/uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-30T09:14:30.469+09:00  WARN 19004 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: f3eafadf-bd56-4aec-bf37-16ec41b17c61

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-30T09:14:30.510+09:00  INFO 19004 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-30T09:14:30.694+09:00 DEBUG 19004 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, RateLimitFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-30T09:14:30.836+09:00 DEBUG 19004 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-30T09:14:30.909+09:00 DEBUG 19004 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-30T09:14:30.917+09:00 DEBUG 19004 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-12-30T09:14:31.350+09:00  INFO 19004 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-12-30T09:14:31.394+09:00  INFO 19004 --- [main] c.i.backend.BackendApplication           : Started BackendApplication in 8.552 seconds (process running for 9.214)
2025-12-30T09:14:55.285+09:00  INFO 19004 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-30T09:14:55.286+09:00  INFO 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-30T09:14:55.286+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-30T09:14:55.287+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-30T09:14:55.288+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-30T09:14:55.290+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@e72fb04
2025-12-30T09:14:55.290+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@393ae7a0
2025-12-30T09:14:55.292+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-30T09:14:55.293+09:00  INFO 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2025-12-30T09:14:55.362+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2025-12-30T09:14:55.448+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-30T09:14:55.456+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-30T09:14:55.459+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-30T09:14:55.463+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-30T09:14:55.465+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-30T09:14:55.557+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_user1, password=1234)]
2025-12-30T09:14:55.565+09:00  INFO 19004 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 로그인 시도 - username: test_user1
2025-12-30T09:14:55.577+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:14:55.584+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cf5fcc5] was not registered for synchronization because synchronization is not active
2025-12-30T09:14:55.596+09:00  INFO 19004 --- [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-30T09:14:55.934+09:00  INFO 19004 --- [http-nio-8080-exec-2] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@369298aa
2025-12-30T09:14:55.938+09:00  INFO 19004 --- [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-30T09:14:55.946+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@458079323 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:14:55.962+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-30T09:14:55.996+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user1(String)
2025-12-30T09:14:56.042+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-30T09:14:56.052+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cf5fcc5]
2025-12-30T09:14:56.156+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:14:56.157+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69596968] was not registered for synchronization because synchronization is not active
2025-12-30T09:14:56.158+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@725907361 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:14:56.159+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:14:56.161+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 2(Long)
2025-12-30T09:14:56.176+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:14:56.178+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69596968]
2025-12-30T09:14:56.330+09:00  INFO 19004 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 로그인 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1
2025-12-30T09:14:56.333+09:00  INFO 19004 --- [http-nio-8080-exec-2] SECURITY                                 : LOGIN_SUCCESS userId=2 username=test_user1 role=TAX_ACCOUNTANT
2025-12-30T09:14:56.353+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:14:56.368+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=2, username=test_user1, password (truncated)...]
2025-12-30T09:14:56.395+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:14:57.071+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-30T09:14:57.108+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-30T09:14:57.111+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-30T09:14:57.112+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-30T09:14:57.114+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-30T09:14:57.116+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-30T09:14:57.129+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-30T09:14:57.154+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:14:57.154+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-30T09:14:57.258+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/companies
2025-12-30T09:14:57.258+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:14:57.260+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-30T09:14:57.277+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-30T09:14:57.278+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-30T09:14:57.289+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:14:57.289+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-30T09:14:57.291+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-30T09:14:57.291+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:14:57.291+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-30T09:14:57.292+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:14:57.292+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:14:57.295+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:14:57.296+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:14:57.301+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:14:57.304+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40c96f7] was not registered for synchronization because synchronization is not active
2025-12-30T09:14:57.302+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42e839d7] was not registered for synchronization because synchronization is not active
2025-12-30T09:14:57.302+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@cad53e1] was not registered for synchronization because synchronization is not active
2025-12-30T09:14:57.322+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1025714326 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:14:57.323+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1953961639 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:14:57.385+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:14:57.386+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-30T09:14:57.389+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-30T09:14:57.390+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 2(Long)
2025-12-30T09:14:57.513+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@123091174 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:14:57.514+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-30T09:14:57.516+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T09:14:57.540+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:14:57.549+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42e839d7]
2025-12-30T09:14:57.550+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@cad53e1]
2025-12-30T09:14:57.552+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:14:57.557+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:14:57.559+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:14:57.595+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3eda90b4] was not registered for synchronization because synchronization is not active
2025-12-30T09:14:57.598+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:14:57.601+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2115888145 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:14:57.602+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40c96f7]
2025-12-30T09:14:57.603+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:14:57.604+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:14:57.610+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6953b240] was not registered for synchronization because synchronization is not active
2025-12-30T09:14:57.607+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:14:57.609+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-30T09:14:57.614+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@274670501 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:14:57.617+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:14:57.617+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:14:57.621+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:14:57.631+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:14:57.636+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3eda90b4]
2025-12-30T09:14:57.639+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:14:57.643+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5150c017] was not registered for synchronization because synchronization is not active
2025-12-30T09:14:57.645+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1019935939 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:14:57.646+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:14:57.648+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:14:57.650+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6953b240]
2025-12-30T09:14:57.650+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 2(Long)
2025-12-30T09:14:57.652+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:14:57.652+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7451c003] was not registered for synchronization because synchronization is not active
2025-12-30T09:14:57.656+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@14990715 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:14:57.662+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:14:57.664+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:14:57.668+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-30T09:14:57.668+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:14:57.680+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5150c017]
2025-12-30T09:14:57.681+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7451c003]
2025-12-30T09:14:57.682+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:14:57.683+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:14:57.683+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62f764a] was not registered for synchronization because synchronization is not active
2025-12-30T09:14:57.684+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bc79341] was not registered for synchronization because synchronization is not active
2025-12-30T09:14:57.686+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@276179089 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:14:57.687+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1035518796 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:14:57.690+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:14:57.691+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:14:57.692+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:14:57.692+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:14:57.703+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:14:57.709+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:14:57.713+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62f764a]
2025-12-30T09:14:57.716+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bc79341]
2025-12-30T09:14:57.717+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:14:57.717+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:14:57.719+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a21d8fe] was not registered for synchronization because synchronization is not active
2025-12-30T09:14:57.721+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2086595831 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:14:57.722+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:14:57.729+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T09:14:57.736+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:14:57.750+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:14:57.770+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-30T09:14:57.778+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:14:57.783+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a21d8fe]
2025-12-30T09:14:57.785+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:14:57.794+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:14:57.796+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e69c11b] was not registered for synchronization because synchronization is not active
2025-12-30T09:14:57.795+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-30T09:14:57.799+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@183177728 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:14:57.801+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:14:57.801+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-30T09:14:57.802+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:14:57.803+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:14:57.836+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:14:57.844+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c70bebf] was not registered for synchronization because synchronization is not active
2025-12-30T09:14:57.847+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:14:57.848+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@976313401 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:14:57.848+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e69c11b]
2025-12-30T09:14:57.851+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:14:57.853+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:14:57.854+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a3612e2] was not registered for synchronization because synchronization is not active
2025-12-30T09:14:57.854+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-30T09:14:57.858+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@155120086 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:14:57.860+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:14:57.864+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:14:57.866+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T09:14:57.867+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c70bebf]
2025-12-30T09:14:57.868+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:14:57.869+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37cb34e8] was not registered for synchronization because synchronization is not active
2025-12-30T09:14:57.870+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1320673768 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:14:57.875+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:14:57.877+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:14:57.877+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:14:57.888+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a3612e2]
2025-12-30T09:14:57.890+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:14:57.900+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:14:57.906+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:14:57.911+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:14:57.914+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37cb34e8]
2025-12-30T09:14:57.916+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:14:57.919+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f383337] was not registered for synchronization because synchronization is not active
2025-12-30T09:14:57.920+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:14:57.926+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@914136129 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:14:57.927+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:14:57.935+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-30T09:14:57.937+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 2(Long)
2025-12-30T09:14:57.941+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:14:57.945+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:14:57.953+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:14:57.957+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:14:57.958+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11d95191] was not registered for synchronization because synchronization is not active
2025-12-30T09:14:57.959+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@522108378 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:14:57.963+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:14:57.964+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:14:57.965+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-30T09:14:57.967+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f383337]
2025-12-30T09:14:57.969+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:14:57.970+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7774241f] was not registered for synchronization because synchronization is not active
2025-12-30T09:14:57.971+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1231749197 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:14:57.973+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:14:57.974+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:14:57.979+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:14:57.982+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11d95191]
2025-12-30T09:14:57.985+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:14:57.985+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:14:57.985+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7774241f]
2025-12-30T09:14:57.986+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e23b7e1] was not registered for synchronization because synchronization is not active
2025-12-30T09:14:57.987+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:14:57.992+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@86847597 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:14:57.995+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T09:14:57.995+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:14:57.996+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:14:57.996+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:14:58.002+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:14:58.008+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e23b7e1]
2025-12-30T09:14:58.010+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-30T09:14:58.012+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:14:58.015+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7dd3744a] was not registered for synchronization because synchronization is not active
2025-12-30T09:14:58.017+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1040992430 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:14:58.017+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:14:58.018+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:14:58.018+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-30T09:14:58.019+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:14:58.025+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-30T09:14:58.033+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:14:58.035+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:14:58.037+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:14:58.047+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fdca897] was not registered for synchronization because synchronization is not active
2025-12-30T09:14:58.048+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7dd3744a]
2025-12-30T09:14:58.049+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@555434780 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:14:58.050+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:14:58.050+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:14:58.051+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c0ba29] was not registered for synchronization because synchronization is not active
2025-12-30T09:14:58.053+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-30T09:14:58.056+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1725431647 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:14:58.058+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:14:58.060+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:14:58.065+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T09:14:58.069+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:14:58.078+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fdca897]
2025-12-30T09:14:58.079+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c0ba29]
2025-12-30T09:14:58.079+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:14:58.079+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:14:58.080+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60264927] was not registered for synchronization because synchronization is not active
2025-12-30T09:14:58.081+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d616878] was not registered for synchronization because synchronization is not active
2025-12-30T09:14:58.082+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@720686500 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:14:58.082+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@418748431 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:14:58.086+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:14:58.098+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:14:58.100+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:14:58.100+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:14:58.129+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:14:58.133+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:14:58.133+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d616878]
2025-12-30T09:14:58.134+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60264927]
2025-12-30T09:14:58.134+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:14:58.135+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:14:58.135+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f7d6160] was not registered for synchronization because synchronization is not active
2025-12-30T09:14:58.143+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5234b278] was not registered for synchronization because synchronization is not active
2025-12-30T09:14:58.156+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2043274847 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:14:58.166+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1054924198 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:14:58.167+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:14:58.168+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:14:58.169+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:14:58.181+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 2(Long)
2025-12-30T09:14:58.198+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-30T09:14:58.200+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:14:58.205+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5234b278]
2025-12-30T09:14:58.206+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f7d6160]
2025-12-30T09:14:58.209+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:14:58.209+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:14:58.212+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4474ac8] was not registered for synchronization because synchronization is not active
2025-12-30T09:14:58.213+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10fd790] was not registered for synchronization because synchronization is not active
2025-12-30T09:14:58.214+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1847596466 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:14:58.214+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@100516016 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:14:58.215+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:14:58.215+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:14:58.216+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:14:58.218+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:14:58.357+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:14:58.369+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10fd790]
2025-12-30T09:14:58.371+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:14:58.358+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:14:58.378+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:14:58.378+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4474ac8]
2025-12-30T09:14:58.384+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:14:58.385+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:14:58.388+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T09:14:58.420+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:14:58.496+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-30T09:14:58.508+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:14:58.512+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-30T09:14:58.517+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-30T09:14:58.520+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:14:58.530+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:14:58.549+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6252c566] was not registered for synchronization because synchronization is not active
2025-12-30T09:14:58.569+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1821718364 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:14:58.575+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:14:58.579+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-30T09:14:58.595+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T09:14:58.599+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6252c566]
2025-12-30T09:14:58.600+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:14:58.601+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2da83d67] was not registered for synchronization because synchronization is not active
2025-12-30T09:14:58.602+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1495639105 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:14:58.613+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:14:58.615+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:14:58.622+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:14:58.623+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2da83d67]
2025-12-30T09:14:58.624+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:14:58.624+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2128906f] was not registered for synchronization because synchronization is not active
2025-12-30T09:14:58.626+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1300742696 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:14:58.626+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:14:58.628+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 2(Long)
2025-12-30T09:14:58.635+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-30T09:14:58.635+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2128906f]
2025-12-30T09:14:58.636+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:14:58.636+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f62b082] was not registered for synchronization because synchronization is not active
2025-12-30T09:14:58.637+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@976025833 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:14:58.637+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:14:58.638+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:14:58.646+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:14:58.648+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f62b082]
2025-12-30T09:14:58.649+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:14:58.651+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T09:14:58.654+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:16:43.359+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /
2025-12-30T09:16:43.365+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-30T09:17:02.847+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2025-12-30T09:17:02.866+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-30T09:17:02.872+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/logout
2025-12-30T09:17:02.873+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-30T09:17:02.874+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-30T09:17:02.878+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-30T09:17:02.881+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIyIiwidXNlcm5hbWUiOiJ (truncated)...]
2025-12-30T09:17:02.892+09:00  INFO 19004 --- [http-nio-8080-exec-4] SECURITY                                 : LOGOUT userId=2
2025-12-30T09:17:02.901+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:17:02.910+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-30T09:17:02.911+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:17:11.194+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-30T09:17:11.195+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-30T09:17:11.195+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-30T09:17:11.196+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-30T09:17:11.196+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-30T09:17:11.197+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_user1, password=1234)]
2025-12-30T09:17:11.198+09:00  INFO 19004 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 로그인 시도 - username: test_user1
2025-12-30T09:17:11.199+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:17:11.199+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53a4dd82] was not registered for synchronization because synchronization is not active
2025-12-30T09:17:11.206+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@932480764 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:17:11.207+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-30T09:17:11.209+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user1(String)
2025-12-30T09:17:11.216+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-30T09:17:11.217+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53a4dd82]
2025-12-30T09:17:11.300+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:17:11.301+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@656036a2] was not registered for synchronization because synchronization is not active
2025-12-30T09:17:11.302+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@413598135 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:17:11.303+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:17:11.308+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 2(Long)
2025-12-30T09:17:11.312+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:17:11.313+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@656036a2]
2025-12-30T09:17:11.314+09:00  INFO 19004 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 로그인 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1
2025-12-30T09:17:11.315+09:00  INFO 19004 --- [http-nio-8080-exec-5] SECURITY                                 : LOGIN_SUCCESS userId=2 username=test_user1 role=TAX_ACCOUNTANT
2025-12-30T09:17:11.316+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:17:11.317+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=2, username=test_user1, password (truncated)...]
2025-12-30T09:17:11.318+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:17:11.718+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-30T09:17:11.738+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/companies
2025-12-30T09:17:11.753+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-30T09:17:11.757+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-30T09:17:11.760+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:17:11.760+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-30T09:17:11.766+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-30T09:17:11.760+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-30T09:17:11.768+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:17:11.775+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:17:11.780+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:17:11.779+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:17:11.780+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-30T09:17:11.781+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:17:11.782+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d25b7f7] was not registered for synchronization because synchronization is not active
2025-12-30T09:17:11.783+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:17:11.782+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-30T09:17:11.783+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1944213027 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:17:11.785+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@223376f8] was not registered for synchronization because synchronization is not active
2025-12-30T09:17:11.787+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:17:11.788+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-30T09:17:11.791+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:17:11.809+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e63c673] was not registered for synchronization because synchronization is not active
2025-12-30T09:17:11.810+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 2(Long)
2025-12-30T09:17:11.815+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@339338447 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:17:11.816+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:17:11.817+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1868483656 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:17:11.818+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:17:11.819+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:17:11.821+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-30T09:17:11.824+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-30T09:17:11.829+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d25b7f7]
2025-12-30T09:17:11.831+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:17:11.831+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T09:17:11.831+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:17:11.831+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@223376f8]
2025-12-30T09:17:11.832+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e63c673]
2025-12-30T09:17:11.832+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-30T09:17:11.832+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:17:11.833+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:17:11.834+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:17:11.836+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@789fc136] was not registered for synchronization because synchronization is not active
2025-12-30T09:17:11.841+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f713307] was not registered for synchronization because synchronization is not active
2025-12-30T09:17:11.844+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1037115736 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:17:11.844+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:17:11.844+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@169043712 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:17:11.846+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:17:11.845+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:17:11.848+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:17:11.852+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:17:11.852+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:17:11.856+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@789fc136]
2025-12-30T09:17:11.855+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f713307]
2025-12-30T09:17:11.858+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:17:11.860+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:17:11.862+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f91cfc] was not registered for synchronization because synchronization is not active
2025-12-30T09:17:11.863+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dd02b79] was not registered for synchronization because synchronization is not active
2025-12-30T09:17:11.863+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@23718724 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:17:11.865+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@188729551 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:17:11.865+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:17:11.865+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:17:11.866+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:17:11.867+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 2(Long)
2025-12-30T09:17:11.877+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:17:11.878+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-30T09:17:11.880+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dd02b79]
2025-12-30T09:17:11.880+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f91cfc]
2025-12-30T09:17:11.882+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:17:11.882+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e422768] was not registered for synchronization because synchronization is not active
2025-12-30T09:17:11.881+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:17:11.884+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@756a5d6c] was not registered for synchronization because synchronization is not active
2025-12-30T09:17:11.883+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@823380640 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:17:11.890+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2037201755 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:17:11.890+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:17:11.891+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:17:11.892+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:17:11.892+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:17:11.899+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:17:11.900+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:17:11.901+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@756a5d6c]
2025-12-30T09:17:11.909+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e422768]
2025-12-30T09:17:11.910+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:17:11.911+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:17:11.913+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T09:17:11.913+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72088739] was not registered for synchronization because synchronization is not active
2025-12-30T09:17:11.915+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:17:11.915+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@488544119 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:17:11.917+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:17:11.917+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-30T09:17:11.918+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:17:11.928+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:17:11.931+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-30T09:17:11.933+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-30T09:17:11.934+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:17:11.935+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72088739]
2025-12-30T09:17:11.938+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:17:11.939+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c371cb1] was not registered for synchronization because synchronization is not active
2025-12-30T09:17:11.942+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@170943809 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:17:11.944+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:17:11.934+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:17:11.945+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:17:11.946+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:17:11.946+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cbb6b0] was not registered for synchronization because synchronization is not active
2025-12-30T09:17:11.947+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1480236089 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:17:11.961+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:17:11.964+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-30T09:17:11.966+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:17:11.968+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c371cb1]
2025-12-30T09:17:11.974+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:17:12.028+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69442866] was not registered for synchronization because synchronization is not active
2025-12-30T09:17:12.030+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1829925739 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:17:12.031+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:17:11.978+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T09:17:12.032+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:17:12.032+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cbb6b0]
2025-12-30T09:17:12.034+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:17:12.091+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f7de0bc] was not registered for synchronization because synchronization is not active
2025-12-30T09:17:12.093+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:17:12.095+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1197194197 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:17:12.096+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69442866]
2025-12-30T09:17:12.097+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:17:12.098+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:17:12.128+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:17:12.109+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:17:12.130+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:17:12.165+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:17:12.178+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:17:12.182+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f7de0bc]
2025-12-30T09:17:12.191+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-30T09:17:12.192+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:17:12.193+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:17:12.193+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@665841f3] was not registered for synchronization because synchronization is not active
2025-12-30T09:17:12.194+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:17:12.195+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@374355332 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:17:12.197+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:17:12.195+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:17:12.208+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 2(Long)
2025-12-30T09:17:12.210+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:17:12.211+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58ca9b29] was not registered for synchronization because synchronization is not active
2025-12-30T09:17:12.225+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1443720768 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:17:12.226+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-30T09:17:12.228+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:17:12.229+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@665841f3]
2025-12-30T09:17:12.230+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:17:12.230+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:17:12.238+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@268bfaf6] was not registered for synchronization because synchronization is not active
2025-12-30T09:17:12.242+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@41443341 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:17:12.248+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:17:12.250+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:17:12.256+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:17:12.260+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58ca9b29]
2025-12-30T09:17:12.271+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:17:12.273+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1730647b] was not registered for synchronization because synchronization is not active
2025-12-30T09:17:12.274+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:17:12.274+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@456111719 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:17:12.274+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@268bfaf6]
2025-12-30T09:17:12.275+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:17:12.280+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:17:12.288+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:17:12.291+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T09:17:12.294+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:17:12.304+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-30T09:17:12.308+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:17:12.320+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1730647b]
2025-12-30T09:17:12.322+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:17:12.322+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63183890] was not registered for synchronization because synchronization is not active
2025-12-30T09:17:12.322+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:17:12.324+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1998560052 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:17:12.326+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:17:12.325+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-30T09:17:12.328+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:17:12.329+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-30T09:17:12.332+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:17:12.341+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:17:12.343+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c0a0a9b] was not registered for synchronization because synchronization is not active
2025-12-30T09:17:12.344+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:17:12.347+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1540111588 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:17:12.348+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63183890]
2025-12-30T09:17:12.348+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:17:12.352+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:17:12.356+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a620dea] was not registered for synchronization because synchronization is not active
2025-12-30T09:17:12.354+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-30T09:17:12.360+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2015130254 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:17:12.371+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:17:12.380+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:17:12.387+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T09:17:12.388+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:17:12.392+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c0a0a9b]
2025-12-30T09:17:12.392+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a620dea]
2025-12-30T09:17:12.393+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:17:12.394+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:17:12.394+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@778b5c3f] was not registered for synchronization because synchronization is not active
2025-12-30T09:17:12.395+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f6476c2] was not registered for synchronization because synchronization is not active
2025-12-30T09:17:12.397+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1534713479 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:17:12.399+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1615769660 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:17:12.399+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:17:12.400+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:17:12.400+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:17:12.401+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:17:12.407+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:17:12.407+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:17:12.409+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f6476c2]
2025-12-30T09:17:12.409+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@778b5c3f]
2025-12-30T09:17:12.410+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:17:12.411+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:17:12.412+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10b2f476] was not registered for synchronization because synchronization is not active
2025-12-30T09:17:12.412+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d8b17aa] was not registered for synchronization because synchronization is not active
2025-12-30T09:17:12.414+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@744248004 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:17:12.416+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@550291584 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:17:12.417+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:17:12.417+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:17:12.417+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:17:12.418+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 2(Long)
2025-12-30T09:17:12.433+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-30T09:17:12.433+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:17:12.434+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d8b17aa]
2025-12-30T09:17:12.436+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10b2f476]
2025-12-30T09:17:12.440+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:17:12.440+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:17:12.441+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5294e26e] was not registered for synchronization because synchronization is not active
2025-12-30T09:17:12.498+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1434627342 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:17:12.500+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:17:12.502+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:17:12.441+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@130a2b30] was not registered for synchronization because synchronization is not active
2025-12-30T09:17:12.514+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1189697724 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:17:12.621+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:17:12.622+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:17:12.626+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5294e26e]
2025-12-30T09:17:12.627+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:17:12.628+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:17:12.629+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:17:12.632+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:17:12.648+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:17:12.649+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@130a2b30]
2025-12-30T09:17:12.663+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:17:12.679+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T09:17:12.681+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:17:12.687+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-30T09:17:12.694+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:17:12.695+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-30T09:17:12.695+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-30T09:17:12.696+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:17:12.697+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:17:12.697+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bd689e] was not registered for synchronization because synchronization is not active
2025-12-30T09:17:12.698+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@623176007 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:17:12.699+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:17:12.706+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-30T09:17:12.711+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T09:17:12.711+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bd689e]
2025-12-30T09:17:12.713+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:17:12.713+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67633b28] was not registered for synchronization because synchronization is not active
2025-12-30T09:17:12.714+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@175593154 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:17:12.714+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:17:12.715+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:17:12.717+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:17:12.720+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67633b28]
2025-12-30T09:17:12.721+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:17:12.724+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51e58225] was not registered for synchronization because synchronization is not active
2025-12-30T09:17:12.724+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@790714698 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:17:12.725+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:17:12.726+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 2(Long)
2025-12-30T09:17:12.729+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-30T09:17:12.729+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51e58225]
2025-12-30T09:17:12.730+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:17:12.730+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@485cabe2] was not registered for synchronization because synchronization is not active
2025-12-30T09:17:12.730+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@894827622 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:17:12.730+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:17:12.731+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:17:12.734+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:17:12.738+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@485cabe2]
2025-12-30T09:17:12.738+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:17:12.739+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T09:17:12.740+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:18:39.586+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-30T09:18:39.587+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-30T09:18:39.593+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-30T09:18:39.601+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-30T09:18:39.626+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-30T09:18:39.678+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-30T09:18:39.710+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-30T09:18:39.720+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-30T09:18:39.734+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/users/companies
2025-12-30T09:18:39.723+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:18:39.728+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/users/me
2025-12-30T09:18:39.736+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/users/companies/pending
2025-12-30T09:18:39.740+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-30T09:18:39.778+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-30T09:18:39.779+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-30T09:18:39.780+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-30T09:18:39.803+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-30T09:18:39.804+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-30T09:18:39.804+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-30T09:18:39.806+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-30T09:18:39.807+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-30T09:18:39.807+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:18:39.808+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:18:39.808+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-30T09:18:39.808+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-30T09:18:39.809+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:18:39.809+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3411dfff] was not registered for synchronization because synchronization is not active
2025-12-30T09:18:39.809+09:00  INFO 19004 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 2, companyId: 1
2025-12-30T09:18:39.810+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:18:39.812+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14ce9b8b] was not registered for synchronization because synchronization is not active
2025-12-30T09:18:39.814+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:18:39.822+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@98b183d] was not registered for synchronization because synchronization is not active
2025-12-30T09:18:39.823+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ae40730] was not registered for synchronization because synchronization is not active
2025-12-30T09:18:39.828+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@59782114 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:18:39.837+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:18:39.839+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 2(Long)
2025-12-30T09:18:39.842+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@555136794 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:18:39.842+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1049218939 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:18:39.842+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1972573526 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:18:39.853+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:18:39.857+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:18:39.858+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:18:39.858+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:18:39.859+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-30T09:18:39.859+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3411dfff]
2025-12-30T09:18:39.860+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 2(Long), PENDING(String)
2025-12-30T09:18:39.865+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:18:39.870+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:18:39.888+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=2, userId=2, companyId=1 (truncated)...]
2025-12-30T09:18:39.890+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-30T09:18:39.891+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T09:18:39.895+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:18:39.897+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:18:39.899+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@98b183d]
2025-12-30T09:18:39.907+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14ce9b8b]
2025-12-30T09:18:39.912+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ae40730]
2025-12-30T09:18:39.913+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:18:39.913+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:18:39.920+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ab1426f] was not registered for synchronization because synchronization is not active
2025-12-30T09:18:39.915+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:18:39.918+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:18:39.920+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1869604907 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:18:39.922+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@174af24b] was not registered for synchronization because synchronization is not active
2025-12-30T09:18:39.924+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:18:39.926+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:18:39.926+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1305913608 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:18:39.927+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:18:39.928+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:18:39.930+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 2(Long)
2025-12-30T09:18:39.935+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:18:39.937+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:18:39.937+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ab1426f]
2025-12-30T09:18:39.939+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@174af24b]
2025-12-30T09:18:39.939+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:18:39.939+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d9319d4] was not registered for synchronization because synchronization is not active
2025-12-30T09:18:39.939+09:00  INFO 19004 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 2, companyId: 1, role: TAX_ACCOUNTANT
2025-12-30T09:18:39.940+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@231840819 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:18:39.942+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:18:39.943+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:18:39.944+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=2, username=test_user1, passw (truncated)...]
2025-12-30T09:18:39.944+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 2(Long)
2025-12-30T09:18:39.945+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:18:39.952+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-30T09:18:39.959+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/users/me
2025-12-30T09:18:39.960+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-30T09:18:39.962+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-30T09:18:39.963+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d9319d4]
2025-12-30T09:18:39.964+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-30T09:18:39.971+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:18:39.971+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-30T09:18:39.972+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f0dc4e0] was not registered for synchronization because synchronization is not active
2025-12-30T09:18:39.973+09:00  INFO 19004 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 2, companyId: 1
2025-12-30T09:18:39.974+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@975518060 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:18:39.974+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:18:39.975+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:18:39.975+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c70afc3] was not registered for synchronization because synchronization is not active
2025-12-30T09:18:39.976+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:18:39.976+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1006136682 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:18:39.978+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:18:39.978+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:18:39.990+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:18:39.991+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f0dc4e0]
2025-12-30T09:18:39.993+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:18:39.994+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:18:39.995+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c70afc3]
2025-12-30T09:18:39.996+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T09:18:39.996+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:18:39.997+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:18:40.002+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fdf46fa] was not registered for synchronization because synchronization is not active
2025-12-30T09:18:40.005+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1187570805 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:18:40.006+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:18:40.007+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 2(Long)
2025-12-30T09:18:40.011+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:18:40.013+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fdf46fa]
2025-12-30T09:18:40.014+09:00  INFO 19004 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 2, companyId: 1, role: TAX_ACCOUNTANT
2025-12-30T09:18:40.015+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:18:40.022+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=2, username=test_user1, passw (truncated)...]
2025-12-30T09:18:40.027+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:18:59.223+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-30T09:18:59.224+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:18:59.241+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:18:59.242+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-30T09:18:59.252+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-30T09:18:59.254+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:18:59.280+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-30T09:18:59.280+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:18:59.281+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:18:59.290+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:18:59.291+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:18:59.292+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:18:59.295+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d265ae7] was not registered for synchronization because synchronization is not active
2025-12-30T09:18:59.296+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70de8d9e] was not registered for synchronization because synchronization is not active
2025-12-30T09:18:59.323+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1728754046 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:18:59.323+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1226684155 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:18:59.325+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:18:59.325+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:18:59.326+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:18:59.326+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-30T09:18:59.335+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T09:18:59.336+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:18:59.339+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d265ae7]
2025-12-30T09:18:59.341+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70de8d9e]
2025-12-30T09:18:59.341+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:18:59.341+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:18:59.342+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50f0f72f] was not registered for synchronization because synchronization is not active
2025-12-30T09:18:59.342+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c84407c] was not registered for synchronization because synchronization is not active
2025-12-30T09:18:59.343+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@83180662 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:18:59.343+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@957072424 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:18:59.344+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:18:59.344+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:18:59.345+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:18:59.345+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:18:59.349+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:18:59.351+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:18:59.353+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50f0f72f]
2025-12-30T09:18:59.355+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c84407c]
2025-12-30T09:18:59.355+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:18:59.356+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:18:59.356+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c1389ae] was not registered for synchronization because synchronization is not active
2025-12-30T09:18:59.358+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7762ee02] was not registered for synchronization because synchronization is not active
2025-12-30T09:18:59.359+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1796032652 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:18:59.362+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@967563058 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:18:59.362+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:18:59.363+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:18:59.363+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 2(Long)
2025-12-30T09:18:59.365+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:18:59.373+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:18:59.375+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-30T09:18:59.376+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7762ee02]
2025-12-30T09:18:59.378+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c1389ae]
2025-12-30T09:18:59.379+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:18:59.380+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:18:59.381+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@158ce7f2] was not registered for synchronization because synchronization is not active
2025-12-30T09:18:59.382+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3971efac] was not registered for synchronization because synchronization is not active
2025-12-30T09:18:59.385+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1971198399 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:18:59.386+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@428822485 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:18:59.387+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:18:59.389+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:18:59.392+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:18:59.392+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:18:59.395+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:18:59.395+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:18:59.397+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3971efac]
2025-12-30T09:18:59.397+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@158ce7f2]
2025-12-30T09:18:59.398+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:18:59.400+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:18:59.402+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T09:18:59.403+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ff5f5a9] was not registered for synchronization because synchronization is not active
2025-12-30T09:18:59.404+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:18:59.405+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@229916370 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:18:59.406+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:18:59.407+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:18:59.421+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:18:59.422+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-30T09:18:59.423+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ff5f5a9]
2025-12-30T09:18:59.425+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:18:59.426+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:18:59.428+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40d28e25] was not registered for synchronization because synchronization is not active
2025-12-30T09:18:59.428+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-30T09:18:59.429+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@274363179 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:18:59.430+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:18:59.430+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-30T09:18:59.431+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:18:59.431+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:18:59.433+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:18:59.433+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32df5c18] was not registered for synchronization because synchronization is not active
2025-12-30T09:18:59.434+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1653985211 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:18:59.435+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:18:59.436+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-30T09:18:59.440+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:18:59.440+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40d28e25]
2025-12-30T09:18:59.441+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T09:18:59.441+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:18:59.442+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32df5c18]
2025-12-30T09:18:59.442+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27445c4d] was not registered for synchronization because synchronization is not active
2025-12-30T09:18:59.443+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:18:59.444+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1941134630 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:18:59.444+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a070393] was not registered for synchronization because synchronization is not active
2025-12-30T09:18:59.444+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:18:59.444+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1391502167 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:18:59.444+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:18:59.445+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:18:59.446+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:18:59.447+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:18:59.448+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27445c4d]
2025-12-30T09:18:59.450+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:18:59.452+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:18:59.452+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:18:59.452+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a070393]
2025-12-30T09:18:59.453+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:18:59.454+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:18:59.458+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@233a6805] was not registered for synchronization because synchronization is not active
2025-12-30T09:18:59.459+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@17034346 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:18:59.459+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:18:59.460+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 2(Long)
2025-12-30T09:18:59.462+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:18:59.489+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-30T09:18:59.592+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:18:59.639+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-30T09:18:59.660+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:18:59.664+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@233a6805]
2025-12-30T09:18:59.669+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:18:59.670+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:18:59.672+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:18:59.672+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ae3181a] was not registered for synchronization because synchronization is not active
2025-12-30T09:18:59.672+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@608b0d3c] was not registered for synchronization because synchronization is not active
2025-12-30T09:18:59.674+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@675548755 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:18:59.673+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@443100931 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:18:59.676+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:18:59.675+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:18:59.677+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:18:59.679+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:18:59.682+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:18:59.684+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:18:59.689+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ae3181a]
2025-12-30T09:18:59.690+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@608b0d3c]
2025-12-30T09:18:59.691+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:18:59.691+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:18:59.692+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T09:18:59.693+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a115c19] was not registered for synchronization because synchronization is not active
2025-12-30T09:18:59.695+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:18:59.697+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@38491274 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:18:59.702+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-30T09:18:59.706+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:18:59.709+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:18:59.712+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:18:59.712+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-30T09:18:59.714+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-30T09:18:59.715+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:18:59.722+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:18:59.723+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64a1b918] was not registered for synchronization because synchronization is not active
2025-12-30T09:18:59.730+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:18:59.731+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@486847280 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:18:59.732+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a115c19]
2025-12-30T09:18:59.733+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:18:59.734+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:18:59.735+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4145ff22] was not registered for synchronization because synchronization is not active
2025-12-30T09:18:59.735+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-30T09:18:59.736+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1896120967 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:18:59.741+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:18:59.761+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:18:59.776+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T09:18:59.777+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64a1b918]
2025-12-30T09:18:59.778+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:18:59.780+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:18:59.781+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4145ff22]
2025-12-30T09:18:59.788+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55e997c0] was not registered for synchronization because synchronization is not active
2025-12-30T09:18:59.789+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:18:59.789+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1013554460 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:18:59.790+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c43f3dd] was not registered for synchronization because synchronization is not active
2025-12-30T09:18:59.791+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:18:59.791+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1645326744 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:18:59.792+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:18:59.792+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:18:59.794+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:18:59.797+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:18:59.798+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55e997c0]
2025-12-30T09:18:59.799+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:18:59.802+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3647e5f6] was not registered for synchronization because synchronization is not active
2025-12-30T09:18:59.804+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@797516649 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:18:59.804+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:18:59.805+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 2(Long)
2025-12-30T09:18:59.806+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:18:59.812+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c43f3dd]
2025-12-30T09:18:59.820+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:18:59.822+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56c340b] was not registered for synchronization because synchronization is not active
2025-12-30T09:18:59.823+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-30T09:18:59.826+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@371389024 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:18:59.828+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3647e5f6]
2025-12-30T09:18:59.828+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:18:59.829+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:18:59.830+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:18:59.830+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a751d20] was not registered for synchronization because synchronization is not active
2025-12-30T09:18:59.839+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@856963021 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:18:59.841+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:18:59.844+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:18:59.846+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:18:59.857+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56c340b]
2025-12-30T09:18:59.859+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:18:59.862+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e2cc7af] was not registered for synchronization because synchronization is not active
2025-12-30T09:18:59.866+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@176454157 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:18:59.872+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:18:59.877+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:18:59.881+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a751d20]
2025-12-30T09:18:59.907+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:18:59.911+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:18:59.913+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T09:18:59.916+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:18:59.925+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:18:59.929+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e2cc7af]
2025-12-30T09:18:59.930+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:18:59.931+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@727f7f90] was not registered for synchronization because synchronization is not active
2025-12-30T09:18:59.938+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2061946831 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:18:59.939+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:18:59.940+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:18:59.944+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:18:59.958+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@727f7f90]
2025-12-30T09:18:59.960+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:18:59.965+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:18:59.974+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:05.021+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-30T09:19:05.025+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/logout
2025-12-30T09:19:05.025+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-30T09:19:05.026+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-30T09:19:05.027+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-30T09:19:05.029+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIyIiwidXNlcm5hbWUiOiJ (truncated)...]
2025-12-30T09:19:05.032+09:00  INFO 19004 --- [http-nio-8080-exec-6] SECURITY                                 : LOGOUT userId=2
2025-12-30T09:19:05.038+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:05.039+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-30T09:19:05.040+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:09.378+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-30T09:19:09.390+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-30T09:19:09.391+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-30T09:19:09.392+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-30T09:19:09.393+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-30T09:19:09.394+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_user4, password=1234)]
2025-12-30T09:19:09.394+09:00  INFO 19004 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 로그인 시도 - username: test_user4
2025-12-30T09:19:09.395+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:09.396+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2705435b] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:09.408+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1587646815 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:09.410+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-30T09:19:09.411+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user4(String)
2025-12-30T09:19:09.425+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-30T09:19:09.430+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2705435b]
2025-12-30T09:19:09.524+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:09.525+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5296feb1] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:09.526+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1737429341 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:09.533+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:19:09.536+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:19:09.540+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:19:09.543+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5296feb1]
2025-12-30T09:19:09.544+09:00  INFO 19004 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 로그인 성공 - userId: 5, role: ADMIN, companyId: 1
2025-12-30T09:19:09.546+09:00  INFO 19004 --- [http-nio-8080-exec-2] SECURITY                                 : LOGIN_SUCCESS userId=5 username=test_user4 role=ADMIN
2025-12-30T09:19:09.551+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:09.554+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=5, username=test_user4, password (truncated)...]
2025-12-30T09:19:09.557+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:09.808+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-30T09:19:09.812+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-30T09:19:09.812+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-30T09:19:09.813+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-30T09:19:09.813+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=5
2025-12-30T09:19:09.813+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-30T09:19:09.819+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-30T09:19:09.820+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:19:09.826+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/companies
2025-12-30T09:19:09.829+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-30T09:19:09.830+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-30T09:19:09.836+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-30T09:19:09.835+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:19:09.835+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:19:09.835+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:19:09.837+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-30T09:19:09.839+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:19:09.841+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:19:09.843+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:09.843+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:19:09.844+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:19:09.845+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:19:09.845+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c56fffa] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:09.846+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:19:09.850+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:09.851+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:19:09.852+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1591244621 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:09.853+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:19:09.854+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79433e70] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:09.855+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:19:09.855+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-30T09:19:09.855+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:19:09.856+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:09.860+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:09.860+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1008561238 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:09.858+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 5(Long)
2025-12-30T09:19:09.860+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f688997] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:09.860+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4982b8cc] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:09.861+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:19:09.866+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-30T09:19:09.869+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1324783625 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:19:09.875+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:19:09.870+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:19:09.876+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:19:09.871+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c56fffa]
2025-12-30T09:19:09.875+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@866016527 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:19:09.877+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:09.878+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:19:09.879+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-30T09:19:09.880+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:19:09.880+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:19:09.882+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:19:09.883+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:09.886+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79433e70]
2025-12-30T09:19:09.892+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:09.888+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f688997]
2025-12-30T09:19:09.893+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53edaa16] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:09.894+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:09.894+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:19:09.897+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4982b8cc]
2025-12-30T09:19:09.895+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1769469353 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:09.897+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b87ed9] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:09.898+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:09.904+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:09.904+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@170406835 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:19:09.905+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@612700b9] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:09.907+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:19:09.907+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:09.908+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@537943991 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:19:09.910+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:19:09.910+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:19:09.911+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:09.911+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:19:09.912+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53edaa16]
2025-12-30T09:19:09.914+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:09.914+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:09.920+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b87ed9]
2025-12-30T09:19:09.921+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:19:09.921+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60293e33] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:09.921+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:09.922+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@612700b9]
2025-12-30T09:19:09.923+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1588237626 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:09.923+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45930a9c] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:09.924+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:19:09.924+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@52165185 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:19:09.924+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:19:09.924+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:09.924+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:19:09.925+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:19:09.927+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:19:09.927+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:09.927+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:19:09.930+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:19:09.938+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60293e33]
2025-12-30T09:19:09.939+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:19:09.940+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:09.941+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45930a9c]
2025-12-30T09:19:09.941+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ce5dcd1] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:09.941+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:19:09.942+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:09.943+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1695857624 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:09.943+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:19:09.944+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e7604a5] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:09.944+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:19:09.944+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:19:09.944+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1131162141 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:19:09.945+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:19:09.945+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:19:09.945+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:09.945+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:09.946+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:19:09.946+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d09e488] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:09.948+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1970246344 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:19:09.949+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:09.950+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:19:09.953+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:19:09.954+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e7604a5]
2025-12-30T09:19:09.954+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ce5dcd1]
2025-12-30T09:19:09.956+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:09.956+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:19:09.956+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:09.956+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:19:09.958+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50cbb43c] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:09.958+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@841673120 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:09.960+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:09.958+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:09.961+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:19:09.967+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:19:09.973+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:19:09.974+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:19:09.975+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:19:09.979+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:09.979+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d09e488]
2025-12-30T09:19:09.980+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:19:09.980+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50cbb43c]
2025-12-30T09:19:09.981+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:09.983+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41781a8e] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:09.987+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@894190989 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:19:09.981+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:19:09.981+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:09.990+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:19:09.990+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:09.991+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72b58cde] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:09.993+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:19:09.993+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e06f9ec] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:09.994+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2144513248 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:10.008+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:19:10.003+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2139950088 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:10.008+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:19:10.011+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41781a8e]
2025-12-30T09:19:10.009+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:19:10.010+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:19:10.011+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:10.013+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:19:10.012+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:19:10.017+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:10.026+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:19:10.030+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:19:10.031+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:19:10.040+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72b58cde]
2025-12-30T09:19:10.039+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:19:10.040+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e06f9ec]
2025-12-30T09:19:10.043+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:10.041+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:10.042+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:19:10.043+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@772f0faf] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:10.044+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a729221] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:10.045+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@889135309 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:10.046+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:10.044+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:19:10.045+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@504320319 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:10.047+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:19:10.047+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:19:10.047+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:10.052+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:19:10.051+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:10.053+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29a1f73f] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:10.054+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:10.056+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@208444519 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:19:10.056+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a729221]
2025-12-30T09:19:10.059+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:19:10.059+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:10.061+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:19:10.061+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:19:10.062+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:10.063+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:10.070+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@772f0faf]
2025-12-30T09:19:10.074+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:10.078+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60ca709c] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:10.079+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:19:10.086+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29a1f73f]
2025-12-30T09:19:10.076+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:19:10.079+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1872185693 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:10.089+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:10.090+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:19:10.090+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29169502] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:10.092+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:19:10.092+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-30T09:19:10.093+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@262702864 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:19:10.094+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:19:10.094+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:19:10.095+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:19:10.096+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:19:10.096+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:19:10.097+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:19:10.097+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60ca709c]
2025-12-30T09:19:10.101+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:10.102+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:10.104+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d3ba1ce] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:10.102+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@374489d] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:10.106+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@516323941 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:10.107+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:19:10.107+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@945580875 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:10.107+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:10.107+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29169502]
2025-12-30T09:19:10.108+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:19:10.108+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:19:10.109+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:10.109+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:19:10.109+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:19:10.111+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:10.113+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:10.113+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:19:10.114+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:19:10.117+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d3ba1ce]
2025-12-30T09:19:10.118+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@374489d]
2025-12-30T09:19:10.120+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:19:10.121+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:10.122+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:10.122+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:19:10.123+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:19:10.124+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@458cda8e] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:10.126+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:10.125+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:19:10.126+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1688027650 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:10.129+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:19:10.129+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:10.130+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:19:10.131+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:10.132+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:19:10.138+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:19:10.138+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28f50e67] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:10.141+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:19:10.142+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@760649984 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:10.142+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:19:10.143+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:19:10.143+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:19:10.144+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:19:10.145+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:10.150+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68f98728] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:10.152+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:10.153+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1581451540 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:19:10.154+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:19:10.154+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@458cda8e]
2025-12-30T09:19:10.154+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:19:10.155+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28f50e67]
2025-12-30T09:19:10.155+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:10.156+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:19:10.157+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:10.157+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f77da32] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:10.157+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69a1e116] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:10.158+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1544300536 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:10.160+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1772571763 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:10.160+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:19:10.160+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:19:10.161+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:19:10.162+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:19:10.174+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:19:10.174+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:19:10.174+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:19:10.175+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69a1e116]
2025-12-30T09:19:10.175+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f77da32]
2025-12-30T09:19:10.176+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68f98728]
2025-12-30T09:19:10.177+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:10.188+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:10.189+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:10.190+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:19:10.191+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e2cc5b2] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:10.191+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cdd1339] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:10.192+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:10.193+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@793457679 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:10.194+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@951650125 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:19:10.197+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:19:10.200+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:10.205+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:19:10.205+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:19:10.214+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:10.215+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:19:10.216+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cdd1339]
2025-12-30T09:19:10.216+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e2cc5b2]
2025-12-30T09:19:10.217+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:10.218+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:10.219+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bb7bfb3] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:10.219+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f7eca23] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:10.221+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1065822503 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:19:10.222+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@938969387 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:10.222+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:19:10.222+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:10.223+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:19:10.223+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:19:10.228+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:19:10.228+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:10.232+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bb7bfb3]
2025-12-30T09:19:10.233+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f7eca23]
2025-12-30T09:19:10.233+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:10.234+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:10.234+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14cc2276] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:10.234+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c3d676f] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:10.235+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1651531131 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:19:10.235+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@895194393 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:10.237+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:10.240+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:19:10.241+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:19:10.241+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:19:10.246+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:10.246+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:19:10.246+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14cc2276]
2025-12-30T09:19:10.248+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c3d676f]
2025-12-30T09:19:10.250+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:10.251+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:10.252+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:19:10.252+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e505d8b] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:10.252+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:10.254+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@968970545 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:10.256+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:10.257+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:19:10.258+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:19:10.261+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:19:10.262+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:19:10.265+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:10.264+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:19:10.270+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e505d8b]
2025-12-30T09:19:10.271+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:19:10.272+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:10.276+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:10.278+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:19:10.279+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@793b7178] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:10.280+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:10.284+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@828112882 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:10.288+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:19:10.291+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:19:10.297+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:19:10.303+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@793b7178]
2025-12-30T09:19:10.305+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:10.307+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e4f2c1a] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:10.307+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2086479386 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:10.307+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:10.308+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:19:10.310+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:10.310+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e4f2c1a]
2025-12-30T09:19:10.312+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:10.312+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fe3bf49] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:10.313+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2028697427 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:10.313+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:19:10.314+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:19:10.319+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:19:10.321+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fe3bf49]
2025-12-30T09:19:10.321+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:10.321+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40b9fb8e] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:10.322+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@39984423 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:10.322+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:10.323+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:19:10.326+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:10.326+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40b9fb8e]
2025-12-30T09:19:10.327+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:10.328+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:19:10.329+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:14.613+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:19:14.613+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:19:14.614+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-30T09:19:14.617+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:19:14.617+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:19:14.618+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:19:14.618+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:19:14.619+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:19:14.619+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/companies
2025-12-30T09:19:14.623+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-30T09:19:14.620+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:19:14.622+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:19:14.638+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:14.630+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-30T09:19:14.640+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-30T09:19:14.636+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:19:14.644+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:14.639+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@785a7a22] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:14.645+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:14.646+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@613fc12b] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:14.645+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32e6986d] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:14.649+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1949953707 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:19:14.653+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:19:14.655+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:19:14.657+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1685852956 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:14.658+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:19:14.657+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@471826949 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:19:14.660+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:19:14.660+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:19:14.660+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:19:14.663+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:19:14.671+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@785a7a22]
2025-12-30T09:19:14.673+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:14.675+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8f9a3cd] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:14.675+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:19:14.675+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:19:14.676+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1726302840 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:19:14.676+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:19:14.676+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32e6986d]
2025-12-30T09:19:14.676+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@613fc12b]
2025-12-30T09:19:14.678+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:19:14.678+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:14.678+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:14.680+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=5, userId=5, companyId=1 (truncated)...]
2025-12-30T09:19:14.681+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a89b47e] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:14.683+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:14.684+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1602673236 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:19:14.686+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:14.690+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/1/applications
2025-12-30T09:19:14.690+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/1
2025-12-30T09:19:14.694+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:19:14.697+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:19:14.699+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-30T09:19:14.702+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/1/applications
2025-12-30T09:19:14.703+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/1
2025-12-30T09:19:14.706+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8f9a3cd]
2025-12-30T09:19:14.710+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:14.709+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/companies
2025-12-30T09:19:14.709+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/companies/1/applications
2025-12-30T09:19:14.712+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/company/1
2025-12-30T09:19:14.713+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:19:14.713+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-30T09:19:14.713+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:14.714+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/1/applications
2025-12-30T09:19:14.714+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/1
2025-12-30T09:19:14.716+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:14.718+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-30T09:19:14.718+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a89b47e]
2025-12-30T09:19:14.718+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/1/applications", parameters={}
2025-12-30T09:19:14.718+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/1", parameters={}
2025-12-30T09:19:14.720+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-30T09:19:14.719+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-30T09:19:14.720+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:14.720+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-30T09:19:14.722+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:14.722+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a1743d5] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:14.724+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bc293a2] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:14.724+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-30T09:19:14.724+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-30T09:19:14.724+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1835678381 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:19:14.725+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@453475013 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:14.729+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:19:14.730+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:19:14.731+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:19:14.736+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:19:14.740+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:19:14.744+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-30T09:19:14.746+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:19:14.744+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-30T09:19:14.745+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a1743d5]
2025-12-30T09:19:14.746+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:14.746+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bc293a2]
2025-12-30T09:19:14.748+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:14.747+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:14.747+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:14.751+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@706a7c83] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:14.747+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ada0cba] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:14.750+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=5, userId=5, companyId=1 (truncated)...]
2025-12-30T09:19:14.751+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@149b4415] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:14.752+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1885569200 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:19:14.752+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1646869173 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:14.754+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:14.757+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1126616780 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:19:14.757+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:14.759+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:19:14.757+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:19:14.759+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:19:14.772+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:19:14.772+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:19:14.777+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:14.779+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:19:14.780+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:19:14.786+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@149b4415]
2025-12-30T09:19:14.785+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@706a7c83]
2025-12-30T09:19:14.789+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:14.786+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ada0cba]
2025-12-30T09:19:14.789+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:14.790+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25737454] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:14.790+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:14.793+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b85651a] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:14.791+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:19:14.792+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1356238488 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:19:14.804+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-30T09:19:14.794+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@273816653 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:14.806+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-30T09:19:14.797+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:14.805+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 1(Long)
2025-12-30T09:19:14.807+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 1(Long)
2025-12-30T09:19:14.825+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 0
2025-12-30T09:19:14.830+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b85651a]
2025-12-30T09:19:14.825+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 8
2025-12-30T09:19:14.840+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:14.842+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25737454]
2025-12-30T09:19:14.843+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:19:14.843+09:00  INFO 19004 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 1, count: 8
2025-12-30T09:19:14.845+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:14.849+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:14.857+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-30T09:19:14.862+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:14.864+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/1
2025-12-30T09:19:14.865+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/1/applications
2025-12-30T09:19:14.877+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/company/1
2025-12-30T09:19:14.896+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/1
2025-12-30T09:19:14.902+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/1", parameters={}
2025-12-30T09:19:14.905+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-30T09:19:14.910+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/companies/1/applications
2025-12-30T09:19:14.919+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-30T09:19:14.920+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/1/applications
2025-12-30T09:19:14.923+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/1/applications", parameters={}
2025-12-30T09:19:14.923+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-30T09:19:14.924+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-30T09:19:14.926+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:14.927+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e1f0b5e] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:14.927+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-30T09:19:14.934+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-30T09:19:14.929+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1790248769 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:14.938+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:14.940+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@199ed2a2] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:14.939+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:19:14.944+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:19:14.949+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@108396374 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:14.953+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:19:14.954+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:19:14.954+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:19:14.956+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e1f0b5e]
2025-12-30T09:19:14.959+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:14.959+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32a4ec3c] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:14.961+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@72832205 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:14.963+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:19:14.971+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-30T09:19:14.980+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@199ed2a2]
2025-12-30T09:19:14.995+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 1(Long)
2025-12-30T09:19:14.997+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:14.999+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6687be09] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:15.003+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@546274390 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:15.003+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-30T09:19:15.005+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 8
2025-12-30T09:19:15.007+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 1(Long)
2025-12-30T09:19:15.009+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32a4ec3c]
2025-12-30T09:19:15.009+09:00  INFO 19004 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 1, count: 8
2025-12-30T09:19:15.011+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:15.011+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 0
2025-12-30T09:19:15.011+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-30T09:19:15.012+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6687be09]
2025-12-30T09:19:15.013+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:15.013+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:19:15.015+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:15.018+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:26.879+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-30T09:19:26.886+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/logout
2025-12-30T09:19:26.887+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-30T09:19:26.889+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-30T09:19:26.890+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-30T09:19:26.891+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiI1IiwidXNlcm5hbWUiOiJ (truncated)...]
2025-12-30T09:19:26.909+09:00  INFO 19004 --- [http-nio-8080-exec-1] SECURITY                                 : LOGOUT userId=5
2025-12-30T09:19:26.912+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:26.913+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-30T09:19:26.916+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:30.305+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-30T09:19:30.308+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-30T09:19:30.309+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-30T09:19:30.309+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-30T09:19:30.310+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-30T09:19:30.313+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_user3, password=1234)]
2025-12-30T09:19:30.314+09:00  INFO 19004 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 로그인 시도 - username: test_user3
2025-12-30T09:19:30.315+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:30.316+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45012b2c] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:30.319+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1982393537 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:30.320+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-30T09:19:30.321+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user3(String)
2025-12-30T09:19:30.324+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-30T09:19:30.325+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45012b2c]
2025-12-30T09:19:30.407+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:30.407+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65bb6397] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:30.408+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1009766645 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:30.408+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:19:30.409+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 4(Long)
2025-12-30T09:19:30.411+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-30T09:19:30.411+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65bb6397]
2025-12-30T09:19:30.413+09:00  INFO 19004 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 로그인 성공 - userId: 4, role: ACCOUNTANT, companyId: 1
2025-12-30T09:19:30.414+09:00  INFO 19004 --- [http-nio-8080-exec-9] SECURITY                                 : LOGIN_SUCCESS userId=4 username=test_user3 role=ACCOUNTANT
2025-12-30T09:19:30.415+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:30.417+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=4, username=test_user3, password (truncated)...]
2025-12-30T09:19:30.420+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:30.769+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-30T09:19:30.774+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=4
2025-12-30T09:19:30.774+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=4
2025-12-30T09:19:30.775+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=4
2025-12-30T09:19:30.794+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/companies
2025-12-30T09:19:30.796+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:19:30.801+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-30T09:19:30.803+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:19:30.803+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-30T09:19:30.805+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-30T09:19:30.804+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-30T09:19:30.807+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:19:30.807+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:30.809+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:19:30.811+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:19:30.812+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:19:30.812+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-30T09:19:30.811+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ba353be] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:30.812+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:19:30.812+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:19:30.814+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:30.814+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:30.815+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@434b2148] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:30.816+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@232516746 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:19:30.818+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62220ba5] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:30.821+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-30T09:19:30.823+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 4(Long)
2025-12-30T09:19:30.822+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1914638158 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:30.825+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:19:30.825+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1947741753 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:30.826+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:19:30.826+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:19:30.827+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 1
2025-12-30T09:19:30.828+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-30T09:19:30.829+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:19:30.831+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ba353be]
2025-12-30T09:19:30.837+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62220ba5]
2025-12-30T09:19:30.838+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:30.839+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:30.839+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 6
2025-12-30T09:19:30.839+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-30T09:19:30.839+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49cc287d] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:30.840+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@434b2148]
2025-12-30T09:19:30.841+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:30.841+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@994143682 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:30.842+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:30.844+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:30.845+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3260b1a3] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:30.845+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:19:30.845+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2072737893 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:30.847+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:30.854+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:19:30.856+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:30.857+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49cc287d]
2025-12-30T09:19:30.858+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:30.858+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d2485ff] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:30.858+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:30.860+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3260b1a3]
2025-12-30T09:19:30.860+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@352574950 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:30.861+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:30.861+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:19:30.861+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a3c1260] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:30.862+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:19:30.863+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@224809261 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:30.863+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:19:30.875+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:19:30.882+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:19:30.886+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d2485ff]
2025-12-30T09:19:30.887+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 7
2025-12-30T09:19:30.887+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:30.887+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a3c1260]
2025-12-30T09:19:30.887+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67f40b69] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:30.887+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:30.888+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c6efc7e] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:30.888+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2120638741 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:30.888+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@102455937 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:30.889+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:19:30.889+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:30.889+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:19:30.889+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:19:30.891+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:30.891+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:19:30.891+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c6efc7e]
2025-12-30T09:19:30.892+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67f40b69]
2025-12-30T09:19:30.892+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:30.893+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:30.904+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@343357de] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:30.893+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T09:19:30.908+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1943776626 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:30.908+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:30.909+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:30.910+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:19:30.913+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:19:30.913+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:30.919+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@343357de]
2025-12-30T09:19:30.920+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:30.920+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:19:30.920+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40790327] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:30.921+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:19:30.922+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1859793233 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:30.922+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-30T09:19:30.923+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:19:30.923+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:19:30.924+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:19:30.925+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:30.925+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34e97283] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:30.927+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@145486114 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:30.927+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:19:30.927+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:19:30.927+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40790327]
2025-12-30T09:19:30.928+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-30T09:19:30.929+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:30.930+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e645ba4] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:30.931+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@906762100 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:30.934+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 6
2025-12-30T09:19:30.934+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:30.934+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34e97283]
2025-12-30T09:19:30.935+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:19:30.935+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:30.936+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@97754ab] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:30.939+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1995788908 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:30.939+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:30.939+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:30.940+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e645ba4]
2025-12-30T09:19:30.940+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:19:30.944+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:30.945+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:19:30.946+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:30.947+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:30.948+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@97754ab]
2025-12-30T09:19:30.955+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:19:30.956+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:30.959+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cd3406b] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:30.960+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-30T09:19:30.962+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1865586006 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:30.963+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:19:30.963+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:19:30.968+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:19:30.971+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:19:30.971+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:19:30.973+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:30.973+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b6a2670] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:30.974+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1086760162 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:30.983+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:19:30.985+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:19:31.004+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 7
2025-12-30T09:19:31.013+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cd3406b]
2025-12-30T09:19:31.022+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:31.023+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:19:31.058+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16d636f9] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:31.059+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b6a2670]
2025-12-30T09:19:31.060+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1354824784 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:31.060+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:31.061+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fdfad08] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:31.061+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:31.067+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:19:31.062+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@365713701 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:31.069+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:31.070+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:19:31.076+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:31.089+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16d636f9]
2025-12-30T09:19:31.090+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:31.091+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:31.092+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fdfad08]
2025-12-30T09:19:31.094+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T09:19:31.099+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:31.100+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:31.101+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bd894ac] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:31.108+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:19:31.111+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1506656562 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:31.113+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:19:31.118+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:19:31.119+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:19:31.121+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:19:31.122+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-30T09:19:31.124+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:19:31.127+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:31.129+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:19:31.133+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bd894ac]
2025-12-30T09:19:31.130+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63c4781e] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:31.135+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:31.135+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@169908563 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:31.136+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e314b1c] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:31.136+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:19:31.138+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@838062978 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:31.141+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-30T09:19:31.142+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:19:31.144+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:19:31.149+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:19:31.151+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 6
2025-12-30T09:19:31.153+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e314b1c]
2025-12-30T09:19:31.154+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63c4781e]
2025-12-30T09:19:31.155+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:31.156+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:31.172+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@551ecb06] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:31.174+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56f6a9c6] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:31.184+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1366496018 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:31.185+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@380776334 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:31.186+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:31.186+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:31.188+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:19:31.188+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:19:31.193+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:31.193+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:31.194+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56f6a9c6]
2025-12-30T09:19:31.195+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@551ecb06]
2025-12-30T09:19:31.196+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:31.196+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:31.197+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1263b5b7] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:31.197+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ab194cc] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:31.198+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1899533988 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:31.200+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1507079783 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:31.201+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:19:31.202+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:19:31.202+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:19:31.203+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:19:31.206+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:19:31.206+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 7
2025-12-30T09:19:31.206+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ab194cc]
2025-12-30T09:19:31.207+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1263b5b7]
2025-12-30T09:19:31.207+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:31.208+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:31.208+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@730d82f2] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:31.208+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58b96700] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:31.209+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@90992555 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:31.209+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1467527085 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:31.209+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:31.209+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:31.210+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:19:31.210+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:19:31.212+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:31.212+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:31.212+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58b96700]
2025-12-30T09:19:31.214+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@730d82f2]
2025-12-30T09:19:31.215+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:31.216+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:31.218+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T09:19:31.219+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:19:31.220+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:31.224+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:31.225+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:19:31.229+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:19:31.230+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:19:31.232+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-30T09:19:31.234+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:19:31.235+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:31.235+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f03b077] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:31.236+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1637537755 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:31.236+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:19:31.239+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-30T09:19:31.241+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 6
2025-12-30T09:19:31.241+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f03b077]
2025-12-30T09:19:31.242+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:31.243+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d44608b] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:31.243+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1862724956 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:31.244+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:31.245+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:19:31.246+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:31.251+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d44608b]
2025-12-30T09:19:31.251+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:31.252+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b9d583c] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:31.252+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1976778748 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:31.253+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:19:31.253+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:19:31.256+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 7
2025-12-30T09:19:31.256+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b9d583c]
2025-12-30T09:19:31.257+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:31.258+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bdf1048] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:31.258+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1251147703 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:31.258+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:31.259+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:19:31.260+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:31.261+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bdf1048]
2025-12-30T09:19:31.263+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:31.264+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T09:19:31.268+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:36.530+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/audit-logs/list?page=1&size=10
2025-12-30T09:19:36.531+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/audit-logs/list?page=1&size=10
2025-12-30T09:19:36.532+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:19:36.536+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:19:36.537+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:19:36.536+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/audit-logs/list?page=1&size=10
2025-12-30T09:19:36.537+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-30T09:19:36.541+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/audit-logs/list
2025-12-30T09:19:36.552+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/audit-logs/list?page=1&size=10
2025-12-30T09:19:36.552+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:19:36.560+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/audit-logs/list?page=1&size=10", parameters={masked}
2025-12-30T09:19:36.561+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:36.562+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AuditLogController#getAuditLogs(String, Boolean, LocalDateTime, LocalDateTime, int, int)
2025-12-30T09:19:36.563+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70421d98] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:36.567+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AuditLogController.getAuditLogs(java.lang.String,java.lang.Boolean,java.time.LocalDateTime,java.time.LocalDateTime,int,int); target is of class [com.innersignature.backend.controller.AuditLogController]
2025-12-30T09:19:36.572+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AuditLogController.getAuditLogs(java.lang.String,java.lang.Boolean,java.time.LocalDateTime,java.time.LocalDateTime,int,int); target is of class [com.innersignature.backend.controller.AuditLogController]
2025-12-30T09:19:36.575+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:36.577+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1072006570 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:19:36.577+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:19:36.577+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5698d97b] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:36.578+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-30T09:19:36.584+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1101681568 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:19:36.584+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.AuditLogMapper.findByCompanyId   : ==>  Preparing: SELECT al.*, ar.rule_name, er.title AS expense_title, u.korean_name AS resolved_by_name FROM audit_log_tb al INNER JOIN expense_report_tb er ON al.expense_report_id = er.expense_report_id LEFT JOIN audit_rule_tb ar ON al.rule_id = ar.rule_id LEFT JOIN user_tb u ON al.resolved_by = u.user_id WHERE er.company_id = ? AND (? IS NULL OR al.severity = ?) AND (? IS NULL OR al.is_resolved = ?) AND (? IS NULL OR al.detected_at >= ?) AND (? IS NULL OR al.detected_at <= ?) ORDER BY al.detected_at DESC LIMIT ? OFFSET ?
2025-12-30T09:19:36.584+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 6
2025-12-30T09:19:36.585+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.AuditLogMapper.findByCompanyId   : ==> Parameters: 1(Long), null, null, null, null, null, null, null, null, 10(Integer), 0(Integer)
2025-12-30T09:19:36.587+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70421d98]
2025-12-30T09:19:36.589+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:36.590+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@109e6e31] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:36.590+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1016498452 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:19:36.591+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:36.591+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:19:36.593+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.AuditLogMapper.findByCompanyId   : <==      Total: 0
2025-12-30T09:19:36.594+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:36.595+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5698d97b]
2025-12-30T09:19:36.595+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@109e6e31]
2025-12-30T09:19:36.595+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:36.596+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:36.596+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c7c28cb] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:36.596+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f76be8d] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:36.597+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1817426663 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:19:36.597+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1014676660 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:19:36.600+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:19:36.600+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.AuditLogMapper.countByCompanyId  : ==>  Preparing: SELECT COUNT(*) FROM audit_log_tb al INNER JOIN expense_report_tb er ON al.expense_report_id = er.expense_report_id WHERE er.company_id = ? AND (? IS NULL OR al.severity = ?) AND (? IS NULL OR al.is_resolved = ?) AND (? IS NULL OR al.detected_at >= ?) AND (? IS NULL OR al.detected_at <= ?)
2025-12-30T09:19:36.601+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:19:36.603+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.AuditLogMapper.countByCompanyId  : ==> Parameters: 1(Long), null, null, null, null, null, null, null, null
2025-12-30T09:19:36.609+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 7
2025-12-30T09:19:36.611+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.AuditLogMapper.countByCompanyId  : <==      Total: 1
2025-12-30T09:19:36.611+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f76be8d]
2025-12-30T09:19:36.613+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c7c28cb]
2025-12-30T09:19:36.613+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:36.614+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@773d5321] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:36.614+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:36.616+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@492112285 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:19:36.616+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=PagedResponse(content=[], page=1, size=10, totalElemen (truncated)...]
2025-12-30T09:19:36.618+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:36.620+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:36.620+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:19:36.625+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:36.625+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/audit-logs/list?page=1&size=10
2025-12-30T09:19:36.627+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@773d5321]
2025-12-30T09:19:36.630+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/audit-logs/list
2025-12-30T09:19:36.630+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:36.630+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/audit-logs/list?page=1&size=10
2025-12-30T09:19:36.630+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T09:19:36.631+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/audit-logs/list?page=1&size=10", parameters={masked}
2025-12-30T09:19:36.634+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:36.635+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AuditLogController#getAuditLogs(String, Boolean, LocalDateTime, LocalDateTime, int, int)
2025-12-30T09:19:36.637+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AuditLogController.getAuditLogs(java.lang.String,java.lang.Boolean,java.time.LocalDateTime,java.time.LocalDateTime,int,int); target is of class [com.innersignature.backend.controller.AuditLogController]
2025-12-30T09:19:36.637+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AuditLogController.getAuditLogs(java.lang.String,java.lang.Boolean,java.time.LocalDateTime,java.time.LocalDateTime,int,int); target is of class [com.innersignature.backend.controller.AuditLogController]
2025-12-30T09:19:36.638+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:36.639+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@665f2833] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:36.642+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@292168182 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:36.642+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.AuditLogMapper.findByCompanyId   : ==>  Preparing: SELECT al.*, ar.rule_name, er.title AS expense_title, u.korean_name AS resolved_by_name FROM audit_log_tb al INNER JOIN expense_report_tb er ON al.expense_report_id = er.expense_report_id LEFT JOIN audit_rule_tb ar ON al.rule_id = ar.rule_id LEFT JOIN user_tb u ON al.resolved_by = u.user_id WHERE er.company_id = ? AND (? IS NULL OR al.severity = ?) AND (? IS NULL OR al.is_resolved = ?) AND (? IS NULL OR al.detected_at >= ?) AND (? IS NULL OR al.detected_at <= ?) ORDER BY al.detected_at DESC LIMIT ? OFFSET ?
2025-12-30T09:19:36.643+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.AuditLogMapper.findByCompanyId   : ==> Parameters: 1(Long), null, null, null, null, null, null, null, null, 10(Integer), 0(Integer)
2025-12-30T09:19:36.645+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.AuditLogMapper.findByCompanyId   : <==      Total: 0
2025-12-30T09:19:36.646+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@665f2833]
2025-12-30T09:19:36.646+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:36.647+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ba786a6] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:36.647+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1811069885 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:36.647+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.AuditLogMapper.countByCompanyId  : ==>  Preparing: SELECT COUNT(*) FROM audit_log_tb al INNER JOIN expense_report_tb er ON al.expense_report_id = er.expense_report_id WHERE er.company_id = ? AND (? IS NULL OR al.severity = ?) AND (? IS NULL OR al.is_resolved = ?) AND (? IS NULL OR al.detected_at >= ?) AND (? IS NULL OR al.detected_at <= ?)
2025-12-30T09:19:36.648+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.AuditLogMapper.countByCompanyId  : ==> Parameters: 1(Long), null, null, null, null, null, null, null, null
2025-12-30T09:19:36.651+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.AuditLogMapper.countByCompanyId  : <==      Total: 1
2025-12-30T09:19:36.652+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ba786a6]
2025-12-30T09:19:36.652+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:36.653+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=PagedResponse(content=[], page=1, size=10, totalElemen (truncated)...]
2025-12-30T09:19:36.653+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:37.568+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:19:37.569+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:19:37.570+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:19:37.572+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-30T09:19:37.572+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:19:37.574+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:19:37.574+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-30T09:19:37.575+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:19:37.576+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:19:37.577+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:19:37.578+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:37.580+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ccc3a3d] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:37.579+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:37.584+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5eb90d1d] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:37.592+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@646507429 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:37.592+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@780851406 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:37.596+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:19:37.595+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:19:37.596+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:19:37.601+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-30T09:19:37.610+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:19:37.610+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5eb90d1d]
2025-12-30T09:19:37.610+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 6
2025-12-30T09:19:37.610+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:37.611+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ccc3a3d]
2025-12-30T09:19:37.611+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@90613a7] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:37.613+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:37.613+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@213045931 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:37.614+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:37.613+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d2f17c1] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:37.618+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:19:37.619+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@47345458 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:37.619+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:37.621+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:19:37.621+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:37.621+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@90613a7]
2025-12-30T09:19:37.623+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:37.624+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62f44170] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:37.624+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:37.625+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1540816290 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:37.626+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d2f17c1]
2025-12-30T09:19:37.626+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:19:37.627+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:37.627+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:19:37.627+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d66bdcd] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:37.628+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1748121279 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:37.629+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:19:37.630+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:19:37.630+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:19:37.634+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62f44170]
2025-12-30T09:19:37.635+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:37.636+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4121060] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:37.637+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 7
2025-12-30T09:19:37.637+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1143815763 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:37.637+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d66bdcd]
2025-12-30T09:19:37.637+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:19:37.638+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:37.639+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29f6d752] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:37.638+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:19:37.639+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@828804980 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:37.640+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:37.642+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:19:37.643+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:19:37.644+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4121060]
2025-12-30T09:19:37.645+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:37.646+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@335552ec] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:37.646+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:37.646+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@667997686 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:37.647+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29f6d752]
2025-12-30T09:19:37.650+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:37.650+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:37.651+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:19:37.652+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T09:19:37.655+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:37.658+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:37.658+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:19:37.659+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@335552ec]
2025-12-30T09:19:37.660+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:37.661+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75a3ff0c] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:37.661+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:19:37.662+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1828196710 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:37.663+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:19:37.663+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:19:37.663+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-30T09:19:37.665+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:19:37.666+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:19:37.668+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:37.670+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c85a0d3] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:37.673+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@261575972 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:37.673+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:19:37.674+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:19:37.674+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75a3ff0c]
2025-12-30T09:19:37.675+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-30T09:19:37.675+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:37.676+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@525c1a57] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:37.677+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@955106447 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:37.678+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 6
2025-12-30T09:19:37.679+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:37.680+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c85a0d3]
2025-12-30T09:19:37.681+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:19:37.684+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:37.686+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b54a952] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:37.687+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1248202195 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:37.687+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:37.688+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:37.688+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:19:37.688+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@525c1a57]
2025-12-30T09:19:37.689+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:37.691+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:19:37.692+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:37.693+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:37.694+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b54a952]
2025-12-30T09:19:37.705+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:37.706+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66c193f9] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:37.703+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:19:37.708+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@948025418 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:37.713+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:19:37.721+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:19:37.712+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-30T09:19:37.725+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:19:37.726+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:19:37.728+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:19:37.729+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:37.734+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f097428] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:37.735+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1074558761 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:37.737+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:19:37.742+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:19:37.753+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 7
2025-12-30T09:19:37.759+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66c193f9]
2025-12-30T09:19:37.760+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:37.761+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57f586b3] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:37.762+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1036098031 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:37.763+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:37.765+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:19:37.773+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:19:37.774+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f097428]
2025-12-30T09:19:37.776+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:37.776+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43de636a] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:37.783+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1466099469 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:37.796+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:37.796+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:19:37.808+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:37.813+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57f586b3]
2025-12-30T09:19:37.819+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:37.823+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T09:19:37.823+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:37.827+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:37.828+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43de636a]
2025-12-30T09:19:37.832+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:19:37.835+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:37.839+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8be2624] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:37.841+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@944492906 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:37.840+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:19:37.842+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:19:37.843+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:19:37.844+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:19:37.847+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-30T09:19:37.855+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:19:37.857+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:37.858+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31a29ef3] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:37.859+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@308057567 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:37.862+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:19:37.863+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:19:37.870+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-30T09:19:37.871+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8be2624]
2025-12-30T09:19:37.874+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:37.878+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fcd98c3] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:37.881+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1455096856 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:37.883+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:19:37.885+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:19:37.887+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 6
2025-12-30T09:19:37.890+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31a29ef3]
2025-12-30T09:19:37.922+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:37.923+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79a46f6a] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:37.924+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1557406635 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:37.925+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:37.928+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:19:37.939+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:19:38.002+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fcd98c3]
2025-12-30T09:19:38.002+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:38.002+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40a38ccd] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:38.003+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@57347994 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:38.009+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:38.010+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:19:38.011+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:38.014+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79a46f6a]
2025-12-30T09:19:38.017+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:38.018+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10ffa822] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:38.019+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1257921128 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:38.019+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:19:38.021+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:19:38.028+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:38.028+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 7
2025-12-30T09:19:38.030+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40a38ccd]
2025-12-30T09:19:38.030+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10ffa822]
2025-12-30T09:19:38.033+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:38.036+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:38.038+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57c04acf] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:38.038+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@180d3432] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:38.039+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@190411038 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:38.039+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1977495977 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:38.040+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:19:38.040+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:38.042+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:19:38.043+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:19:38.060+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:38.060+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:19:38.061+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@180d3432]
2025-12-30T09:19:38.068+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57c04acf]
2025-12-30T09:19:38.069+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:38.072+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:38.072+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T09:19:38.074+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f15c511] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:38.090+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:38.091+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2052486158 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:38.095+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:38.096+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:19:38.106+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:38.107+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f15c511]
2025-12-30T09:19:38.108+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:38.109+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:19:38.110+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:39.335+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/missing-receipts/list?days=3
2025-12-30T09:19:39.335+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/missing-receipts/list?days=3
2025-12-30T09:19:39.337+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:19:39.347+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:19:39.354+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/missing-receipts/list?days=3
2025-12-30T09:19:39.354+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:19:39.355+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-30T09:19:39.356+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:19:39.356+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/missing-receipts/list
2025-12-30T09:19:39.358+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:39.359+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/missing-receipts/list?days=3
2025-12-30T09:19:39.359+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43671020] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:39.360+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/missing-receipts/list?days=3", parameters={masked}
2025-12-30T09:19:39.372+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.MissingReceiptController#getMissingReceipts(int)
2025-12-30T09:19:39.376+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2073295426 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:19:39.376+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.MissingReceiptController.getMissingReceipts(int); target is of class [com.innersignature.backend.controller.MissingReceiptController]
2025-12-30T09:19:39.377+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:19:39.378+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.MissingReceiptController.getMissingReceipts(int); target is of class [com.innersignature.backend.controller.MissingReceiptController]
2025-12-30T09:19:39.379+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-30T09:19:39.379+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:39.380+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2239a761] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:39.387+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 6
2025-12-30T09:19:39.388+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43671020]
2025-12-30T09:19:39.388+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:39.388+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@170701760 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:19:39.390+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectMissingReceipts          : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id LEFT JOIN receipt_tb rec ON r.expense_report_id = rec.expense_report_id WHERE r.company_id = ? AND r.report_date <= ? AND r.status IN ('WAIT', 'APPROVED') AND rec.receipt_id IS NULL ORDER BY r.report_date ASC, r.expense_report_id ASC
2025-12-30T09:19:39.389+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bc2fd82] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:39.391+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectMissingReceipts          : ==> Parameters: 1(Long), 2025-12-27(LocalDate)
2025-12-30T09:19:39.392+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@362484480 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:19:39.393+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:39.395+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:19:39.418+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectMissingReceipts          : <==      Total: 4
2025-12-30T09:19:39.419+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:39.425+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2239a761]
2025-12-30T09:19:39.425+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bc2fd82]
2025-12-30T09:19:39.425+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:39.427+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:39.436+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseReportDto(expenseReportId=2, drafterId=2, repo (truncated)...]
2025-12-30T09:19:39.436+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19446754] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:39.439+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:39.440+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1695983379 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:19:39.443+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:19:39.444+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:19:39.446+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/missing-receipts/list?days=3
2025-12-30T09:19:39.463+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/missing-receipts/list
2025-12-30T09:19:39.472+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/missing-receipts/list?days=3
2025-12-30T09:19:39.474+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/missing-receipts/list?days=3", parameters={masked}
2025-12-30T09:19:39.485+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.MissingReceiptController#getMissingReceipts(int)
2025-12-30T09:19:39.488+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.MissingReceiptController.getMissingReceipts(int); target is of class [com.innersignature.backend.controller.MissingReceiptController]
2025-12-30T09:19:39.488+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 7
2025-12-30T09:19:39.491+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.MissingReceiptController.getMissingReceipts(int); target is of class [com.innersignature.backend.controller.MissingReceiptController]
2025-12-30T09:19:39.497+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19446754]
2025-12-30T09:19:39.502+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:39.503+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cb222c0] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:39.501+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:39.503+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@385261253 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:19:39.504+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:39.504+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e816ad1] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:39.505+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:19:39.510+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:39.511+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1192573143 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:39.512+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cb222c0]
2025-12-30T09:19:39.513+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectMissingReceipts          : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id LEFT JOIN receipt_tb rec ON r.expense_report_id = rec.expense_report_id WHERE r.company_id = ? AND r.report_date <= ? AND r.status IN ('WAIT', 'APPROVED') AND rec.receipt_id IS NULL ORDER BY r.report_date ASC, r.expense_report_id ASC
2025-12-30T09:19:39.514+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:39.517+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectMissingReceipts          : ==> Parameters: 1(Long), 2025-12-27(LocalDate)
2025-12-30T09:19:39.519+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T09:19:39.525+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:39.539+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectMissingReceipts          : <==      Total: 4
2025-12-30T09:19:39.540+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e816ad1]
2025-12-30T09:19:39.542+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:39.569+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseReportDto(expenseReportId=2, drafterId=2, repo (truncated)...]
2025-12-30T09:19:39.592+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:42.028+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/2
2025-12-30T09:19:42.029+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/2
2025-12-30T09:19:42.030+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:19:42.041+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:19:42.046+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:19:42.049+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/2
2025-12-30T09:19:42.053+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-30T09:19:42.058+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:19:42.058+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/2
2025-12-30T09:19:42.059+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:42.059+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/2
2025-12-30T09:19:42.059+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@538f153d] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:42.060+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/2", parameters={}
2025-12-30T09:19:42.061+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-30T09:19:42.067+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:42.072+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d6e89f3] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:42.073+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@428551145 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:42.074+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:19:42.075+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-30T09:19:42.076+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1482990990 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:42.078+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-30T09:19:42.079+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 2(Long), 1(Long)
2025-12-30T09:19:42.080+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 6
2025-12-30T09:19:42.085+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@538f153d]
2025-12-30T09:19:42.087+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:42.088+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-30T09:19:42.088+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32fe364] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:42.089+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d6e89f3]
2025-12-30T09:19:42.090+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:42.089+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@228196649 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:42.090+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@140587b3] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:42.091+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:42.092+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1414546479 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:42.092+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:19:42.093+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-30T09:19:42.094+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 2(Long), 1(Long)
2025-12-30T09:19:42.095+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:42.096+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32fe364]
2025-12-30T09:19:42.096+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-30T09:19:42.101+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:42.104+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@140587b3]
2025-12-30T09:19:42.105+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7478cc2c] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:42.106+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:42.107+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9cf82e2] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:42.106+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@145765636 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:42.107+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@835691639 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:42.108+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:19:42.108+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-30T09:19:42.109+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:19:42.109+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 2(Long), 1(Long)
2025-12-30T09:19:42.120+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 7
2025-12-30T09:19:42.121+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7478cc2c]
2025-12-30T09:19:42.122+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:42.123+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d70f5ea] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:42.123+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1608211908 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:42.123+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2025-12-30T09:19:42.124+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9cf82e2]
2025-12-30T09:19:42.124+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:42.125+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:42.126+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:19:42.126+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56da453e] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:42.128+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1320823902 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:42.129+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-30T09:19:42.129+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:42.129+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 2(Long), 1(Long)
2025-12-30T09:19:42.130+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d70f5ea]
2025-12-30T09:19:42.131+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:42.135+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T09:19:42.138+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:42.142+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-30T09:19:42.143+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56da453e]
2025-12-30T09:19:42.143+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:42.144+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c6f9839] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:42.144+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1209583423 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:42.145+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:42.145+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:19:42.152+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:42.153+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c6f9839]
2025-12-30T09:19:42.155+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:42.168+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=2, drafterId=2, re (truncated)...]
2025-12-30T09:19:42.177+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:42.190+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/2
2025-12-30T09:19:42.193+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/2
2025-12-30T09:19:42.196+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/2
2025-12-30T09:19:42.199+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/2", parameters={}
2025-12-30T09:19:42.204+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-30T09:19:42.255+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:42.277+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47eed09b] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:42.279+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1188214842 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:42.280+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-30T09:19:42.283+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 2(Long), 1(Long)
2025-12-30T09:19:42.288+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-30T09:19:42.291+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47eed09b]
2025-12-30T09:19:42.291+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:42.292+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c77393f] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:42.292+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1034705442 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:42.292+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-30T09:19:42.296+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 2(Long), 1(Long)
2025-12-30T09:19:42.301+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-30T09:19:42.303+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c77393f]
2025-12-30T09:19:42.304+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:42.305+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bf353f0] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:42.305+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1056456048 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:42.306+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-30T09:19:42.306+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 2(Long), 1(Long)
2025-12-30T09:19:42.314+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2025-12-30T09:19:42.316+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bf353f0]
2025-12-30T09:19:42.317+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:42.318+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e8f5537] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:42.320+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2146625477 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:42.321+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-30T09:19:42.322+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 2(Long), 1(Long)
2025-12-30T09:19:42.323+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-30T09:19:42.324+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e8f5537]
2025-12-30T09:19:42.324+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:42.324+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@311b5707] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:42.325+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@623479550 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:42.325+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:42.326+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:19:42.329+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:42.330+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@311b5707]
2025-12-30T09:19:42.331+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:42.332+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=2, drafterId=2, re (truncated)...]
2025-12-30T09:19:42.335+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:43.610+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:19:43.610+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:19:43.612+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-30T09:19:43.613+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:19:43.617+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:19:43.620+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:19:43.620+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:19:43.621+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:19:43.620+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-30T09:19:43.623+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:43.623+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:19:43.624+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@de0d119] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:43.625+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:43.626+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3415ff53] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:43.628+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1387364683 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:43.628+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:19:43.634+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:19:43.636+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1028515603 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:19:43.637+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:19:43.639+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-30T09:19:43.640+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:19:43.641+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@de0d119]
2025-12-30T09:19:43.652+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:43.653+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16569c87] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:43.653+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1686144757 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:43.656+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:43.657+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:19:43.658+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 6
2025-12-30T09:19:43.659+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3415ff53]
2025-12-30T09:19:43.659+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:43.659+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:43.659+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e86e5fd] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:43.659+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16569c87]
2025-12-30T09:19:43.660+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@558926999 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:19:43.660+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:43.660+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:43.661+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@893cdec] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:43.662+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:19:43.662+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@713284317 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:43.663+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:19:43.663+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:19:43.669+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:43.670+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e86e5fd]
2025-12-30T09:19:43.670+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:43.670+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:19:43.671+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1578be13] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:43.671+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@893cdec]
2025-12-30T09:19:43.673+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1275594828 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:19:43.673+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:43.673+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:19:43.673+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fe33dbb] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:43.674+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:19:43.674+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1233741574 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:43.678+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:19:43.685+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:19:43.685+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 7
2025-12-30T09:19:43.686+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1578be13]
2025-12-30T09:19:43.688+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:43.689+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:19:43.690+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26377786] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:43.690+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fe33dbb]
2025-12-30T09:19:43.690+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1995431285 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:19:43.691+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:43.691+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:43.693+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15e696c5] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:43.694+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:19:43.694+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1403940647 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:43.699+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:43.701+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:19:43.706+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:43.707+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26377786]
2025-12-30T09:19:43.708+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:43.709+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:43.709+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T09:19:43.710+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15e696c5]
2025-12-30T09:19:43.712+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:43.713+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:43.715+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c06e631] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:43.719+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1308034506 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:43.720+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:19:43.723+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:19:43.726+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:19:43.742+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:19:43.744+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:19:43.744+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:19:43.747+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c06e631]
2025-12-30T09:19:43.746+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-30T09:19:43.748+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:43.752+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:19:43.753+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50381f3c] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:43.755+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:43.756+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@190078052 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:43.756+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:43.756+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4609988d] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:43.757+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:19:43.760+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@67179721 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:19:43.761+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:43.761+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:19:43.762+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50381f3c]
2025-12-30T09:19:43.762+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-30T09:19:43.763+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:43.768+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:19:43.769+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:43.775+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 6
2025-12-30T09:19:43.776+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:19:43.776+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4609988d]
2025-12-30T09:19:43.778+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:43.778+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-30T09:19:43.778+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@771c8218] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:43.779+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:19:43.779+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1636133770 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:19:43.780+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:19:43.780+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:43.783+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:19:43.784+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:19:43.785+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:43.786+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b60bbff] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:43.787+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@377043057 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:19:43.788+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:19:43.790+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:19:43.792+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:43.802+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@771c8218]
2025-12-30T09:19:43.802+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:43.803+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4dd31c04] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:43.804+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1590447076 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:19:43.806+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:19:43.807+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:19:43.809+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:19:43.811+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b60bbff]
2025-12-30T09:19:43.812+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 7
2025-12-30T09:19:43.814+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:43.818+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3638ce54] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:43.817+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4dd31c04]
2025-12-30T09:19:43.822+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@413738031 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:19:43.823+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:43.824+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:43.824+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d090bcc] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:43.824+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:19:43.825+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1483674965 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:19:43.825+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:43.826+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:19:43.840+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:43.841+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3638ce54]
2025-12-30T09:19:43.842+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:43.843+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f99ec2b] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:43.844+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1604570594 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:19:43.847+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:19:43.850+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:19:43.853+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:43.906+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:19:43.962+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d090bcc]
2025-12-30T09:19:43.962+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f99ec2b]
2025-12-30T09:19:44.021+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:44.024+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T09:19:44.024+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:44.026+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:44.027+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28ff45a4] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:44.028+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1223101476 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:19:44.029+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:19:44.030+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:19:44.039+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:19:44.056+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:19:44.060+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:19:44.060+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:19:44.061+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28ff45a4]
2025-12-30T09:19:44.061+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:44.061+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-30T09:19:44.063+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@575d4675] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:44.063+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:19:44.063+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@90041183 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:19:44.066+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:44.066+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:19:44.064+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:44.068+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33f4af18] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:44.069+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@682831548 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:44.072+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:19:44.074+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-30T09:19:44.077+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:44.080+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@575d4675]
2025-12-30T09:19:44.082+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 6
2025-12-30T09:19:44.083+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:44.084+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33f4af18]
2025-12-30T09:19:44.086+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cb82962] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:44.086+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:44.087+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@300657774 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:19:44.087+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@242db957] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:44.088+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:19:44.088+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@850874021 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:44.088+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:19:44.089+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:44.089+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:19:44.093+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:19:44.097+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cb82962]
2025-12-30T09:19:44.097+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:44.100+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@548d2022] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:44.102+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@965992680 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:19:44.103+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:44.104+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:19:44.104+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:44.109+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@242db957]
2025-12-30T09:19:44.111+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:44.118+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36bc0994] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:44.119+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2140338453 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:44.120+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:19:44.121+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:19:44.121+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:44.122+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@548d2022]
2025-12-30T09:19:44.124+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:44.125+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:19:44.128+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:44.128+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 7
2025-12-30T09:19:44.130+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36bc0994]
2025-12-30T09:19:44.132+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:44.132+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@761dc016] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:44.133+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@549160936 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:44.133+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:19:44.134+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:19:44.146+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:19:44.152+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@761dc016]
2025-12-30T09:19:44.153+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:44.154+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T09:19:44.156+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:51.358+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-30T09:19:51.372+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/logout
2025-12-30T09:19:51.373+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-30T09:19:51.373+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-30T09:19:51.374+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-30T09:19:51.375+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiI0IiwidXNlcm5hbWUiOiJ (truncated)...]
2025-12-30T09:19:51.387+09:00  INFO 19004 --- [http-nio-8080-exec-10] SECURITY                                 : LOGOUT userId=4
2025-12-30T09:19:51.397+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:51.401+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-30T09:19:51.404+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:54.753+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-30T09:19:54.777+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-30T09:19:54.780+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-30T09:19:54.787+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-30T09:19:54.788+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-30T09:19:54.792+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_admin, password=1234)]
2025-12-30T09:19:54.792+09:00  INFO 19004 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 로그인 시도 - username: test_admin
2025-12-30T09:19:54.793+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:54.793+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7251e591] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:54.823+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1754976037 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:54.824+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-30T09:19:54.824+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_admin(String)
2025-12-30T09:19:54.834+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-30T09:19:54.839+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7251e591]
2025-12-30T09:19:54.925+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:54.926+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b0ddfba] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:54.927+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1634982021 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:54.928+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:19:54.943+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 9(Long)
2025-12-30T09:19:54.951+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-30T09:19:54.952+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b0ddfba]
2025-12-30T09:19:54.953+09:00  INFO 19004 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 로그인 성공 - userId: 9, role: SUPERADMIN, companyId: 4
2025-12-30T09:19:54.954+09:00  INFO 19004 --- [http-nio-8080-exec-4] SECURITY                                 : LOGIN_SUCCESS userId=9 username=test_admin role=SUPERADMIN
2025-12-30T09:19:54.955+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:54.955+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=9, username=test_admin, password (truncated)...]
2025-12-30T09:19:54.957+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:55.278+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-30T09:19:55.286+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/companies
2025-12-30T09:19:55.299+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=9
2025-12-30T09:19:55.300+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/reports/summary
2025-12-30T09:19:55.303+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/companies
2025-12-30T09:19:55.303+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/users
2025-12-30T09:19:55.303+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/subscriptions
2025-12-30T09:19:55.306+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-30T09:19:55.309+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/payments
2025-12-30T09:19:55.309+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/expenses?page=1&size=1
2025-12-30T09:19:55.310+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/reports/summary
2025-12-30T09:19:55.311+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/users
2025-12-30T09:19:55.312+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/companies
2025-12-30T09:19:55.326+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/expenses?page=1&size=1
2025-12-30T09:19:55.313+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-30T09:19:55.318+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/subscriptions
2025-12-30T09:19:55.323+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/payments
2025-12-30T09:19:55.327+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/reports/summary
2025-12-30T09:19:55.327+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=9
2025-12-30T09:19:55.329+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-30T09:19:55.334+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/reports/summary
2025-12-30T09:19:55.334+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:55.335+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/reports/summary
2025-12-30T09:19:55.335+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/expenses/pending-approvals
2025-12-30T09:19:55.337+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@746532eb] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:55.338+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/reports/summary", parameters={}
2025-12-30T09:19:55.338+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=9
2025-12-30T09:19:55.339+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/companies
2025-12-30T09:19:55.339+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/users
2025-12-30T09:19:55.339+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/subscriptions
2025-12-30T09:19:55.342+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/companies
2025-12-30T09:19:55.343+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/companies
2025-12-30T09:19:55.341+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@516970024 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:55.341+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getDashboardSummary()
2025-12-30T09:19:55.341+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=9", parameters={masked}
2025-12-30T09:19:55.343+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/users
2025-12-30T09:19:55.343+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/subscriptions
2025-12-30T09:19:55.344+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/companies", parameters={}
2025-12-30T09:19:55.344+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-30T09:19:55.344+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getDashboardSummary(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2025-12-30T09:19:55.344+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:19:55.345+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/users
2025-12-30T09:19:55.345+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/subscriptions
2025-12-30T09:19:55.346+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllCompanies()
2025-12-30T09:19:55.347+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 9(Long)
2025-12-30T09:19:55.349+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getDashboardSummary(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2025-12-30T09:19:55.352+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:55.352+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/users", parameters={}
2025-12-30T09:19:55.352+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/subscriptions", parameters={}
2025-12-30T09:19:55.352+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllCompanies(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2025-12-30T09:19:55.353+09:00  INFO 19004 --- [http-nio-8080-exec-8] c.i.b.controller.SuperAdminController    : 대시보드 요약 통계 조회 요청 - userId: 9
2025-12-30T09:19:55.354+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@de26301] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:55.354+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllUsers()
2025-12-30T09:19:55.354+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllSubscriptions()
2025-12-30T09:19:55.356+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllCompanies(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2025-12-30T09:19:55.359+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1746223100 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:19:55.356+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:55.357+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 1
2025-12-30T09:19:55.358+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllUsers(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2025-12-30T09:19:55.358+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllSubscriptions(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2025-12-30T09:19:55.359+09:00  INFO 19004 --- [http-nio-8080-exec-5] c.i.b.controller.SuperAdminController    : 전체 회사 목록 조회 요청 - userId: 9
2025-12-30T09:19:55.359+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:19:55.359+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@549e8072] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:55.360+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@746532eb]
2025-12-30T09:19:55.360+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllUsers(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2025-12-30T09:19:55.361+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllSubscriptions(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2025-12-30T09:19:55.361+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:55.361+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 9(Long), 4(Long)
2025-12-30T09:19:55.364+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:55.367+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@483355520 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:55.367+09:00  INFO 19004 --- [http-nio-8080-exec-10] c.i.b.controller.SuperAdminController    : 전체 사용자 목록 조회 요청 - userId: 9
2025-12-30T09:19:55.370+09:00  INFO 19004 --- [http-nio-8080-exec-4] c.i.b.controller.SuperAdminController    : 전체 구독 목록 조회 요청 - userId: 9
2025-12-30T09:19:55.370+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d752aec] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:55.371+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=4, companyCode=JIIST3, companyNa (truncated)...]
2025-12-30T09:19:55.372+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectAllUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status, created_at, updated_at FROM user_tb ORDER BY user_id
2025-12-30T09:19:55.372+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:55.372+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-30T09:19:55.373+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:55.373+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1701861412 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:55.374+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:55.376+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectAllUsers   : ==> Parameters: 
2025-12-30T09:19:55.376+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69dac06f] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:55.377+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@de26301]
2025-12-30T09:19:55.377+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57373170] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:55.377+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.CompanyMapper.findAll       : ==>  Preparing: SELECT * FROM company_tb ORDER BY created_at DESC
2025-12-30T09:19:55.380+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/payments
2025-12-30T09:19:55.392+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:55.393+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@573752355 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:19:55.394+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@234463230 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:19:55.394+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectAllUsers   : <==      Total: 9
2025-12-30T09:19:55.395+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.CompanyMapper.findAll       : ==> Parameters: 
2025-12-30T09:19:55.401+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/payments
2025-12-30T09:19:55.406+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-30T09:19:55.406+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.SubscriptionMapper.findAll  : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id ORDER BY s.created_at DESC
2025-12-30T09:19:55.407+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectAllUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status, created_at, updated_at FROM user_tb ORDER BY user_id
2025-12-30T09:19:55.408+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@549e8072]
2025-12-30T09:19:55.409+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/payments
2025-12-30T09:19:55.410+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:55.410+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.CompanyMapper.findAll       : <==      Total: 7
2025-12-30T09:19:55.412+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.SubscriptionMapper.findAll  : ==> Parameters: 
2025-12-30T09:19:55.414+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectAllUsers   : ==> Parameters: 
2025-12-30T09:19:55.418+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:55.423+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b829676] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:55.419+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/payments", parameters={}
2025-12-30T09:19:55.422+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/expenses?page=1&size=1
2025-12-30T09:19:55.423+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d752aec]
2025-12-30T09:19:55.424+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1143756125 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:55.428+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.CompanyMapper.findAll       : ==>  Preparing: SELECT * FROM company_tb ORDER BY created_at DESC
2025-12-30T09:19:55.426+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllPayments()
2025-12-30T09:19:55.428+09:00  INFO 19004 --- [http-nio-8080-exec-5] c.i.b.controller.SuperAdminController    : 전체 회사 목록 조회 완료 - count: 7
2025-12-30T09:19:55.428+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/expenses
2025-12-30T09:19:55.429+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.CompanyMapper.findAll       : ==> Parameters: 
2025-12-30T09:19:55.429+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllPayments(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2025-12-30T09:19:55.430+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectAllUsers   : <==      Total: 9
2025-12-30T09:19:55.434+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:55.434+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/expenses?page=1&size=1
2025-12-30T09:19:55.436+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllPayments(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2025-12-30T09:19:55.438+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69dac06f]
2025-12-30T09:19:55.438+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 회사 목록 조회 성공, data=[CompanyDto(companyId=7, companyCode=PC8UJT,  (truncated)...]
2025-12-30T09:19:55.439+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/expenses?page=1&size=1", parameters={masked}
2025-12-30T09:19:55.444+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2025-12-30T09:19:55.445+09:00  INFO 19004 --- [http-nio-8080-exec-6] c.i.b.controller.SuperAdminController    : 전체 결제 내역 조회 요청 - userId: 9
2025-12-30T09:19:55.447+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.CompanyMapper.findAll       : <==      Total: 7
2025-12-30T09:19:55.452+09:00  INFO 19004 --- [http-nio-8080-exec-10] c.i.b.controller.SuperAdminController    : 전체 사용자 목록 조회 완료 - count: 9
2025-12-30T09:19:55.454+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:55.456+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getExpenseListForSuperAdmin(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, Long)
2025-12-30T09:19:55.456+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2025-12-30T09:19:55.457+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:55.458+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b829676]
2025-12-30T09:19:55.459+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:55.467+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=9
2025-12-30T09:19:55.471+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getExpenseListForSuperAdmin(int,int,java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.lang.String[],java.lang.String,java.lang.Boolean,java.lang.Boolean,java.lang.String,java.lang.Long); target is of class [com.innersignature.backend.controller.SuperAdminController]
2025-12-30T09:19:55.473+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b1a1dc6] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:55.474+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:55.475+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passwo (truncated)...]
2025-12-30T09:19:55.477+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/expenses/pending-approvals
2025-12-30T09:19:55.479+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getExpenseListForSuperAdmin(int,int,java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.lang.String[],java.lang.String,java.lang.Boolean,java.lang.Boolean,java.lang.String,java.lang.Long); target is of class [com.innersignature.backend.controller.SuperAdminController]
2025-12-30T09:19:55.485+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1175247460 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:19:55.485+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c6d27a4] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:55.487+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:55.488+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=9
2025-12-30T09:19:55.496+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=9", parameters={masked}
2025-12-30T09:19:55.489+09:00  INFO 19004 --- [http-nio-8080-exec-7] c.i.b.controller.SuperAdminController    : 회사별 지출결의서 목록 조회 요청 - userId: 9, companyId: null, page: 1, size: 1
2025-12-30T09:19:55.489+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.PaymentMapper.findAll       : ==>  Preparing: SELECT p.* FROM payment_tb p ORDER BY p.payment_date DESC, p.created_at DESC
2025-12-30T09:19:55.490+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1204502782 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:55.503+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.SubscriptionMapper.findAll  : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id ORDER BY s.created_at DESC
2025-12-30T09:19:55.505+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2025-12-30T09:19:55.495+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/companies
2025-12-30T09:19:55.499+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:19:55.510+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:55.510+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46204cb5] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:55.502+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:55.511+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17f102f6] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:55.502+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.PaymentMapper.findAll       : ==> Parameters: 
2025-12-30T09:19:55.505+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.SubscriptionMapper.findAll  : ==> Parameters: 
2025-12-30T09:19:55.506+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.SubscriptionMapper.findAll  : <==      Total: 7
2025-12-30T09:19:55.509+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/companies
2025-12-30T09:19:55.511+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1278526801 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:55.518+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57373170]
2025-12-30T09:19:55.518+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/companies
2025-12-30T09:19:55.521+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:19:55.521+09:00  INFO 19004 --- [http-nio-8080-exec-4] c.i.b.controller.SuperAdminController    : 전체 구독 목록 조회 완료 - count: 7
2025-12-30T09:19:55.525+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:55.523+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/companies", parameters={}
2025-12-30T09:19:55.524+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 9(Long), 4(Long)
2025-12-30T09:19:55.535+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 구독 목록 조회 성공, data=[SubscriptionDto(subscriptionId=7, companyId= (truncated)...]
2025-12-30T09:19:55.536+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllCompanies()
2025-12-30T09:19:55.540+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllCompanies(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2025-12-30T09:19:55.541+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2025-12-30T09:19:55.541+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:55.541+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@376593720 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:19:55.543+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2025-12-30T09:19:55.544+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllCompanies(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2025-12-30T09:19:55.556+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2025-12-30T09:19:55.557+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-30T09:19:55.562+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/users
2025-12-30T09:19:55.563+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.countExpenseListForSuperAdmin  : ==>  Preparing: SELECT COUNT(*) FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id
2025-12-30T09:19:55.563+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 2(Long)
2025-12-30T09:19:55.564+09:00  INFO 19004 --- [http-nio-8080-exec-9] c.i.b.controller.SuperAdminController    : 전체 회사 목록 조회 요청 - userId: 9
2025-12-30T09:19:55.572+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46204cb5]
2025-12-30T09:19:55.574+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.countExpenseListForSuperAdmin  : ==> Parameters: 
2025-12-30T09:19:55.576+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:55.579+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-30T09:19:55.575+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/users
2025-12-30T09:19:55.575+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:55.579+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:55.583+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/users
2025-12-30T09:19:55.587+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59bb3d71] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:55.589+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/subscriptions
2025-12-30T09:19:55.591+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/users", parameters={}
2025-12-30T09:19:55.591+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@530891398 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:55.594+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.CompanyMapper.findAll       : ==>  Preparing: SELECT * FROM company_tb ORDER BY created_at DESC
2025-12-30T09:19:55.595+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.CompanyMapper.findAll       : ==> Parameters: 
2025-12-30T09:19:55.593+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/subscriptions
2025-12-30T09:19:55.599+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/subscriptions
2025-12-30T09:19:55.603+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/subscriptions", parameters={}
2025-12-30T09:19:55.594+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllUsers()
2025-12-30T09:19:55.595+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2025-12-30T09:19:55.595+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2025-12-30T09:19:55.596+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.countExpenseListForSuperAdmin  : <==      Total: 1
2025-12-30T09:19:55.604+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllSubscriptions()
2025-12-30T09:19:55.605+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllUsers(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2025-12-30T09:19:55.607+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.SubscriptionMapper.findAll  : <==      Total: 7
2025-12-30T09:19:55.609+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2025-12-30T09:19:55.609+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17f102f6]
2025-12-30T09:19:55.610+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllSubscriptions(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2025-12-30T09:19:55.611+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllUsers(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2025-12-30T09:19:55.612+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.CompanyMapper.findAll       : <==      Total: 7
2025-12-30T09:19:55.617+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c6d27a4]
2025-12-30T09:19:55.618+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 7(Long)
2025-12-30T09:19:55.618+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:55.621+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllSubscriptions(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2025-12-30T09:19:55.622+09:00  INFO 19004 --- [http-nio-8080-exec-1] c.i.b.controller.SuperAdminController    : 전체 사용자 목록 조회 요청 - userId: 9
2025-12-30T09:19:55.623+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59bb3d71]
2025-12-30T09:19:55.623+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:55.624+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f5b2a3e] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:55.628+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2025-12-30T09:19:55.625+09:00  INFO 19004 --- [http-nio-8080-exec-2] c.i.b.controller.SuperAdminController    : 전체 구독 목록 조회 요청 - userId: 9
2025-12-30T09:19:55.625+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:55.626+09:00  INFO 19004 --- [http-nio-8080-exec-9] c.i.b.controller.SuperAdminController    : 전체 회사 목록 조회 완료 - count: 7
2025-12-30T09:19:55.628+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@569a1c2e] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:55.628+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1444245935 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:19:55.628+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2025-12-30T09:19:55.629+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:55.629+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f773622] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:55.629+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:55.630+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1789337889 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:55.631+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListForSuperAdmin : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, c.company_name AS companyName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id LEFT JOIN company_tb c ON r.company_id = c.company_id ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:19:55.633+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 1(Long)
2025-12-30T09:19:55.635+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15e41a7d] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:55.635+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1113107789 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:55.635+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 회사 목록 조회 성공, data=[CompanyDto(companyId=7, companyCode=PC8UJT,  (truncated)...]
2025-12-30T09:19:55.635+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.PaymentMapper.findAll       : ==>  Preparing: SELECT p.* FROM payment_tb p ORDER BY p.payment_date DESC, p.created_at DESC
2025-12-30T09:19:55.636+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListForSuperAdmin : ==> Parameters: 1(Integer), 0(Integer)
2025-12-30T09:19:55.637+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1596884549 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:19:55.637+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectAllUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status, created_at, updated_at FROM user_tb ORDER BY user_id
2025-12-30T09:19:55.639+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:55.640+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.PaymentMapper.findAll       : ==> Parameters: 
2025-12-30T09:19:55.642+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.SubscriptionMapper.findAll  : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id ORDER BY s.created_at DESC
2025-12-30T09:19:55.643+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectAllUsers   : ==> Parameters: 
2025-12-30T09:19:55.643+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListForSuperAdmin : <==      Total: 1
2025-12-30T09:19:55.644+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionPlanMapper.findById  : ======>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2025-12-30T09:19:55.645+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/companies
2025-12-30T09:19:55.647+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.SubscriptionMapper.findAll  : ==> Parameters: 
2025-12-30T09:19:55.651+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f5b2a3e]
2025-12-30T09:19:55.652+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionPlanMapper.findById  : ======> Parameters: 1(Long)
2025-12-30T09:19:55.653+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/companies
2025-12-30T09:19:55.655+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectAllUsers   : <==      Total: 9
2025-12-30T09:19:55.655+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2025-12-30T09:19:55.657+09:00  INFO 19004 --- [http-nio-8080-exec-7] c.i.b.controller.SuperAdminController    : 회사별 지출결의서 목록 조회 완료 - totalElements: 9
2025-12-30T09:19:55.658+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/companies
2025-12-30T09:19:55.659+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f773622]
2025-12-30T09:19:55.660+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 2(Long)
2025-12-30T09:19:55.661+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionPlanMapper.findById  : <======      Total: 1
2025-12-30T09:19:55.661+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2025-12-30T09:19:55.668+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2025-12-30T09:19:55.662+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:55.662+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/companies", parameters={}
2025-12-30T09:19:55.663+09:00  INFO 19004 --- [http-nio-8080-exec-1] c.i.b.controller.SuperAdminController    : 전체 사용자 목록 조회 완료 - count: 9
2025-12-30T09:19:55.667+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2025-12-30T09:19:55.669+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=지출결의서 목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expen (truncated)...]
2025-12-30T09:19:55.675+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2025-12-30T09:19:55.669+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllCompanies()
2025-12-30T09:19:55.674+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:55.674+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.PaymentMapper.findAll       : <==      Total: 4
2025-12-30T09:19:55.675+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:55.687+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b1a1dc6]
2025-12-30T09:19:55.676+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2025-12-30T09:19:55.678+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.SubscriptionMapper.findAll  : <==      Total: 7
2025-12-30T09:19:55.678+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllCompanies(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2025-12-30T09:19:55.680+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passwo (truncated)...]
2025-12-30T09:19:55.687+09:00  INFO 19004 --- [http-nio-8080-exec-6] c.i.b.controller.SuperAdminController    : 전체 결제 내역 조회 완료 - count: 4
2025-12-30T09:19:55.691+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:55.689+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/expenses?page=1&size=1
2025-12-30T09:19:55.689+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2025-12-30T09:19:55.689+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15e41a7d]
2025-12-30T09:19:55.690+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllCompanies(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2025-12-30T09:19:55.691+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:55.694+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 결제 내역 조회 성공, data=[PaymentDto(paymentId=11, subscriptionId=2, a (truncated)...]
2025-12-30T09:19:55.695+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/expenses
2025-12-30T09:19:55.696+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 7(Long)
2025-12-30T09:19:55.696+09:00  INFO 19004 --- [http-nio-8080-exec-2] c.i.b.controller.SuperAdminController    : 전체 구독 목록 조회 완료 - count: 7
2025-12-30T09:19:55.702+09:00  INFO 19004 --- [http-nio-8080-exec-5] c.i.b.controller.SuperAdminController    : 전체 회사 목록 조회 요청 - userId: 9
2025-12-30T09:19:55.711+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:55.712+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/expenses?page=1&size=1
2025-12-30T09:19:55.713+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:55.717+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:55.762+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/users
2025-12-30T09:19:55.767+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/payments
2025-12-30T09:19:55.905+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/users
2025-12-30T09:19:55.906+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/payments
2025-12-30T09:19:55.906+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/payments
2025-12-30T09:19:55.827+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/expenses?page=1&size=1", parameters={masked}
2025-12-30T09:19:55.901+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2025-12-30T09:19:55.910+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2025-12-30T09:19:55.912+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 1(Long)
2025-12-30T09:19:55.903+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 구독 목록 조회 성공, data=[SubscriptionDto(subscriptionId=7, companyId= (truncated)...]
2025-12-30T09:19:55.903+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d40986f] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:55.920+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1228333921 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:55.924+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.CompanyMapper.findAll       : ==>  Preparing: SELECT * FROM company_tb ORDER BY created_at DESC
2025-12-30T09:19:55.924+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.CompanyMapper.findAll       : ==> Parameters: 
2025-12-30T09:19:55.906+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/users
2025-12-30T09:19:55.907+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/payments", parameters={}
2025-12-30T09:19:55.927+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllPayments()
2025-12-30T09:19:55.928+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllPayments(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2025-12-30T09:19:55.908+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getExpenseListForSuperAdmin(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, Long)
2025-12-30T09:19:55.923+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:55.927+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/users", parameters={}
2025-12-30T09:19:55.930+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllPayments(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2025-12-30T09:19:55.936+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getExpenseListForSuperAdmin(int,int,java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.lang.String[],java.lang.String,java.lang.Boolean,java.lang.Boolean,java.lang.String,java.lang.Long); target is of class [com.innersignature.backend.controller.SuperAdminController]
2025-12-30T09:19:55.941+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.CompanyMapper.findAll       : <==      Total: 7
2025-12-30T09:19:55.941+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionPlanMapper.findById  : ======>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2025-12-30T09:19:55.949+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionPlanMapper.findById  : ======> Parameters: 1(Long)
2025-12-30T09:19:55.943+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/subscriptions
2025-12-30T09:19:55.944+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllUsers()
2025-12-30T09:19:55.954+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/subscriptions
2025-12-30T09:19:55.944+09:00  INFO 19004 --- [http-nio-8080-exec-3] c.i.b.controller.SuperAdminController    : 전체 결제 내역 조회 요청 - userId: 9
2025-12-30T09:19:55.946+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getExpenseListForSuperAdmin(int,int,java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.lang.String[],java.lang.String,java.lang.Boolean,java.lang.Boolean,java.lang.String,java.lang.Long); target is of class [com.innersignature.backend.controller.SuperAdminController]
2025-12-30T09:19:55.947+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d40986f]
2025-12-30T09:19:55.955+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllUsers(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2025-12-30T09:19:55.956+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/subscriptions
2025-12-30T09:19:55.960+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionPlanMapper.findById  : <======      Total: 1
2025-12-30T09:19:55.958+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:55.959+09:00  INFO 19004 --- [http-nio-8080-exec-10] c.i.b.controller.SuperAdminController    : 회사별 지출결의서 목록 조회 요청 - userId: 9, companyId: null, page: 1, size: 1
2025-12-30T09:19:55.959+09:00  INFO 19004 --- [http-nio-8080-exec-5] c.i.b.controller.SuperAdminController    : 전체 회사 목록 조회 완료 - count: 7
2025-12-30T09:19:55.962+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:55.960+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllUsers(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2025-12-30T09:19:55.960+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/subscriptions", parameters={}
2025-12-30T09:19:55.961+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2025-12-30T09:19:55.961+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b70aa67] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:55.962+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:55.963+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 회사 목록 조회 성공, data=[CompanyDto(companyId=7, companyCode=PC8UJT,  (truncated)...]
2025-12-30T09:19:55.964+09:00  INFO 19004 --- [http-nio-8080-exec-4] c.i.b.controller.SuperAdminController    : 전체 사용자 목록 조회 요청 - userId: 9
2025-12-30T09:19:55.966+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllSubscriptions()
2025-12-30T09:19:55.968+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.PaymentMapper.findAll       : <==      Total: 4
2025-12-30T09:19:55.976+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllSubscriptions(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2025-12-30T09:19:55.970+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1064371288 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:55.971+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e24efde] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:55.973+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:55.977+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@535010699 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:19:55.974+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:55.976+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@569a1c2e]
2025-12-30T09:19:55.977+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllSubscriptions(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2025-12-30T09:19:55.984+09:00  INFO 19004 --- [http-nio-8080-exec-9] c.i.b.controller.SuperAdminController    : 전체 구독 목록 조회 요청 - userId: 9
2025-12-30T09:19:55.985+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:55.977+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.PaymentMapper.findAll       : ==>  Preparing: SELECT p.* FROM payment_tb p ORDER BY p.payment_date DESC, p.created_at DESC
2025-12-30T09:19:55.979+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.countExpenseListForSuperAdmin  : ==>  Preparing: SELECT COUNT(*) FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id
2025-12-30T09:19:55.979+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c52920c] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:55.985+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:55.988+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e6b273d] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:55.988+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.PaymentMapper.findAll       : ==> Parameters: 
2025-12-30T09:19:55.996+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1438472383 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:19:55.998+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.SubscriptionMapper.findAll  : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id ORDER BY s.created_at DESC
2025-12-30T09:19:55.989+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.countExpenseListForSuperAdmin  : ==> Parameters: 
2025-12-30T09:19:55.990+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1788011114 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:19:55.995+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 요약 통계 조회 성공, data=AdminReportService.DashboardSummaryDto(tota (truncated)...]
2025-12-30T09:19:56.000+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.SubscriptionMapper.findAll  : ==> Parameters: 
2025-12-30T09:19:56.007+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:56.005+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectAllUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status, created_at, updated_at FROM user_tb ORDER BY user_id
2025-12-30T09:19:56.010+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectAllUsers   : ==> Parameters: 
2025-12-30T09:19:56.013+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2025-12-30T09:19:56.024+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/reports/summary
2025-12-30T09:19:56.025+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectAllUsers   : <==      Total: 9
2025-12-30T09:19:56.025+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.countExpenseListForSuperAdmin  : <==      Total: 1
2025-12-30T09:19:56.025+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 2(Long)
2025-12-30T09:19:56.027+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/reports/summary
2025-12-30T09:19:56.028+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c52920c]
2025-12-30T09:19:56.036+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e24efde]
2025-12-30T09:19:56.039+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/reports/summary
2025-12-30T09:19:56.039+09:00  INFO 19004 --- [http-nio-8080-exec-4] c.i.b.controller.SuperAdminController    : 전체 사용자 목록 조회 완료 - count: 9
2025-12-30T09:19:56.041+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2025-12-30T09:19:56.050+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:56.052+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/reports/summary", parameters={}
2025-12-30T09:19:56.053+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:56.058+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passwo (truncated)...]
2025-12-30T09:19:56.054+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2025-12-30T09:19:56.056+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2025-12-30T09:19:56.057+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@130a64db] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:56.057+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getDashboardSummary()
2025-12-30T09:19:56.059+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:56.066+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2025-12-30T09:19:56.067+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1789473659 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:19:56.079+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListForSuperAdmin : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, c.company_name AS companyName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id LEFT JOIN company_tb c ON r.company_id = c.company_id ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:19:56.071+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getDashboardSummary(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2025-12-30T09:19:56.077+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 7(Long)
2025-12-30T09:19:56.080+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListForSuperAdmin : ==> Parameters: 1(Integer), 0(Integer)
2025-12-30T09:19:56.084+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getDashboardSummary(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2025-12-30T09:19:56.086+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2025-12-30T09:19:56.088+09:00  INFO 19004 --- [http-nio-8080-exec-7] c.i.b.controller.SuperAdminController    : 대시보드 요약 통계 조회 요청 - userId: 9
2025-12-30T09:19:56.089+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2025-12-30T09:19:56.090+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.SubscriptionMapper.findAll  : <==      Total: 7
2025-12-30T09:19:56.091+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e6b273d]
2025-12-30T09:19:56.093+09:00  INFO 19004 --- [http-nio-8080-exec-9] c.i.b.controller.SuperAdminController    : 전체 구독 목록 조회 완료 - count: 7
2025-12-30T09:19:56.091+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:56.091+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2025-12-30T09:19:56.092+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListForSuperAdmin : <==      Total: 1
2025-12-30T09:19:56.094+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:56.095+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30daaa0] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:56.095+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 1(Long)
2025-12-30T09:19:56.096+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@130a64db]
2025-12-30T09:19:56.096+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 구독 목록 조회 성공, data=[SubscriptionDto(subscriptionId=7, companyId= (truncated)...]
2025-12-30T09:19:56.098+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1439787557 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:19:56.100+09:00  INFO 19004 --- [http-nio-8080-exec-10] c.i.b.controller.SuperAdminController    : 회사별 지출결의서 목록 조회 완료 - totalElements: 9
2025-12-30T09:19:56.103+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:56.104+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectAllUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status, created_at, updated_at FROM user_tb ORDER BY user_id
2025-12-30T09:19:56.105+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:56.107+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionPlanMapper.findById  : ======>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2025-12-30T09:19:56.109+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectAllUsers   : ==> Parameters: 
2025-12-30T09:19:56.113+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=지출결의서 목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expen (truncated)...]
2025-12-30T09:19:56.113+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionPlanMapper.findById  : ======> Parameters: 1(Long)
2025-12-30T09:19:56.122+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:56.133+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/expenses?page=1&size=1
2025-12-30T09:19:56.143+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/expenses
2025-12-30T09:19:56.153+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionPlanMapper.findById  : <======      Total: 1
2025-12-30T09:19:56.179+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2025-12-30T09:19:56.153+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectAllUsers   : <==      Total: 9
2025-12-30T09:19:56.170+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/expenses?page=1&size=1
2025-12-30T09:19:56.180+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.PaymentMapper.findAll       : <==      Total: 4
2025-12-30T09:19:56.180+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30daaa0]
2025-12-30T09:19:56.182+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/expenses?page=1&size=1", parameters={masked}
2025-12-30T09:19:56.187+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b70aa67]
2025-12-30T09:19:56.192+09:00  INFO 19004 --- [http-nio-8080-exec-3] c.i.b.controller.SuperAdminController    : 전체 결제 내역 조회 완료 - count: 4
2025-12-30T09:19:56.189+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:56.191+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getExpenseListForSuperAdmin(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, Long)
2025-12-30T09:19:56.193+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:56.194+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29d1bdda] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:56.195+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getExpenseListForSuperAdmin(int,int,java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.lang.String[],java.lang.String,java.lang.Boolean,java.lang.Boolean,java.lang.String,java.lang.Long); target is of class [com.innersignature.backend.controller.SuperAdminController]
2025-12-30T09:19:56.196+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 결제 내역 조회 성공, data=[PaymentDto(paymentId=11, subscriptionId=2, a (truncated)...]
2025-12-30T09:19:56.200+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1197955818 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:19:56.200+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getExpenseListForSuperAdmin(int,int,java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.lang.String[],java.lang.String,java.lang.Boolean,java.lang.Boolean,java.lang.String,java.lang.Long); target is of class [com.innersignature.backend.controller.SuperAdminController]
2025-12-30T09:19:56.202+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:56.205+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.CompanyMapper.findAll       : ==>  Preparing: SELECT * FROM company_tb ORDER BY created_at DESC
2025-12-30T09:19:56.208+09:00  INFO 19004 --- [http-nio-8080-exec-1] c.i.b.controller.SuperAdminController    : 회사별 지출결의서 목록 조회 요청 - userId: 9, companyId: null, page: 1, size: 1
2025-12-30T09:19:56.210+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.CompanyMapper.findAll       : ==> Parameters: 
2025-12-30T09:19:56.210+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:56.211+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/payments
2025-12-30T09:19:56.212+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@453486e2] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:56.223+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/payments
2025-12-30T09:19:56.226+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.CompanyMapper.findAll       : <==      Total: 7
2025-12-30T09:19:56.228+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1666481728 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:56.229+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/payments
2025-12-30T09:19:56.229+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29d1bdda]
2025-12-30T09:19:56.240+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.countExpenseListForSuperAdmin  : ==>  Preparing: SELECT COUNT(*) FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id
2025-12-30T09:19:56.241+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/payments", parameters={}
2025-12-30T09:19:56.241+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:56.243+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@160b8746] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:56.242+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.countExpenseListForSuperAdmin  : ==> Parameters: 
2025-12-30T09:19:56.243+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllPayments()
2025-12-30T09:19:56.244+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@839960368 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:19:56.246+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllPayments(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2025-12-30T09:19:56.248+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.SubscriptionMapper.findAll  : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id ORDER BY s.created_at DESC
2025-12-30T09:19:56.254+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllPayments(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2025-12-30T09:19:56.255+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.SubscriptionMapper.findAll  : ==> Parameters: 
2025-12-30T09:19:56.255+09:00  INFO 19004 --- [http-nio-8080-exec-6] c.i.b.controller.SuperAdminController    : 전체 결제 내역 조회 요청 - userId: 9
2025-12-30T09:19:56.268+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.countExpenseListForSuperAdmin  : <==      Total: 1
2025-12-30T09:19:56.271+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:56.272+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@453486e2]
2025-12-30T09:19:56.273+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bcdf67] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:56.277+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:56.283+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14a5bf14] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:56.278+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1931180582 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:19:56.281+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2025-12-30T09:19:56.284+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1975990516 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:19:56.285+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.PaymentMapper.findAll       : ==>  Preparing: SELECT p.* FROM payment_tb p ORDER BY p.payment_date DESC, p.created_at DESC
2025-12-30T09:19:56.285+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2025-12-30T09:19:56.292+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListForSuperAdmin : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, c.company_name AS companyName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id LEFT JOIN company_tb c ON r.company_id = c.company_id ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:19:56.293+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.PaymentMapper.findAll       : ==> Parameters: 
2025-12-30T09:19:56.296+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListForSuperAdmin : ==> Parameters: 1(Integer), 0(Integer)
2025-12-30T09:19:56.303+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2025-12-30T09:19:56.308+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.SubscriptionMapper.findAll  : <==      Total: 7
2025-12-30T09:19:56.312+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2025-12-30T09:19:56.313+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListForSuperAdmin : <==      Total: 1
2025-12-30T09:19:56.316+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@160b8746]
2025-12-30T09:19:56.320+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 2(Long)
2025-12-30T09:19:56.321+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14a5bf14]
2025-12-30T09:19:56.321+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:56.321+09:00  INFO 19004 --- [http-nio-8080-exec-1] c.i.b.controller.SuperAdminController    : 회사별 지출결의서 목록 조회 완료 - totalElements: 9
2025-12-30T09:19:56.322+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4071d7ba] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:56.322+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:56.322+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1221573108 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:19:56.323+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=지출결의서 목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expen (truncated)...]
2025-12-30T09:19:56.323+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.PaymentMapper.findAll       : ==>  Preparing: SELECT p.* FROM payment_tb p ORDER BY p.payment_date DESC, p.created_at DESC
2025-12-30T09:19:56.324+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.PaymentMapper.findAll       : ==> Parameters: 
2025-12-30T09:19:56.324+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:56.339+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2025-12-30T09:19:56.340+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2025-12-30T09:19:56.347+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 2(Long)
2025-12-30T09:19:56.348+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2025-12-30T09:19:56.352+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 7(Long)
2025-12-30T09:19:56.371+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2025-12-30T09:19:56.371+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2025-12-30T09:19:56.375+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2025-12-30T09:19:56.376+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2025-12-30T09:19:56.377+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 1(Long)
2025-12-30T09:19:56.378+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 7(Long)
2025-12-30T09:19:56.392+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionPlanMapper.findById  : ======>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2025-12-30T09:19:56.394+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionPlanMapper.findById  : ======> Parameters: 1(Long)
2025-12-30T09:19:56.406+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2025-12-30T09:19:56.412+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2025-12-30T09:19:56.415+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 1(Long)
2025-12-30T09:19:56.415+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionPlanMapper.findById  : <======      Total: 1
2025-12-30T09:19:56.417+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2025-12-30T09:19:56.420+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.PaymentMapper.findAll       : <==      Total: 4
2025-12-30T09:19:56.420+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bcdf67]
2025-12-30T09:19:56.421+09:00  INFO 19004 --- [http-nio-8080-exec-6] c.i.b.controller.SuperAdminController    : 전체 결제 내역 조회 완료 - count: 4
2025-12-30T09:19:56.421+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:56.423+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 결제 내역 조회 성공, data=[PaymentDto(paymentId=11, subscriptionId=2, a (truncated)...]
2025-12-30T09:19:56.425+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:56.429+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionPlanMapper.findById  : ======>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2025-12-30T09:19:56.436+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionPlanMapper.findById  : ======> Parameters: 1(Long)
2025-12-30T09:19:56.445+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionPlanMapper.findById  : <======      Total: 1
2025-12-30T09:19:56.446+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2025-12-30T09:19:56.447+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.PaymentMapper.findAll       : <==      Total: 4
2025-12-30T09:19:56.451+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4071d7ba]
2025-12-30T09:19:56.456+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:56.457+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 요약 통계 조회 성공, data=AdminReportService.DashboardSummaryDto(tota (truncated)...]
2025-12-30T09:19:56.458+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:56.461+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/reports/summary
2025-12-30T09:19:56.467+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/reports/summary
2025-12-30T09:19:56.474+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/reports/summary
2025-12-30T09:19:56.474+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/reports/summary", parameters={}
2025-12-30T09:19:56.475+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getDashboardSummary()
2025-12-30T09:19:56.476+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getDashboardSummary(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2025-12-30T09:19:56.477+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getDashboardSummary(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2025-12-30T09:19:56.478+09:00  INFO 19004 --- [http-nio-8080-exec-2] c.i.b.controller.SuperAdminController    : 대시보드 요약 통계 조회 요청 - userId: 9
2025-12-30T09:19:56.480+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:56.486+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@eca9501] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:56.489+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1240681134 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:19:56.489+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectAllUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status, created_at, updated_at FROM user_tb ORDER BY user_id
2025-12-30T09:19:56.490+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectAllUsers   : ==> Parameters: 
2025-12-30T09:19:56.493+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectAllUsers   : <==      Total: 9
2025-12-30T09:19:56.495+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@eca9501]
2025-12-30T09:19:56.495+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:56.497+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24cbed9e] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:56.501+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2129856155 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:19:56.503+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.CompanyMapper.findAll       : ==>  Preparing: SELECT * FROM company_tb ORDER BY created_at DESC
2025-12-30T09:19:56.504+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.CompanyMapper.findAll       : ==> Parameters: 
2025-12-30T09:19:56.508+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.CompanyMapper.findAll       : <==      Total: 7
2025-12-30T09:19:56.509+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24cbed9e]
2025-12-30T09:19:56.510+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:56.510+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12753996] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:56.513+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1764331867 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:19:56.521+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.SubscriptionMapper.findAll  : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id ORDER BY s.created_at DESC
2025-12-30T09:19:56.523+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.SubscriptionMapper.findAll  : ==> Parameters: 
2025-12-30T09:19:56.538+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2025-12-30T09:19:56.540+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2025-12-30T09:19:56.555+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2025-12-30T09:19:56.558+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.SubscriptionMapper.findAll  : <==      Total: 7
2025-12-30T09:19:56.560+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12753996]
2025-12-30T09:19:56.561+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:19:56.568+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75f484ae] was not registered for synchronization because synchronization is not active
2025-12-30T09:19:56.569+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@7830902 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:19:56.572+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.PaymentMapper.findAll       : ==>  Preparing: SELECT p.* FROM payment_tb p ORDER BY p.payment_date DESC, p.created_at DESC
2025-12-30T09:19:56.576+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.PaymentMapper.findAll       : ==> Parameters: 
2025-12-30T09:19:56.589+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2025-12-30T09:19:56.589+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 2(Long)
2025-12-30T09:19:56.602+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2025-12-30T09:19:56.605+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2025-12-30T09:19:56.607+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 7(Long)
2025-12-30T09:19:56.637+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2025-12-30T09:19:56.638+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2025-12-30T09:19:56.640+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 1(Long)
2025-12-30T09:19:56.646+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : ======>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2025-12-30T09:19:56.647+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : ======> Parameters: 1(Long)
2025-12-30T09:19:56.653+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : <======      Total: 1
2025-12-30T09:19:56.655+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2025-12-30T09:19:56.657+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.PaymentMapper.findAll       : <==      Total: 4
2025-12-30T09:19:56.657+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75f484ae]
2025-12-30T09:19:56.659+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:56.660+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 요약 통계 조회 성공, data=AdminReportService.DashboardSummaryDto(tota (truncated)...]
2025-12-30T09:19:56.662+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:19:57.384+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-30T09:19:57.392+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/logout
2025-12-30T09:19:57.393+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-30T09:19:57.394+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-30T09:19:57.394+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-30T09:19:57.396+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiI5IiwidXNlcm5hbWUiOiJ (truncated)...]
2025-12-30T09:19:57.400+09:00  INFO 19004 --- [http-nio-8080-exec-5] SECURITY                                 : LOGOUT userId=9
2025-12-30T09:19:57.407+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:19:57.409+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-30T09:19:57.411+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:00.779+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-30T09:20:00.784+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-30T09:20:00.785+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-30T09:20:00.786+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-30T09:20:00.790+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-30T09:20:00.791+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_user4, password=1234)]
2025-12-30T09:20:00.793+09:00  INFO 19004 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 로그인 시도 - username: test_user4
2025-12-30T09:20:00.796+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:00.856+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37b4a43a] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:00.919+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2037205961 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:20:00.919+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-30T09:20:00.920+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user4(String)
2025-12-30T09:20:00.922+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-30T09:20:00.922+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37b4a43a]
2025-12-30T09:20:01.010+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:01.011+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8287842] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:01.012+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@205145087 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:20:01.012+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:20:01.014+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:20:01.016+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:20:01.017+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8287842]
2025-12-30T09:20:01.018+09:00  INFO 19004 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 로그인 성공 - userId: 5, role: ADMIN, companyId: 1
2025-12-30T09:20:01.021+09:00  INFO 19004 --- [http-nio-8080-exec-8] SECURITY                                 : LOGIN_SUCCESS userId=5 username=test_user4 role=ADMIN
2025-12-30T09:20:01.023+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:01.023+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=5, username=test_user4, password (truncated)...]
2025-12-30T09:20:01.024+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:01.328+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-30T09:20:01.344+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/companies
2025-12-30T09:20:01.354+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:20:01.354+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:20:01.359+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:20:01.355+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:20:01.358+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-30T09:20:01.360+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:20:01.360+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:20:01.369+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:20:01.366+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-30T09:20:01.367+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-30T09:20:01.368+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:20:01.372+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:20:01.372+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:20:01.372+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:01.369+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:20:01.374+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:01.371+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:20:01.375+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:20:01.371+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-30T09:20:01.373+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e0627b6] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:01.375+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@209f37c0] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:01.376+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:20:01.376+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:01.378+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1094840425 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:20:01.380+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:20:01.379+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:01.379+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5955b5f5] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:01.389+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:20:01.390+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69d5f918] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:01.403+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1275309014 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:20:01.403+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1130522154 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:20:01.406+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-30T09:20:01.406+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:20:01.407+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2056322573 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:20:01.408+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:20:01.412+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 5(Long)
2025-12-30T09:20:01.413+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:20:01.418+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:20:01.420+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e0627b6]
2025-12-30T09:20:01.426+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:01.426+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:20:01.427+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41aa7ff3] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:01.430+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@249482215 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:20:01.427+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-30T09:20:01.434+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:01.437+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:01.436+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5955b5f5]
2025-12-30T09:20:01.440+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:20:01.441+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:01.443+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:20:01.443+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:01.444+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@209f37c0]
2025-12-30T09:20:01.445+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-30T09:20:01.446+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69d5f918]
2025-12-30T09:20:01.446+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41aa7ff3]
2025-12-30T09:20:01.451+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:01.452+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:01.456+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:01.458+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:01.458+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c5a8a81] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:01.460+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10076ec5] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:01.460+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c4cd65] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:01.462+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@558464173 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:20:01.463+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@622868437 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:20:01.464+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@386105289 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:20:01.466+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:20:01.468+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:01.471+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:20:01.471+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:20:01.472+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:01.476+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:20:01.507+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:01.507+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:20:01.507+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:20:01.508+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10076ec5]
2025-12-30T09:20:01.510+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c4cd65]
2025-12-30T09:20:01.510+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c5a8a81]
2025-12-30T09:20:01.510+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:01.519+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c543b7a] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:01.511+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:01.511+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:01.521+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1192104307 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:20:01.523+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3afa9fe7] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:01.526+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:20:01.527+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:20:01.547+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:20:01.530+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@427213368 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:20:01.544+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:01.553+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:01.556+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:01.586+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:20:01.601+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:01.602+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:20:01.608+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c543b7a]
2025-12-30T09:20:01.609+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:01.606+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:20:01.608+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3afa9fe7]
2025-12-30T09:20:01.610+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@559013d1] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:01.633+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@408059378 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:20:01.634+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:20:01.611+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:20:01.612+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:01.637+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:20:01.643+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:20:01.644+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:20:01.652+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:20:01.654+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:01.655+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:01.658+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d8521f1] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:01.659+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1684105290 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:20:01.659+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:20:01.660+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:20:01.663+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:20:01.668+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:20:01.672+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:20:01.673+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@559013d1]
2025-12-30T09:20:01.674+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:01.674+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:20:01.676+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cd1ddfe] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:01.677+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:20:01.678+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@956974382 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:20:01.684+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:20:01.687+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:01.687+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:01.689+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:01.689+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b516547] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:01.691+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1360543809 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:20:01.695+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:20:01.704+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:20:01.707+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:01.708+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:20:01.713+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cd1ddfe]
2025-12-30T09:20:01.713+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d8521f1]
2025-12-30T09:20:01.717+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:01.721+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:01.722+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e609637] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:01.736+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12c5d5a3] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:01.737+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2092733992 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:20:01.738+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1715205283 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:20:01.739+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:20:01.740+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:20:01.744+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:20:01.753+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:20:01.753+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b516547]
2025-12-30T09:20:01.762+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:20:01.766+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:01.768+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5232fc30] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:01.769+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1388957804 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:20:01.770+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:01.770+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:01.775+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:20:01.775+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:01.776+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:20:01.778+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12c5d5a3]
2025-12-30T09:20:01.778+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5232fc30]
2025-12-30T09:20:01.779+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e609637]
2025-12-30T09:20:01.779+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:01.780+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:01.784+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:01.785+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:20:01.785+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fca093d] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:01.785+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@458a33d8] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:01.786+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:01.787+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2061279624 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:20:01.788+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1606534256 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:20:01.795+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:01.792+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:20:01.792+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:20:01.797+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:01.805+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:20:01.806+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:20:01.808+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:20:01.828+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:20:01.829+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:20:01.831+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:01.835+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@572f6b07] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:01.839+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:01.839+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:20:01.840+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@458a33d8]
2025-12-30T09:20:01.840+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fca093d]
2025-12-30T09:20:01.841+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:01.841+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:01.841+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2100250565 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:20:01.843+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:20:01.844+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23ce318a] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:01.844+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:20:01.845+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:01.846+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1277314863 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:20:01.854+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:01.850+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:20:01.852+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:20:01.854+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:01.856+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-30T09:20:01.858+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:20:01.860+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:20:01.861+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:01.861+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:20:01.862+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:20:01.862+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23ce318a]
2025-12-30T09:20:01.863+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@572f6b07]
2025-12-30T09:20:01.868+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:01.869+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:01.870+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:01.870+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@315de908] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:01.870+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:20:01.871+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@171cb155] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:01.872+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1456291041 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:20:01.875+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:01.877+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@257149861 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:20:01.877+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:20:01.878+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:20:01.879+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:20:01.882+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:20:01.884+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:20:01.888+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:20:01.891+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:20:01.892+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:20:01.903+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:20:01.905+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:01.909+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@778cbc4d] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:01.912+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1855377715 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:20:01.922+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:20:01.929+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:20:01.929+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:20:01.931+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:20:01.933+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@171cb155]
2025-12-30T09:20:01.934+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@315de908]
2025-12-30T09:20:01.935+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:01.937+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:01.959+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:20:01.960+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4593a8b9] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:01.972+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@467147946 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:20:01.973+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:01.973+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:01.971+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:01.990+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:20:01.993+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@778cbc4d]
2025-12-30T09:20:02.006+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:20:02.009+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:02.020+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f128b83] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:02.020+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:20:02.022+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@762197752 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:20:02.023+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:02.024+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:02.022+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:20:02.025+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:20:02.025+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:20:02.027+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:02.036+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7981de5a] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:02.040+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:02.044+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@849367872 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:20:02.044+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4593a8b9]
2025-12-30T09:20:02.047+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:20:02.051+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:02.052+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4329f0d6] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:02.052+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:20:02.053+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@455564906 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:20:02.055+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:20:02.057+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:02.059+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:20:02.061+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f128b83]
2025-12-30T09:20:02.068+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:02.073+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:20:02.074+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d07afb3] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:02.076+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7981de5a]
2025-12-30T09:20:02.077+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1726114563 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:20:02.096+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:02.097+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:20:02.099+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20183b8b] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:02.107+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:20:02.107+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1461469916 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:20:02.109+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:20:02.109+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:20:02.112+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:20:02.137+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4329f0d6]
2025-12-30T09:20:02.137+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:20:02.138+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:20:02.139+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20183b8b]
2025-12-30T09:20:02.138+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:02.139+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d07afb3]
2025-12-30T09:20:02.140+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:02.141+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c48d0d5] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:02.142+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:02.143+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:20:02.143+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@7024330 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:20:02.143+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45952af] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:02.156+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:02.158+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:20:02.159+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1959993248 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:20:02.160+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:20:02.160+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:02.168+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:02.176+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:20:02.184+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c48d0d5]
2025-12-30T09:20:02.185+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:02.187+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:02.191+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45952af]
2025-12-30T09:20:02.192+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68f13a14] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:02.192+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:02.193+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@586518951 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:20:02.196+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:20:02.201+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:02.202+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:02.202+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:02.226+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:02.259+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:20:02.262+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68f13a14]
2025-12-30T09:20:02.264+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:20:02.264+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:02.265+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:20:02.265+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d5c2e74] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:02.266+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:20:02.272+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1276936273 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:20:02.273+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:20:02.273+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:20:02.279+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:02.281+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:20:02.281+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d2e3599] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:02.289+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:20:02.291+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d5c2e74]
2025-12-30T09:20:02.291+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@560067163 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:20:02.292+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:02.293+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:20:02.293+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@361ddd52] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:02.293+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:20:02.294+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2055105131 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:20:02.294+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:02.297+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:02.300+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:20:02.303+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d2e3599]
2025-12-30T09:20:02.305+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:02.305+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@229a0def] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:02.306+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:02.306+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1061044821 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:20:02.307+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@361ddd52]
2025-12-30T09:20:02.307+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:02.307+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:02.310+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:02.310+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:20:02.314+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:02.326+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:02.328+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@229a0def]
2025-12-30T09:20:02.330+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:02.337+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c80c759] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:02.338+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@780618835 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:20:02.339+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:20:02.340+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:20:02.343+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:20:02.345+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c80c759]
2025-12-30T09:20:02.345+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:02.351+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6eee1217] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:02.352+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@873380508 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:20:02.352+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:02.352+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:02.357+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:02.358+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6eee1217]
2025-12-30T09:20:02.359+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:02.360+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:20:02.361+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:04.650+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/budget/list?year=2025
2025-12-30T09:20:04.650+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/budget/list?year=2025
2025-12-30T09:20:04.652+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:20:04.691+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:20:04.693+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:20:04.653+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:20:04.700+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:20:04.704+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:20:04.704+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:20:04.705+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:20:04.705+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:04.705+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@773ccd95] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:04.695+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:20:04.707+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:20:04.707+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:04.708+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e78863e] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:04.721+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/budget/list?year=2025
2025-12-30T09:20:04.735+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1259034261 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:20:04.735+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1984616062 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:20:04.736+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/budget/list
2025-12-30T09:20:04.736+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:20:04.736+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:20:04.743+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:20:04.737+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/budget/list?year=2025
2025-12-30T09:20:04.738+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:20:04.749+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/budget/list?year=2025", parameters={masked}
2025-12-30T09:20:04.750+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.BudgetController#getBudgetList(Integer, Integer)
2025-12-30T09:20:04.755+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.BudgetController.getBudgetList(java.lang.Integer,java.lang.Integer); target is of class [com.innersignature.backend.controller.BudgetController]
2025-12-30T09:20:04.761+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.BudgetController.getBudgetList(java.lang.Integer,java.lang.Integer); target is of class [com.innersignature.backend.controller.BudgetController]
2025-12-30T09:20:04.761+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:04.762+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:20:04.762+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:20:04.763+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67f3638c] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:04.763+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@773ccd95]
2025-12-30T09:20:04.768+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e78863e]
2025-12-30T09:20:04.769+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:04.770+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:04.770+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@520139ab] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:04.772+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7791d343] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:04.774+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@103422219 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:20:04.775+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1694164972 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:20:04.775+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:20:04.775+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:04.777+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1806073381 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:20:04.778+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:20:04.778+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:04.786+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.BudgetMapper.findByCompanyId     : ==>  Preparing: SELECT b.*, COALESCE(( SELECT SUM(ed.amount) FROM expense_detail_tb ed INNER JOIN expense_report_tb er ON ed.expense_report_id = er.expense_report_id WHERE er.company_id = b.company_id AND YEAR(er.report_date) = b.budget_year AND (b.budget_month IS NULL OR MONTH(er.report_date) = b.budget_month) AND ed.category = b.category AND er.status IN ('APPROVED', 'PAID') ), 0) AS used_amount, CASE WHEN b.budget_amount > 0 THEN ROUND((COALESCE(( SELECT SUM(ed.amount) FROM expense_detail_tb ed INNER JOIN expense_report_tb er ON ed.expense_report_id = er.expense_report_id WHERE er.company_id = b.company_id AND YEAR(er.report_date) = b.budget_year AND (b.budget_month IS NULL OR MONTH(er.report_date) = b.budget_month) AND ed.category = b.category AND er.status IN ('APPROVED', 'PAID') ), 0) * 100.0 / b.budget_amount), 2) ELSE 0 END AS usage_rate FROM budget_tb b WHERE b.company_id = ? AND (? IS NULL OR b.budget_year = ?) AND (? IS NULL OR b.budget_month = ? OR b.budget_month IS NULL) ORDER BY b.budget_year DESC, b.budget_month DESC, b.category ASC
2025-12-30T09:20:04.789+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.BudgetMapper.findByCompanyId     : ==> Parameters: 1(Long), 2025(Integer), 2025(Integer), null, null
2025-12-30T09:20:04.803+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:04.804+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:20:04.808+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7791d343]
2025-12-30T09:20:04.809+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@520139ab]
2025-12-30T09:20:04.810+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:04.810+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:04.812+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f710068] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:04.814+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:20:04.818+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1719911182 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:20:04.819+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:20:04.819+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:04.820+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:20:04.821+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.BudgetMapper.findByCompanyId     : <==      Total: 0
2025-12-30T09:20:04.825+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67f3638c]
2025-12-30T09:20:04.825+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:04.826+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:20:04.828+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:04.835+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:20:04.835+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/budget/list?year=2025
2025-12-30T09:20:04.836+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f710068]
2025-12-30T09:20:04.837+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:04.837+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/budget/list
2025-12-30T09:20:04.837+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a17979] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:04.838+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/budget/list?year=2025
2025-12-30T09:20:04.838+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@306469861 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:20:04.838+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/budget/list?year=2025", parameters={masked}
2025-12-30T09:20:04.839+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:04.839+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.BudgetController#getBudgetList(Integer, Integer)
2025-12-30T09:20:04.839+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:04.840+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.BudgetController.getBudgetList(java.lang.Integer,java.lang.Integer); target is of class [com.innersignature.backend.controller.BudgetController]
2025-12-30T09:20:04.842+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.BudgetController.getBudgetList(java.lang.Integer,java.lang.Integer); target is of class [com.innersignature.backend.controller.BudgetController]
2025-12-30T09:20:04.843+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:04.843+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:04.843+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f16ab4e] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:04.844+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a17979]
2025-12-30T09:20:04.845+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:04.846+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:20:04.850+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:04.853+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1827526408 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:20:04.855+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.BudgetMapper.findByCompanyId     : ==>  Preparing: SELECT b.*, COALESCE(( SELECT SUM(ed.amount) FROM expense_detail_tb ed INNER JOIN expense_report_tb er ON ed.expense_report_id = er.expense_report_id WHERE er.company_id = b.company_id AND YEAR(er.report_date) = b.budget_year AND (b.budget_month IS NULL OR MONTH(er.report_date) = b.budget_month) AND ed.category = b.category AND er.status IN ('APPROVED', 'PAID') ), 0) AS used_amount, CASE WHEN b.budget_amount > 0 THEN ROUND((COALESCE(( SELECT SUM(ed.amount) FROM expense_detail_tb ed INNER JOIN expense_report_tb er ON ed.expense_report_id = er.expense_report_id WHERE er.company_id = b.company_id AND YEAR(er.report_date) = b.budget_year AND (b.budget_month IS NULL OR MONTH(er.report_date) = b.budget_month) AND ed.category = b.category AND er.status IN ('APPROVED', 'PAID') ), 0) * 100.0 / b.budget_amount), 2) ELSE 0 END AS usage_rate FROM budget_tb b WHERE b.company_id = ? AND (? IS NULL OR b.budget_year = ?) AND (? IS NULL OR b.budget_month = ? OR b.budget_month IS NULL) ORDER BY b.budget_year DESC, b.budget_month DESC, b.category ASC
2025-12-30T09:20:04.857+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.BudgetMapper.findByCompanyId     : ==> Parameters: 1(Long), 2025(Integer), 2025(Integer), null, null
2025-12-30T09:20:04.860+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.BudgetMapper.findByCompanyId     : <==      Total: 0
2025-12-30T09:20:04.861+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f16ab4e]
2025-12-30T09:20:04.861+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:04.862+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:20:04.863+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:19.036+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:20:19.037+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:20:19.037+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:20:19.038+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:20:19.038+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:20:19.039+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-30T09:20:19.038+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:20:19.039+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:20:19.039+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:20:19.039+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:20:19.039+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:20:19.039+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:20:19.040+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:20:19.040+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:20:19.040+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:20:19.040+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:19.041+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:19.041+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13d3978] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:19.041+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:19.043+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42f47d40] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:19.042+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55a5e7d5] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:19.045+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@595457922 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:20:19.046+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:20:19.046+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@20968551 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:20:19.046+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@327144211 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:20:19.052+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:20:19.052+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:20:19.052+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:20:19.053+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:20:19.055+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:20:19.056+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:20:19.058+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13d3978]
2025-12-30T09:20:19.059+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:19.060+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:20:19.061+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cda3236] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:19.061+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55a5e7d5]
2025-12-30T09:20:19.061+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:20:19.062+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@489318760 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:20:19.067+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:20:19.062+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:19.066+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42f47d40]
2025-12-30T09:20:19.068+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:20:19.068+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d17f449] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:19.069+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:19.070+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@460662624 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:20:19.070+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63c27ae0] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:19.070+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@656736846 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:20:19.070+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:19.073+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:19.071+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:19.073+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:20:19.074+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:19.074+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cda3236]
2025-12-30T09:20:19.075+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:19.076+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:19.076+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:20:19.077+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d17f449]
2025-12-30T09:20:19.078+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:19.084+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63c27ae0]
2025-12-30T09:20:19.084+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:19.085+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20349b64] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:19.079+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:19.088+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1347543288 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:20:19.090+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:20:19.083+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:19.090+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:20:19.092+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3568d68] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:19.092+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:20:19.093+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@292656375 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:20:19.095+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:20:19.096+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:20:19.100+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:20:19.102+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:20:19.105+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:20:19.109+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:20:19.110+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:20:19.111+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:19.112+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20349b64]
2025-12-30T09:20:19.113+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:19.116+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68a666eb] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:19.113+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77b7f9d6] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:19.117+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1816997664 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:20:19.120+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:20:19.122+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:20:19.123+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:20:19.127+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3568d68]
2025-12-30T09:20:19.128+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:19.128+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7de18516] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:19.129+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1256942095 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:20:19.131+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:19.131+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:19.136+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@676118129 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:20:19.140+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:20:19.141+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:19.142+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:20:19.143+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:20:19.143+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7de18516]
2025-12-30T09:20:19.144+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68a666eb]
2025-12-30T09:20:19.145+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:19.146+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:19.149+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:20:19.151+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21410a18] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:19.151+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:19.153+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2047582693 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:20:19.154+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:19.155+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:19.156+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:20:19.161+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77b7f9d6]
2025-12-30T09:20:19.162+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:19.162+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:19.163+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:20:19.163+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21410a18]
2025-12-30T09:20:19.163+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c324bb0] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:19.167+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:20:19.168+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:19.169+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1814649968 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:20:19.170+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:20:19.169+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:20:19.170+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e4c01e1] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:19.171+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:20:19.171+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:20:19.172+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1198835706 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:20:19.172+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:20:19.172+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:20:19.172+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:19.175+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:20:19.176+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@609fdb6f] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:19.176+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1746488191 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:20:19.177+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:20:19.178+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:20:19.179+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:20:19.179+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c324bb0]
2025-12-30T09:20:19.184+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:19.185+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:20:19.186+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:19.188+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:20:19.189+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@609fdb6f]
2025-12-30T09:20:19.188+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:20:19.191+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:19.199+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23d805db] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:19.199+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1031988844 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:20:19.200+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:19.200+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:19.199+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e4c01e1]
2025-12-30T09:20:19.204+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:19.205+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:20:19.206+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4aea3434] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:19.207+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1143433089 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:20:19.208+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:19.208+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:19.207+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:20:19.214+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:19.216+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:20:19.218+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23d805db]
2025-12-30T09:20:19.220+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:19.219+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:20:19.220+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62b67cef] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:19.220+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:20:19.223+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@27478975 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:20:19.224+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:19.225+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:20:19.226+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a3bed82] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:19.226+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:20:19.227+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:19.228+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1146112645 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:20:19.228+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4aea3434]
2025-12-30T09:20:19.233+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:19.234+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:20:19.229+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:20:19.235+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:19.239+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:20:19.249+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:20:19.258+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:20:19.258+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:20:19.272+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62b67cef]
2025-12-30T09:20:19.265+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-30T09:20:19.271+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a3bed82]
2025-12-30T09:20:19.273+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:19.273+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:20:19.275+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:19.278+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24550b86] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:19.280+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:20:19.287+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46eda9e5] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:19.289+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1968524007 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:20:19.291+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:19.291+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:19.289+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:20:19.290+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@860818247 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:20:19.295+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:20:19.301+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:20:19.295+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:19.304+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6551af67] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:19.306+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1053171207 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:20:19.307+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:19.309+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24550b86]
2025-12-30T09:20:19.310+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:19.313+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:20:19.308+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:20:19.320+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:19.320+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:20:19.322+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:20:19.328+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46eda9e5]
2025-12-30T09:20:19.330+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:19.332+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:20:19.339+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:19.339+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:20:19.359+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6551af67]
2025-12-30T09:20:19.360+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:19.370+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@500d067b] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:19.371+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@944746890 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:20:19.372+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:19.354+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:20:19.373+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:19.377+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:20:19.377+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:20:19.385+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:20:19.386+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:20:19.387+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:19.388+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:19.392+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f1e6912] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:19.394+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@500d067b]
2025-12-30T09:20:19.400+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:19.401+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bac94eb] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:19.396+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@11960316 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:20:19.401+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1940548923 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:20:19.402+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:20:19.402+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:20:19.402+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:20:19.404+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:20:19.423+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:20:19.445+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f1e6912]
2025-12-30T09:20:19.423+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:20:19.469+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:19.471+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67f4789d] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:19.471+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bac94eb]
2025-12-30T09:20:19.472+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:19.480+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3de533f4] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:19.482+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@306307951 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:20:19.472+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@998165384 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:20:19.485+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:19.486+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:19.484+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:20:19.487+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:20:19.719+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:19.734+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67f4789d]
2025-12-30T09:20:19.735+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:19.741+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:20:19.743+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b5a70bb] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:19.745+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3de533f4]
2025-12-30T09:20:19.746+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1596900317 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:20:19.748+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:19.749+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:20:19.749+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66535db1] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:19.750+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:20:19.751+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1925036060 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:20:19.752+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:19.753+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:19.760+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:20:19.766+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:19.772+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b5a70bb]
2025-12-30T09:20:19.772+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66535db1]
2025-12-30T09:20:19.772+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:19.774+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:19.778+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a3919dd] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:19.779+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49c33a36] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:19.780+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1924037001 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:20:19.784+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@897669226 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:20:19.785+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:19.787+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:20:19.789+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:19.790+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:20:19.795+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:20:19.795+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:19.802+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49c33a36]
2025-12-30T09:20:19.804+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a3919dd]
2025-12-30T09:20:19.805+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:19.805+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:19.806+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@161826e2] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:19.806+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:20:19.809+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1180347549 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:20:19.810+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:19.811+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:19.812+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:19.827+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:19.834+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@161826e2]
2025-12-30T09:20:19.834+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:19.835+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:20:19.838+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:21.069+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/account-codes/list
2025-12-30T09:20:21.070+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/account-codes/list
2025-12-30T09:20:21.073+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:20:21.073+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:20:21.075+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:20:21.075+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:20:21.076+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:20:21.076+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:20:21.077+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:20:21.077+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:20:21.081+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:20:21.079+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:21.084+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:20:21.085+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/account-codes/list
2025-12-30T09:20:21.086+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34af767e] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:21.088+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:21.091+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/account-codes/list
2025-12-30T09:20:21.094+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13c6c1d4] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:21.097+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/account-codes/list
2025-12-30T09:20:21.100+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/account-codes/list", parameters={}
2025-12-30T09:20:21.100+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AccountCodeController#getMappingList()
2025-12-30T09:20:21.102+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2025-12-30T09:20:21.107+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2025-12-30T09:20:21.108+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@129427517 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:20:21.108+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@764011350 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:20:21.109+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:21.110+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:20:21.115+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:20:21.116+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e9a6f3b] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:21.119+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:20:21.122+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:20:21.127+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1178060852 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:20:21.128+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:20:21.128+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:20:21.128+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.A.findByCompanyId                : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE company_id = ? OR company_id IS NULL ORDER BY company_id DESC, category ASC, account_name ASC
2025-12-30T09:20:21.129+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13c6c1d4]
2025-12-30T09:20:21.131+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34af767e]
2025-12-30T09:20:21.132+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.A.findByCompanyId                : ==> Parameters: 1(Long)
2025-12-30T09:20:21.133+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:21.135+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:21.136+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@599a0e2d] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:21.136+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@234ca104] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:21.137+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1425427538 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:20:21.137+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@664483699 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:20:21.137+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:20:21.137+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:21.138+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:20:21.138+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:21.139+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.A.findByCompanyId                : <==      Total: 1
2025-12-30T09:20:21.141+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e9a6f3b]
2025-12-30T09:20:21.143+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:21.143+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:20:21.143+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:21.143+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@234ca104]
2025-12-30T09:20:21.143+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@599a0e2d]
2025-12-30T09:20:21.144+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:21.144+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:21.144+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e5b4f7] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:21.145+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:20:21.145+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1156018478 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:20:21.145+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:21.148+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[AccountCodeMappingDto(mappingId=1, companyId=1, categ (truncated)...]
2025-12-30T09:20:21.150+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:20:21.153+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:21.158+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:20:21.160+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/account-codes/list
2025-12-30T09:20:21.162+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/account-codes/list
2025-12-30T09:20:21.163+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:20:21.166+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/account-codes/list
2025-12-30T09:20:21.166+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e5b4f7]
2025-12-30T09:20:21.167+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/account-codes/list", parameters={}
2025-12-30T09:20:21.168+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:21.168+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AccountCodeController#getMappingList()
2025-12-30T09:20:21.169+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bb134b8] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:21.170+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2025-12-30T09:20:21.170+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1692164917 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:20:21.171+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:21.171+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2025-12-30T09:20:21.171+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:21.171+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:21.172+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f93e1a3] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:21.173+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1682121201 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:20:21.173+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.A.findByCompanyId                : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE company_id = ? OR company_id IS NULL ORDER BY company_id DESC, category ASC, account_name ASC
2025-12-30T09:20:21.174+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:21.175+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.A.findByCompanyId                : ==> Parameters: 1(Long)
2025-12-30T09:20:21.175+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bb134b8]
2025-12-30T09:20:21.176+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:21.177+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:20:21.178+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.A.findByCompanyId                : <==      Total: 1
2025-12-30T09:20:21.178+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:21.179+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f93e1a3]
2025-12-30T09:20:21.183+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:21.184+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[AccountCodeMappingDto(mappingId=1, companyId=1, categ (truncated)...]
2025-12-30T09:20:21.188+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:37.401+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:20:37.401+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:20:37.402+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:20:37.553+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:20:37.701+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:20:37.640+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:20:37.694+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-30T09:20:37.711+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:20:37.701+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:20:37.710+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:20:37.711+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:20:37.712+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:20:37.712+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:20:37.714+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:20:37.718+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:37.726+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f06dbc2] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:37.726+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:20:37.727+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:37.728+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:37.735+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48a9d505] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:37.762+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1062329251 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:20:37.769+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@426696de] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:37.776+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:20:37.785+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:20:37.790+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@822136090 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:20:37.790+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@217890023 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:20:37.794+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:20:37.805+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:20:37.805+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:20:37.806+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:20:37.807+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:20:37.807+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f06dbc2]
2025-12-30T09:20:37.811+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:37.812+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@482dab99] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:37.817+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1127478281 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:20:37.819+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:37.820+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:37.822+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:20:37.823+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:20:37.825+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48a9d505]
2025-12-30T09:20:37.825+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@426696de]
2025-12-30T09:20:37.826+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:37.827+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:37.827+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:37.827+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c6b40b7] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:37.827+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@482dab99]
2025-12-30T09:20:37.828+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27909da2] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:37.828+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1560658699 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:20:37.835+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:37.836+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@194697094 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:20:37.837+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:37.838+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@363370d9] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:37.838+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:20:37.839+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:37.840+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@333931749 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:20:37.840+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:20:37.842+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:20:37.842+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:20:37.856+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:20:37.856+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:20:37.856+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:37.857+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@363370d9]
2025-12-30T09:20:37.857+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27909da2]
2025-12-30T09:20:37.858+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c6b40b7]
2025-12-30T09:20:37.858+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:37.859+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:37.859+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:37.860+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48b90d1d] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:37.860+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:20:37.863+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b1ca061] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:37.867+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1705056619 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:20:37.869+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:37.868+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:37.869+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@224666957 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:20:37.870+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:37.871+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:20:37.871+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:20:37.881+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:37.883+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48b90d1d]
2025-12-30T09:20:37.884+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:37.885+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:20:37.886+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:37.888+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:20:37.889+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b1ca061]
2025-12-30T09:20:37.890+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:37.890+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@704d736f] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:37.890+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@237816495 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:20:37.891+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:20:37.891+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:20:37.893+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:20:37.895+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:20:37.900+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:20:37.903+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:20:37.904+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:20:37.905+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:37.905+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b1d7dec] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:37.906+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1780843180 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:20:37.906+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:20:37.907+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:20:37.915+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:20:37.919+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:20:37.919+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:20:37.920+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:20:37.921+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:20:37.921+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:37.922+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@735caa5c] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:37.924+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:20:37.924+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@704d736f]
2025-12-30T09:20:37.924+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:37.924+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9fc7f78] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:37.925+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@305242915 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:20:37.925+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:37.925+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:37.928+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:20:37.928+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b1d7dec]
2025-12-30T09:20:37.930+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:37.933+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e443763] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:37.934+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@486412992 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:20:37.935+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:20:37.937+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:20:37.961+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:37.962+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@498769296 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:20:37.971+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9fc7f78]
2025-12-30T09:20:37.971+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:20:37.972+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:20:37.972+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:37.974+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:20:37.974+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e443763]
2025-12-30T09:20:37.975+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e7970ce] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:37.975+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:37.980+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1150606790 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:20:37.984+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:20:37.985+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:20:37.987+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:20:37.988+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@735caa5c]
2025-12-30T09:20:37.989+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:37.989+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:20:37.990+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:37.993+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13b7032c] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:37.994+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1716013028 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:20:37.995+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:37.995+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:38.008+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:38.008+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:20:38.011+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e7970ce]
2025-12-30T09:20:38.011+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:38.020+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2229847a] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:38.009+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:20:38.010+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13b7032c]
2025-12-30T09:20:38.022+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1202941937 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:20:38.023+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:20:38.024+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:38.024+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:38.025+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:20:38.025+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50bbb97a] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:38.026+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:38.026+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:20:38.027+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2067688994 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:20:38.031+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:20:38.034+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:20:38.036+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:38.038+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:20:38.039+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77713f87] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:38.042+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:38.043+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2229847a]
2025-12-30T09:20:38.043+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:38.044+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@409070446 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:20:38.044+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:20:38.045+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:20:38.046+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:20:38.051+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50bbb97a]
2025-12-30T09:20:38.052+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:38.053+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:20:38.055+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:38.058+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48a8a88b] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:38.056+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:20:38.059+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1171630221 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:20:38.060+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-30T09:20:38.060+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:38.061+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:38.061+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:20:38.070+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:20:38.084+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:20:38.085+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:38.086+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@512c99a3] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:38.087+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:38.088+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1438410527 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:20:38.088+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48a8a88b]
2025-12-30T09:20:38.088+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:20:38.089+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:38.089+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:20:38.091+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:20:38.092+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:20:38.111+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77713f87]
2025-12-30T09:20:38.110+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:38.112+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:38.137+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:20:38.138+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c299fae] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:38.139+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:20:38.144+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:20:38.151+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@263773349 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:20:38.152+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@512c99a3]
2025-12-30T09:20:38.168+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:38.170+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c366e30] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:38.153+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:20:38.162+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:20:38.172+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@962727828 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:20:38.172+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:20:38.173+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:20:38.178+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:38.178+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:20:38.187+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:38.187+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:38.189+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e320f10] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:38.191+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@744813210 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:20:38.204+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:20:38.211+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:20:38.218+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:20:38.218+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:38.221+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c299fae]
2025-12-30T09:20:38.222+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:20:38.225+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:38.223+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c366e30]
2025-12-30T09:20:38.225+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e320f10]
2025-12-30T09:20:38.225+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:20:38.226+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:38.235+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:38.239+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:38.239+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@296261c6] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:38.240+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@581cad05] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:38.255+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@379247924 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:20:38.256+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@640181145 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:20:38.257+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:20:38.258+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:38.259+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:20:38.259+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:38.292+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:38.293+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:20:38.301+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@581cad05]
2025-12-30T09:20:38.302+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@296261c6]
2025-12-30T09:20:38.305+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:38.306+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:38.306+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3126e00f] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:38.307+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30ebf3c2] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:38.308+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@216995755 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:20:38.309+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@171821128 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:20:38.309+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:20:38.311+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:20:38.312+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:20:38.320+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:20:38.328+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:20:38.328+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:20:38.331+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3126e00f]
2025-12-30T09:20:38.336+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30ebf3c2]
2025-12-30T09:20:38.337+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:38.337+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:38.338+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5972ed42] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:38.339+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e010b45] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:38.341+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1599228155 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:20:38.342+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1897631396 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:20:38.342+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:38.343+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:38.345+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:38.350+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:38.378+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:38.378+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:38.386+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e010b45]
2025-12-30T09:20:38.386+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5972ed42]
2025-12-30T09:20:38.388+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:38.389+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:38.389+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2908a646] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:38.389+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:20:38.390+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1069927169 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:20:38.392+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:38.394+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:20:38.395+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:20:38.437+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:20:38.450+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2908a646]
2025-12-30T09:20:38.451+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:38.451+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42a6bbb] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:38.453+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1761400814 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:20:38.471+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:38.486+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:38.503+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:38.505+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42a6bbb]
2025-12-30T09:20:38.506+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:38.506+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:20:38.507+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:45.490+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:20:45.490+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:20:45.490+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-30T09:20:45.493+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:20:45.493+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:20:45.494+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/companies
2025-12-30T09:20:45.494+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:20:45.495+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:20:45.495+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-30T09:20:45.500+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-30T09:20:45.495+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:20:45.495+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:20:45.501+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-30T09:20:45.501+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:20:45.501+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:20:45.501+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:45.501+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:45.502+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:45.502+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c9a4a87] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:45.503+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57f9bb68] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:45.504+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bcf89c1] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:45.509+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@511461006 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:20:45.509+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@582971314 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:20:45.509+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1245066613 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:20:45.510+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:20:45.511+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:20:45.511+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:20:45.518+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:20:45.521+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:20:45.521+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:20:45.524+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:20:45.525+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:20:45.526+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bcf89c1]
2025-12-30T09:20:45.527+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c9a4a87]
2025-12-30T09:20:45.527+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:45.528+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:45.528+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53aa751e] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:45.529+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:20:45.530+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=5, userId=5, companyId=1 (truncated)...]
2025-12-30T09:20:45.535+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@747295240 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:20:45.535+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57f9bb68]
2025-12-30T09:20:45.536+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:45.537+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:20:45.543+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:20:45.537+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:45.551+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7144e2a9] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:45.543+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-30T09:20:45.545+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/1
2025-12-30T09:20:45.545+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/1/applications
2025-12-30T09:20:45.554+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2029843442 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:20:45.555+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:20:45.556+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/companies
2025-12-30T09:20:45.557+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/company/1
2025-12-30T09:20:45.558+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/companies/1/applications
2025-12-30T09:20:45.558+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:45.559+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53aa751e]
2025-12-30T09:20:45.559+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-30T09:20:45.559+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/1
2025-12-30T09:20:45.560+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/1/applications
2025-12-30T09:20:45.561+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:45.561+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:45.561+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-30T09:20:45.564+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/1", parameters={}
2025-12-30T09:20:45.568+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/1/applications", parameters={}
2025-12-30T09:20:45.569+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:20:45.569+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-30T09:20:45.570+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-30T09:20:45.570+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-30T09:20:45.571+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:45.572+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:45.572+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-30T09:20:45.573+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-30T09:20:45.591+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-30T09:20:45.591+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:45.592+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b4c80e2] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:45.587+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40a5d8da] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:45.588+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-30T09:20:45.595+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:45.593+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1150046151 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:20:45.617+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:20:45.594+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1081406518 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:20:45.614+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:45.616+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64ffd763] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:45.619+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:20:45.620+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:20:45.620+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7144e2a9]
2025-12-30T09:20:45.623+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:45.624+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@95ebc2d] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:45.622+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:20:45.626+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1608078853 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:20:45.627+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:20:45.627+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1451999111 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:20:45.627+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:20:45.628+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:20:45.629+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:20:45.630+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b4c80e2]
2025-12-30T09:20:45.637+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:20:45.639+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:20:45.639+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:45.640+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40a5d8da]
2025-12-30T09:20:45.640+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b60b8b9] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:45.641+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:45.641+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@78934183 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:20:45.642+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=5, userId=5, companyId=1 (truncated)...]
2025-12-30T09:20:45.642+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-30T09:20:45.643+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:20:45.645+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:45.655+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 1(Long)
2025-12-30T09:20:45.655+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@95ebc2d]
2025-12-30T09:20:45.656+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:20:45.667+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64ffd763]
2025-12-30T09:20:45.666+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:45.668+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:45.668+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@148b6bba] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:45.668+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@368591cd] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:45.670+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1749553874 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:20:45.671+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1625696202 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:20:45.671+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:45.672+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-30T09:20:45.672+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 0
2025-12-30T09:20:45.672+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:45.673+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 1(Long)
2025-12-30T09:20:45.673+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b60b8b9]
2025-12-30T09:20:45.674+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:45.675+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:45.675+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:20:45.675+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@148b6bba]
2025-12-30T09:20:45.675+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 8
2025-12-30T09:20:45.676+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:45.676+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:45.677+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@368591cd]
2025-12-30T09:20:45.678+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:20:45.678+09:00  INFO 19004 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 1, count: 8
2025-12-30T09:20:45.683+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/1/applications
2025-12-30T09:20:45.684+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:45.687+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:45.689+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/companies/1/applications
2025-12-30T09:20:45.690+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-30T09:20:45.690+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/1/applications
2025-12-30T09:20:45.691+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:45.693+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/1/applications", parameters={}
2025-12-30T09:20:45.698+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-30T09:20:45.706+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-30T09:20:45.707+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-30T09:20:45.712+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:45.719+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7945aa4e] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:45.710+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/1
2025-12-30T09:20:45.725+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/company/1
2025-12-30T09:20:45.789+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/1
2025-12-30T09:20:45.805+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@484308692 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:20:45.807+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/1", parameters={}
2025-12-30T09:20:45.809+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:20:45.810+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-30T09:20:45.812+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:20:45.817+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-30T09:20:45.818+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-30T09:20:45.820+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:45.821+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ab6a1ef] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:45.823+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2059571704 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:20:45.823+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:20:45.824+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:20:45.825+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7945aa4e]
2025-12-30T09:20:45.826+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:20:45.826+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:45.829+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@115e70ca] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:45.834+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1080287149 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:20:45.836+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-30T09:20:45.840+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 1(Long)
2025-12-30T09:20:45.843+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:20:45.843+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ab6a1ef]
2025-12-30T09:20:45.846+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:45.850+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@159578] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:45.851+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 0
2025-12-30T09:20:45.852+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1866720588 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:20:45.852+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@115e70ca]
2025-12-30T09:20:45.853+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-30T09:20:45.854+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:45.854+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 1(Long)
2025-12-30T09:20:45.854+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:20:45.856+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:45.867+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 8
2025-12-30T09:20:45.869+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@159578]
2025-12-30T09:20:45.869+09:00  INFO 19004 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 1, count: 8
2025-12-30T09:20:45.870+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:45.871+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-30T09:20:45.872+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:47.625+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:20:47.626+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:20:47.627+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:20:47.634+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:20:47.637+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:20:47.645+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-30T09:20:47.668+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:20:47.668+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:20:47.668+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:20:47.669+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:20:47.684+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:20:47.684+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:20:47.684+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:20:47.684+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:20:47.685+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:20:47.686+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:47.694+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@369f8436] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:47.686+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:47.699+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bb3fe7a] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:47.693+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:47.706+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d34a8bf] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:47.709+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@898755880 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:20:47.709+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@48153807 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:20:47.712+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:20:47.716+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:20:47.717+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:20:47.718+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:20:47.721+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1043868386 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:20:47.734+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:20:47.735+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:20:47.738+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:20:47.738+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:20:47.745+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bb3fe7a]
2025-12-30T09:20:47.750+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@369f8436]
2025-12-30T09:20:47.752+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:47.752+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:47.754+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bf6f801] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:47.756+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76ef1318] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:47.757+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@779646314 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:20:47.757+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1160730920 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:20:47.757+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:20:47.758+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:47.759+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:20:47.759+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:20:47.771+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:47.782+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d34a8bf]
2025-12-30T09:20:47.783+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:47.784+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35a74e65] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:47.790+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1243706057 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:20:47.792+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:47.801+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:47.801+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:47.804+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:20:47.821+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76ef1318]
2025-12-30T09:20:47.821+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bf6f801]
2025-12-30T09:20:47.826+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:47.827+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:47.827+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fe232aa] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:47.828+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:47.833+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:20:47.834+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@295404957 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:20:47.837+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35a74e65]
2025-12-30T09:20:47.841+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:47.842+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:20:47.843+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:47.846+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:20:47.846+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bf055b2] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:47.856+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1688992463 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:20:47.873+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:20:47.884+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:20:47.885+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:20:47.886+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:20:47.887+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fe232aa]
2025-12-30T09:20:47.890+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:20:47.891+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:47.902+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:20:47.905+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3998741b] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:47.906+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:20:47.908+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:20:47.908+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@929130208 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:20:47.909+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bf055b2]
2025-12-30T09:20:47.926+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:20:47.927+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:47.927+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:47.928+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:47.928+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:47.928+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19a23ad1] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:47.928+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@279b1e0a] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:47.933+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1888919954 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:20:47.939+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:20:47.941+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:20:47.941+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:47.954+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3998741b]
2025-12-30T09:20:47.955+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:47.955+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:20:47.956+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1576599835 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:20:47.974+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:47.976+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:20:47.978+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:20:47.979+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:20:48.003+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19a23ad1]
2025-12-30T09:20:48.004+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:48.005+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:20:48.007+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59eea2d] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:48.008+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@232930557 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:20:48.008+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:20:48.011+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:20:48.011+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:48.012+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:20:48.020+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@279b1e0a]
2025-12-30T09:20:48.021+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:48.021+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:20:48.026+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:48.042+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bf7665] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:48.044+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1814468973 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:20:48.046+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:20:48.030+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:20:48.054+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:20:48.056+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:48.058+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cf0f9e3] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:48.060+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1115527087 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:20:48.060+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:20:48.089+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:48.101+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:20:48.102+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:20:48.104+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59eea2d]
2025-12-30T09:20:48.107+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bf7665]
2025-12-30T09:20:48.107+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:48.109+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:48.110+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@122e100] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:48.110+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:20:48.111+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1939848331 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:20:48.112+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:48.112+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:20:48.117+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:20:48.126+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:20:48.126+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:20:48.127+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:20:48.128+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cf0f9e3]
2025-12-30T09:20:48.129+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@122e100]
2025-12-30T09:20:48.135+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:48.135+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:48.136+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:20:48.136+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16b7166e] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:48.136+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b286245] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:48.137+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:20:48.137+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1025759930 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:20:48.138+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1570025665 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:20:48.138+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:20:48.138+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:48.140+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:48.142+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:20:48.142+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:48.145+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:48.146+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:48.152+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bed8854] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:48.153+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1440105696 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:20:48.153+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:48.153+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:48.154+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:20:48.155+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b286245]
2025-12-30T09:20:48.156+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16b7166e]
2025-12-30T09:20:48.159+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:20:48.159+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:48.160+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:48.162+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:20:48.162+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e2b453b] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:48.173+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:48.173+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1610694390 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:20:48.175+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:20:48.189+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:20:48.193+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:20:48.205+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bed8854]
2025-12-30T09:20:48.206+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:48.207+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57a99881] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:48.208+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1889604872 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:20:48.209+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:20:48.207+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:20:48.207+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:20:48.210+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:20:48.218+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-30T09:20:48.223+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e2b453b]
2025-12-30T09:20:48.236+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:48.238+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ff79b60] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:48.240+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@727782200 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:20:48.241+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:48.225+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:20:48.241+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:48.243+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:20:48.244+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:20:48.244+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:48.254+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:20:48.271+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57a99881]
2025-12-30T09:20:48.262+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17907c5c] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:48.272+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:48.274+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1485378479 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:20:48.277+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:20:48.285+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:20:48.287+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:48.288+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:20:48.291+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:48.302+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ff79b60]
2025-12-30T09:20:48.303+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:48.303+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:20:48.304+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:48.306+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:20:48.308+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17907c5c]
2025-12-30T09:20:48.318+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:48.319+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d533349] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:48.320+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:20:48.327+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@968214563 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:20:48.334+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:20:48.339+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:48.340+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:20:48.341+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:48.343+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:20:48.344+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:20:48.345+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:48.345+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f4a3d90] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:48.374+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1414685531 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:20:48.407+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:20:48.374+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:48.408+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:20:48.409+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d533349]
2025-12-30T09:20:48.410+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:48.488+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23e3d93d] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:48.536+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:20:48.545+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f4a3d90]
2025-12-30T09:20:48.545+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:48.551+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2743c064] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:48.539+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@387870579 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:20:48.551+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2090944869 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:20:48.560+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:48.562+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:48.557+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:20:48.570+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:20:48.625+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:20:48.627+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:48.657+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2743c064]
2025-12-30T09:20:48.650+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23e3d93d]
2025-12-30T09:20:48.658+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:48.658+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:48.659+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c810c3e] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:48.670+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24eed685] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:48.672+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@897105194 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:20:48.674+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:20:48.673+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@435804436 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:20:48.675+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:20:48.674+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:20:48.676+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:20:48.689+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:20:48.690+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:20:48.690+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24eed685]
2025-12-30T09:20:48.692+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c810c3e]
2025-12-30T09:20:48.693+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:48.694+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:48.694+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17243032] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:48.694+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dac03d1] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:48.695+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1168938669 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:20:48.700+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@164109990 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:20:48.700+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:48.702+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:48.703+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:48.706+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:48.741+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:48.742+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:48.743+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dac03d1]
2025-12-30T09:20:48.743+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17243032]
2025-12-30T09:20:48.744+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:48.744+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:48.745+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:20:48.745+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dc849a3] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:48.746+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:48.746+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@458967432 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:20:48.753+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:20:48.753+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:20:48.779+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:20:48.793+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dc849a3]
2025-12-30T09:20:48.794+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:48.795+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ede2df7] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:48.795+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@288683742 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:20:48.796+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:48.796+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:48.811+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:48.815+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ede2df7]
2025-12-30T09:20:48.816+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:48.817+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:20:48.818+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:52.640+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/dashboard/stats
2025-12-30T09:20:52.642+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/dashboard/monthly-trend
2025-12-30T09:20:52.642+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/dashboard/status-stats
2025-12-30T09:20:52.643+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/dashboard/category-ratio
2025-12-30T09:20:52.644+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/credits/total
2025-12-30T09:20:52.644+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:20:52.649+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:20:52.655+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2025-12-30T09:20:52.659+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:20:52.670+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:20:52.660+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/dashboard/stats
2025-12-30T09:20:52.660+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/dashboard/monthly-trend
2025-12-30T09:20:52.662+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/dashboard/status-stats
2025-12-30T09:20:52.667+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:20:52.672+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:20:52.678+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:20:52.678+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/dashboard/category-ratio
2025-12-30T09:20:52.687+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:20:52.688+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:20:52.689+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:52.689+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:20:52.690+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/stats
2025-12-30T09:20:52.690+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/monthly-trend
2025-12-30T09:20:52.692+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f254d4a] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:52.693+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/status-stats
2025-12-30T09:20:52.694+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:52.705+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64b9de64] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:52.695+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/stats
2025-12-30T09:20:52.695+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio
2025-12-30T09:20:52.702+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/monthly-trend
2025-12-30T09:20:52.707+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/monthly-trend
2025-12-30T09:20:52.705+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/status-stats
2025-12-30T09:20:52.706+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/stats
2025-12-30T09:20:52.707+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/category-ratio
2025-12-30T09:20:52.708+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/monthly-trend", parameters={}
2025-12-30T09:20:52.708+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/status-stats
2025-12-30T09:20:52.709+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2138932778 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:20:52.709+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@121535558 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:20:52.710+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/stats", parameters={}
2025-12-30T09:20:52.710+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio
2025-12-30T09:20:52.711+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTrend(String, String)
2025-12-30T09:20:52.711+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/status-stats", parameters={}
2025-12-30T09:20:52.711+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:20:52.711+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:20:52.711+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getDashboardStats(String, String)
2025-12-30T09:20:52.711+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio", parameters={}
2025-12-30T09:20:52.712+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getStatusStats(String, String)
2025-12-30T09:20:52.712+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:20:52.712+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:20:52.718+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:20:52.718+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2025-12-30T09:20:52.718+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:20:52.722+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:20:52.719+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:20:52.719+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:20:52.721+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:20:52.722+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:20:52.728+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f254d4a]
2025-12-30T09:20:52.723+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:20:52.723+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64b9de64]
2025-12-30T09:20:52.724+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:20:52.724+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:52.725+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:20:52.735+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:52.735+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:52.736+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:52.736+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:52.737+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@472023a0] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:52.737+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:52.738+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8cdaf6] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:52.738+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31204172] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:52.738+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b6e147] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:52.739+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5baa05db] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:52.739+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@273dbecb] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:52.740+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1052810354 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:20:52.742+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@16838268 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:20:52.751+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:20:52.745+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:52.749+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@17340617 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:20:52.750+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1352949851 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:20:52.751+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:20:52.752+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:52.753+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectMonthlyTrend             : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS count FROM expense_report_tb WHERE company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-30T09:20:52.754+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@922170213 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:20:52.754+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2138002658 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:20:52.754+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectDashboardStats           : ==>  Preparing: SELECT COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS totalCount, COALESCE(AVG(total_amount), 0) AS averageAmount, COALESCE(MAX(total_amount), 0) AS maxAmount, COALESCE(MIN(total_amount), 0) AS minAmount, SUM(CASE WHEN status = 'PENDING' THEN 1 ELSE 0 END) AS pendingCount FROM expense_report_tb WHERE company_id = ?
2025-12-30T09:20:52.762+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectMonthlyTrend             : ==> Parameters: 1(Long)
2025-12-30T09:20:52.768+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:52.769+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:20:52.772+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? GROUP BY d.category ORDER BY amount DESC
2025-12-30T09:20:52.772+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.ExpenseMapper.selectStatusStats  : ==>  Preparing: SELECT status, COUNT(*) AS count, COALESCE(SUM(total_amount), 0) AS totalAmount FROM expense_report_tb WHERE company_id = ? GROUP BY status ORDER BY count DESC
2025-12-30T09:20:52.773+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectDashboardStats           : ==> Parameters: 1(Long)
2025-12-30T09:20:52.774+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8cdaf6]
2025-12-30T09:20:52.774+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b6e147]
2025-12-30T09:20:52.784+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: 1(Long)
2025-12-30T09:20:52.784+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.ExpenseMapper.selectStatusStats  : ==> Parameters: 1(Long)
2025-12-30T09:20:52.788+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:52.790+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectMonthlyTrend             : <==      Total: 1
2025-12-30T09:20:52.792+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:52.794+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c88f68c] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:52.794+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@472023a0]
2025-12-30T09:20:52.794+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:20:52.795+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectDashboardStats           : <==      Total: 1
2025-12-30T09:20:52.795+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1521864833 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:20:52.797+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:52.807+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:52.807+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31204172]
2025-12-30T09:20:52.808+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:20:52.809+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 추이 조회 성공, data=[MonthlyTrendDto(yearMonth=2025-12, totalAmount= (truncated)...]
2025-12-30T09:20:52.812+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/credits/total
2025-12-30T09:20:52.818+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:52.820+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:20:52.821+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.ExpenseMapper.selectStatusStats  : <==      Total: 3
2025-12-30T09:20:52.821+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectCategoryRatio            : <==      Total: 2
2025-12-30T09:20:52.826+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@273dbecb]
2025-12-30T09:20:52.823+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/credits/total
2025-12-30T09:20:52.824+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:52.825+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 통계 조회 성공, data=DashboardStatsDto(totalAmount=104561, totalCou (truncated)...]
2025-12-30T09:20:52.826+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5baa05db]
2025-12-30T09:20:52.827+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/credits/total
2025-12-30T09:20:52.828+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2025-12-30T09:20:52.831+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:52.831+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:52.836+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:52.837+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/credits/total", parameters={}
2025-12-30T09:20:52.838+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/subscriptions/current
2025-12-30T09:20:52.839+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[CategoryRatioDto(category=식대, amount=103450, (truncated)...]
2025-12-30T09:20:52.841+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/monthly-trend
2025-12-30T09:20:52.842+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태별 통계 조회 성공, data=[StatusStatsDto(status=WAIT, count=6, totalAmou (truncated)...]
2025-12-30T09:20:52.843+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CreditController#getTotalAvailableAmount()
2025-12-30T09:20:52.843+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2025-12-30T09:20:52.843+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:20:52.851+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:52.853+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/monthly-trend
2025-12-30T09:20:52.854+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:52.856+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2025-12-30T09:20:52.856+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2025-12-30T09:20:52.857+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c88f68c]
2025-12-30T09:20:52.858+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/stats
2025-12-30T09:20:52.871+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/monthly-trend
2025-12-30T09:20:52.873+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio
2025-12-30T09:20:52.903+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2025-12-30T09:20:52.904+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2025-12-30T09:20:52.905+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:52.911+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-30T09:20:52.907+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/stats
2025-12-30T09:20:52.926+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/stats
2025-12-30T09:20:52.926+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/stats", parameters={}
2025-12-30T09:20:52.907+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/monthly-trend", parameters={}
2025-12-30T09:20:52.908+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/category-ratio
2025-12-30T09:20:52.910+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:52.911+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35ec5c5b] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:52.912+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-30T09:20:52.927+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getDashboardStats(String, String)
2025-12-30T09:20:52.935+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:52.927+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTrend(String, String)
2025-12-30T09:20:52.928+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio
2025-12-30T09:20:52.928+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bab24d4] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:52.928+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1311498492 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:20:52.936+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:20:52.936+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ec1e2a5] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:52.936+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:20:52.936+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio", parameters={}
2025-12-30T09:20:52.954+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1987321595 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:20:52.955+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:20:52.957+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:20:52.957+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@163018790 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:20:52.958+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:20:52.973+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2025-12-30T09:20:52.973+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.C.getTotalAvailableAmount        : ==>  Preparing: SELECT COALESCE(SUM(amount - used_amount), 0) FROM credit_tb WHERE company_id = ? AND (expires_at IS NULL OR expires_at >= ?)
2025-12-30T09:20:52.974+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:20:52.975+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:52.985+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30ba26f] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:52.975+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2025-12-30T09:20:52.976+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:52.993+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b6193fc] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:52.977+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:20:52.984+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.C.getTotalAvailableAmount        : ==> Parameters: 1(Long), 2025-12-30(LocalDate)
2025-12-30T09:20:52.990+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@798578979 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:20:52.993+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2025-12-30T09:20:52.994+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:20:52.994+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2044422266 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:20:52.995+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:20:52.998+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectDashboardStats           : ==>  Preparing: SELECT COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS totalCount, COALESCE(AVG(total_amount), 0) AS averageAmount, COALESCE(MAX(total_amount), 0) AS maxAmount, COALESCE(MIN(total_amount), 0) AS minAmount, SUM(CASE WHEN status = 'PENDING' THEN 1 ELSE 0 END) AS pendingCount FROM expense_report_tb WHERE company_id = ?
2025-12-30T09:20:53.003+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35ec5c5b]
2025-12-30T09:20:53.025+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectMonthlyTrend             : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS count FROM expense_report_tb WHERE company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-30T09:20:53.026+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:53.026+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectDashboardStats           : ==> Parameters: 1(Long)
2025-12-30T09:20:53.026+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:53.027+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectMonthlyTrend             : ==> Parameters: 1(Long)
2025-12-30T09:20:53.034+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ae2cdec] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:53.035+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:20:53.036+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2025-12-30T09:20:53.036+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.C.getTotalAvailableAmount        : <==      Total: 1
2025-12-30T09:20:53.040+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1517204782 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:20:53.041+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:53.043+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2025-12-30T09:20:53.043+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bab24d4]
2025-12-30T09:20:53.043+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? GROUP BY d.category ORDER BY amount DESC
2025-12-30T09:20:53.050+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/status-stats
2025-12-30T09:20:53.053+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:53.054+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: 1(Long)
2025-12-30T09:20:53.056+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data={totalAmount=5145})]
2025-12-30T09:20:53.056+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/status-stats
2025-12-30T09:20:53.057+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:53.058+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/status-stats
2025-12-30T09:20:53.060+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/status-stats", parameters={}
2025-12-30T09:20:53.060+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getStatusStats(String, String)
2025-12-30T09:20:53.069+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:20:53.070+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:20:53.071+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:53.078+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectDashboardStats           : <==      Total: 1
2025-12-30T09:20:53.087+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/credits/total
2025-12-30T09:20:53.192+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectMonthlyTrend             : <==      Total: 1
2025-12-30T09:20:53.192+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2025-12-30T09:20:53.192+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectCategoryRatio            : <==      Total: 2
2025-12-30T09:20:53.267+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60980401] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:53.343+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30ba26f]
2025-12-30T09:20:53.350+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b6193fc]
2025-12-30T09:20:53.350+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/credits/total
2025-12-30T09:20:53.351+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 1
2025-12-30T09:20:53.351+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ae2cdec]
2025-12-30T09:20:53.352+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1210921670 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:20:53.353+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:53.354+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:53.354+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/credits/total
2025-12-30T09:20:53.359+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ec1e2a5]
2025-12-30T09:20:53.359+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:53.360+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.ExpenseMapper.selectStatusStats  : ==>  Preparing: SELECT status, COUNT(*) AS count, COALESCE(SUM(total_amount), 0) AS totalAmount FROM expense_report_tb WHERE company_id = ? GROUP BY status ORDER BY count DESC
2025-12-30T09:20:53.361+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 통계 조회 성공, data=DashboardStatsDto(totalAmount=104561, totalCou (truncated)...]
2025-12-30T09:20:53.362+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 추이 조회 성공, data=[MonthlyTrendDto(yearMonth=2025-12, totalAmount= (truncated)...]
2025-12-30T09:20:53.364+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/credits/total", parameters={}
2025-12-30T09:20:53.420+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CreditController#getTotalAvailableAmount()
2025-12-30T09:20:53.367+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:53.387+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[CategoryRatioDto(category=식대, amount=103450, (truncated)...]
2025-12-30T09:20:53.405+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.ExpenseMapper.selectStatusStats  : ==> Parameters: 1(Long)
2025-12-30T09:20:53.416+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:53.418+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:53.422+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2025-12-30T09:20:53.423+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=SubscriptionDto(subscriptionId=1, companyId=1, planId= (truncated)...]
2025-12-30T09:20:53.424+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:53.500+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/stats
2025-12-30T09:20:53.501+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/monthly-trend
2025-12-30T09:20:53.504+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.ExpenseMapper.selectStatusStats  : <==      Total: 3
2025-12-30T09:20:53.537+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/monthly-trend
2025-12-30T09:20:53.504+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2025-12-30T09:20:53.532+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:53.536+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/stats
2025-12-30T09:20:53.537+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60980401]
2025-12-30T09:20:53.538+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/monthly-trend
2025-12-30T09:20:53.541+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/monthly-trend", parameters={}
2025-12-30T09:20:53.538+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:53.539+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/stats
2025-12-30T09:20:53.541+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:53.542+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTrend(String, String)
2025-12-30T09:20:53.542+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1895c3df] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:53.551+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio
2025-12-30T09:20:53.561+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/stats", parameters={}
2025-12-30T09:20:53.562+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태별 통계 조회 성공, data=[StatusStatsDto(status=WAIT, count=6, totalAmou (truncated)...]
2025-12-30T09:20:53.565+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:20:53.569+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1902870211 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:20:53.592+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.C.getTotalAvailableAmount        : ==>  Preparing: SELECT COALESCE(SUM(amount - used_amount), 0) FROM credit_tb WHERE company_id = ? AND (expires_at IS NULL OR expires_at >= ?)
2025-12-30T09:20:53.570+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/category-ratio
2025-12-30T09:20:53.588+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getDashboardStats(String, String)
2025-12-30T09:20:53.589+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:53.591+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:20:53.592+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.C.getTotalAvailableAmount        : ==> Parameters: 1(Long), 2025-12-30(LocalDate)
2025-12-30T09:20:53.593+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio
2025-12-30T09:20:53.594+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:20:53.603+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2025-12-30T09:20:53.637+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/status-stats
2025-12-30T09:20:53.638+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:53.654+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/status-stats
2025-12-30T09:20:53.652+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio", parameters={}
2025-12-30T09:20:53.653+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:20:53.654+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/subscriptions/current
2025-12-30T09:20:53.654+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@182f47b2] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:53.655+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/status-stats
2025-12-30T09:20:53.668+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2025-12-30T09:20:53.671+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.C.getTotalAvailableAmount        : <==      Total: 1
2025-12-30T09:20:53.674+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:53.694+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2025-12-30T09:20:53.698+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1843695302 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:20:53.703+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/status-stats", parameters={}
2025-12-30T09:20:53.703+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:20:53.704+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1895c3df]
2025-12-30T09:20:53.705+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53ec4096] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:53.705+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2025-12-30T09:20:53.705+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectMonthlyTrend             : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS count FROM expense_report_tb WHERE company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-30T09:20:53.712+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getStatusStats(String, String)
2025-12-30T09:20:53.719+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:20:53.720+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:53.721+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2025-12-30T09:20:53.723+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectMonthlyTrend             : ==> Parameters: 1(Long)
2025-12-30T09:20:53.725+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:20:53.726+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:53.727+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data={totalAmount=5145})]
2025-12-30T09:20:53.728+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@688930112 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:20:53.728+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-30T09:20:53.739+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:20:53.740+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d602228] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:53.741+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectDashboardStats           : ==>  Preparing: SELECT COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS totalCount, COALESCE(AVG(total_amount), 0) AS averageAmount, COALESCE(MAX(total_amount), 0) AS maxAmount, COALESCE(MIN(total_amount), 0) AS minAmount, SUM(CASE WHEN status = 'PENDING' THEN 1 ELSE 0 END) AS pendingCount FROM expense_report_tb WHERE company_id = ?
2025-12-30T09:20:53.741+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:53.742+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-30T09:20:53.757+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:53.759+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d8194a6] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:53.760+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1330547782 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:20:53.760+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2025-12-30T09:20:53.743+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:53.761+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59466778] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:53.745+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1790558043 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:20:53.751+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectMonthlyTrend             : <==      Total: 1
2025-12-30T09:20:53.753+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectDashboardStats           : ==> Parameters: 1(Long)
2025-12-30T09:20:53.756+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/credits/total
2025-12-30T09:20:53.761+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2025-12-30T09:20:53.762+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@125873893 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:20:53.769+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.ExpenseMapper.selectStatusStats  : ==>  Preparing: SELECT status, COUNT(*) AS count, COALESCE(SUM(total_amount), 0) AS totalAmount FROM expense_report_tb WHERE company_id = ? GROUP BY status ORDER BY count DESC
2025-12-30T09:20:53.767+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? GROUP BY d.category ORDER BY amount DESC
2025-12-30T09:20:53.767+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@182f47b2]
2025-12-30T09:20:53.769+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/credits/total
2025-12-30T09:20:53.770+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.ExpenseMapper.selectStatusStats  : ==> Parameters: 1(Long)
2025-12-30T09:20:53.780+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2025-12-30T09:20:53.770+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: 1(Long)
2025-12-30T09:20:53.777+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:53.778+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectDashboardStats           : <==      Total: 1
2025-12-30T09:20:53.779+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/credits/total
2025-12-30T09:20:53.785+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2025-12-30T09:20:53.856+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.ExpenseMapper.selectStatusStats  : <==      Total: 3
2025-12-30T09:20:53.858+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 추이 조회 성공, data=[MonthlyTrendDto(yearMonth=2025-12, totalAmount= (truncated)...]
2025-12-30T09:20:53.860+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53ec4096]
2025-12-30T09:20:53.861+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/credits/total", parameters={}
2025-12-30T09:20:53.866+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59466778]
2025-12-30T09:20:53.867+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:53.868+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:53.869+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CreditController#getTotalAvailableAmount()
2025-12-30T09:20:53.869+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:53.876+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 통계 조회 성공, data=DashboardStatsDto(totalAmount=104561, totalCou (truncated)...]
2025-12-30T09:20:53.876+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2025-12-30T09:20:53.877+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태별 통계 조회 성공, data=[StatusStatsDto(status=WAIT, count=6, totalAmou (truncated)...]
2025-12-30T09:20:53.888+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectCategoryRatio            : <==      Total: 2
2025-12-30T09:20:53.911+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d602228]
2025-12-30T09:20:53.915+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:53.904+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:53.905+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2025-12-30T09:20:53.908+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2025-12-30T09:20:53.911+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:53.918+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[CategoryRatioDto(category=식대, amount=103450, (truncated)...]
2025-12-30T09:20:53.919+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 1
2025-12-30T09:20:53.920+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:20:53.939+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:53.940+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d8194a6]
2025-12-30T09:20:53.940+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bdd9269] was not registered for synchronization because synchronization is not active
2025-12-30T09:20:53.942+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:53.944+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=SubscriptionDto(subscriptionId=1, companyId=1, planId= (truncated)...]
2025-12-30T09:20:53.943+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1546913437 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:20:53.945+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:20:53.951+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.C.getTotalAvailableAmount        : ==>  Preparing: SELECT COALESCE(SUM(amount - used_amount), 0) FROM credit_tb WHERE company_id = ? AND (expires_at IS NULL OR expires_at >= ?)
2025-12-30T09:20:53.954+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.C.getTotalAvailableAmount        : ==> Parameters: 1(Long), 2025-12-30(LocalDate)
2025-12-30T09:20:54.029+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.C.getTotalAvailableAmount        : <==      Total: 1
2025-12-30T09:20:54.051+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bdd9269]
2025-12-30T09:20:54.052+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:20:54.109+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data={totalAmount=5145})]
2025-12-30T09:20:54.119+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:21:05.609+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:21:05.610+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:21:05.610+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:21:05.615+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:21:05.616+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:21:05.615+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:21:05.616+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-30T09:21:05.616+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:21:05.617+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:21:05.617+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:21:05.617+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:21:05.617+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:21:05.618+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:21:05.618+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:21:05.619+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:21:05.618+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:21:05.619+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:21:05.621+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3636e57b] was not registered for synchronization because synchronization is not active
2025-12-30T09:21:05.621+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:21:05.622+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3389dbde] was not registered for synchronization because synchronization is not active
2025-12-30T09:21:05.621+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a77dc0a] was not registered for synchronization because synchronization is not active
2025-12-30T09:21:05.625+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1428035152 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:21:05.626+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:21:05.626+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@848019988 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:21:05.633+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:21:05.633+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@963567918 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:21:05.633+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:21:05.634+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:21:05.636+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:21:05.642+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:21:05.644+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:21:05.644+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:21:05.655+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3389dbde]
2025-12-30T09:21:05.654+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3636e57b]
2025-12-30T09:21:05.657+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:21:05.658+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73954448] was not registered for synchronization because synchronization is not active
2025-12-30T09:21:05.658+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:21:05.660+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c66421f] was not registered for synchronization because synchronization is not active
2025-12-30T09:21:05.659+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1800499185 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:21:05.662+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@778574869 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:21:05.666+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:21:05.662+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:21:05.670+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:21:05.671+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:21:05.673+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:21:05.673+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:21:05.673+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:21:05.674+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a77dc0a]
2025-12-30T09:21:05.675+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73954448]
2025-12-30T09:21:05.675+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c66421f]
2025-12-30T09:21:05.676+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:21:05.677+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fac22b2] was not registered for synchronization because synchronization is not active
2025-12-30T09:21:05.677+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:21:05.677+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:21:05.678+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1317234843 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:21:05.678+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7025969a] was not registered for synchronization because synchronization is not active
2025-12-30T09:21:05.685+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@701180882 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:21:05.687+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:21:05.678+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:21:05.679+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:21:05.688+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:21:05.691+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:21:05.693+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:21:05.708+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:21:05.709+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:21:05.709+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:21:05.710+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7025969a]
2025-12-30T09:21:05.710+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:21:05.711+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fac22b2]
2025-12-30T09:21:05.711+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:21:05.712+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a4ff4c3] was not registered for synchronization because synchronization is not active
2025-12-30T09:21:05.712+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:21:05.712+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:21:05.715+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@646065238 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:21:05.716+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:21:05.716+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42f5fcde] was not registered for synchronization because synchronization is not active
2025-12-30T09:21:05.716+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:21:05.716+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:21:05.717+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1287847808 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:21:05.717+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:21:05.718+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:21:05.718+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:21:05.719+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4091d793] was not registered for synchronization because synchronization is not active
2025-12-30T09:21:05.720+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:21:05.721+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:21:05.723+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a4ff4c3]
2025-12-30T09:21:05.724+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:21:05.725+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30bb39d1] was not registered for synchronization because synchronization is not active
2025-12-30T09:21:05.725+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1553697301 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:21:05.725+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:21:05.726+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@894905065 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:21:05.726+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:21:05.727+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42f5fcde]
2025-12-30T09:21:05.727+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:21:05.728+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:21:05.728+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:21:05.728+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:21:05.728+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d11a0da] was not registered for synchronization because synchronization is not active
2025-12-30T09:21:05.734+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@552576682 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:21:05.735+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:21:05.735+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:21:05.735+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:21:05.735+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30bb39d1]
2025-12-30T09:21:05.735+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4091d793]
2025-12-30T09:21:05.735+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:21:05.735+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:21:05.735+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:21:05.737+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cbe7e48] was not registered for synchronization because synchronization is not active
2025-12-30T09:21:05.737+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63c72ef5] was not registered for synchronization because synchronization is not active
2025-12-30T09:21:05.739+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:21:05.739+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@94545855 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:21:05.741+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1988436671 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:21:05.741+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d11a0da]
2025-12-30T09:21:05.741+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:21:05.742+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:21:05.742+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:21:05.743+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:21:05.743+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:21:05.743+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:21:05.744+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:21:05.750+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:21:05.751+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63c72ef5]
2025-12-30T09:21:05.751+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:21:05.754+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cbe7e48]
2025-12-30T09:21:05.751+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:21:05.753+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:21:05.755+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:21:05.756+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:21:05.757+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:21:05.757+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9aa4834] was not registered for synchronization because synchronization is not active
2025-12-30T09:21:05.757+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:21:05.758+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:21:05.759+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@385432439 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:21:05.761+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:21:05.763+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:21:05.759+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:21:05.760+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:21:05.768+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:21:05.771+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:21:05.772+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:21:05.772+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:21:05.772+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9aa4834]
2025-12-30T09:21:05.772+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:21:05.773+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b7c4885] was not registered for synchronization because synchronization is not active
2025-12-30T09:21:05.773+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:21:05.773+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:21:05.774+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:21:05.774+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:21:05.776+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:21:05.776+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1347927494 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:21:05.785+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:21:05.777+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:21:05.785+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:21:05.786+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@458c6c5f] was not registered for synchronization because synchronization is not active
2025-12-30T09:21:05.787+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:21:05.790+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-30T09:21:05.795+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:21:05.795+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:21:05.801+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b7c4885]
2025-12-30T09:21:05.797+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:21:05.802+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:21:05.802+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6901c91e] was not registered for synchronization because synchronization is not active
2025-12-30T09:21:05.802+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:21:05.802+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@342107739 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:21:05.803+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:21:05.804+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:21:05.806+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38ef5b50] was not registered for synchronization because synchronization is not active
2025-12-30T09:21:05.808+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:21:05.809+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1472921411 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:21:05.809+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:21:05.809+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1392019090 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:21:05.810+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:21:05.811+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:21:05.823+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:21:05.836+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:21:05.856+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6901c91e]
2025-12-30T09:21:05.858+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:21:05.859+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d9b2732] was not registered for synchronization because synchronization is not active
2025-12-30T09:21:05.860+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1781876390 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:21:05.891+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:21:05.891+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:21:05.893+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@458c6c5f]
2025-12-30T09:21:05.892+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:21:05.893+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38ef5b50]
2025-12-30T09:21:05.894+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:21:05.899+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e5dfc32] was not registered for synchronization because synchronization is not active
2025-12-30T09:21:05.898+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:21:05.898+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:21:05.899+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@272994555 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:21:05.900+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f0c3edf] was not registered for synchronization because synchronization is not active
2025-12-30T09:21:05.900+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:21:05.901+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1568392117 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:21:05.902+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:21:05.904+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:21:05.906+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:21:05.925+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:21:05.925+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:21:05.925+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:21:05.939+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e5dfc32]
2025-12-30T09:21:05.940+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f0c3edf]
2025-12-30T09:21:05.941+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d9b2732]
2025-12-30T09:21:05.942+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:21:05.942+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:21:05.943+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:21:05.943+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:21:05.943+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74fee6d9] was not registered for synchronization because synchronization is not active
2025-12-30T09:21:05.944+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@261b2cc3] was not registered for synchronization because synchronization is not active
2025-12-30T09:21:05.947+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:21:05.953+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@184206431 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:21:05.969+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1928150405 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:21:05.972+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:21:05.972+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:21:06.039+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:21:05.974+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:21:06.120+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:21:06.120+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:21:06.156+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74fee6d9]
2025-12-30T09:21:06.170+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:21:06.171+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ae90e81] was not registered for synchronization because synchronization is not active
2025-12-30T09:21:06.157+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@261b2cc3]
2025-12-30T09:21:06.172+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1227022635 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:21:06.173+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:21:06.174+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:21:06.175+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:21:06.176+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:21:06.177+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:21:06.235+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:21:06.270+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ae90e81]
2025-12-30T09:21:06.293+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:21:06.317+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:21:06.326+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6208ff2e] was not registered for synchronization because synchronization is not active
2025-12-30T09:21:06.329+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1620535528 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:21:06.334+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:21:06.325+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:21:06.335+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:21:06.337+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:21:06.389+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:21:06.403+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6208ff2e]
2025-12-30T09:21:06.394+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:21:06.403+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:21:06.405+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b02d8b4] was not registered for synchronization because synchronization is not active
2025-12-30T09:21:06.426+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1054258549 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:21:06.427+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:21:06.427+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:21:06.404+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:21:06.431+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:21:06.465+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31a3fce0] was not registered for synchronization because synchronization is not active
2025-12-30T09:21:06.466+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:21:06.473+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b02d8b4]
2025-12-30T09:21:06.474+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:21:06.475+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ca5b10a] was not registered for synchronization because synchronization is not active
2025-12-30T09:21:06.476+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1106184018 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:21:06.478+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:21:06.479+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:21:06.489+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@713743375 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:21:06.491+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:21:06.504+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:21:06.522+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:21:06.534+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ca5b10a]
2025-12-30T09:21:06.534+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:21:06.535+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:21:06.537+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:21:06.538+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:21:06.538+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31a3fce0]
2025-12-30T09:21:06.539+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:21:06.539+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bcc0218] was not registered for synchronization because synchronization is not active
2025-12-30T09:21:06.540+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@554971878 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:21:06.540+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:21:06.541+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:21:06.576+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:21:06.585+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bcc0218]
2025-12-30T09:21:06.586+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:21:06.587+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d41c44b] was not registered for synchronization because synchronization is not active
2025-12-30T09:21:06.589+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@648464697 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:21:06.590+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:21:06.635+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:21:06.661+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:21:06.774+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d41c44b]
2025-12-30T09:21:06.775+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:21:06.775+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cae9932] was not registered for synchronization because synchronization is not active
2025-12-30T09:21:06.776+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2136894320 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:21:06.776+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:21:06.781+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:21:06.799+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:21:06.800+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cae9932]
2025-12-30T09:21:06.801+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:21:06.801+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:21:06.802+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:21:55.824+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/approvers
2025-12-30T09:21:55.825+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/approvers
2025-12-30T09:21:55.851+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:21:55.851+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:21:55.969+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/approvers
2025-12-30T09:21:56.040+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:21:56.047+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:21:56.046+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:21:56.047+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/approvers
2025-12-30T09:21:56.047+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:21:56.048+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:21:56.049+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/approvers
2025-12-30T09:21:56.049+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:21:56.056+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:21:56.067+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:21:56.057+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/approvers", parameters={}
2025-12-30T09:21:56.058+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:21:56.068+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:21:56.070+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getApprovers()
2025-12-30T09:21:56.070+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@790b3ec3] was not registered for synchronization because synchronization is not active
2025-12-30T09:21:56.070+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79a982ad] was not registered for synchronization because synchronization is not active
2025-12-30T09:21:56.071+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:21:56.072+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@347ba27d] was not registered for synchronization because synchronization is not active
2025-12-30T09:21:56.091+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2101778333 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:21:56.091+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1232662703 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:21:56.092+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2089612774 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:21:56.099+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:21:56.099+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findApprovers    : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' AND uc.is_approver = 1 AND (uc.is_active IS NULL OR uc.is_active = 1) ORDER BY CASE uc.role WHEN 'USER' THEN 1 WHEN 'ACCOUNTANT' THEN 1 WHEN 'ADMIN' THEN 2 WHEN 'CEO' THEN 3 ELSE 99 END, u.korean_name
2025-12-30T09:21:56.101+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:21:56.106+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:21:56.106+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findApprovers    : ==> Parameters: 1(Long)
2025-12-30T09:21:56.108+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:21:56.135+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:21:56.135+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:21:56.136+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findApprovers    : <==      Total: 3
2025-12-30T09:21:56.137+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79a982ad]
2025-12-30T09:21:56.137+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@790b3ec3]
2025-12-30T09:21:56.137+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@347ba27d]
2025-12-30T09:21:56.137+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:21:56.137+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:21:56.138+09:00  INFO 19004 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 결재자 목록 조회 완료 - companyId: 1, count: 3
2025-12-30T09:21:56.138+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4961c2f0] was not registered for synchronization because synchronization is not active
2025-12-30T09:21:56.138+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c96cfa8] was not registered for synchronization because synchronization is not active
2025-12-30T09:21:56.139+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:21:56.139+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2009314516 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:21:56.141+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@390544070 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:21:56.144+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[UserDto(userId=4, username=test_user3, passwor (truncated)...]
2025-12-30T09:21:56.145+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:21:56.149+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:21:56.151+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:21:56.152+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:21:56.153+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:21:56.160+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/approvers
2025-12-30T09:21:56.225+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:21:56.225+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:21:56.266+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/approvers
2025-12-30T09:21:56.279+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c96cfa8]
2025-12-30T09:21:56.287+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4961c2f0]
2025-12-30T09:21:56.300+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:21:56.302+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54f2ab71] was not registered for synchronization because synchronization is not active
2025-12-30T09:21:56.290+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/approvers
2025-12-30T09:21:56.303+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/approvers", parameters={}
2025-12-30T09:21:56.292+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:21:56.304+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:21:56.303+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@331584861 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:21:56.306+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:21:56.307+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:21:56.304+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getApprovers()
2025-12-30T09:21:56.306+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:21:56.308+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:21:56.316+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a8954c3] was not registered for synchronization because synchronization is not active
2025-12-30T09:21:56.345+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1041307220 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:21:56.347+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:21:56.355+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findApprovers    : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' AND uc.is_approver = 1 AND (uc.is_active IS NULL OR uc.is_active = 1) ORDER BY CASE uc.role WHEN 'USER' THEN 1 WHEN 'ACCOUNTANT' THEN 1 WHEN 'ADMIN' THEN 2 WHEN 'CEO' THEN 3 ELSE 99 END, u.korean_name
2025-12-30T09:21:56.356+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54f2ab71]
2025-12-30T09:21:56.356+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findApprovers    : ==> Parameters: 1(Long)
2025-12-30T09:21:56.357+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:21:56.369+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f61d6f7] was not registered for synchronization because synchronization is not active
2025-12-30T09:21:56.375+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@235488585 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:21:56.376+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:21:56.376+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:21:56.402+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findApprovers    : <==      Total: 3
2025-12-30T09:21:56.420+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a8954c3]
2025-12-30T09:21:56.422+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:21:56.425+09:00  INFO 19004 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 결재자 목록 조회 완료 - companyId: 1, count: 3
2025-12-30T09:21:56.425+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f61d6f7]
2025-12-30T09:21:56.427+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:21:56.427+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:21:56.431+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[UserDto(userId=4, username=test_user3, passwor (truncated)...]
2025-12-30T09:21:56.434+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:21:56.436+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:21:56.436+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:22:02.255+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:22:02.255+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:22:02.256+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:22:02.256+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:22:02.257+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-30T09:22:02.256+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:22:02.257+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:22:02.258+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:22:02.258+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:22:02.257+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:22:02.257+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:22:02.259+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:22:02.259+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:22:02.260+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:22:02.267+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:22:02.260+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6368465a] was not registered for synchronization because synchronization is not active
2025-12-30T09:22:02.267+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:22:02.268+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:22:02.270+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:22:02.270+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@279c3122] was not registered for synchronization because synchronization is not active
2025-12-30T09:22:02.272+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45184a19] was not registered for synchronization because synchronization is not active
2025-12-30T09:22:02.273+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1998505461 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:22:02.277+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:22:02.283+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1532193144 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:22:02.284+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:22:02.285+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:22:02.286+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:22:02.288+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@490260510 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:22:02.288+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:22:02.289+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:22:02.289+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:22:02.292+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6368465a]
2025-12-30T09:22:02.292+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:22:02.293+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3572736a] was not registered for synchronization because synchronization is not active
2025-12-30T09:22:02.293+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2005374620 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:22:02.294+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:22:02.294+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:22:02.300+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@279c3122]
2025-12-30T09:22:02.301+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:22:02.302+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:22:02.302+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:22:02.302+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45184a19]
2025-12-30T09:22:02.303+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76fddb6e] was not registered for synchronization because synchronization is not active
2025-12-30T09:22:02.303+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:22:02.304+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:22:02.304+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@924719719 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:22:02.304+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b9724e9] was not registered for synchronization because synchronization is not active
2025-12-30T09:22:02.304+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3572736a]
2025-12-30T09:22:02.305+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:22:02.305+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:22:02.305+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@456198092 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:22:02.306+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:22:02.306+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:22:02.306+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:22:02.307+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:22:02.307+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:22:02.309+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:22:02.310+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:22:02.316+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76fddb6e]
2025-12-30T09:22:02.316+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:22:02.317+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:22:02.317+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:22:02.317+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:22:02.317+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30e47f6c] was not registered for synchronization because synchronization is not active
2025-12-30T09:22:02.317+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b9724e9]
2025-12-30T09:22:02.318+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:22:02.318+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@685434037 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:22:02.319+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:22:02.319+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:22:02.319+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:22:02.319+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bfece42] was not registered for synchronization because synchronization is not active
2025-12-30T09:22:02.319+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:22:02.320+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:22:02.320+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@971768248 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:22:02.320+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39acdd5] was not registered for synchronization because synchronization is not active
2025-12-30T09:22:02.321+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:22:02.323+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:22:02.323+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:22:02.323+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30e47f6c]
2025-12-30T09:22:02.325+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1485812728 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:22:02.326+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:22:02.327+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dbeba41] was not registered for synchronization because synchronization is not active
2025-12-30T09:22:02.327+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:22:02.333+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1043509125 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:22:02.334+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:22:02.334+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:22:02.335+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:22:02.336+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:22:02.340+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bfece42]
2025-12-30T09:22:02.340+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:22:02.342+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:22:02.342+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39acdd5]
2025-12-30T09:22:02.343+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7814e9c8] was not registered for synchronization because synchronization is not active
2025-12-30T09:22:02.352+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:22:02.353+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@368424022 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:22:02.354+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c13699] was not registered for synchronization because synchronization is not active
2025-12-30T09:22:02.354+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:22:02.355+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1011121205 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:22:02.356+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:22:02.357+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:22:02.360+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:22:02.360+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:22:02.367+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dbeba41]
2025-12-30T09:22:02.368+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:22:02.368+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:22:02.370+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e7a7221] was not registered for synchronization because synchronization is not active
2025-12-30T09:22:02.370+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7814e9c8]
2025-12-30T09:22:02.372+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1984870685 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:22:02.373+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:22:02.373+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:22:02.374+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:22:02.375+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c13699]
2025-12-30T09:22:02.375+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:22:02.375+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:22:02.376+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:22:02.376+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:22:02.383+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:22:02.384+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:22:02.385+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:22:02.386+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:22:02.390+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:22:02.391+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:22:02.391+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:22:02.392+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:22:02.392+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e7a7221]
2025-12-30T09:22:02.393+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:22:02.393+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:22:02.393+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:22:02.402+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c15c112] was not registered for synchronization because synchronization is not active
2025-12-30T09:22:02.403+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:22:02.404+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65da2241] was not registered for synchronization because synchronization is not active
2025-12-30T09:22:02.403+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:22:02.404+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1904427467 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:22:02.406+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:22:02.405+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:22:02.407+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:22:02.407+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:22:02.407+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@88392602 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:22:02.409+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:22:02.409+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:22:02.410+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66ceac93] was not registered for synchronization because synchronization is not active
2025-12-30T09:22:02.411+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:22:02.416+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:22:02.417+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@647616480 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:22:02.418+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c15c112]
2025-12-30T09:22:02.419+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:22:02.421+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:22:02.421+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:22:02.422+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:22:02.422+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@745d85ef] was not registered for synchronization because synchronization is not active
2025-12-30T09:22:02.423+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65da2241]
2025-12-30T09:22:02.424+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1449314087 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:22:02.425+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:22:02.433+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:22:02.433+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33c31b73] was not registered for synchronization because synchronization is not active
2025-12-30T09:22:02.433+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:22:02.434+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:22:02.435+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1326393166 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:22:02.435+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66ceac93]
2025-12-30T09:22:02.436+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:22:02.436+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:22:02.437+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:22:02.437+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:22:02.437+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53a2c7e7] was not registered for synchronization because synchronization is not active
2025-12-30T09:22:02.439+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@745d85ef]
2025-12-30T09:22:02.440+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:22:02.440+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1083921204 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:22:02.441+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:22:02.441+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33c31b73]
2025-12-30T09:22:02.441+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:22:02.442+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:22:02.442+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:22:02.443+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:22:02.444+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14fc99c6] was not registered for synchronization because synchronization is not active
2025-12-30T09:22:02.444+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:22:02.451+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1062146217 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:22:02.452+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:22:02.454+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:22:02.454+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:22:02.456+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-30T09:22:02.460+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:22:02.460+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:22:02.460+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:22:02.464+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:22:02.466+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53a2c7e7]
2025-12-30T09:22:02.466+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14fc99c6]
2025-12-30T09:22:02.470+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:22:02.470+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:22:02.473+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:22:02.471+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:22:02.475+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46de7c03] was not registered for synchronization because synchronization is not active
2025-12-30T09:22:02.472+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:22:02.474+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:22:02.483+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@916258743 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:22:02.488+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:22:02.485+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a1c676e] was not registered for synchronization because synchronization is not active
2025-12-30T09:22:02.489+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:22:02.492+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1376398653 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:22:02.493+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:22:02.500+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:22:02.500+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:22:02.501+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46de7c03]
2025-12-30T09:22:02.503+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:22:02.503+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:22:02.504+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:22:02.505+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a1c676e]
2025-12-30T09:22:02.505+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:22:02.506+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:22:02.507+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3289514e] was not registered for synchronization because synchronization is not active
2025-12-30T09:22:02.508+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:22:02.508+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@620382577 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:22:02.508+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:22:02.508+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:22:02.510+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:22:02.515+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:22:02.518+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:22:02.520+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:22:02.520+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:22:02.521+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ac5aeeb] was not registered for synchronization because synchronization is not active
2025-12-30T09:22:02.522+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:22:02.522+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@276087700 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:22:02.522+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3289514e]
2025-12-30T09:22:02.522+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:22:02.524+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:22:02.525+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57fffa38] was not registered for synchronization because synchronization is not active
2025-12-30T09:22:02.525+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:22:02.532+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@797233832 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:22:02.533+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:22:02.534+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:22:02.537+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:22:02.537+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ac5aeeb]
2025-12-30T09:22:02.538+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:22:02.538+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:22:02.539+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57fffa38]
2025-12-30T09:22:02.540+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@452a1a9e] was not registered for synchronization because synchronization is not active
2025-12-30T09:22:02.541+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:22:02.541+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@587159078 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:22:02.549+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2971259d] was not registered for synchronization because synchronization is not active
2025-12-30T09:22:02.552+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:22:02.553+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@32974001 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:22:02.554+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:22:02.554+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:22:02.555+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:22:02.557+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:22:02.560+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@452a1a9e]
2025-12-30T09:22:02.560+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:22:02.566+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:22:02.567+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2971259d]
2025-12-30T09:22:02.569+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@705cb8b6] was not registered for synchronization because synchronization is not active
2025-12-30T09:22:02.569+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:22:02.570+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1706537673 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:22:02.570+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cd73da7] was not registered for synchronization because synchronization is not active
2025-12-30T09:22:02.570+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:22:02.571+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1823122541 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:22:02.571+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:22:02.571+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:22:02.572+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:22:02.577+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:22:02.584+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@705cb8b6]
2025-12-30T09:22:02.578+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:22:02.585+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:22:02.585+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cd73da7]
2025-12-30T09:22:02.585+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2352453c] was not registered for synchronization because synchronization is not active
2025-12-30T09:22:02.586+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:22:02.587+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@920568040 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:22:02.587+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@216710c7] was not registered for synchronization because synchronization is not active
2025-12-30T09:22:02.587+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:22:02.588+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1420311369 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:22:02.589+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:22:02.590+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:22:02.592+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:22:02.603+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:22:02.606+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2352453c]
2025-12-30T09:22:02.609+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:22:02.609+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:22:02.615+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:22:02.618+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:22:02.619+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@216710c7]
2025-12-30T09:22:02.620+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:22:02.621+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fb5f9c4] was not registered for synchronization because synchronization is not active
2025-12-30T09:22:02.622+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@650979293 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:22:02.622+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:22:02.622+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:22:02.625+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:22:02.625+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fb5f9c4]
2025-12-30T09:22:02.627+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:22:02.634+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:22:02.635+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:22:05.512+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:22:05.513+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:22:05.521+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/account-codes/list
2025-12-30T09:22:05.531+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:22:05.533+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:22:05.534+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/account-codes/list
2025-12-30T09:22:05.555+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/account-codes/list
2025-12-30T09:22:05.542+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:22:05.544+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:22:05.555+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/account-codes/list", parameters={}
2025-12-30T09:22:05.556+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:22:05.558+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:22:05.558+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AccountCodeController#getMappingList()
2025-12-30T09:22:05.567+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2025-12-30T09:22:05.559+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:22:05.560+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:22:05.590+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2025-12-30T09:22:05.592+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:22:05.593+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f8e3f00] was not registered for synchronization because synchronization is not active
2025-12-30T09:22:05.591+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:22:05.594+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76736ecd] was not registered for synchronization because synchronization is not active
2025-12-30T09:22:05.592+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:22:05.600+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f8a65ae] was not registered for synchronization because synchronization is not active
2025-12-30T09:22:05.623+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1119462506 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:22:05.623+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1025729228 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:22:05.634+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.A.findByCompanyId                : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE company_id = ? OR company_id IS NULL ORDER BY company_id DESC, category ASC, account_name ASC
2025-12-30T09:22:05.635+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:22:05.636+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.A.findByCompanyId                : ==> Parameters: 1(Long)
2025-12-30T09:22:05.637+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:22:05.637+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@452651857 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:22:05.637+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:22:05.642+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:22:05.643+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.A.findByCompanyId                : <==      Total: 1
2025-12-30T09:22:05.643+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:22:05.644+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f8e3f00]
2025-12-30T09:22:05.649+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76736ecd]
2025-12-30T09:22:05.651+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:22:05.651+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:22:05.652+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:22:05.652+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[AccountCodeMappingDto(mappingId=1, companyId=1, categ (truncated)...]
2025-12-30T09:22:05.652+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@560df88d] was not registered for synchronization because synchronization is not active
2025-12-30T09:22:05.653+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f8a65ae]
2025-12-30T09:22:05.654+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:22:05.657+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1848725554 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:22:05.657+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:22:05.668+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/account-codes/list
2025-12-30T09:22:05.669+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:22:05.670+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d80ac20] was not registered for synchronization because synchronization is not active
2025-12-30T09:22:05.670+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/account-codes/list
2025-12-30T09:22:05.671+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:22:05.671+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@500907192 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:22:05.671+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/account-codes/list
2025-12-30T09:22:05.672+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:22:05.672+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/account-codes/list", parameters={}
2025-12-30T09:22:05.673+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:22:05.675+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AccountCodeController#getMappingList()
2025-12-30T09:22:05.676+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:22:05.677+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2025-12-30T09:22:05.685+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@560df88d]
2025-12-30T09:22:05.686+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:22:05.688+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d80ac20]
2025-12-30T09:22:05.686+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2025-12-30T09:22:05.687+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:22:05.689+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:22:05.689+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:22:05.690+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cb25b38] was not registered for synchronization because synchronization is not active
2025-12-30T09:22:05.691+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:22:05.691+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65650028] was not registered for synchronization because synchronization is not active
2025-12-30T09:22:05.692+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1707219379 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:22:05.692+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:22:05.701+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@987820005 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:22:05.701+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:22:05.704+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:22:05.703+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCompanyId                : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE company_id = ? OR company_id IS NULL ORDER BY company_id DESC, category ASC, account_name ASC
2025-12-30T09:22:05.707+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCompanyId                : ==> Parameters: 1(Long)
2025-12-30T09:22:05.709+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:22:05.710+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cb25b38]
2025-12-30T09:22:05.712+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCompanyId                : <==      Total: 1
2025-12-30T09:22:05.717+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:22:05.718+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65650028]
2025-12-30T09:22:05.718+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5abe3c4b] was not registered for synchronization because synchronization is not active
2025-12-30T09:22:05.718+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:22:05.719+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@345753535 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:22:05.720+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[AccountCodeMappingDto(mappingId=1, companyId=1, categ (truncated)...]
2025-12-30T09:22:05.720+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:22:05.721+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:22:05.722+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:22:05.740+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:22:05.750+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5abe3c4b]
2025-12-30T09:22:05.751+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:22:05.751+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:22:05.752+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:24:00.377+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:24:00.382+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:24:00.387+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:24:00.427+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:24:00.557+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:24:00.466+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:24:00.554+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-30T09:24:00.560+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:24:00.564+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:24:00.566+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:00.581+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f867e95] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:00.561+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:24:00.562+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:24:00.583+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:24:00.603+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:24:00.619+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:24:00.619+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:24:00.620+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:00.622+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@544900ce] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:00.621+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:00.626+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dbf03aa] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:00.629+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@777387853 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:24:00.636+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:24:00.639+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:24:00.647+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1570671120 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:24:00.648+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1114152872 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:24:00.669+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:24:00.669+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:24:00.670+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:24:00.672+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:24:00.678+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:24:00.680+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f867e95]
2025-12-30T09:24:00.680+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:24:00.680+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:24:00.681+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:00.681+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dbf03aa]
2025-12-30T09:24:00.682+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@544900ce]
2025-12-30T09:24:00.682+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14d283c0] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:00.683+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:00.683+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:00.686+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@524999165 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:24:00.686+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45760be6] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:00.687+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4169b127] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:00.687+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:24:00.689+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1830479354 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:24:00.689+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1285116611 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:24:00.693+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:24:00.689+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:24:00.692+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:24:00.694+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:24:00.695+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:24:00.699+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:24:00.702+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14d283c0]
2025-12-30T09:24:00.705+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:00.706+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f591e0] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:00.706+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@121232989 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:24:00.706+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:24:00.706+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:24:00.710+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:24:00.711+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4169b127]
2025-12-30T09:24:00.711+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45760be6]
2025-12-30T09:24:00.712+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:24:00.714+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:00.714+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:24:00.716+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ce4f5ae] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:00.716+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:24:00.717+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1611170204 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:24:00.719+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:24:00.720+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:24:00.721+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:24:00.722+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f591e0]
2025-12-30T09:24:00.728+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:24:00.729+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:00.731+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@773e03f4] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:00.731+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:24:00.733+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1559225954 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:24:00.735+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:24:00.737+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:24:00.738+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:24:00.739+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:24:00.740+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:24:00.740+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:24:00.740+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ce4f5ae]
2025-12-30T09:24:00.741+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:24:00.745+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:00.748+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77949f41] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:00.747+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:00.750+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1008094616 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:24:00.753+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:24:00.752+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69f13a33] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:00.753+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:24:00.755+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:24:00.756+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@773e03f4]
2025-12-30T09:24:00.757+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:24:00.760+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:24:00.762+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:24:00.765+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@96641266 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:24:00.766+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:24:00.770+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77949f41]
2025-12-30T09:24:00.769+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:24:00.770+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:24:00.771+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:00.772+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:24:00.773+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:24:00.773+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@709f059d] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:00.776+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:24:00.779+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@597877336 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:24:00.781+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:24:00.781+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:24:00.781+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:24:00.783+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:24:00.783+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:24:00.783+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:00.784+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69f13a33]
2025-12-30T09:24:00.785+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22d64c25] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:00.785+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:00.786+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1870625815 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:24:00.787+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2321dd0] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:00.787+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:24:00.788+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:24:00.789+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@709f059d]
2025-12-30T09:24:00.789+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:24:00.790+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:00.797+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b6da63] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:00.797+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@269088428 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:24:00.798+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@202212485 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:24:00.799+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:24:00.799+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:24:00.802+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:24:00.804+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:24:00.807+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:24:00.814+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22d64c25]
2025-12-30T09:24:00.815+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:00.815+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2df21089] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:00.816+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1029035638 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:24:00.817+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:24:00.819+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:24:00.820+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:24:00.820+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:24:00.821+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b6da63]
2025-12-30T09:24:00.821+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2321dd0]
2025-12-30T09:24:00.822+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:00.823+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:24:00.824+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25cb968f] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:00.824+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:24:00.826+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:24:00.828+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@387724695 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:24:00.828+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:24:00.829+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2df21089]
2025-12-30T09:24:00.829+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:24:00.831+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:00.831+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:24:00.831+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1276f507] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:00.835+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@792578456 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:24:00.835+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:24:00.835+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:24:00.835+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:24:00.836+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:24:00.838+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:24:00.839+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25cb968f]
2025-12-30T09:24:00.842+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:24:00.843+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:24:00.844+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:24:00.847+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:24:00.847+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:24:00.848+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:24:00.849+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:00.853+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@536a5376] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:00.867+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:24:00.870+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:24:00.871+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1276f507]
2025-12-30T09:24:00.872+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:00.873+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@619b271b] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:00.876+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1147156706 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:24:00.877+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:24:00.870+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-30T09:24:00.872+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@854714279 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:24:00.880+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:24:00.881+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:24:00.882+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:24:00.887+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:24:00.884+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:24:00.889+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:24:00.892+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:00.893+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:24:00.897+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bad1058] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:00.898+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@619b271b]
2025-12-30T09:24:00.899+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:24:00.902+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@536a5376]
2025-12-30T09:24:00.903+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:00.903+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58d3faed] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:00.904+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1263838210 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:24:00.904+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:24:00.901+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1079214666 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:24:00.902+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:24:00.905+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:24:00.906+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:24:00.906+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:24:00.912+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:24:00.914+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:24:00.922+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:24:00.922+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:24:00.922+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:24:00.926+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bad1058]
2025-12-30T09:24:00.927+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:00.927+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e48e8c2] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:00.928+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1841569411 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:24:00.924+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:24:00.925+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58d3faed]
2025-12-30T09:24:00.932+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:24:00.932+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:24:00.932+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:24:00.933+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:24:00.933+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:24:00.934+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:24:00.935+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:24:00.938+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:24:00.940+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:00.944+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24bc5df2] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:00.945+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1633954685 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:24:00.947+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:24:00.948+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:24:00.952+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:24:00.953+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e48e8c2]
2025-12-30T09:24:00.955+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:24:00.958+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:00.961+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24bc5df2]
2025-12-30T09:24:00.963+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@217dd1da] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:00.964+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:00.964+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@679097295 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:24:00.964+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e7ce6d3] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:00.965+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:24:00.966+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@946431779 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:24:00.966+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:24:00.967+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:24:00.968+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:24:00.971+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:24:00.981+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@217dd1da]
2025-12-30T09:24:00.982+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:24:00.985+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:00.997+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e7ce6d3]
2025-12-30T09:24:00.997+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18a648de] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:00.998+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:00.999+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1461365009 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:24:01.000+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65c3bd62] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:01.000+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:24:01.001+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2089846135 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:24:01.002+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:24:01.005+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:24:01.007+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:24:01.070+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:24:01.072+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:24:01.110+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18a648de]
2025-12-30T09:24:01.111+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:01.111+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73df34db] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:01.112+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1502966470 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:24:01.113+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:24:01.116+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:24:01.110+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65c3bd62]
2025-12-30T09:24:01.121+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:01.121+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@430d4ac3] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:01.123+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@996001645 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:24:01.125+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:24:01.126+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:24:01.168+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:24:01.169+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:24:01.185+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@430d4ac3]
2025-12-30T09:24:01.188+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73df34db]
2025-12-30T09:24:01.189+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:24:01.190+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:01.190+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:24:01.191+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d37c966] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:01.192+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:24:01.195+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1195656695 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:24:01.196+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:24:01.196+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:24:01.234+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:24:01.247+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d37c966]
2025-12-30T09:24:01.247+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:01.248+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4655a3c3] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:01.248+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@895102614 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:24:01.253+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:24:01.255+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:24:01.268+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:24:01.269+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4655a3c3]
2025-12-30T09:24:01.272+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:24:01.273+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:24:01.282+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:24:08.033+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:24:08.033+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:24:08.033+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/12
2025-12-30T09:24:08.035+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:24:08.036+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:24:08.036+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:24:08.037+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:24:08.035+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:24:08.037+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:08.039+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b81bd1e] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:08.038+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/12
2025-12-30T09:24:08.038+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:24:08.040+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:24:08.039+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/12
2025-12-30T09:24:08.043+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:24:08.044+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:08.044+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/12
2025-12-30T09:24:08.045+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44e7d8e0] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:08.048+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/12
2025-12-30T09:24:08.050+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/12", parameters={}
2025-12-30T09:24:08.051+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-30T09:24:08.052+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@594576841 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:24:08.053+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:24:08.053+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:08.055+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:24:08.056+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74db2856] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:08.067+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@196396121 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:24:08.069+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:24:08.071+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:24:08.073+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1260352054 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:24:08.079+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-30T09:24:08.074+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:24:08.080+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 12(Long), 1(Long)
2025-12-30T09:24:08.081+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b81bd1e]
2025-12-30T09:24:08.082+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:24:08.083+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:08.086+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44e7d8e0]
2025-12-30T09:24:08.086+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4abdeed8] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:08.086+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:08.086+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1887906366 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:24:08.087+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:24:08.087+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5750625a] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:08.088+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:24:08.088+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@940641499 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:24:08.089+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:24:08.095+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-30T09:24:08.097+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:24:08.097+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74db2856]
2025-12-30T09:24:08.098+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:08.099+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b5d7ca2] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:08.098+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:24:08.099+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1560482584 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:24:08.100+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4abdeed8]
2025-12-30T09:24:08.100+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:24:08.100+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-30T09:24:08.101+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:08.102+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5750625a]
2025-12-30T09:24:08.102+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 12(Long), 1(Long)
2025-12-30T09:24:08.102+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d1ec26f] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:08.103+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:24:08.104+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1483745338 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:24:08.104+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:24:08.105+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:24:08.105+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:24:08.108+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:24:08.112+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-30T09:24:08.115+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b5d7ca2]
2025-12-30T09:24:08.115+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:08.116+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20f4b83f] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:08.117+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:24:08.117+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1611426031 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:24:08.117+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d1ec26f]
2025-12-30T09:24:08.117+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-30T09:24:08.118+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:08.119+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@330a0d20] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:08.118+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 12(Long), 1(Long)
2025-12-30T09:24:08.120+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@948743316 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:24:08.120+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:24:08.121+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:24:08.123+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : <==      Total: 2
2025-12-30T09:24:08.123+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20f4b83f]
2025-12-30T09:24:08.123+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:08.123+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:24:08.124+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22ca03e7] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:08.128+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@330a0d20]
2025-12-30T09:24:08.129+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@662336193 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:24:08.129+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:24:08.129+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-30T09:24:08.129+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:24:08.130+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 12(Long), 1(Long)
2025-12-30T09:24:08.131+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:24:08.134+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-30T09:24:08.134+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22ca03e7]
2025-12-30T09:24:08.135+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:08.135+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10351e76] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:08.136+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1653793452 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:24:08.136+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:24:08.137+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:24:08.140+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:24:08.140+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10351e76]
2025-12-30T09:24:08.141+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:24:08.144+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=12, drafterId=1, r (truncated)...]
2025-12-30T09:24:08.146+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:24:08.149+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/12
2025-12-30T09:24:08.151+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/12
2025-12-30T09:24:08.152+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/12
2025-12-30T09:24:08.152+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/12", parameters={}
2025-12-30T09:24:08.152+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-30T09:24:08.153+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:08.153+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@717e92e] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:08.156+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@148327029 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:24:08.156+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-30T09:24:08.163+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 12(Long), 1(Long)
2025-12-30T09:24:08.167+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-30T09:24:08.167+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@717e92e]
2025-12-30T09:24:08.168+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:08.168+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a2c8b96] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:08.169+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@520966766 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:24:08.169+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-30T09:24:08.170+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 12(Long), 1(Long)
2025-12-30T09:24:08.172+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-30T09:24:08.173+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a2c8b96]
2025-12-30T09:24:08.173+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:08.173+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dc25d41] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:08.177+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@591135572 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:24:08.178+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-30T09:24:08.179+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 12(Long), 1(Long)
2025-12-30T09:24:08.181+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : <==      Total: 2
2025-12-30T09:24:08.181+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dc25d41]
2025-12-30T09:24:08.182+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:08.183+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2220c54a] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:08.183+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@498580506 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:24:08.183+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-30T09:24:08.184+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 12(Long), 1(Long)
2025-12-30T09:24:08.186+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-30T09:24:08.186+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2220c54a]
2025-12-30T09:24:08.186+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:08.186+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35b56ead] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:08.187+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@295430084 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:24:08.188+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:24:08.188+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:24:08.189+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:24:08.190+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35b56ead]
2025-12-30T09:24:08.190+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:24:08.191+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=12, drafterId=1, r (truncated)...]
2025-12-30T09:24:08.195+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:24:09.088+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:24:09.088+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:24:09.088+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:24:09.089+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:24:09.089+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:24:09.090+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:24:09.090+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-30T09:24:09.090+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:24:09.090+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:24:09.090+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:24:09.092+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:24:09.092+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:24:09.092+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:24:09.093+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:24:09.093+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:09.093+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:24:09.093+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:09.094+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b85471e] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:09.093+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@305a9a8b] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:09.094+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:09.098+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@108823347 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:24:09.098+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51122dfb] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:09.099+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:24:09.099+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@419681466 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:24:09.101+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:24:09.103+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:24:09.105+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@768862342 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:24:09.106+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:24:09.107+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:24:09.112+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:24:09.112+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:24:09.114+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b85471e]
2025-12-30T09:24:09.114+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:09.115+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50803e27] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:09.115+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1669978857 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:24:09.116+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:24:09.116+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:24:09.117+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:24:09.117+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@305a9a8b]
2025-12-30T09:24:09.117+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:24:09.118+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:09.118+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51122dfb]
2025-12-30T09:24:09.119+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26e768bc] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:09.119+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:09.119+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:24:09.120+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@420921469 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:24:09.120+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cf36cc1] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:09.120+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50803e27]
2025-12-30T09:24:09.120+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:24:09.121+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@630754153 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:24:09.121+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:09.121+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:24:09.121+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:24:09.122+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6127cd9e] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:09.122+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:24:09.122+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@805807771 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:24:09.123+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:24:09.124+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:24:09.125+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:24:09.126+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26e768bc]
2025-12-30T09:24:09.128+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:24:09.128+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:24:09.128+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cf36cc1]
2025-12-30T09:24:09.129+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:24:09.129+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:24:09.129+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:09.129+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6127cd9e]
2025-12-30T09:24:09.131+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:24:09.133+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c227172] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:09.133+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:09.134+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@997232467 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:24:09.134+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@694b8cd6] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:09.134+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:24:09.135+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@920647516 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:24:09.135+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:24:09.136+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:24:09.136+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:24:09.137+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:24:09.139+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:24:09.139+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:24:09.139+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c227172]
2025-12-30T09:24:09.140+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:24:09.143+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@694b8cd6]
2025-12-30T09:24:09.140+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:24:09.140+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:09.145+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23124ab9] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:09.143+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:24:09.146+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:24:09.148+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:24:09.144+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:24:09.145+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1288963656 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:24:09.151+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:24:09.151+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:24:09.151+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:24:09.153+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:09.153+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d183172] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:09.156+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:24:09.156+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:24:09.157+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23124ab9]
2025-12-30T09:24:09.158+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1114795126 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:24:09.161+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:24:09.161+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:24:09.161+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:09.162+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:24:09.165+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3db92a5d] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:09.165+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:24:09.166+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@206563537 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:24:09.166+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:24:09.167+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:24:09.167+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:24:09.167+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:24:09.168+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:09.168+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b9d3e53] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:09.169+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@781612871 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:24:09.170+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:24:09.171+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:24:09.171+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:24:09.173+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d183172]
2025-12-30T09:24:09.172+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3db92a5d]
2025-12-30T09:24:09.174+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:09.173+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:24:09.173+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:09.191+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b3d733e] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:09.190+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b4b826a] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:09.198+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1537218928 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:24:09.200+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1867819164 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:24:09.200+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:24:09.201+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:24:09.201+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:24:09.202+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:24:09.205+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:24:09.206+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:24:09.206+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:24:09.208+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b4b826a]
2025-12-30T09:24:09.209+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b3d733e]
2025-12-30T09:24:09.209+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b9d3e53]
2025-12-30T09:24:09.210+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:09.211+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:24:09.212+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:09.212+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@566bb9ed] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:09.212+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:24:09.213+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@292829592 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:24:09.213+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51145d7] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:09.213+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:24:09.213+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:24:09.214+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1997315200 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:24:09.214+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:24:09.215+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:24:09.216+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:24:09.215+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:24:09.219+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:24:09.219+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:24:09.219+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@566bb9ed]
2025-12-30T09:24:09.219+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51145d7]
2025-12-30T09:24:09.219+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:24:09.220+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:24:09.220+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:09.221+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27751527] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:09.220+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:24:09.221+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:24:09.221+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@675664867 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:24:09.223+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:24:09.221+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:24:09.222+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:24:09.223+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:24:09.224+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:24:09.225+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:24:09.228+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:09.230+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-30T09:24:09.231+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70ae7e85] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:09.231+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:24:09.236+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:24:09.236+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:24:09.237+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:24:09.237+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27751527]
2025-12-30T09:24:09.238+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:09.239+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e0d2a50] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:09.239+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@828296347 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:24:09.240+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:24:09.243+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:24:09.238+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:09.245+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ca7f06d] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:09.249+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1417135794 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:24:09.250+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@141998360 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:24:09.251+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:24:09.251+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:24:09.251+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:24:09.251+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:24:09.252+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e0d2a50]
2025-12-30T09:24:09.253+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:24:09.255+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:24:09.256+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:24:09.258+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:24:09.265+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:24:09.265+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:24:09.266+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:24:09.267+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ca7f06d]
2025-12-30T09:24:09.268+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70ae7e85]
2025-12-30T09:24:09.269+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:09.269+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a3a8ce7] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:09.269+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:24:09.269+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:09.272+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@437538237 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:24:09.281+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:24:09.279+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:24:09.280+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a66caac] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:09.282+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:24:09.282+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:24:09.283+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@705627508 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:24:09.289+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:24:09.290+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:24:09.288+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:24:09.295+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:09.296+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@91dc014] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:09.296+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:24:09.299+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1788722970 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:24:09.300+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a3a8ce7]
2025-12-30T09:24:09.301+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:24:09.301+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:24:09.302+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:24:09.302+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a66caac]
2025-12-30T09:24:09.303+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:24:09.304+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:24:09.303+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:24:09.304+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:09.310+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55a41869] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:09.311+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2033949659 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:24:09.312+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:24:09.313+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:24:09.319+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:24:09.319+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:24:09.319+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@91dc014]
2025-12-30T09:24:09.320+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55a41869]
2025-12-30T09:24:09.320+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:09.320+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:09.320+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@759cfc29] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:09.320+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a0a4177] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:09.320+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@317100014 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:24:09.321+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@798522639 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:24:09.321+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:24:09.321+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:24:09.321+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:24:09.322+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:24:09.324+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:24:09.324+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:24:09.324+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@759cfc29]
2025-12-30T09:24:09.325+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:09.325+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60efd568] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:09.324+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a0a4177]
2025-12-30T09:24:09.326+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1912602856 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:24:09.326+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:09.327+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:24:09.328+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@497fd66f] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:09.328+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:24:09.328+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1098266574 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:24:09.329+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:24:09.329+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:24:09.332+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:24:09.332+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:24:09.332+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60efd568]
2025-12-30T09:24:09.332+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@497fd66f]
2025-12-30T09:24:09.332+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:09.333+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:09.333+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6534e756] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:09.333+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@610d0acd] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:09.334+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2079205901 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:24:09.334+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:24:09.334+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1458988077 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:24:09.334+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:24:09.334+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:24:09.334+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:24:09.337+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:24:09.338+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6534e756]
2025-12-30T09:24:09.338+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:24:09.338+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:24:09.340+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@610d0acd]
2025-12-30T09:24:09.340+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:24:09.341+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:24:09.344+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@590c5253] was not registered for synchronization because synchronization is not active
2025-12-30T09:24:09.343+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:24:09.346+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1348366557 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:24:09.347+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:24:09.347+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:24:09.350+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:24:09.350+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@590c5253]
2025-12-30T09:24:09.352+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:24:09.352+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:24:09.352+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:24:13.345+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /
2025-12-30T09:24:13.346+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-30T09:24:38.995+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /?format=json
2025-12-30T09:24:38.995+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-30T09:24:46.479+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /geoserver/web/
2025-12-30T09:24:46.480+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-30T09:32:11.505+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:32:11.505+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:32:11.508+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:32:11.505+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/stats
2025-12-30T09:32:11.505+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/monthly-trend
2025-12-30T09:32:11.510+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/stats
2025-12-30T09:32:11.514+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/stats
2025-12-30T09:32:11.505+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/status-stats
2025-12-30T09:32:11.505+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio
2025-12-30T09:32:11.508+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:32:11.509+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:32:11.513+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/monthly-trend
2025-12-30T09:32:11.517+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/stats", parameters={}
2025-12-30T09:32:11.519+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/status-stats
2025-12-30T09:32:11.520+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/category-ratio
2025-12-30T09:32:11.526+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio
2025-12-30T09:32:11.523+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:32:11.524+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:32:11.524+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/monthly-trend
2025-12-30T09:32:11.530+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/monthly-trend", parameters={}
2025-12-30T09:32:11.524+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getDashboardStats(String, String)
2025-12-30T09:32:11.525+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/status-stats
2025-12-30T09:32:11.533+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/status-stats", parameters={}
2025-12-30T09:32:11.526+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio", parameters={}
2025-12-30T09:32:11.528+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:32:11.529+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:32:11.532+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTrend(String, String)
2025-12-30T09:32:11.533+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:32:11.534+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getStatusStats(String, String)
2025-12-30T09:32:11.535+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2025-12-30T09:32:11.535+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:32:11.536+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:11.536+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:32:11.537+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:32:11.538+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:32:11.540+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:32:11.540+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:11.540+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3574961f] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:11.542+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:32:11.542+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:11.542+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:32:11.543+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:32:11.543+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e232a15] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:11.545+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:11.545+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ccc492] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:11.550+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:11.551+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:11.552+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f5fdbe4] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:11.553+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@133268169 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:32:11.553+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@707a8e2] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:11.554+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79e5ee85] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:11.555+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@773229926 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:32:11.556+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:32:11.556+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2046337424 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:32:11.559+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectDashboardStats           : ==>  Preparing: SELECT COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS totalCount, COALESCE(AVG(total_amount), 0) AS averageAmount, COALESCE(MAX(total_amount), 0) AS maxAmount, COALESCE(MIN(total_amount), 0) AS minAmount, SUM(CASE WHEN status = 'PENDING' THEN 1 ELSE 0 END) AS pendingCount FROM expense_report_tb WHERE company_id = ?
2025-12-30T09:32:11.557+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:32:11.557+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@605750446 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:32:11.559+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:32:11.559+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@101732843 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:32:11.559+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1771056897 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:32:11.559+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectDashboardStats           : ==> Parameters: 1(Long)
2025-12-30T09:32:11.559+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:32:11.559+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectMonthlyTrend             : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS count FROM expense_report_tb WHERE company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-30T09:32:11.560+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.ExpenseMapper.selectStatusStats  : ==>  Preparing: SELECT status, COUNT(*) AS count, COALESCE(SUM(total_amount), 0) AS totalAmount FROM expense_report_tb WHERE company_id = ? GROUP BY status ORDER BY count DESC
2025-12-30T09:32:11.560+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? GROUP BY d.category ORDER BY amount DESC
2025-12-30T09:32:11.562+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectMonthlyTrend             : ==> Parameters: 1(Long)
2025-12-30T09:32:11.563+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:32:11.563+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectDashboardStats           : <==      Total: 1
2025-12-30T09:32:11.564+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:32:11.564+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.ExpenseMapper.selectStatusStats  : ==> Parameters: 1(Long)
2025-12-30T09:32:11.565+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: 1(Long)
2025-12-30T09:32:11.566+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3574961f]
2025-12-30T09:32:11.567+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ccc492]
2025-12-30T09:32:11.568+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e232a15]
2025-12-30T09:32:11.569+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectMonthlyTrend             : <==      Total: 1
2025-12-30T09:32:11.570+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:11.570+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:11.570+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:11.570+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.ExpenseMapper.selectStatusStats  : <==      Total: 3
2025-12-30T09:32:11.570+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectCategoryRatio            : <==      Total: 2
2025-12-30T09:32:11.571+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f5fdbe4]
2025-12-30T09:32:11.571+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33b9fd83] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:11.571+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 통계 조회 성공, data=DashboardStatsDto(totalAmount=104561, totalCou (truncated)...]
2025-12-30T09:32:11.571+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e4d385f] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:11.571+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@707a8e2]
2025-12-30T09:32:11.571+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79e5ee85]
2025-12-30T09:32:11.572+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:11.572+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1188263651 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:32:11.573+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@287637215 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:32:11.573+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:11.573+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:11.574+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:11.574+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 추이 조회 성공, data=[MonthlyTrendDto(yearMonth=2025-12, totalAmount= (truncated)...]
2025-12-30T09:32:11.574+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:32:11.577+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:32:11.575+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:32:11.575+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태별 통계 조회 성공, data=[StatusStatsDto(status=WAIT, count=6, totalAmou (truncated)...]
2025-12-30T09:32:11.576+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[CategoryRatioDto(category=식대, amount=103450, (truncated)...]
2025-12-30T09:32:11.576+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/credits/total
2025-12-30T09:32:11.576+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:11.582+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:32:11.583+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:11.586+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:11.588+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/credits/total
2025-12-30T09:32:11.590+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2025-12-30T09:32:11.592+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/stats
2025-12-30T09:32:11.593+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/monthly-trend
2025-12-30T09:32:11.594+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/credits/total
2025-12-30T09:32:11.594+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:32:11.598+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/subscriptions/current
2025-12-30T09:32:11.604+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:32:11.600+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/stats
2025-12-30T09:32:11.603+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/monthly-trend
2025-12-30T09:32:11.603+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/credits/total", parameters={}
2025-12-30T09:32:11.603+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33b9fd83]
2025-12-30T09:32:11.604+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2025-12-30T09:32:11.604+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e4d385f]
2025-12-30T09:32:11.604+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/stats
2025-12-30T09:32:11.605+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/monthly-trend
2025-12-30T09:32:11.606+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CreditController#getTotalAvailableAmount()
2025-12-30T09:32:11.606+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:11.606+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2025-12-30T09:32:11.607+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:11.607+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/stats", parameters={}
2025-12-30T09:32:11.607+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/monthly-trend", parameters={}
2025-12-30T09:32:11.609+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTrend(String, String)
2025-12-30T09:32:11.608+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2025-12-30T09:32:11.608+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:32:11.608+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2025-12-30T09:32:11.608+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c1a0d75] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:11.609+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getDashboardStats(String, String)
2025-12-30T09:32:11.617+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1264735593 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:32:11.610+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:32:11.611+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2025-12-30T09:32:11.612+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:11.614+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-30T09:32:11.617+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:32:11.617+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:32:11.618+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:32:11.618+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:11.620+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/status-stats
2025-12-30T09:32:11.620+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-30T09:32:11.621+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:32:11.623+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:32:11.623+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:11.623+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45c2cac1] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:11.624+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:11.628+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26ce39f2] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:11.624+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/status-stats
2025-12-30T09:32:11.624+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:11.625+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23e313e0] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:11.627+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@996227882 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:32:11.629+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1686271018 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:32:11.629+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/status-stats
2025-12-30T09:32:11.631+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:32:11.631+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6478c311] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:11.633+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@454913860 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:32:11.633+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.C.getTotalAvailableAmount        : ==>  Preparing: SELECT COALESCE(SUM(amount - used_amount), 0) FROM credit_tb WHERE company_id = ? AND (expires_at IS NULL OR expires_at >= ?)
2025-12-30T09:32:11.633+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2025-12-30T09:32:11.634+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/status-stats", parameters={}
2025-12-30T09:32:11.634+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c1a0d75]
2025-12-30T09:32:11.635+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1599970055 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:32:11.636+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectDashboardStats           : ==>  Preparing: SELECT COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS totalCount, COALESCE(AVG(total_amount), 0) AS averageAmount, COALESCE(MAX(total_amount), 0) AS maxAmount, COALESCE(MIN(total_amount), 0) AS minAmount, SUM(CASE WHEN status = 'PENDING' THEN 1 ELSE 0 END) AS pendingCount FROM expense_report_tb WHERE company_id = ?
2025-12-30T09:32:11.635+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectMonthlyTrend             : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS count FROM expense_report_tb WHERE company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-30T09:32:11.635+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.C.getTotalAvailableAmount        : ==> Parameters: 1(Long), 2025-12-30(LocalDate)
2025-12-30T09:32:11.635+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2025-12-30T09:32:11.636+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getStatusStats(String, String)
2025-12-30T09:32:11.636+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:11.643+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f369970] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:11.644+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@53170246 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:32:11.645+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:32:11.648+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:32:11.637+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectDashboardStats           : ==> Parameters: 1(Long)
2025-12-30T09:32:11.637+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectMonthlyTrend             : ==> Parameters: 1(Long)
2025-12-30T09:32:11.642+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:32:11.650+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.C.getTotalAvailableAmount        : <==      Total: 1
2025-12-30T09:32:11.650+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2025-12-30T09:32:11.653+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:32:11.653+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectDashboardStats           : <==      Total: 1
2025-12-30T09:32:11.654+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45c2cac1]
2025-12-30T09:32:11.654+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:32:11.654+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectMonthlyTrend             : <==      Total: 1
2025-12-30T09:32:11.655+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2025-12-30T09:32:11.655+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f369970]
2025-12-30T09:32:11.655+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6478c311]
2025-12-30T09:32:11.656+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:11.656+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:11.656+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23e313e0]
2025-12-30T09:32:11.657+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:11.657+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:11.658+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data={totalAmount=5145})]
2025-12-30T09:32:11.659+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cc7a54e] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:11.659+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:11.660+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:32:11.661+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2025-12-30T09:32:11.662+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 통계 조회 성공, data=DashboardStatsDto(totalAmount=104561, totalCou (truncated)...]
2025-12-30T09:32:11.664+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:11.667+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@975935450 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:32:11.667+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 추이 조회 성공, data=[MonthlyTrendDto(yearMonth=2025-12, totalAmount= (truncated)...]
2025-12-30T09:32:11.668+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:11.668+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 1
2025-12-30T09:32:11.669+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:11.671+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio
2025-12-30T09:32:11.671+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.ExpenseMapper.selectStatusStats  : ==>  Preparing: SELECT status, COUNT(*) AS count, COALESCE(SUM(total_amount), 0) AS totalAmount FROM expense_report_tb WHERE company_id = ? GROUP BY status ORDER BY count DESC
2025-12-30T09:32:11.671+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:11.673+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/credits/total
2025-12-30T09:32:11.673+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26ce39f2]
2025-12-30T09:32:11.674+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/category-ratio
2025-12-30T09:32:11.675+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.ExpenseMapper.selectStatusStats  : ==> Parameters: 1(Long)
2025-12-30T09:32:11.676+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/credits/total
2025-12-30T09:32:11.676+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:11.676+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio
2025-12-30T09:32:11.678+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/credits/total
2025-12-30T09:32:11.680+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=SubscriptionDto(subscriptionId=1, companyId=1, planId= (truncated)...]
2025-12-30T09:32:11.681+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio", parameters={}
2025-12-30T09:32:11.683+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2025-12-30T09:32:11.681+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/credits/total", parameters={}
2025-12-30T09:32:11.682+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:11.686+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:32:11.686+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CreditController#getTotalAvailableAmount()
2025-12-30T09:32:11.688+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.ExpenseMapper.selectStatusStats  : <==      Total: 3
2025-12-30T09:32:11.688+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2025-12-30T09:32:11.689+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:32:11.690+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2025-12-30T09:32:11.691+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cc7a54e]
2025-12-30T09:32:11.691+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:11.692+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/subscriptions/current
2025-12-30T09:32:11.692+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2025-12-30T09:32:11.692+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:11.692+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@795bdc22] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:11.693+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2025-12-30T09:32:11.693+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:11.693+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태별 통계 조회 성공, data=[StatusStatsDto(status=WAIT, count=6, totalAmou (truncated)...]
2025-12-30T09:32:11.694+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1495129298 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:32:11.694+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2025-12-30T09:32:11.694+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66c05acd] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:11.694+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:11.696+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? GROUP BY d.category ORDER BY amount DESC
2025-12-30T09:32:11.697+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2025-12-30T09:32:11.697+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1354181907 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:32:11.700+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: 1(Long)
2025-12-30T09:32:11.700+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-30T09:32:11.701+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.C.getTotalAvailableAmount        : ==>  Preparing: SELECT COALESCE(SUM(amount - used_amount), 0) FROM credit_tb WHERE company_id = ? AND (expires_at IS NULL OR expires_at >= ?)
2025-12-30T09:32:11.704+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-30T09:32:11.704+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.C.getTotalAvailableAmount        : ==> Parameters: 1(Long), 2025-12-30(LocalDate)
2025-12-30T09:32:11.705+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectCategoryRatio            : <==      Total: 2
2025-12-30T09:32:11.706+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@795bdc22]
2025-12-30T09:32:11.705+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:11.708+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:11.709+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[CategoryRatioDto(category=식대, amount=103450, (truncated)...]
2025-12-30T09:32:11.708+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e2839ee] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:11.709+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.C.getTotalAvailableAmount        : <==      Total: 1
2025-12-30T09:32:11.710+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:11.719+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1478621540 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:32:11.720+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66c05acd]
2025-12-30T09:32:11.721+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2025-12-30T09:32:11.722+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:11.839+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2025-12-30T09:32:11.848+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data={totalAmount=5145})]
2025-12-30T09:32:11.852+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:11.855+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2025-12-30T09:32:11.856+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2025-12-30T09:32:11.863+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2025-12-30T09:32:11.881+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 1
2025-12-30T09:32:11.884+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e2839ee]
2025-12-30T09:32:11.885+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:11.887+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=SubscriptionDto(subscriptionId=1, companyId=1, planId= (truncated)...]
2025-12-30T09:32:11.888+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:12.089+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/monthly-trend
2025-12-30T09:32:12.089+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/stats
2025-12-30T09:32:12.094+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/credits/total
2025-12-30T09:32:12.089+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/status-stats
2025-12-30T09:32:12.091+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio
2025-12-30T09:32:12.091+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/monthly-trend
2025-12-30T09:32:12.094+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/stats
2025-12-30T09:32:12.094+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/credits/total
2025-12-30T09:32:12.094+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/status-stats
2025-12-30T09:32:12.094+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/category-ratio
2025-12-30T09:32:12.095+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/monthly-trend
2025-12-30T09:32:12.098+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/stats
2025-12-30T09:32:12.099+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/credits/total
2025-12-30T09:32:12.101+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/status-stats
2025-12-30T09:32:12.101+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio
2025-12-30T09:32:12.102+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/monthly-trend", parameters={}
2025-12-30T09:32:12.102+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/stats", parameters={}
2025-12-30T09:32:12.104+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/credits/total", parameters={}
2025-12-30T09:32:12.105+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/status-stats", parameters={}
2025-12-30T09:32:12.105+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio", parameters={}
2025-12-30T09:32:12.107+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2025-12-30T09:32:12.105+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTrend(String, String)
2025-12-30T09:32:12.108+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:32:12.106+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getDashboardStats(String, String)
2025-12-30T09:32:12.106+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CreditController#getTotalAvailableAmount()
2025-12-30T09:32:12.107+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getStatusStats(String, String)
2025-12-30T09:32:12.108+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:32:12.108+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:32:12.109+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:32:12.110+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2025-12-30T09:32:12.112+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:32:12.113+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:32:12.149+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:12.150+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:32:12.155+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:12.152+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2025-12-30T09:32:12.153+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:32:12.153+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:12.154+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c1535c3] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:12.155+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d8e8019] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:12.156+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:12.156+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:12.156+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11de9eb3] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:12.157+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@248974107 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:32:12.160+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b626cd1] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:12.161+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@133227b4] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:12.162+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@748561767 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:32:12.172+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectDashboardStats           : ==>  Preparing: SELECT COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS totalCount, COALESCE(AVG(total_amount), 0) AS averageAmount, COALESCE(MAX(total_amount), 0) AS maxAmount, COALESCE(MIN(total_amount), 0) AS minAmount, SUM(CASE WHEN status = 'PENDING' THEN 1 ELSE 0 END) AS pendingCount FROM expense_report_tb WHERE company_id = ?
2025-12-30T09:32:12.172+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectDashboardStats           : ==> Parameters: 1(Long)
2025-12-30T09:32:12.162+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1117375115 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:32:12.162+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? GROUP BY d.category ORDER BY amount DESC
2025-12-30T09:32:12.170+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@279250510 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:32:12.174+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectMonthlyTrend             : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS count FROM expense_report_tb WHERE company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-30T09:32:12.179+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: 1(Long)
2025-12-30T09:32:12.179+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.C.getTotalAvailableAmount        : ==>  Preparing: SELECT COALESCE(SUM(amount - used_amount), 0) FROM credit_tb WHERE company_id = ? AND (expires_at IS NULL OR expires_at >= ?)
2025-12-30T09:32:12.183+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectMonthlyTrend             : ==> Parameters: 1(Long)
2025-12-30T09:32:12.185+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.C.getTotalAvailableAmount        : ==> Parameters: 1(Long), 2025-12-30(LocalDate)
2025-12-30T09:32:12.186+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@300155279 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:32:12.186+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectDashboardStats           : <==      Total: 1
2025-12-30T09:32:12.188+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.C.getTotalAvailableAmount        : <==      Total: 1
2025-12-30T09:32:12.188+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectMonthlyTrend             : <==      Total: 1
2025-12-30T09:32:12.188+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectCategoryRatio            : <==      Total: 2
2025-12-30T09:32:12.188+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.ExpenseMapper.selectStatusStats  : ==>  Preparing: SELECT status, COUNT(*) AS count, COALESCE(SUM(total_amount), 0) AS totalAmount FROM expense_report_tb WHERE company_id = ? GROUP BY status ORDER BY count DESC
2025-12-30T09:32:12.188+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d8e8019]
2025-12-30T09:32:12.188+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b626cd1]
2025-12-30T09:32:12.190+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11de9eb3]
2025-12-30T09:32:12.190+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c1535c3]
2025-12-30T09:32:12.190+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.ExpenseMapper.selectStatusStats  : ==> Parameters: 1(Long)
2025-12-30T09:32:12.191+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:12.191+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:12.191+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:12.192+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:12.192+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 통계 조회 성공, data=DashboardStatsDto(totalAmount=104561, totalCou (truncated)...]
2025-12-30T09:32:12.193+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data={totalAmount=5145})]
2025-12-30T09:32:12.194+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 추이 조회 성공, data=[MonthlyTrendDto(yearMonth=2025-12, totalAmount= (truncated)...]
2025-12-30T09:32:12.194+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.ExpenseMapper.selectStatusStats  : <==      Total: 3
2025-12-30T09:32:12.195+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[CategoryRatioDto(category=식대, amount=103450, (truncated)...]
2025-12-30T09:32:12.195+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:12.199+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:12.202+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:12.204+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@133227b4]
2025-12-30T09:32:12.205+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:12.209+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:12.211+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태별 통계 조회 성공, data=[StatusStatsDto(status=WAIT, count=6, totalAmou (truncated)...]
2025-12-30T09:32:12.218+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:18.184+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:32:18.185+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:32:18.187+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:32:18.189+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:32:18.189+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-30T09:32:18.189+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:32:18.191+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:32:18.192+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:32:18.192+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:32:18.190+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:32:18.193+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:32:18.194+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:32:18.191+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:32:18.198+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:32:18.198+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:32:18.193+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:18.195+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:18.202+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bbf099f] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:18.200+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:18.203+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@583950ee] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:18.201+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2983020b] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:18.204+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1184939426 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:32:18.205+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:32:18.209+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:32:18.209+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1214809469 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:32:18.209+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1586293298 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:32:18.210+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:32:18.210+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:32:18.211+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:32:18.212+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:32:18.215+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bbf099f]
2025-12-30T09:32:18.212+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:32:18.215+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:18.216+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:32:18.216+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@246a044e] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:18.218+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@583950ee]
2025-12-30T09:32:18.218+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1624954630 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:32:18.218+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:18.218+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:32:18.219+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:32:18.219+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ab7370] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:18.219+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:32:18.219+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2983020b]
2025-12-30T09:32:18.219+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1564064263 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:32:18.220+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:18.220+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:32:18.220+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7378dfe2] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:18.220+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:32:18.221+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@842791938 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:32:18.221+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:32:18.222+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:32:18.222+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@246a044e]
2025-12-30T09:32:18.223+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:32:18.223+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:18.223+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:32:18.224+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@443f3b31] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:18.224+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ab7370]
2025-12-30T09:32:18.225+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:32:18.226+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@805506956 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:32:18.227+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:32:18.226+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:18.226+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7378dfe2]
2025-12-30T09:32:18.227+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:32:18.227+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fa3e10f] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:18.228+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:18.228+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@667630968 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:32:18.228+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:32:18.228+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:32:18.229+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:32:18.229+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:18.233+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:32:18.233+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@443f3b31]
2025-12-30T09:32:18.233+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:32:18.234+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:18.235+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:32:18.236+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4593b0e] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:18.237+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@956460551 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:32:18.238+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:32:18.237+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:32:18.237+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fa3e10f]
2025-12-30T09:32:18.238+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:32:18.239+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:32:18.239+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:18.240+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:32:18.240+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52dc505d] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:18.240+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:32:18.241+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@848783504 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:32:18.242+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:32:18.242+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:18.242+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:32:18.242+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4593b0e]
2025-12-30T09:32:18.243+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d5770db] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:18.243+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:32:18.244+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:18.245+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:32:18.248+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:32:18.246+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1351819804 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:32:18.248+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:18.249+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52dc505d]
2025-12-30T09:32:18.250+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:32:18.251+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:32:18.253+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:18.253+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:32:18.253+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@694e6aa8] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:18.254+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:32:18.255+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1503695204 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:32:18.255+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:32:18.256+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:32:18.257+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:32:18.257+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:32:18.258+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:32:18.258+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d5770db]
2025-12-30T09:32:18.258+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:32:18.259+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:18.260+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:18.260+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7367733] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:18.260+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28635724] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:18.261+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:32:18.261+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@352063860 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:32:18.261+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@694e6aa8]
2025-12-30T09:32:18.262+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:32:18.264+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:18.266+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:32:18.266+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@58971964 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:32:18.266+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@512863fb] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:18.266+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:32:18.269+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1269389404 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:32:18.270+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:32:18.271+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:32:18.271+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:32:18.272+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:32:18.272+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7367733]
2025-12-30T09:32:18.273+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:18.274+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:32:18.274+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:32:18.274+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28635724]
2025-12-30T09:32:18.274+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:18.275+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:18.276+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:32:18.277+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2205ba03] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:18.277+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:32:18.277+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@512863fb]
2025-12-30T09:32:18.278+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@498623491 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:32:18.278+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:18.278+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:32:18.278+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:32:18.278+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13295bee] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:18.279+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@17618379 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:32:18.279+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:32:18.279+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:32:18.281+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:32:18.283+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:32:18.282+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:32:18.284+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:32:18.285+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2205ba03]
2025-12-30T09:32:18.286+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:18.285+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:32:18.285+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:32:18.287+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7820408c] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:18.287+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:18.288+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13295bee]
2025-12-30T09:32:18.288+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2012887081 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:32:18.288+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6278406d] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:18.289+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:18.289+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:32:18.290+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:32:18.290+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:32:18.291+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:18.295+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:32:18.296+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2003900820 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:32:18.299+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-30T09:32:18.302+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:32:18.302+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:32:18.303+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:32:18.303+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:32:18.304+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:32:18.306+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7820408c]
2025-12-30T09:32:18.305+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:32:18.306+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:18.308+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:18.308+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@520d9fb3] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:18.308+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:32:18.308+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7500367f] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:18.309+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@676561246 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:32:18.309+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6278406d]
2025-12-30T09:32:18.310+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1295833322 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:32:18.310+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:32:18.310+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:18.311+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:32:18.315+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:32:18.315+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30680e89] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:18.316+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:32:18.318+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1463019749 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:32:18.320+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:32:18.323+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:32:18.323+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:32:18.323+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:32:18.324+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@520d9fb3]
2025-12-30T09:32:18.324+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7500367f]
2025-12-30T09:32:18.326+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:18.326+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:18.327+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:32:18.328+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@432ca32] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:18.328+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:32:18.328+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:18.331+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1895147269 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:32:18.332+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30680e89]
2025-12-30T09:32:18.335+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:32:18.337+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:18.337+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:32:18.337+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:32:18.340+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:18.343+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:32:18.353+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:32:18.359+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:32:18.361+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:32:18.369+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:32:18.371+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:32:18.372+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@432ca32]
2025-12-30T09:32:18.372+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:18.372+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:18.372+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7435add5] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:18.372+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3759c9e0] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:18.373+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@301698790 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:32:18.373+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@623441507 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:32:18.374+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:32:18.374+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:32:18.375+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:32:18.376+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:32:18.379+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:32:18.379+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:32:18.389+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7435add5]
2025-12-30T09:32:18.389+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3759c9e0]
2025-12-30T09:32:18.389+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:18.390+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:18.390+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@754d0637] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:18.390+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d3b4b20] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:18.391+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@751781454 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:32:18.392+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1960089006 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:32:18.392+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:32:18.393+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:32:18.394+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:32:18.395+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:32:18.417+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:32:18.420+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:32:18.421+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d3b4b20]
2025-12-30T09:32:18.422+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@754d0637]
2025-12-30T09:32:18.422+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:18.423+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:18.424+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2baa06e0] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:18.424+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a619aad] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:18.426+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2082417406 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:32:18.426+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@931159400 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:32:18.426+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:32:18.427+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:32:18.427+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:32:18.428+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:32:18.443+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:32:18.444+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:32:18.449+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2baa06e0]
2025-12-30T09:32:18.450+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a619aad]
2025-12-30T09:32:18.452+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:18.453+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:18.453+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5517523f] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:18.453+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73bb1743] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:18.454+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@787596155 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:32:18.456+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1428770667 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:32:18.456+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:32:18.456+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:32:18.457+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:32:18.457+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:32:18.459+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:32:18.460+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:32:18.460+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73bb1743]
2025-12-30T09:32:18.461+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5517523f]
2025-12-30T09:32:18.462+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:18.462+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:18.467+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:32:18.467+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32da37d9] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:18.468+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:18.468+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1572019479 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:32:18.470+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:32:18.472+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:32:18.476+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:32:18.476+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32da37d9]
2025-12-30T09:32:18.477+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:18.477+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:32:18.482+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:20.190+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:32:20.190+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/budget/list?year=2025
2025-12-30T09:32:20.190+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:32:20.192+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:32:20.192+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/budget/list
2025-12-30T09:32:20.193+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:32:20.193+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:32:20.193+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/budget/list?year=2025
2025-12-30T09:32:20.194+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:32:20.194+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:32:20.194+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/budget/list?year=2025", parameters={masked}
2025-12-30T09:32:20.194+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:32:20.194+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:32:20.194+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.BudgetController#getBudgetList(Integer, Integer)
2025-12-30T09:32:20.195+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:20.195+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:32:20.195+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@770800e8] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:20.196+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.BudgetController.getBudgetList(java.lang.Integer,java.lang.Integer); target is of class [com.innersignature.backend.controller.BudgetController]
2025-12-30T09:32:20.197+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:20.200+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.BudgetController.getBudgetList(java.lang.Integer,java.lang.Integer); target is of class [com.innersignature.backend.controller.BudgetController]
2025-12-30T09:32:20.200+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3448522b] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:20.201+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1150274169 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:32:20.201+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:32:20.201+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:20.204+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:32:20.204+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1306588481 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:32:20.205+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:32:20.206+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:32:20.204+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1960af50] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:20.208+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:32:20.209+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@770800e8]
2025-12-30T09:32:20.211+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:32:20.212+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:20.212+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1097123381 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:32:20.212+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3448522b]
2025-12-30T09:32:20.216+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47018536] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:20.217+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.BudgetMapper.findByCompanyId     : ==>  Preparing: SELECT b.*, COALESCE(( SELECT SUM(ed.amount) FROM expense_detail_tb ed INNER JOIN expense_report_tb er ON ed.expense_report_id = er.expense_report_id WHERE er.company_id = b.company_id AND YEAR(er.report_date) = b.budget_year AND (b.budget_month IS NULL OR MONTH(er.report_date) = b.budget_month) AND ed.category = b.category AND er.status IN ('APPROVED', 'PAID') ), 0) AS used_amount, CASE WHEN b.budget_amount > 0 THEN ROUND((COALESCE(( SELECT SUM(ed.amount) FROM expense_detail_tb ed INNER JOIN expense_report_tb er ON ed.expense_report_id = er.expense_report_id WHERE er.company_id = b.company_id AND YEAR(er.report_date) = b.budget_year AND (b.budget_month IS NULL OR MONTH(er.report_date) = b.budget_month) AND ed.category = b.category AND er.status IN ('APPROVED', 'PAID') ), 0) * 100.0 / b.budget_amount), 2) ELSE 0 END AS usage_rate FROM budget_tb b WHERE b.company_id = ? AND (? IS NULL OR b.budget_year = ?) AND (? IS NULL OR b.budget_month = ? OR b.budget_month IS NULL) ORDER BY b.budget_year DESC, b.budget_month DESC, b.category ASC
2025-12-30T09:32:20.217+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:20.217+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@28761217 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:32:20.220+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.BudgetMapper.findByCompanyId     : ==> Parameters: 1(Long), 2025(Integer), 2025(Integer), null, null
2025-12-30T09:32:20.220+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5678bbb9] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:20.221+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:32:20.222+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1054841279 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:32:20.222+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:32:20.222+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:32:20.224+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:32:20.224+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:32:20.224+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.BudgetMapper.findByCompanyId     : <==      Total: 0
2025-12-30T09:32:20.225+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47018536]
2025-12-30T09:32:20.225+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1960af50]
2025-12-30T09:32:20.226+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:20.226+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:20.227+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57314a3] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:20.229+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:32:20.229+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:32:20.233+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1318062350 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:32:20.235+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5678bbb9]
2025-12-30T09:32:20.235+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:20.236+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:32:20.238+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/budget/list?year=2025
2025-12-30T09:32:20.237+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:20.238+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:32:20.240+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/budget/list
2025-12-30T09:32:20.240+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:32:20.241+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/budget/list?year=2025
2025-12-30T09:32:20.242+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:20.243+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/budget/list?year=2025", parameters={masked}
2025-12-30T09:32:20.244+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.BudgetController#getBudgetList(Integer, Integer)
2025-12-30T09:32:20.245+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:32:20.250+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.BudgetController.getBudgetList(java.lang.Integer,java.lang.Integer); target is of class [com.innersignature.backend.controller.BudgetController]
2025-12-30T09:32:20.251+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57314a3]
2025-12-30T09:32:20.254+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.BudgetController.getBudgetList(java.lang.Integer,java.lang.Integer); target is of class [com.innersignature.backend.controller.BudgetController]
2025-12-30T09:32:20.256+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:20.256+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:20.256+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42083d09] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:20.257+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bdb2b67] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:20.257+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1598291943 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:32:20.257+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1721234521 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:32:20.258+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:32:20.258+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.BudgetMapper.findByCompanyId     : ==>  Preparing: SELECT b.*, COALESCE(( SELECT SUM(ed.amount) FROM expense_detail_tb ed INNER JOIN expense_report_tb er ON ed.expense_report_id = er.expense_report_id WHERE er.company_id = b.company_id AND YEAR(er.report_date) = b.budget_year AND (b.budget_month IS NULL OR MONTH(er.report_date) = b.budget_month) AND ed.category = b.category AND er.status IN ('APPROVED', 'PAID') ), 0) AS used_amount, CASE WHEN b.budget_amount > 0 THEN ROUND((COALESCE(( SELECT SUM(ed.amount) FROM expense_detail_tb ed INNER JOIN expense_report_tb er ON ed.expense_report_id = er.expense_report_id WHERE er.company_id = b.company_id AND YEAR(er.report_date) = b.budget_year AND (b.budget_month IS NULL OR MONTH(er.report_date) = b.budget_month) AND ed.category = b.category AND er.status IN ('APPROVED', 'PAID') ), 0) * 100.0 / b.budget_amount), 2) ELSE 0 END AS usage_rate FROM budget_tb b WHERE b.company_id = ? AND (? IS NULL OR b.budget_year = ?) AND (? IS NULL OR b.budget_month = ? OR b.budget_month IS NULL) ORDER BY b.budget_year DESC, b.budget_month DESC, b.category ASC
2025-12-30T09:32:20.258+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:32:20.261+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.BudgetMapper.findByCompanyId     : ==> Parameters: 1(Long), 2025(Integer), 2025(Integer), null, null
2025-12-30T09:32:20.264+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:32:20.264+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.BudgetMapper.findByCompanyId     : <==      Total: 0
2025-12-30T09:32:20.266+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42083d09]
2025-12-30T09:32:20.267+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bdb2b67]
2025-12-30T09:32:20.268+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:20.269+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:20.269+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:32:20.270+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:32:20.271+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:20.272+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:31.099+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:32:31.099+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:32:31.099+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:32:31.100+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:32:31.101+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:32:31.101+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:32:31.101+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-30T09:32:31.101+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:32:31.102+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:32:31.102+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:32:31.102+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:32:31.102+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:32:31.102+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:32:31.102+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:32:31.103+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:31.103+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:32:31.103+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:31.103+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34cd59e1] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:31.104+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:31.105+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@688e2dd5] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:31.107+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41a8ede7] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:31.109+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1962277231 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:32:31.112+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:32:31.112+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1267410357 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:32:31.112+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1457837155 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:32:31.114+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:32:31.115+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:32:31.115+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:32:31.116+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:32:31.119+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:32:31.120+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:32:31.122+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34cd59e1]
2025-12-30T09:32:31.124+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:31.124+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45617af9] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:31.125+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1952147198 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:32:31.125+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:32:31.125+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:32:31.125+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:32:31.126+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:32:31.126+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@688e2dd5]
2025-12-30T09:32:31.126+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41a8ede7]
2025-12-30T09:32:31.127+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:31.128+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:31.128+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ffb0747] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:31.131+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3584b934] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:31.132+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:32:31.132+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1091351644 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:32:31.133+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2050910416 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:32:31.134+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45617af9]
2025-12-30T09:32:31.135+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:32:31.135+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:32:31.136+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:31.136+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:32:31.136+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:32:31.136+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5da0f488] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:31.141+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@332983159 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:32:31.141+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:32:31.142+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:32:31.142+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:32:31.142+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ffb0747]
2025-12-30T09:32:31.142+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3584b934]
2025-12-30T09:32:31.143+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:32:31.144+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:31.144+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:31.147+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:32:31.148+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@763ab29d] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:31.149+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:31.151+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1726478455 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:32:31.156+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:32:31.158+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:32:31.158+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:32:31.160+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:32:31.161+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:32:31.164+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5da0f488]
2025-12-30T09:32:31.165+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@763ab29d]
2025-12-30T09:32:31.165+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:31.165+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:32:31.166+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:31.166+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65c08973] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:31.166+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:32:31.168+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@554322ea] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:31.169+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1058940407 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:32:31.169+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:32:31.170+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:32:31.170+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1993264261 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:32:31.170+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:32:31.170+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:32:31.170+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:32:31.171+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:31.171+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:32:31.172+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22b63175] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:31.173+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:32:31.175+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@442941826 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:32:31.175+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:32:31.176+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65c08973]
2025-12-30T09:32:31.176+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:32:31.176+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@554322ea]
2025-12-30T09:32:31.176+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:31.177+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:32:31.178+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:32:31.177+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:31.178+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73ddedf2] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:31.179+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:31.181+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1061537041 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:32:31.184+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:32:31.184+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:32:31.185+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:32:31.186+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22b63175]
2025-12-30T09:32:31.187+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:32:31.188+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:32:31.188+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:31.188+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:32:31.189+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e2f372a] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:31.189+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:32:31.189+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@789288988 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:32:31.190+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:32:31.191+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:32:31.191+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:32:31.191+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:31.192+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:32:31.192+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73ddedf2]
2025-12-30T09:32:31.192+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d6683c5] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:31.193+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:31.194+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1984730661 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:32:31.194+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d5d75f0] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:31.194+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:32:31.194+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:32:31.195+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@292797396 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:32:31.195+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e2f372a]
2025-12-30T09:32:31.196+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:32:31.197+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:32:31.197+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:31.200+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:32:31.201+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:32:31.201+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:32:31.201+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d6683c5]
2025-12-30T09:32:31.201+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:31.203+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:31.204+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30b2d1e0] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:31.205+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:32:31.206+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1495471256 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:32:31.207+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:32:31.207+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:32:31.207+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:32:31.208+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:32:31.209+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:32:31.209+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d5d75f0]
2025-12-30T09:32:31.209+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:32:31.210+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:31.210+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:32:31.210+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:32:31.210+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43475e73] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:31.210+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30b2d1e0]
2025-12-30T09:32:31.211+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:31.211+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@626217246 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:32:31.212+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:31.215+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3428bca3] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:31.217+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:32:31.218+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cc6e593] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:31.219+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1471099136 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:32:31.219+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:32:31.220+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:32:31.220+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@182262842 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:32:31.221+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:32:31.222+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:32:31.223+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:32:31.224+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:32:31.224+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43475e73]
2025-12-30T09:32:31.225+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:32:31.225+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:31.226+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3428bca3]
2025-12-30T09:32:31.226+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:32:31.226+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:32:31.226+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:31.227+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cc6e593]
2025-12-30T09:32:31.227+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:31.229+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20447f2f] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:31.231+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:31.236+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@621f8e0d] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:31.236+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2037257632 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:32:31.237+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:32:31.233+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:32:31.235+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1366819360 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:32:31.237+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:32:31.238+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:32:31.239+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-30T09:32:31.242+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:32:31.242+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:32:31.244+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@621f8e0d]
2025-12-30T09:32:31.243+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:32:31.245+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:31.245+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:32:31.251+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20447f2f]
2025-12-30T09:32:31.248+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:32:31.250+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:32:31.251+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:31.252+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:32:31.253+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:31.254+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:32:31.255+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:32:31.257+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:31.257+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:31.259+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c247f4a] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:31.259+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:32:31.261+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:32:31.265+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:32:31.266+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:32:31.267+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1893588821 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:32:31.267+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:31.269+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:32:31.269+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f77783d] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:31.270+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:32:31.273+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1041354575 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:32:31.273+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:32:31.273+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:32:31.274+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c247f4a]
2025-12-30T09:32:31.275+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:32:31.276+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:31.276+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ded2d19] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:31.277+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@903676073 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:32:31.278+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:32:31.284+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:32:31.284+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:32:31.284+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f77783d]
2025-12-30T09:32:31.284+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:31.285+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67ef0060] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:31.285+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:32:31.285+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@373796607 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:32:31.286+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ded2d19]
2025-12-30T09:32:31.286+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:32:31.287+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:32:31.287+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:31.288+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f5d5079] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:31.290+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@728507246 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:32:31.291+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:32:31.291+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:32:31.291+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67ef0060]
2025-12-30T09:32:31.292+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:32:31.292+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:31.293+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cce2cf0] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:31.293+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1664999177 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:32:31.298+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:32:31.298+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:32:31.299+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:32:31.300+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f5d5079]
2025-12-30T09:32:31.301+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:31.301+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f35abc9] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:31.301+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:32:31.302+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@178184910 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:32:31.302+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cce2cf0]
2025-12-30T09:32:31.302+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:32:31.303+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:31.303+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:32:31.303+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d79ae04] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:31.304+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@6142711 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:32:31.305+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:32:31.305+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:32:31.309+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:32:31.314+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d79ae04]
2025-12-30T09:32:31.316+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:31.309+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:32:31.321+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:32:31.322+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f35abc9]
2025-12-30T09:32:31.325+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:31.326+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bc6b7f0] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:31.324+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:31.334+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@696197282 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:32:31.337+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:32:31.339+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:32:31.342+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:32:31.342+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bc6b7f0]
2025-12-30T09:32:31.344+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:31.345+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@aca7c37] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:31.350+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1149051817 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:32:31.350+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:32:31.352+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:32:31.355+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:32:31.355+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@aca7c37]
2025-12-30T09:32:31.358+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:31.359+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11a63048] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:31.360+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1213521295 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:32:31.360+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:32:31.361+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:32:31.364+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:32:31.367+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11a63048]
2025-12-30T09:32:31.369+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:31.370+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:32:31.371+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:34.002+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:32:34.006+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:32:34.013+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:32:34.007+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/stats
2025-12-30T09:32:34.009+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/monthly-trend
2025-12-30T09:32:34.010+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/status-stats
2025-12-30T09:32:34.010+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio
2025-12-30T09:32:34.014+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:32:34.015+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:32:34.017+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/stats
2025-12-30T09:32:34.023+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/stats
2025-12-30T09:32:34.019+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/monthly-trend
2025-12-30T09:32:34.024+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/monthly-trend
2025-12-30T09:32:34.020+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/status-stats
2025-12-30T09:32:34.022+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/category-ratio
2025-12-30T09:32:34.025+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio
2025-12-30T09:32:34.022+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:32:34.022+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:32:34.023+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/stats", parameters={}
2025-12-30T09:32:34.024+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/monthly-trend", parameters={}
2025-12-30T09:32:34.025+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/status-stats
2025-12-30T09:32:34.026+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio", parameters={}
2025-12-30T09:32:34.026+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:32:34.027+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:32:34.027+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getDashboardStats(String, String)
2025-12-30T09:32:34.030+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTrend(String, String)
2025-12-30T09:32:34.031+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/status-stats", parameters={}
2025-12-30T09:32:34.034+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getStatusStats(String, String)
2025-12-30T09:32:34.032+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2025-12-30T09:32:34.037+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:32:34.032+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:32:34.032+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:34.033+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:32:34.033+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:32:34.037+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:32:34.037+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:32:34.038+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:34.038+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44c1c815] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:34.038+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:32:34.039+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:32:34.039+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:32:34.040+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:34.040+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@766e97de] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:34.041+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:34.043+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:34.043+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@123614757 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:32:34.045+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:32:34.044+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:34.044+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32deb015] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:34.045+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@443a8374] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:34.045+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@faddc0e] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:34.049+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:32:34.049+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1567622033 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:32:34.051+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:32:34.049+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@554c9d5a] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:34.052+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1196852216 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:32:34.054+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectDashboardStats           : ==>  Preparing: SELECT COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS totalCount, COALESCE(AVG(total_amount), 0) AS averageAmount, COALESCE(MAX(total_amount), 0) AS maxAmount, COALESCE(MIN(total_amount), 0) AS minAmount, SUM(CASE WHEN status = 'PENDING' THEN 1 ELSE 0 END) AS pendingCount FROM expense_report_tb WHERE company_id = ?
2025-12-30T09:32:34.052+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@371714260 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:32:34.052+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@540603947 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:32:34.053+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:32:34.053+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:32:34.055+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectDashboardStats           : ==> Parameters: 1(Long)
2025-12-30T09:32:34.055+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.ExpenseMapper.selectStatusStats  : ==>  Preparing: SELECT status, COUNT(*) AS count, COALESCE(SUM(total_amount), 0) AS totalAmount FROM expense_report_tb WHERE company_id = ? GROUP BY status ORDER BY count DESC
2025-12-30T09:32:34.055+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectMonthlyTrend             : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS count FROM expense_report_tb WHERE company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-30T09:32:34.055+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@325425769 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:32:34.055+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44c1c815]
2025-12-30T09:32:34.056+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.ExpenseMapper.selectStatusStats  : ==> Parameters: 1(Long)
2025-12-30T09:32:34.057+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectDashboardStats           : <==      Total: 1
2025-12-30T09:32:34.057+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:32:34.057+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectMonthlyTrend             : ==> Parameters: 1(Long)
2025-12-30T09:32:34.057+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? GROUP BY d.category ORDER BY amount DESC
2025-12-30T09:32:34.057+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:34.058+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@443a8374]
2025-12-30T09:32:34.058+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@766e97de]
2025-12-30T09:32:34.059+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: 1(Long)
2025-12-30T09:32:34.060+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.ExpenseMapper.selectStatusStats  : <==      Total: 3
2025-12-30T09:32:34.060+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76502bc5] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:34.060+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectMonthlyTrend             : <==      Total: 1
2025-12-30T09:32:34.060+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:34.060+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:34.061+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32deb015]
2025-12-30T09:32:34.061+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@596178211 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:32:34.062+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@faddc0e]
2025-12-30T09:32:34.064+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectCategoryRatio            : <==      Total: 2
2025-12-30T09:32:34.067+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:34.065+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 통계 조회 성공, data=DashboardStatsDto(totalAmount=104561, totalCou (truncated)...]
2025-12-30T09:32:34.065+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d3907bd] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:34.067+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:34.067+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:32:34.067+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@554c9d5a]
2025-12-30T09:32:34.067+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 추이 조회 성공, data=[MonthlyTrendDto(yearMonth=2025-12, totalAmount= (truncated)...]
2025-12-30T09:32:34.068+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:34.068+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@152201055 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:32:34.069+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태별 통계 조회 성공, data=[StatusStatsDto(status=WAIT, count=6, totalAmou (truncated)...]
2025-12-30T09:32:34.070+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:32:34.071+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:34.071+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:34.072+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:32:34.076+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2025-12-30T09:32:34.072+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/credits/total
2025-12-30T09:32:34.073+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:34.073+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[CategoryRatioDto(category=식대, amount=103450, (truncated)...]
2025-12-30T09:32:34.076+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:32:34.077+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:32:34.077+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/subscriptions/current
2025-12-30T09:32:34.081+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/credits/total
2025-12-30T09:32:34.081+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/stats
2025-12-30T09:32:34.083+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:34.083+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76502bc5]
2025-12-30T09:32:34.084+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2025-12-30T09:32:34.085+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/credits/total
2025-12-30T09:32:34.089+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:32:34.088+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/monthly-trend
2025-12-30T09:32:34.088+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/stats
2025-12-30T09:32:34.088+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:34.091+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37012d3d] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:34.089+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2025-12-30T09:32:34.091+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1090004507 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:32:34.089+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/credits/total", parameters={}
2025-12-30T09:32:34.090+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d3907bd]
2025-12-30T09:32:34.090+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/stats
2025-12-30T09:32:34.091+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/monthly-trend
2025-12-30T09:32:34.091+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2025-12-30T09:32:34.092+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:32:34.092+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CreditController#getTotalAvailableAmount()
2025-12-30T09:32:34.092+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:34.092+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/stats", parameters={}
2025-12-30T09:32:34.094+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getDashboardStats(String, String)
2025-12-30T09:32:34.093+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/monthly-trend
2025-12-30T09:32:34.099+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/monthly-trend", parameters={}
2025-12-30T09:32:34.093+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-30T09:32:34.093+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:32:34.094+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2025-12-30T09:32:34.094+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:32:34.098+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:32:34.101+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTrend(String, String)
2025-12-30T09:32:34.102+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-30T09:32:34.103+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2025-12-30T09:32:34.104+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:32:34.104+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:34.106+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:32:34.106+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:32:34.107+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:34.107+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:34.107+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37012d3d]
2025-12-30T09:32:34.121+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:34.110+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/status-stats
2025-12-30T09:32:34.110+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:34.122+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d4e7bfc] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:34.111+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:32:34.119+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6376776a] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:34.120+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@acb3506] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:34.122+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79f23c7c] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:34.123+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/status-stats
2025-12-30T09:32:34.125+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2134531791 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:32:34.126+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:34.126+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1615384876 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:32:34.129+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@339389876 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:32:34.136+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1201970874 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:32:34.137+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/status-stats
2025-12-30T09:32:34.137+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectDashboardStats           : ==>  Preparing: SELECT COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS totalCount, COALESCE(AVG(total_amount), 0) AS averageAmount, COALESCE(MAX(total_amount), 0) AS maxAmount, COALESCE(MIN(total_amount), 0) AS minAmount, SUM(CASE WHEN status = 'PENDING' THEN 1 ELSE 0 END) AS pendingCount FROM expense_report_tb WHERE company_id = ?
2025-12-30T09:32:34.137+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4be9593] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:34.138+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2025-12-30T09:32:34.138+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.C.getTotalAvailableAmount        : ==>  Preparing: SELECT COALESCE(SUM(amount - used_amount), 0) FROM credit_tb WHERE company_id = ? AND (expires_at IS NULL OR expires_at >= ?)
2025-12-30T09:32:34.138+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:32:34.139+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/status-stats", parameters={}
2025-12-30T09:32:34.139+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectDashboardStats           : ==> Parameters: 1(Long)
2025-12-30T09:32:34.140+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@804684212 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:32:34.141+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2025-12-30T09:32:34.141+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.C.getTotalAvailableAmount        : ==> Parameters: 1(Long), 2025-12-30(LocalDate)
2025-12-30T09:32:34.142+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:32:34.142+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getStatusStats(String, String)
2025-12-30T09:32:34.144+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectMonthlyTrend             : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS count FROM expense_report_tb WHERE company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-30T09:32:34.149+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:32:34.150+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectMonthlyTrend             : ==> Parameters: 1(Long)
2025-12-30T09:32:34.158+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:32:34.158+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.C.getTotalAvailableAmount        : <==      Total: 1
2025-12-30T09:32:34.158+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectDashboardStats           : <==      Total: 1
2025-12-30T09:32:34.160+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:32:34.160+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2025-12-30T09:32:34.162+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@acb3506]
2025-12-30T09:32:34.163+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:34.172+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d4e7bfc]
2025-12-30T09:32:34.174+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79f23c7c]
2025-12-30T09:32:34.174+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2025-12-30T09:32:34.175+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:34.176+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cc0e9c4] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:34.177+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:34.179+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:34.186+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data={totalAmount=5145})]
2025-12-30T09:32:34.188+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2025-12-30T09:32:34.186+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectMonthlyTrend             : <==      Total: 1
2025-12-30T09:32:34.187+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@977666362 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:32:34.187+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 통계 조회 성공, data=DashboardStatsDto(totalAmount=104561, totalCou (truncated)...]
2025-12-30T09:32:34.188+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:32:34.189+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:34.189+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 1
2025-12-30T09:32:34.189+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4be9593]
2025-12-30T09:32:34.190+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.ExpenseMapper.selectStatusStats  : ==>  Preparing: SELECT status, COUNT(*) AS count, COALESCE(SUM(total_amount), 0) AS totalAmount FROM expense_report_tb WHERE company_id = ? GROUP BY status ORDER BY count DESC
2025-12-30T09:32:34.190+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:34.191+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:34.193+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio
2025-12-30T09:32:34.194+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6376776a]
2025-12-30T09:32:34.194+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:34.194+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.ExpenseMapper.selectStatusStats  : ==> Parameters: 1(Long)
2025-12-30T09:32:34.200+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/credits/total
2025-12-30T09:32:34.203+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:34.205+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=SubscriptionDto(subscriptionId=1, companyId=1, planId= (truncated)...]
2025-12-30T09:32:34.203+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/category-ratio
2025-12-30T09:32:34.206+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:34.203+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 추이 조회 성공, data=[MonthlyTrendDto(yearMonth=2025-12, totalAmount= (truncated)...]
2025-12-30T09:32:34.205+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/credits/total
2025-12-30T09:32:34.210+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:34.206+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio
2025-12-30T09:32:34.211+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/credits/total
2025-12-30T09:32:34.216+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio", parameters={}
2025-12-30T09:32:34.216+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/credits/total", parameters={}
2025-12-30T09:32:34.218+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2025-12-30T09:32:34.219+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CreditController#getTotalAvailableAmount()
2025-12-30T09:32:34.220+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:32:34.221+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2025-12-30T09:32:34.222+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2025-12-30T09:32:34.223+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.ExpenseMapper.selectStatusStats  : <==      Total: 3
2025-12-30T09:32:34.223+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:32:34.224+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2025-12-30T09:32:34.224+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/subscriptions/current
2025-12-30T09:32:34.225+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cc0e9c4]
2025-12-30T09:32:34.335+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:34.336+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태별 통계 조회 성공, data=[StatusStatsDto(status=WAIT, count=6, totalAmou (truncated)...]
2025-12-30T09:32:34.232+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:34.340+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5629e052] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:34.324+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:34.335+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2025-12-30T09:32:34.340+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:34.341+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1879594449 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:32:34.346+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? GROUP BY d.category ORDER BY amount DESC
2025-12-30T09:32:34.342+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ddcdf44] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:34.342+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2025-12-30T09:32:34.378+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: 1(Long)
2025-12-30T09:32:34.379+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1595693203 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:32:34.381+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.C.getTotalAvailableAmount        : ==>  Preparing: SELECT COALESCE(SUM(amount - used_amount), 0) FROM credit_tb WHERE company_id = ? AND (expires_at IS NULL OR expires_at >= ?)
2025-12-30T09:32:34.380+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2025-12-30T09:32:34.382+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.C.getTotalAvailableAmount        : ==> Parameters: 1(Long), 2025-12-30(LocalDate)
2025-12-30T09:32:34.383+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-30T09:32:34.385+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-30T09:32:34.386+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectCategoryRatio            : <==      Total: 2
2025-12-30T09:32:34.387+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.C.getTotalAvailableAmount        : <==      Total: 1
2025-12-30T09:32:34.387+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:34.389+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5629e052]
2025-12-30T09:32:34.389+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ddcdf44]
2025-12-30T09:32:34.389+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c2534e4] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:34.390+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:34.390+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:34.392+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1068358115 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:32:34.392+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[CategoryRatioDto(category=식대, amount=103450, (truncated)...]
2025-12-30T09:32:34.393+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data={totalAmount=5145})]
2025-12-30T09:32:34.393+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2025-12-30T09:32:34.396+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:34.399+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:34.400+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2025-12-30T09:32:34.409+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2025-12-30T09:32:34.412+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2025-12-30T09:32:34.423+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2025-12-30T09:32:34.425+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 1
2025-12-30T09:32:34.425+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c2534e4]
2025-12-30T09:32:34.426+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:34.431+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=SubscriptionDto(subscriptionId=1, companyId=1, planId= (truncated)...]
2025-12-30T09:32:34.432+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:34.549+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/stats
2025-12-30T09:32:34.551+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/monthly-trend
2025-12-30T09:32:34.552+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/status-stats
2025-12-30T09:32:34.552+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio
2025-12-30T09:32:34.553+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/credits/total
2025-12-30T09:32:34.554+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/stats
2025-12-30T09:32:34.555+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/monthly-trend
2025-12-30T09:32:34.556+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/status-stats
2025-12-30T09:32:34.556+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/category-ratio
2025-12-30T09:32:34.558+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/stats
2025-12-30T09:32:34.558+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/credits/total
2025-12-30T09:32:34.559+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/monthly-trend
2025-12-30T09:32:34.559+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/status-stats
2025-12-30T09:32:34.559+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio
2025-12-30T09:32:34.560+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/stats", parameters={}
2025-12-30T09:32:34.560+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/credits/total
2025-12-30T09:32:34.560+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/monthly-trend", parameters={}
2025-12-30T09:32:34.561+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/status-stats", parameters={}
2025-12-30T09:32:34.561+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio", parameters={}
2025-12-30T09:32:34.562+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getDashboardStats(String, String)
2025-12-30T09:32:34.563+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/credits/total", parameters={}
2025-12-30T09:32:34.564+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTrend(String, String)
2025-12-30T09:32:34.565+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getStatusStats(String, String)
2025-12-30T09:32:34.565+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2025-12-30T09:32:34.566+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:32:34.566+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CreditController#getTotalAvailableAmount()
2025-12-30T09:32:34.567+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:32:34.568+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:32:34.569+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:32:34.570+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:32:34.570+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2025-12-30T09:32:34.571+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:32:34.571+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:32:34.572+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:32:34.572+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:34.575+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66157aff] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:34.573+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2025-12-30T09:32:34.573+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:34.573+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:34.574+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:34.575+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1135910255 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:32:34.576+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:34.576+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13a98dbd] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:34.576+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73b36c8e] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:34.576+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d0da10e] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:34.576+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectDashboardStats           : ==>  Preparing: SELECT COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS totalCount, COALESCE(AVG(total_amount), 0) AS averageAmount, COALESCE(MAX(total_amount), 0) AS maxAmount, COALESCE(MIN(total_amount), 0) AS minAmount, SUM(CASE WHEN status = 'PENDING' THEN 1 ELSE 0 END) AS pendingCount FROM expense_report_tb WHERE company_id = ?
2025-12-30T09:32:34.577+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@565a2c74] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:34.577+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@218851847 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:32:34.578+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1561098399 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:32:34.578+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1710521615 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:32:34.581+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectDashboardStats           : ==> Parameters: 1(Long)
2025-12-30T09:32:34.582+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1891456546 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:32:34.584+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectMonthlyTrend             : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS count FROM expense_report_tb WHERE company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-30T09:32:34.584+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.ExpenseMapper.selectStatusStats  : ==>  Preparing: SELECT status, COUNT(*) AS count, COALESCE(SUM(total_amount), 0) AS totalAmount FROM expense_report_tb WHERE company_id = ? GROUP BY status ORDER BY count DESC
2025-12-30T09:32:34.585+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? GROUP BY d.category ORDER BY amount DESC
2025-12-30T09:32:34.586+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.C.getTotalAvailableAmount        : ==>  Preparing: SELECT COALESCE(SUM(amount - used_amount), 0) FROM credit_tb WHERE company_id = ? AND (expires_at IS NULL OR expires_at >= ?)
2025-12-30T09:32:34.587+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectMonthlyTrend             : ==> Parameters: 1(Long)
2025-12-30T09:32:34.588+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.ExpenseMapper.selectStatusStats  : ==> Parameters: 1(Long)
2025-12-30T09:32:34.588+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: 1(Long)
2025-12-30T09:32:34.589+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.C.getTotalAvailableAmount        : ==> Parameters: 1(Long), 2025-12-30(LocalDate)
2025-12-30T09:32:34.590+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectDashboardStats           : <==      Total: 1
2025-12-30T09:32:34.594+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66157aff]
2025-12-30T09:32:34.596+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectMonthlyTrend             : <==      Total: 1
2025-12-30T09:32:34.597+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.ExpenseMapper.selectStatusStats  : <==      Total: 3
2025-12-30T09:32:34.597+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectCategoryRatio            : <==      Total: 2
2025-12-30T09:32:34.598+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:34.600+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13a98dbd]
2025-12-30T09:32:34.615+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:34.600+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73b36c8e]
2025-12-30T09:32:34.600+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d0da10e]
2025-12-30T09:32:34.614+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 통계 조회 성공, data=DashboardStatsDto(totalAmount=104561, totalCou (truncated)...]
2025-12-30T09:32:34.619+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 추이 조회 성공, data=[MonthlyTrendDto(yearMonth=2025-12, totalAmount= (truncated)...]
2025-12-30T09:32:34.621+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.C.getTotalAvailableAmount        : <==      Total: 1
2025-12-30T09:32:34.621+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:34.626+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:34.630+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:34.632+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:34.636+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@565a2c74]
2025-12-30T09:32:34.636+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태별 통계 조회 성공, data=[StatusStatsDto(status=WAIT, count=6, totalAmou (truncated)...]
2025-12-30T09:32:34.637+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[CategoryRatioDto(category=식대, amount=103450, (truncated)...]
2025-12-30T09:32:34.639+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:34.640+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:34.643+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:34.644+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data={totalAmount=5145})]
2025-12-30T09:32:34.649+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:44.460+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:32:44.460+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:32:44.461+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:32:44.465+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:32:44.466+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:32:44.466+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-30T09:32:44.467+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:32:44.467+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:32:44.468+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:32:44.469+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:32:44.470+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:32:44.468+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:32:44.471+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:32:44.471+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:44.471+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d1b9ea4] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:44.468+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:32:44.470+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:44.474+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f3f1ab1] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:44.473+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:32:44.477+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:44.479+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1176061363 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:32:44.481+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ce25cdd] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:44.481+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:32:44.484+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:32:44.484+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@221239343 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:32:44.488+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:32:44.492+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2103614547 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:32:44.492+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:32:44.492+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:32:44.499+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:32:44.497+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:32:44.504+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d1b9ea4]
2025-12-30T09:32:44.504+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:32:44.505+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:44.506+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:32:44.506+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f3f1ab1]
2025-12-30T09:32:44.506+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23803106] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:44.507+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ce25cdd]
2025-12-30T09:32:44.508+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:44.509+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@843855027 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:32:44.509+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:44.509+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4272db74] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:44.509+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:32:44.510+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@208e6315] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:44.510+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1954682497 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:32:44.510+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:32:44.511+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1862553140 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:32:44.511+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:32:44.514+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:32:44.515+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:32:44.516+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:32:44.517+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:32:44.518+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23803106]
2025-12-30T09:32:44.520+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:44.520+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17181a86] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:44.521+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@892469602 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:32:44.522+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:32:44.522+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:32:44.522+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:32:44.523+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4272db74]
2025-12-30T09:32:44.523+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@208e6315]
2025-12-30T09:32:44.523+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:32:44.523+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:44.524+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:44.525+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ff70f02] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:44.525+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:32:44.526+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2072692979 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:32:44.528+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:32:44.528+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:44.531+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:32:44.532+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:32:44.535+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17181a86]
2025-12-30T09:32:44.533+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:32:44.536+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:44.537+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e389de5] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:44.538+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@698573966 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:32:44.539+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:32:44.539+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:32:44.537+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:32:44.541+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:32:44.542+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:32:44.543+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:32:44.543+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ff70f02]
2025-12-30T09:32:44.544+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:32:44.544+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:32:44.544+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:44.545+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:44.545+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e389de5]
2025-12-30T09:32:44.550+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@620e61de] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:44.550+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@381b57e] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:44.551+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:44.552+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1972825474 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:32:44.552+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:32:44.553+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:32:44.554+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:44.554+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:32:44.558+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1437170175 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:32:44.558+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:32:44.558+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:32:44.558+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:32:44.560+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@620e61de]
2025-12-30T09:32:44.563+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:44.560+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:32:44.561+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:32:44.564+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e5287] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:44.566+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@295687113 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:32:44.565+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:32:44.567+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:32:44.568+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:32:44.568+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:32:44.568+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:32:44.568+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:32:44.569+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:44.569+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@381b57e]
2025-12-30T09:32:44.569+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e483901] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:44.570+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:44.570+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1610324970 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:32:44.571+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:32:44.571+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fa1ab76] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:44.571+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:32:44.571+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e5287]
2025-12-30T09:32:44.572+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1946409459 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:32:44.573+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:32:44.573+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:44.573+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:32:44.574+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@384e2884] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:44.575+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:32:44.576+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:32:44.577+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1244061536 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:32:44.581+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e483901]
2025-12-30T09:32:44.582+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:32:44.582+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:44.584+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:32:44.584+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c52cf69] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:44.586+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1939700179 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:32:44.586+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:32:44.587+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fa1ab76]
2025-12-30T09:32:44.587+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:32:44.587+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:32:44.587+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:44.588+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:32:44.588+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@384e2884]
2025-12-30T09:32:44.588+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:32:44.589+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:44.590+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:44.590+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@483635b4] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:44.594+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@24460862 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:32:44.598+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:32:44.594+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:32:44.594+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:32:44.598+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:32:44.600+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:32:44.600+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c52cf69]
2025-12-30T09:32:44.602+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:32:44.602+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:44.602+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:32:44.603+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7789418f] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:44.603+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:32:44.604+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1560998288 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:32:44.604+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:32:44.604+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:44.604+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:32:44.605+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@483635b4]
2025-12-30T09:32:44.606+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11662827] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:44.606+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:32:44.607+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:44.608+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1550416502 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:32:44.609+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:32:44.610+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:32:44.611+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:44.614+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:32:44.616+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:32:44.616+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:32:44.618+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7789418f]
2025-12-30T09:32:44.619+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:44.619+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-30T09:32:44.619+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@611bbeaa] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:44.619+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:32:44.620+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:32:44.621+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1545801279 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:32:44.621+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:32:44.621+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11662827]
2025-12-30T09:32:44.621+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:32:44.622+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:32:44.623+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:44.623+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:32:44.624+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53a9a638] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:44.624+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:44.625+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1932434298 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:32:44.625+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d5a9256] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:44.625+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:32:44.627+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:32:44.626+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@37824549 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:32:44.632+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:32:44.633+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:32:44.635+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:32:44.637+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@611bbeaa]
2025-12-30T09:32:44.639+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:32:44.639+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:32:44.640+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:44.640+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53a9a638]
2025-12-30T09:32:44.640+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d5a9256]
2025-12-30T09:32:44.641+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:32:44.641+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:44.642+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:44.643+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:44.644+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:32:44.645+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39e55379] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:44.652+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@807710257 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:32:44.653+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:32:44.654+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:32:44.648+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:32:44.651+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:44.657+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:32:44.658+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:32:44.659+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:32:44.660+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:32:44.667+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:44.668+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@138f0fdd] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:44.671+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2066798142 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:32:44.673+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:32:44.677+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39e55379]
2025-12-30T09:32:44.678+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:44.676+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:32:44.682+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e5f8bac] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:44.685+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:32:44.686+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@498233221 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:32:44.687+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:32:44.688+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:32:44.692+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:32:44.693+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:32:44.695+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e5f8bac]
2025-12-30T09:32:44.696+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@138f0fdd]
2025-12-30T09:32:44.698+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:44.698+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:44.700+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e5bd902] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:44.701+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59791b09] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:44.701+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1017850254 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:32:44.702+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@845354524 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:32:44.702+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:32:44.702+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:32:44.703+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:32:44.703+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:32:44.707+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:32:44.708+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:32:44.709+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e5bd902]
2025-12-30T09:32:44.709+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59791b09]
2025-12-30T09:32:44.709+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:44.710+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:44.710+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2af8859f] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:44.710+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ea24b45] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:44.710+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@981191179 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:32:44.712+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@789757643 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:32:44.720+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:32:44.720+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:32:44.720+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:32:44.721+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:32:44.726+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:32:44.727+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:32:44.727+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2af8859f]
2025-12-30T09:32:44.727+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ea24b45]
2025-12-30T09:32:44.732+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:44.732+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:44.733+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30c342da] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:44.733+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@377c4cc1] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:44.733+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1585052960 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:32:44.733+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@464044296 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:32:44.735+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:32:44.735+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:32:44.736+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:32:44.736+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:32:44.740+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:32:44.740+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:32:44.740+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@377c4cc1]
2025-12-30T09:32:44.741+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30c342da]
2025-12-30T09:32:44.742+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:44.742+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:44.742+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:32:44.743+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ec75658] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:44.744+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:44.744+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@79168712 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:32:44.748+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:32:44.749+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:32:44.753+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:32:44.753+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ec75658]
2025-12-30T09:32:44.754+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:44.755+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:32:44.756+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:46.689+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:32:46.690+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:32:46.690+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/budget/list?year=2025
2025-12-30T09:32:46.692+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:32:46.694+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:32:46.691+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:32:46.704+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:32:46.692+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/budget/list
2025-12-30T09:32:46.702+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:32:46.705+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:32:46.719+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:32:46.711+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/budget/list?year=2025
2025-12-30T09:32:46.718+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:32:46.720+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:46.720+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/budget/list?year=2025", parameters={masked}
2025-12-30T09:32:46.721+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:46.726+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c01e80a] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:46.722+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d85fece] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:46.725+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.BudgetController#getBudgetList(Integer, Integer)
2025-12-30T09:32:46.741+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.BudgetController.getBudgetList(java.lang.Integer,java.lang.Integer); target is of class [com.innersignature.backend.controller.BudgetController]
2025-12-30T09:32:46.750+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.BudgetController.getBudgetList(java.lang.Integer,java.lang.Integer); target is of class [com.innersignature.backend.controller.BudgetController]
2025-12-30T09:32:46.751+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@196751111 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:32:46.752+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@556336993 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:32:46.753+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:32:46.752+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:46.753+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:32:46.754+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:32:46.754+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ef4f474] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:46.754+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:32:46.757+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@814295064 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:32:46.757+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:32:46.759+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.BudgetMapper.findByCompanyId     : ==>  Preparing: SELECT b.*, COALESCE(( SELECT SUM(ed.amount) FROM expense_detail_tb ed INNER JOIN expense_report_tb er ON ed.expense_report_id = er.expense_report_id WHERE er.company_id = b.company_id AND YEAR(er.report_date) = b.budget_year AND (b.budget_month IS NULL OR MONTH(er.report_date) = b.budget_month) AND ed.category = b.category AND er.status IN ('APPROVED', 'PAID') ), 0) AS used_amount, CASE WHEN b.budget_amount > 0 THEN ROUND((COALESCE(( SELECT SUM(ed.amount) FROM expense_detail_tb ed INNER JOIN expense_report_tb er ON ed.expense_report_id = er.expense_report_id WHERE er.company_id = b.company_id AND YEAR(er.report_date) = b.budget_year AND (b.budget_month IS NULL OR MONTH(er.report_date) = b.budget_month) AND ed.category = b.category AND er.status IN ('APPROVED', 'PAID') ), 0) * 100.0 / b.budget_amount), 2) ELSE 0 END AS usage_rate FROM budget_tb b WHERE b.company_id = ? AND (? IS NULL OR b.budget_year = ?) AND (? IS NULL OR b.budget_month = ? OR b.budget_month IS NULL) ORDER BY b.budget_year DESC, b.budget_month DESC, b.category ASC
2025-12-30T09:32:46.760+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c01e80a]
2025-12-30T09:32:46.760+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:32:46.762+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.BudgetMapper.findByCompanyId     : ==> Parameters: 1(Long), 2025(Integer), 2025(Integer), null, null
2025-12-30T09:32:46.766+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:46.766+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d85fece]
2025-12-30T09:32:46.766+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@586dbd1f] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:46.766+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:46.767+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@423628970 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:32:46.768+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c4a26f4] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:46.769+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:32:46.769+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.BudgetMapper.findByCompanyId     : <==      Total: 0
2025-12-30T09:32:46.770+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1889213435 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:32:46.771+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:32:46.771+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ef4f474]
2025-12-30T09:32:46.771+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:32:46.772+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:46.772+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:32:46.772+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:32:46.773+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:32:46.774+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:46.774+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@586dbd1f]
2025-12-30T09:32:46.777+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:46.780+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:32:46.777+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:32:46.787+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c4a26f4]
2025-12-30T09:32:46.778+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/budget/list?year=2025
2025-12-30T09:32:46.787+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:46.787+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:46.790+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4abb499f] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:46.789+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/budget/list
2025-12-30T09:32:46.792+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@665562042 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:32:46.792+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/budget/list?year=2025
2025-12-30T09:32:46.793+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:32:46.793+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/budget/list?year=2025", parameters={masked}
2025-12-30T09:32:46.793+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:32:46.794+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.BudgetController#getBudgetList(Integer, Integer)
2025-12-30T09:32:46.797+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.BudgetController.getBudgetList(java.lang.Integer,java.lang.Integer); target is of class [com.innersignature.backend.controller.BudgetController]
2025-12-30T09:32:46.798+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:32:46.801+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4abb499f]
2025-12-30T09:32:46.801+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.BudgetController.getBudgetList(java.lang.Integer,java.lang.Integer); target is of class [com.innersignature.backend.controller.BudgetController]
2025-12-30T09:32:46.802+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:46.802+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:46.802+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bf73d67] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:46.803+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28055c0f] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:46.803+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@722496567 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:32:46.804+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:32:46.805+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:32:46.806+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@551398040 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:32:46.808+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.BudgetMapper.findByCompanyId     : ==>  Preparing: SELECT b.*, COALESCE(( SELECT SUM(ed.amount) FROM expense_detail_tb ed INNER JOIN expense_report_tb er ON ed.expense_report_id = er.expense_report_id WHERE er.company_id = b.company_id AND YEAR(er.report_date) = b.budget_year AND (b.budget_month IS NULL OR MONTH(er.report_date) = b.budget_month) AND ed.category = b.category AND er.status IN ('APPROVED', 'PAID') ), 0) AS used_amount, CASE WHEN b.budget_amount > 0 THEN ROUND((COALESCE(( SELECT SUM(ed.amount) FROM expense_detail_tb ed INNER JOIN expense_report_tb er ON ed.expense_report_id = er.expense_report_id WHERE er.company_id = b.company_id AND YEAR(er.report_date) = b.budget_year AND (b.budget_month IS NULL OR MONTH(er.report_date) = b.budget_month) AND ed.category = b.category AND er.status IN ('APPROVED', 'PAID') ), 0) * 100.0 / b.budget_amount), 2) ELSE 0 END AS usage_rate FROM budget_tb b WHERE b.company_id = ? AND (? IS NULL OR b.budget_year = ?) AND (? IS NULL OR b.budget_month = ? OR b.budget_month IS NULL) ORDER BY b.budget_year DESC, b.budget_month DESC, b.category ASC
2025-12-30T09:32:46.809+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:32:46.811+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.BudgetMapper.findByCompanyId     : ==> Parameters: 1(Long), 2025(Integer), 2025(Integer), null, null
2025-12-30T09:32:46.811+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bf73d67]
2025-12-30T09:32:46.814+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:46.816+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:32:46.817+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.BudgetMapper.findByCompanyId     : <==      Total: 0
2025-12-30T09:32:46.817+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:46.820+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28055c0f]
2025-12-30T09:32:46.821+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:46.823+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:32:46.825+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:54.508+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/budget/create
2025-12-30T09:32:54.517+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/budget/create
2025-12-30T09:32:54.518+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/budget/create
2025-12-30T09:32:54.519+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/budget/create
2025-12-30T09:32:54.519+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/budget/create", parameters={}
2025-12-30T09:32:54.520+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.BudgetController#createBudget(BudgetDto)
2025-12-30T09:32:54.540+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [BudgetDto(budgetId=null, companyId=null, budgetYear=2025, budgetMonth=null, category=식대, budgetAmoun (truncated)...]
2025-12-30T09:32:54.544+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.BudgetController.createBudget(com.innersignature.backend.dto.BudgetDto); target is of class [com.innersignature.backend.controller.BudgetController]
2025-12-30T09:32:54.551+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.BudgetController.createBudget(com.innersignature.backend.dto.BudgetDto); target is of class [com.innersignature.backend.controller.BudgetController]
2025-12-30T09:32:54.566+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:54.570+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6906f5b8]
2025-12-30T09:32:54.572+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1851823027 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will be managed by Spring
2025-12-30T09:32:54.572+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.B.findByCompanyAndCategory       : ==>  Preparing: SELECT b.*, COALESCE(( SELECT SUM(ed.amount) FROM expense_detail_tb ed INNER JOIN expense_report_tb er ON ed.expense_report_id = er.expense_report_id WHERE er.company_id = b.company_id AND YEAR(er.report_date) = b.budget_year AND (b.budget_month IS NULL OR MONTH(er.report_date) = b.budget_month) AND ed.category = b.category AND er.status IN ('APPROVED', 'PAID') ), 0) AS used_amount, CASE WHEN b.budget_amount > 0 THEN ROUND((COALESCE(( SELECT SUM(ed.amount) FROM expense_detail_tb ed INNER JOIN expense_report_tb er ON ed.expense_report_id = er.expense_report_id WHERE er.company_id = b.company_id AND YEAR(er.report_date) = b.budget_year AND (b.budget_month IS NULL OR MONTH(er.report_date) = b.budget_month) AND ed.category = b.category AND er.status IN ('APPROVED', 'PAID') ), 0) * 100.0 / b.budget_amount), 2) ELSE 0 END AS usage_rate FROM budget_tb b WHERE b.company_id = ? AND b.budget_year = ? AND (b.budget_month = ? OR (b.budget_month IS NULL AND ? IS NULL)) AND b.category = ?
2025-12-30T09:32:54.574+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.B.findByCompanyAndCategory       : ==> Parameters: 1(Long), 2025(Integer), null, null, 식대(String)
2025-12-30T09:32:54.581+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.B.findByCompanyAndCategory       : <==      Total: 0
2025-12-30T09:32:54.583+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6906f5b8]
2025-12-30T09:32:54.586+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6906f5b8] from current transaction
2025-12-30T09:32:54.623+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.backend.mapper.BudgetMapper.insert   : ==>  Preparing: INSERT INTO budget_tb ( company_id, budget_year, budget_month, category, budget_amount, alert_threshold, is_blocking ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
2025-12-30T09:32:54.627+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.backend.mapper.BudgetMapper.insert   : ==> Parameters: 1(Long), 2025(Integer), null, 식대(String), 105000(Long), 80(BigDecimal), false(Boolean)
2025-12-30T09:32:54.641+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.backend.mapper.BudgetMapper.insert   : <==    Updates: 1
2025-12-30T09:32:54.643+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6906f5b8]
2025-12-30T09:32:54.644+09:00  INFO 19004 --- [http-nio-8080-exec-8] c.i.backend.service.BudgetService        : 예산 생성 완료 - budgetId: 1, category: 식대
2025-12-30T09:32:54.650+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6906f5b8] from current transaction
2025-12-30T09:32:54.650+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.BudgetMapper.findById       : ==>  Preparing: SELECT b.*, COALESCE(( SELECT SUM(ed.amount) FROM expense_detail_tb ed INNER JOIN expense_report_tb er ON ed.expense_report_id = er.expense_report_id WHERE er.company_id = b.company_id AND YEAR(er.report_date) = b.budget_year AND (b.budget_month IS NULL OR MONTH(er.report_date) = b.budget_month) AND ed.category = b.category AND er.status IN ('APPROVED', 'PAID') ), 0) AS used_amount, CASE WHEN b.budget_amount > 0 THEN ROUND((COALESCE(( SELECT SUM(ed.amount) FROM expense_detail_tb ed INNER JOIN expense_report_tb er ON ed.expense_report_id = er.expense_report_id WHERE er.company_id = b.company_id AND YEAR(er.report_date) = b.budget_year AND (b.budget_month IS NULL OR MONTH(er.report_date) = b.budget_month) AND ed.category = b.category AND er.status IN ('APPROVED', 'PAID') ), 0) * 100.0 / b.budget_amount), 2) ELSE 0 END AS usage_rate FROM budget_tb b WHERE b.budget_id = ? AND b.company_id = ?
2025-12-30T09:32:54.652+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.BudgetMapper.findById       : ==> Parameters: 1(Long), 1(Long)
2025-12-30T09:32:54.657+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.BudgetMapper.findById       : <==      Total: 1
2025-12-30T09:32:54.660+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6906f5b8]
2025-12-30T09:32:54.662+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6906f5b8]
2025-12-30T09:32:54.674+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6906f5b8]
2025-12-30T09:32:54.675+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6906f5b8]
2025-12-30T09:32:54.695+09:00  INFO 19004 --- [http-nio-8080-exec-8] c.i.backend.controller.BudgetController  : 예산 생성 완료 - budgetId: 1
2025-12-30T09:32:54.699+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:54.701+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=예산이 생성되었습니다., data=BudgetDto(budgetId=1, companyId=1, budgetYear=2 (truncated)...]
2025-12-30T09:32:54.706+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:32:55.628+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/budget/list?year=2025
2025-12-30T09:32:55.630+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/budget/list
2025-12-30T09:32:55.632+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/budget/list?year=2025
2025-12-30T09:32:55.633+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/budget/list?year=2025", parameters={masked}
2025-12-30T09:32:55.633+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.BudgetController#getBudgetList(Integer, Integer)
2025-12-30T09:32:55.636+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.BudgetController.getBudgetList(java.lang.Integer,java.lang.Integer); target is of class [com.innersignature.backend.controller.BudgetController]
2025-12-30T09:32:55.639+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.BudgetController.getBudgetList(java.lang.Integer,java.lang.Integer); target is of class [com.innersignature.backend.controller.BudgetController]
2025-12-30T09:32:55.642+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:32:55.642+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19e129dc] was not registered for synchronization because synchronization is not active
2025-12-30T09:32:55.654+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1629854427 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:32:55.655+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.BudgetMapper.findByCompanyId     : ==>  Preparing: SELECT b.*, COALESCE(( SELECT SUM(ed.amount) FROM expense_detail_tb ed INNER JOIN expense_report_tb er ON ed.expense_report_id = er.expense_report_id WHERE er.company_id = b.company_id AND YEAR(er.report_date) = b.budget_year AND (b.budget_month IS NULL OR MONTH(er.report_date) = b.budget_month) AND ed.category = b.category AND er.status IN ('APPROVED', 'PAID') ), 0) AS used_amount, CASE WHEN b.budget_amount > 0 THEN ROUND((COALESCE(( SELECT SUM(ed.amount) FROM expense_detail_tb ed INNER JOIN expense_report_tb er ON ed.expense_report_id = er.expense_report_id WHERE er.company_id = b.company_id AND YEAR(er.report_date) = b.budget_year AND (b.budget_month IS NULL OR MONTH(er.report_date) = b.budget_month) AND ed.category = b.category AND er.status IN ('APPROVED', 'PAID') ), 0) * 100.0 / b.budget_amount), 2) ELSE 0 END AS usage_rate FROM budget_tb b WHERE b.company_id = ? AND (? IS NULL OR b.budget_year = ?) AND (? IS NULL OR b.budget_month = ? OR b.budget_month IS NULL) ORDER BY b.budget_year DESC, b.budget_month DESC, b.category ASC
2025-12-30T09:32:55.659+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.BudgetMapper.findByCompanyId     : ==> Parameters: 1(Long), 2025(Integer), 2025(Integer), null, null
2025-12-30T09:32:55.667+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.BudgetMapper.findByCompanyId     : <==      Total: 1
2025-12-30T09:32:55.667+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19e129dc]
2025-12-30T09:32:55.668+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:32:55.669+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[BudgetDto(budgetId=1, companyId=1, budgetYear=2025, b (truncated)...]
2025-12-30T09:32:55.670+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:07.998+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:33:07.999+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:33:08.000+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:33:08.000+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:33:08.000+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:33:08.000+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:33:08.001+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:33:08.001+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:33:08.001+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:33:08.001+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-30T09:33:08.002+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:33:08.002+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:33:08.002+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:08.002+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:33:08.002+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:08.002+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@513ca001] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:08.003+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:33:08.003+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78b24f2b] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:08.005+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:33:08.008+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1221125054 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:08.009+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:08.010+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:33:08.010+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dfc49bc] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:08.010+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:33:08.012+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1887451790 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:08.016+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:33:08.016+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1296523874 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:33:08.018+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:33:08.018+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:33:08.018+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:33:08.018+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@513ca001]
2025-12-30T09:33:08.019+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:33:08.019+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:08.019+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@795ab23] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:08.020+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@437335613 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:08.020+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:08.020+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:08.024+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:08.025+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@795ab23]
2025-12-30T09:33:08.025+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:08.024+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:33:08.024+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:33:08.026+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f4342e3] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:08.026+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78b24f2b]
2025-12-30T09:33:08.026+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dfc49bc]
2025-12-30T09:33:08.029+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:08.029+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ca26d59] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:08.027+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1705325723 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:08.028+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:08.030+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@144044737 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:33:08.030+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:33:08.030+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d42d04e] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:08.031+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:08.031+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:33:08.032+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1217337216 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:08.032+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:08.032+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:33:08.033+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:33:08.035+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:33:08.036+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:33:08.036+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:08.036+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d42d04e]
2025-12-30T09:33:08.036+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f4342e3]
2025-12-30T09:33:08.037+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:08.037+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ca26d59]
2025-12-30T09:33:08.037+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:08.038+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:33:08.038+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:08.038+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c89eeaf] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:08.039+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e92e0cb] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:08.039+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:08.039+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1770579847 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:08.040+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1898290405 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:33:08.041+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:08.041+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:33:08.041+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:08.041+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:33:08.044+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:33:08.047+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:33:08.048+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:33:08.049+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:33:08.049+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:08.050+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:33:08.050+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:33:08.050+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c89eeaf]
2025-12-30T09:33:08.050+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e92e0cb]
2025-12-30T09:33:08.050+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:08.051+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:08.051+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:08.051+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@516e2873] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:08.051+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:33:08.051+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1658a524] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:08.052+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:08.051+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@567045174 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:08.052+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@265657244 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:33:08.055+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:33:08.055+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:33:08.055+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:33:08.055+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:33:08.057+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:33:08.059+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:33:08.059+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:33:08.059+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@516e2873]
2025-12-30T09:33:08.059+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:08.059+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@197f82d] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:08.059+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@563766748 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:08.060+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:33:08.063+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:33:08.059+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:33:08.059+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1658a524]
2025-12-30T09:33:08.065+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:08.065+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fc9033f] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:08.065+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1558967911 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:33:08.065+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:08.065+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:08.064+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:33:08.067+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:33:08.069+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:33:08.069+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:08.069+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61fb681c] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:08.070+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:08.070+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:33:08.071+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fc9033f]
2025-12-30T09:33:08.071+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@197f82d]
2025-12-30T09:33:08.071+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:08.072+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:08.072+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7aefef96] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:08.072+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:33:08.073+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1031326479 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:33:08.073+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:33:08.073+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:08.073+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:33:08.075+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1301752602 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:33:08.075+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:33:08.075+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:33:08.077+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:33:08.077+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7aefef96]
2025-12-30T09:33:08.078+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:08.079+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4de983b7] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:08.079+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1216300739 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:33:08.080+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:08.081+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:08.077+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:33:08.083+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:33:08.085+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:33:08.085+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:33:08.085+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:33:08.085+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:08.086+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67ae7a40] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:08.086+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:33:08.087+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61fb681c]
2025-12-30T09:33:08.087+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:08.087+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ff22f10] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:08.088+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1452519659 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:33:08.089+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:08.089+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:08.089+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:08.089+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4de983b7]
2025-12-30T09:33:08.090+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:08.091+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:33:08.091+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1307166338 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:33:08.091+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:08.091+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:33:08.091+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ff22f10]
2025-12-30T09:33:08.091+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:08.092+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:33:08.093+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:08.093+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f2738f7] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:08.093+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@291706540 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:33:08.095+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:33:08.096+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:33:08.100+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:33:08.103+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-30T09:33:08.103+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:33:08.104+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:33:08.104+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:33:08.105+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:08.105+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54bd05ab] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:08.109+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@131890864 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:08.110+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:33:08.110+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:33:08.120+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67ae7a40]
2025-12-30T09:33:08.121+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:08.121+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f0f3ab9] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:08.122+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@153595464 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:33:08.110+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:33:08.118+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f2738f7]
2025-12-30T09:33:08.123+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:33:08.123+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:33:08.123+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:08.124+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:33:08.124+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c046342] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:08.127+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1518470325 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:33:08.129+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:08.130+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:33:08.134+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f0f3ab9]
2025-12-30T09:33:08.187+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:08.187+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:33:08.188+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:08.130+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:33:08.193+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54bd05ab]
2025-12-30T09:33:08.196+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:08.200+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ab03aa7] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:08.200+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1981611527 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:08.133+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:08.201+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:08.202+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:08.281+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:08.282+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c046342]
2025-12-30T09:33:08.285+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:08.283+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:08.326+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:33:08.326+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ab03aa7]
2025-12-30T09:33:08.327+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:08.331+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:08.333+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1caa153c] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:08.334+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1459904780 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:08.335+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:33:08.335+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:33:08.336+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:33:08.336+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:33:08.337+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:33:08.339+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:33:08.340+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:33:08.341+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1caa153c]
2025-12-30T09:33:08.340+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:33:08.342+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:08.344+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d8fc31f] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:08.343+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:08.348+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@289418855 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:08.348+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3572491d] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:08.349+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:33:08.350+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:33:08.354+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@761019267 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:33:08.355+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:33:08.355+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:33:08.356+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:33:08.356+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d8fc31f]
2025-12-30T09:33:08.357+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:08.357+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@694474e1] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:08.357+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1248908781 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:08.360+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:08.360+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:08.363+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:33:08.363+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3572491d]
2025-12-30T09:33:08.364+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:08.365+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39090513] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:08.365+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@722976930 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:33:08.366+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:08.366+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:08.367+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:08.367+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@694474e1]
2025-12-30T09:33:08.368+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:08.369+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ec5f1eb] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:08.369+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:08.369+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@879518126 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:08.370+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39090513]
2025-12-30T09:33:08.371+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:33:08.371+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:08.372+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:33:08.372+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d9e6003] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:08.372+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@751753022 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:33:08.373+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:33:08.374+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:33:08.375+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:33:08.376+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ec5f1eb]
2025-12-30T09:33:08.376+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:33:08.377+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:08.377+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d9e6003]
2025-12-30T09:33:08.377+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3da76ec7] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:08.378+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:08.379+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1824295473 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:08.379+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59d09fa] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:08.380+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:08.380+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@732819250 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:33:08.381+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:08.382+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:08.382+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:08.384+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:08.384+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3da76ec7]
2025-12-30T09:33:08.384+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:08.385+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:08.385+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59d09fa]
2025-12-30T09:33:08.385+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:33:08.385+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:08.386+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:08.387+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:33:08.388+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:15.523+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:33:15.524+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:33:15.525+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-30T09:33:15.526+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:33:15.536+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:33:15.537+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:33:15.538+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:33:15.539+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:15.539+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@771e155b] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:15.529+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:33:15.542+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:33:15.543+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:33:15.543+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:33:15.532+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/companies
2025-12-30T09:33:15.544+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:15.545+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-30T09:33:15.546+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@588e6684] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:15.547+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-30T09:33:15.648+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1698577347 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:33:15.653+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-30T09:33:15.653+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:33:15.654+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:15.682+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4632801e] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:15.681+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:33:15.691+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@703216680 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:15.703+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:33:15.704+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:33:15.706+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1835718412 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:15.706+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:33:15.706+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:33:15.707+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@771e155b]
2025-12-30T09:33:15.708+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:33:15.708+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:33:15.708+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:15.709+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@588e6684]
2025-12-30T09:33:15.710+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18c30eb0] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:15.710+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:15.716+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1591734305 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:33:15.718+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:33:15.718+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@424694cb] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:15.719+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:15.719+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4632801e]
2025-12-30T09:33:15.721+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@47909105 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:15.722+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:15.722+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:15.723+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:33:15.724+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=5, userId=5, companyId=1 (truncated)...]
2025-12-30T09:33:15.724+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:33:15.726+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:15.734+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-30T09:33:15.736+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/1/applications
2025-12-30T09:33:15.755+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:33:15.736+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/1
2025-12-30T09:33:15.746+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/companies
2025-12-30T09:33:15.754+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:15.756+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@424694cb]
2025-12-30T09:33:15.756+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/companies/1/applications
2025-12-30T09:33:15.757+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/company/1
2025-12-30T09:33:15.757+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-30T09:33:15.758+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18c30eb0]
2025-12-30T09:33:15.758+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:15.766+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:33:15.758+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/1/applications
2025-12-30T09:33:15.760+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/1
2025-12-30T09:33:15.761+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-30T09:33:15.765+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:15.767+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:15.768+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/1/applications", parameters={}
2025-12-30T09:33:15.769+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/1", parameters={}
2025-12-30T09:33:15.769+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-30T09:33:15.771+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5661d3a3] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:15.775+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1456992593 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:33:15.772+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-30T09:33:15.774+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-30T09:33:15.774+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:15.776+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:33:15.776+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-30T09:33:15.777+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-30T09:33:15.777+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61218593] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:15.777+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:33:15.779+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-30T09:33:15.780+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-30T09:33:15.782+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@313451406 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:15.782+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:15.783+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:15.783+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:33:15.784+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@597c1e25] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:15.785+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:33:15.790+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5661d3a3]
2025-12-30T09:33:15.791+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:15.785+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17732b1f] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:15.787+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:33:15.789+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1737802679 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:15.793+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64d04045] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:15.802+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@377943677 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:33:15.803+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:33:15.806+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:33:15.805+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:33:15.808+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:33:15.822+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:33:15.822+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:33:15.823+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1438664705 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:33:15.824+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:33:15.834+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17732b1f]
2025-12-30T09:33:15.835+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@597c1e25]
2025-12-30T09:33:15.835+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:15.836+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61218593]
2025-12-30T09:33:15.837+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:15.837+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:15.838+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:15.843+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:15.848+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31afec93] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:15.850+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5eeca19b] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:15.852+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=5, userId=5, companyId=1 (truncated)...]
2025-12-30T09:33:15.853+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1066009194 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:33:15.854+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1733820757 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:15.855+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:15.857+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-30T09:33:15.857+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:15.858+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-30T09:33:15.861+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 1(Long)
2025-12-30T09:33:15.864+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64d04045]
2025-12-30T09:33:15.868+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 1(Long)
2025-12-30T09:33:15.868+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:15.870+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:33:15.871+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 8
2025-12-30T09:33:15.873+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 0
2025-12-30T09:33:15.871+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:15.873+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31afec93]
2025-12-30T09:33:15.874+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5eeca19b]
2025-12-30T09:33:15.877+09:00  INFO 19004 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 1, count: 8
2025-12-30T09:33:15.884+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:15.884+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:15.885+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:33:15.885+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-30T09:33:15.886+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:15.889+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:15.893+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/1/applications
2025-12-30T09:33:15.895+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/1
2025-12-30T09:33:15.900+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/companies/1/applications
2025-12-30T09:33:15.901+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/company/1
2025-12-30T09:33:15.903+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/1/applications
2025-12-30T09:33:15.904+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/1
2025-12-30T09:33:15.905+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/1/applications", parameters={}
2025-12-30T09:33:15.906+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/1", parameters={}
2025-12-30T09:33:15.906+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-30T09:33:15.907+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-30T09:33:15.908+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-30T09:33:15.911+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-30T09:33:15.913+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:15.914+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48430643] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:15.908+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-30T09:33:15.920+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-30T09:33:15.920+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:15.921+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e18ad27] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:15.921+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1897520597 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:33:15.921+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:33:15.939+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:33:15.940+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1794017127 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:33:15.942+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:33:15.949+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:33:15.969+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:33:15.995+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e18ad27]
2025-12-30T09:33:15.996+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:15.997+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56e2cf9] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:16.000+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@775215334 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:33:16.001+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:33:16.010+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48430643]
2025-12-30T09:33:16.002+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-30T09:33:16.027+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:16.031+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7dd05c95] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:16.032+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1514165000 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:33:16.030+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 1(Long)
2025-12-30T09:33:16.033+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-30T09:33:16.034+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 1(Long)
2025-12-30T09:33:16.037+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 8
2025-12-30T09:33:16.038+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56e2cf9]
2025-12-30T09:33:16.041+09:00  INFO 19004 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 1, count: 8
2025-12-30T09:33:16.041+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 0
2025-12-30T09:33:16.041+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:16.042+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7dd05c95]
2025-12-30T09:33:16.051+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-30T09:33:16.053+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:16.054+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:16.056+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:33:16.060+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:17.327+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:33:17.327+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:33:17.329+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:33:17.333+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:33:17.333+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-30T09:33:17.333+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:33:17.333+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:33:17.334+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:33:17.334+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:33:17.334+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:33:17.335+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:33:17.335+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:33:17.335+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:33:17.336+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:17.337+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@be4303] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:17.335+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:33:17.335+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:33:17.339+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:17.339+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:17.343+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bdeb986] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:17.342+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56cb08a7] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:17.350+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@697433802 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:33:17.351+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:33:17.352+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:33:17.355+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@896324094 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:17.355+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2140704565 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:33:17.356+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:33:17.356+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:33:17.357+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:33:17.357+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:33:17.364+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:33:17.365+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@be4303]
2025-12-30T09:33:17.365+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:17.365+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f639512] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:17.365+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1212428329 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:33:17.366+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:33:17.367+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:33:17.367+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:33:17.367+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56cb08a7]
2025-12-30T09:33:17.367+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:17.368+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f3fe990] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:17.368+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:33:17.368+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1687547781 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:33:17.368+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bdeb986]
2025-12-30T09:33:17.368+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:17.369+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:17.369+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:17.369+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@176e4a5c] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:17.369+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1675117460 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:17.370+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:17.370+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:17.372+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:33:17.372+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f639512]
2025-12-30T09:33:17.372+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:17.373+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:33:17.374+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:17.374+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:17.374+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:17.376+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f3fe990]
2025-12-30T09:33:17.376+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:17.376+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@432db9f] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:17.375+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@176e4a5c]
2025-12-30T09:33:17.377+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:17.377+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f46183a] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:17.377+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1410449888 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:33:17.380+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:33:17.377+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@438272292 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:17.381+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:33:17.382+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:33:17.384+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:33:17.386+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:33:17.386+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:33:17.386+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f46183a]
2025-12-30T09:33:17.387+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:17.388+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f8f3e42] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:17.389+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@4679745 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:17.389+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:17.386+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:33:17.386+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@432db9f]
2025-12-30T09:33:17.389+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:17.390+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:17.391+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f21cce] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:17.391+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@730777164 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:33:17.391+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:33:17.392+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:33:17.392+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:33:17.392+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:33:17.393+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:33:17.393+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:33:17.394+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:17.394+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2884f3f5] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:17.401+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@72666449 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:17.401+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:33:17.401+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:33:17.401+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f21cce]
2025-12-30T09:33:17.401+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:17.402+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:33:17.402+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:17.402+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f8f3e42]
2025-12-30T09:33:17.402+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71507df0] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:17.403+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:17.403+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1483541368 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:33:17.403+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:33:17.404+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:17.405+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:17.405+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:17.405+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:33:17.405+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2884f3f5]
2025-12-30T09:33:17.405+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:17.406+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32aec2a3] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:17.407+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2057526222 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:17.408+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:33:17.409+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:33:17.409+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:17.410+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71507df0]
2025-12-30T09:33:17.411+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:17.411+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:33:17.411+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24874cce] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:17.411+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:33:17.413+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1456085587 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:33:17.414+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:33:17.414+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32aec2a3]
2025-12-30T09:33:17.414+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:33:17.415+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:33:17.416+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:17.416+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:33:17.416+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:33:17.416+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:33:17.417+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:33:17.417+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:17.417+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:17.418+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31c279cb] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:17.419+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1554149245 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:17.419+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:33:17.419+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:33:17.420+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:33:17.420+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:33:17.421+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24874cce]
2025-12-30T09:33:17.421+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:17.421+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f15b9d] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:17.422+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:33:17.422+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@495879697 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:33:17.422+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:33:17.422+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:17.423+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:33:17.423+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:33:17.423+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:17.423+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31c279cb]
2025-12-30T09:33:17.424+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:33:17.424+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:17.424+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:17.424+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@218db0cb] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:17.424+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6836b0d] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:17.425+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@61049104 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:17.426+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@431325609 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:17.426+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:17.426+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:33:17.426+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:17.426+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:17.426+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:33:17.426+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f15b9d]
2025-12-30T09:33:17.428+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:17.429+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:33:17.431+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:17.432+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:17.434+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@218db0cb]
2025-12-30T09:33:17.435+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:17.435+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ffc6109] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:17.436+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:33:17.436+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@322669013 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:17.436+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6836b0d]
2025-12-30T09:33:17.442+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:17.446+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1062f849] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:17.446+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@228864587 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:17.437+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:33:17.441+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:33:17.447+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:33:17.448+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:33:17.449+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-30T09:33:17.450+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:33:17.451+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:33:17.452+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:33:17.458+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:33:17.459+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:33:17.459+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:33:17.459+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:17.460+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1062f849]
2025-12-30T09:33:17.460+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ffc6109]
2025-12-30T09:33:17.462+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2430d7b2] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:17.466+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:17.468+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:17.468+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@527125206 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:17.469+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:33:17.469+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e24468b] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:17.469+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:33:17.470+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:17.473+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1382848111 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:17.474+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:33:17.475+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:17.476+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:17.481+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:17.481+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:33:17.484+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e24468b]
2025-12-30T09:33:17.485+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2430d7b2]
2025-12-30T09:33:17.485+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:17.486+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:17.486+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:33:17.486+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19d4a1c9] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:17.487+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:17.488+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1006331910 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:17.489+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:17.489+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:33:17.489+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:17.490+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:33:17.491+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:33:17.492+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:33:17.492+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:33:17.493+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:17.493+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:17.493+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19d4a1c9]
2025-12-30T09:33:17.494+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5531aa78] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:17.498+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:17.502+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@334625c8] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:17.504+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@253759616 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:17.505+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:33:17.506+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1950533479 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:33:17.507+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:33:17.507+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:33:17.508+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:33:17.509+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:33:17.513+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@334625c8]
2025-12-30T09:33:17.513+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:17.514+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c592e80] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:17.515+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@238236326 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:17.517+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:33:17.518+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:33:17.518+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5531aa78]
2025-12-30T09:33:17.519+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:33:17.519+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:17.520+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@437ec593] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:17.521+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2022196994 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:33:17.521+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:17.521+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:17.521+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:33:17.522+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c592e80]
2025-12-30T09:33:17.522+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:17.523+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31c24fdb] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:17.523+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:17.524+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1957317197 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:17.525+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@437ec593]
2025-12-30T09:33:17.525+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:17.525+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:17.526+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:17.528+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@271d68a6] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:17.530+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@318399371 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:33:17.532+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:33:17.534+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:33:17.534+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:17.536+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31c24fdb]
2025-12-30T09:33:17.537+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:17.537+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26795cf8] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:17.537+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:33:17.537+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@98984827 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:17.537+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@271d68a6]
2025-12-30T09:33:17.538+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:33:17.538+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:17.539+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:33:17.539+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c93f292] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:17.541+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1611130878 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:33:17.542+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:17.543+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:33:17.545+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:17.546+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26795cf8]
2025-12-30T09:33:17.547+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:17.548+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f9ca5b3] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:17.549+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1936630820 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:17.549+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:17.549+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:17.550+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c93f292]
2025-12-30T09:33:17.552+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:17.552+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:17.554+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:33:17.554+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:17.555+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:17.557+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f9ca5b3]
2025-12-30T09:33:17.561+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:17.562+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:33:17.563+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:18.201+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:33:18.203+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:33:18.204+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:33:18.203+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/stats
2025-12-30T09:33:18.205+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:33:18.206+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:33:18.207+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/stats
2025-12-30T09:33:18.223+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/stats
2025-12-30T09:33:18.207+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/monthly-trend
2025-12-30T09:33:18.221+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:33:18.224+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:33:18.222+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:33:18.222+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/status-stats
2025-12-30T09:33:18.223+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio
2025-12-30T09:33:18.224+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/stats", parameters={}
2025-12-30T09:33:18.224+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/monthly-trend
2025-12-30T09:33:18.225+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:33:18.225+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:33:18.232+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/status-stats
2025-12-30T09:33:18.235+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/category-ratio
2025-12-30T09:33:18.235+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getDashboardStats(String, String)
2025-12-30T09:33:18.236+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/monthly-trend
2025-12-30T09:33:18.236+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:18.237+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:18.237+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/status-stats
2025-12-30T09:33:18.238+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio
2025-12-30T09:33:18.239+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:33:18.239+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/monthly-trend", parameters={}
2025-12-30T09:33:18.240+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@606d6ee9] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:18.240+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c525ee0] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:18.241+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/status-stats", parameters={}
2025-12-30T09:33:18.241+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio", parameters={}
2025-12-30T09:33:18.242+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:33:18.242+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTrend(String, String)
2025-12-30T09:33:18.243+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getStatusStats(String, String)
2025-12-30T09:33:18.246+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2025-12-30T09:33:18.248+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:18.248+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1202088570 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:33:18.248+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1884599916 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:33:18.249+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:33:18.249+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:33:18.252+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:33:18.252+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@84bd6fa] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:18.252+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:33:18.253+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:33:18.253+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:33:18.254+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:33:18.255+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:33:18.256+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:33:18.257+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1377805251 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:33:18.260+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectDashboardStats           : ==>  Preparing: SELECT COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS totalCount, COALESCE(AVG(total_amount), 0) AS averageAmount, COALESCE(MAX(total_amount), 0) AS maxAmount, COALESCE(MIN(total_amount), 0) AS minAmount, SUM(CASE WHEN status = 'PENDING' THEN 1 ELSE 0 END) AS pendingCount FROM expense_report_tb WHERE company_id = ?
2025-12-30T09:33:18.261+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectDashboardStats           : ==> Parameters: 1(Long)
2025-12-30T09:33:18.257+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:33:18.257+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:18.259+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:18.259+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:18.267+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:33:18.268+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectDashboardStats           : <==      Total: 1
2025-12-30T09:33:18.269+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@88b342f] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:18.269+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31c166e6] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:18.269+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a349c1f] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:18.270+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@606d6ee9]
2025-12-30T09:33:18.273+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:18.270+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@84bd6fa]
2025-12-30T09:33:18.273+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51b5b87f] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:18.274+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:18.275+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:33:18.275+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2074937926 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:33:18.275+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@100537531 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:18.276+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectMonthlyTrend             : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS count FROM expense_report_tb WHERE company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-30T09:33:18.276+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@354638309 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:18.276+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2059903770 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:33:18.276+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 통계 조회 성공, data=DashboardStatsDto(totalAmount=104561, totalCou (truncated)...]
2025-12-30T09:33:18.276+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c525ee0]
2025-12-30T09:33:18.286+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:18.276+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:33:18.280+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectMonthlyTrend             : ==> Parameters: 1(Long)
2025-12-30T09:33:18.282+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.ExpenseMapper.selectStatusStats  : ==>  Preparing: SELECT status, COUNT(*) AS count, COALESCE(SUM(total_amount), 0) AS totalAmount FROM expense_report_tb WHERE company_id = ? GROUP BY status ORDER BY count DESC
2025-12-30T09:33:18.284+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? GROUP BY d.category ORDER BY amount DESC
2025-12-30T09:33:18.286+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:18.286+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d1c8c63] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:18.298+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@413477293 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:33:18.298+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:18.288+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:33:18.289+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.ExpenseMapper.selectStatusStats  : ==> Parameters: 1(Long)
2025-12-30T09:33:18.291+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: 1(Long)
2025-12-30T09:33:18.292+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectMonthlyTrend             : <==      Total: 1
2025-12-30T09:33:18.295+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/credits/total
2025-12-30T09:33:18.300+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:18.306+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:33:18.306+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.ExpenseMapper.selectStatusStats  : <==      Total: 3
2025-12-30T09:33:18.306+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@88b342f]
2025-12-30T09:33:18.309+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:18.307+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectCategoryRatio            : <==      Total: 2
2025-12-30T09:33:18.307+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/credits/total
2025-12-30T09:33:18.307+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51b5b87f]
2025-12-30T09:33:18.308+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31c166e6]
2025-12-30T09:33:18.309+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:18.309+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d1c8c63]
2025-12-30T09:33:18.309+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a349c1f]
2025-12-30T09:33:18.311+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:18.313+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/credits/total
2025-12-30T09:33:18.316+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:18.317+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 추이 조회 성공, data=[MonthlyTrendDto(yearMonth=2025-12, totalAmount= (truncated)...]
2025-12-30T09:33:18.317+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:18.319+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75b52727] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:18.318+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:18.320+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@204722790 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:33:18.318+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:33:18.318+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/credits/total", parameters={}
2025-12-30T09:33:18.318+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태별 통계 조회 성공, data=[StatusStatsDto(status=WAIT, count=6, totalAmou (truncated)...]
2025-12-30T09:33:18.319+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:18.320+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[CategoryRatioDto(category=식대, amount=103450, (truncated)...]
2025-12-30T09:33:18.320+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:33:18.324+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:18.321+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:18.322+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CreditController#getTotalAvailableAmount()
2025-12-30T09:33:18.323+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:18.324+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:33:18.325+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2025-12-30T09:33:18.332+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2025-12-30T09:33:18.340+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/stats
2025-12-30T09:33:18.340+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/monthly-trend
2025-12-30T09:33:18.340+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2025-12-30T09:33:18.347+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/subscriptions/current
2025-12-30T09:33:18.355+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/stats
2025-12-30T09:33:18.356+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/status-stats
2025-12-30T09:33:18.359+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/monthly-trend
2025-12-30T09:33:18.374+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:33:18.378+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75b52727]
2025-12-30T09:33:18.379+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:18.380+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48d031b1] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:18.380+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@335588243 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:33:18.381+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:18.381+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:18.375+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:18.382+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@648113e6] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:18.375+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2025-12-30T09:33:18.382+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1671831439 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:18.376+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/stats
2025-12-30T09:33:18.377+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/status-stats
2025-12-30T09:33:18.379+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/monthly-trend
2025-12-30T09:33:18.382+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2025-12-30T09:33:18.382+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.C.getTotalAvailableAmount        : ==>  Preparing: SELECT COALESCE(SUM(amount - used_amount), 0) FROM credit_tb WHERE company_id = ? AND (expires_at IS NULL OR expires_at >= ?)
2025-12-30T09:33:18.385+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.C.getTotalAvailableAmount        : ==> Parameters: 1(Long), 2025-12-30(LocalDate)
2025-12-30T09:33:18.383+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/stats", parameters={}
2025-12-30T09:33:18.383+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/status-stats
2025-12-30T09:33:18.387+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/status-stats", parameters={}
2025-12-30T09:33:18.387+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getStatusStats(String, String)
2025-12-30T09:33:18.384+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/monthly-trend", parameters={}
2025-12-30T09:33:18.384+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2025-12-30T09:33:18.386+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getDashboardStats(String, String)
2025-12-30T09:33:18.389+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:33:18.389+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTrend(String, String)
2025-12-30T09:33:18.392+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-30T09:33:18.393+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:33:18.393+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:18.393+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.C.getTotalAvailableAmount        : <==      Total: 1
2025-12-30T09:33:18.394+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:33:18.400+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:33:18.402+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-30T09:33:18.402+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:33:18.402+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48d031b1]
2025-12-30T09:33:18.402+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@648113e6]
2025-12-30T09:33:18.403+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:18.403+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:33:18.404+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:18.407+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6aa368f6] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:18.404+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:18.405+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:18.409+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:33:18.405+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:18.405+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45f30e9a] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:18.407+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:18.408+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@654277431 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:18.408+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d48e865] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:18.410+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:18.411+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data={totalAmount=5145})]
2025-12-30T09:33:18.420+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1714213865 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:33:18.422+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:18.421+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2336686c] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:18.421+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2025-12-30T09:33:18.422+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1048353852 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:33:18.424+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectDashboardStats           : ==>  Preparing: SELECT COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS totalCount, COALESCE(AVG(total_amount), 0) AS averageAmount, COALESCE(MAX(total_amount), 0) AS maxAmount, COALESCE(MIN(total_amount), 0) AS minAmount, SUM(CASE WHEN status = 'PENDING' THEN 1 ELSE 0 END) AS pendingCount FROM expense_report_tb WHERE company_id = ?
2025-12-30T09:33:18.422+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.ExpenseMapper.selectStatusStats  : ==>  Preparing: SELECT status, COUNT(*) AS count, COALESCE(SUM(total_amount), 0) AS totalAmount FROM expense_report_tb WHERE company_id = ? GROUP BY status ORDER BY count DESC
2025-12-30T09:33:18.423+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1501425796 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:18.424+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2025-12-30T09:33:18.425+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectDashboardStats           : ==> Parameters: 1(Long)
2025-12-30T09:33:18.425+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.ExpenseMapper.selectStatusStats  : ==> Parameters: 1(Long)
2025-12-30T09:33:18.425+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectMonthlyTrend             : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS count FROM expense_report_tb WHERE company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-30T09:33:18.426+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectMonthlyTrend             : ==> Parameters: 1(Long)
2025-12-30T09:33:18.432+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio
2025-12-30T09:33:18.436+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/category-ratio
2025-12-30T09:33:18.437+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio
2025-12-30T09:33:18.437+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio", parameters={}
2025-12-30T09:33:18.438+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2025-12-30T09:33:18.439+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:33:18.440+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:33:18.441+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:18.443+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c140fb9] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:18.444+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@836438671 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:33:18.447+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? GROUP BY d.category ORDER BY amount DESC
2025-12-30T09:33:18.449+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: 1(Long)
2025-12-30T09:33:18.451+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectDashboardStats           : <==      Total: 1
2025-12-30T09:33:18.451+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2025-12-30T09:33:18.451+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d48e865]
2025-12-30T09:33:18.451+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2025-12-30T09:33:18.452+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.ExpenseMapper.selectStatusStats  : <==      Total: 3
2025-12-30T09:33:18.452+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:18.452+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45f30e9a]
2025-12-30T09:33:18.452+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 통계 조회 성공, data=DashboardStatsDto(totalAmount=104561, totalCou (truncated)...]
2025-12-30T09:33:18.453+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:18.453+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:18.453+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태별 통계 조회 성공, data=[StatusStatsDto(status=WAIT, count=6, totalAmou (truncated)...]
2025-12-30T09:33:18.454+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectMonthlyTrend             : <==      Total: 1
2025-12-30T09:33:18.454+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:18.455+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2336686c]
2025-12-30T09:33:18.457+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:18.457+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 추이 조회 성공, data=[MonthlyTrendDto(yearMonth=2025-12, totalAmount= (truncated)...]
2025-12-30T09:33:18.458+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:18.461+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectCategoryRatio            : <==      Total: 2
2025-12-30T09:33:18.462+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c140fb9]
2025-12-30T09:33:18.462+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:18.463+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[CategoryRatioDto(category=식대, amount=103450, (truncated)...]
2025-12-30T09:33:18.464+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:18.464+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2025-12-30T09:33:18.465+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 1
2025-12-30T09:33:18.466+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6aa368f6]
2025-12-30T09:33:18.467+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:18.468+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=SubscriptionDto(subscriptionId=1, companyId=1, planId= (truncated)...]
2025-12-30T09:33:18.469+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:18.472+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/credits/total
2025-12-30T09:33:18.473+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/credits/total
2025-12-30T09:33:18.474+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/credits/total
2025-12-30T09:33:18.475+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/credits/total", parameters={}
2025-12-30T09:33:18.476+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CreditController#getTotalAvailableAmount()
2025-12-30T09:33:18.477+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2025-12-30T09:33:18.480+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2025-12-30T09:33:18.482+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:18.483+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fdd7ce9] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:18.483+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1280693708 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:33:18.483+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.C.getTotalAvailableAmount        : ==>  Preparing: SELECT COALESCE(SUM(amount - used_amount), 0) FROM credit_tb WHERE company_id = ? AND (expires_at IS NULL OR expires_at >= ?)
2025-12-30T09:33:18.484+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.C.getTotalAvailableAmount        : ==> Parameters: 1(Long), 2025-12-30(LocalDate)
2025-12-30T09:33:18.485+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2025-12-30T09:33:18.487+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/subscriptions/current
2025-12-30T09:33:18.488+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2025-12-30T09:33:18.489+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2025-12-30T09:33:18.489+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2025-12-30T09:33:18.489+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-30T09:33:18.490+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-30T09:33:18.490+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:18.491+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1eefd38f] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:18.491+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1945725299 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:33:18.491+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2025-12-30T09:33:18.492+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2025-12-30T09:33:18.495+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.C.getTotalAvailableAmount        : <==      Total: 1
2025-12-30T09:33:18.496+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fdd7ce9]
2025-12-30T09:33:18.496+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:18.497+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data={totalAmount=5145})]
2025-12-30T09:33:18.497+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:18.501+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2025-12-30T09:33:18.501+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2025-12-30T09:33:18.506+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2025-12-30T09:33:18.506+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 1
2025-12-30T09:33:18.507+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1eefd38f]
2025-12-30T09:33:18.507+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:18.507+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=SubscriptionDto(subscriptionId=1, companyId=1, planId= (truncated)...]
2025-12-30T09:33:18.508+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:18.810+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/stats
2025-12-30T09:33:18.815+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/monthly-trend
2025-12-30T09:33:18.817+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/stats
2025-12-30T09:33:18.819+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/stats
2025-12-30T09:33:18.815+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio
2025-12-30T09:33:18.821+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/category-ratio
2025-12-30T09:33:18.826+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio
2025-12-30T09:33:18.827+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio", parameters={}
2025-12-30T09:33:18.815+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/status-stats
2025-12-30T09:33:18.816+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/credits/total
2025-12-30T09:33:18.818+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/monthly-trend
2025-12-30T09:33:18.831+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/monthly-trend
2025-12-30T09:33:18.820+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/stats", parameters={}
2025-12-30T09:33:18.829+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2025-12-30T09:33:18.830+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/status-stats
2025-12-30T09:33:18.833+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/status-stats
2025-12-30T09:33:18.831+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/credits/total
2025-12-30T09:33:18.834+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/credits/total
2025-12-30T09:33:18.835+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/credits/total", parameters={}
2025-12-30T09:33:18.832+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/monthly-trend", parameters={}
2025-12-30T09:33:18.832+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getDashboardStats(String, String)
2025-12-30T09:33:18.833+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:33:18.833+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/status-stats", parameters={}
2025-12-30T09:33:18.836+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CreditController#getTotalAvailableAmount()
2025-12-30T09:33:18.839+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTrend(String, String)
2025-12-30T09:33:18.844+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:33:18.846+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:33:18.848+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getStatusStats(String, String)
2025-12-30T09:33:18.849+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2025-12-30T09:33:18.849+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:33:18.849+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:33:18.850+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:18.850+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:33:18.850+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2025-12-30T09:33:18.850+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:33:18.853+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:18.853+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4129ec31] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:18.854+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:33:18.855+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:18.855+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:18.855+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e0de1a8] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:18.856+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@199770033 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:33:18.856+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:18.856+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15b78b67] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:18.857+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d73c108] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:18.857+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@196836071 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:18.857+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? GROUP BY d.category ORDER BY amount DESC
2025-12-30T09:33:18.857+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6866db47] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:18.857+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1223544981 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:33:18.858+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1367468899 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:18.859+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectDashboardStats           : ==>  Preparing: SELECT COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS totalCount, COALESCE(AVG(total_amount), 0) AS averageAmount, COALESCE(MAX(total_amount), 0) AS maxAmount, COALESCE(MIN(total_amount), 0) AS minAmount, SUM(CASE WHEN status = 'PENDING' THEN 1 ELSE 0 END) AS pendingCount FROM expense_report_tb WHERE company_id = ?
2025-12-30T09:33:18.859+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: 1(Long)
2025-12-30T09:33:18.859+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@569516611 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:33:18.860+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.C.getTotalAvailableAmount        : ==>  Preparing: SELECT COALESCE(SUM(amount - used_amount), 0) FROM credit_tb WHERE company_id = ? AND (expires_at IS NULL OR expires_at >= ?)
2025-12-30T09:33:18.860+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectMonthlyTrend             : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS count FROM expense_report_tb WHERE company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-30T09:33:18.860+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectDashboardStats           : ==> Parameters: 1(Long)
2025-12-30T09:33:18.860+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.ExpenseMapper.selectStatusStats  : ==>  Preparing: SELECT status, COUNT(*) AS count, COALESCE(SUM(total_amount), 0) AS totalAmount FROM expense_report_tb WHERE company_id = ? GROUP BY status ORDER BY count DESC
2025-12-30T09:33:18.862+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.C.getTotalAvailableAmount        : ==> Parameters: 1(Long), 2025-12-30(LocalDate)
2025-12-30T09:33:18.864+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectMonthlyTrend             : ==> Parameters: 1(Long)
2025-12-30T09:33:18.867+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.ExpenseMapper.selectStatusStats  : ==> Parameters: 1(Long)
2025-12-30T09:33:18.870+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectCategoryRatio            : <==      Total: 2
2025-12-30T09:33:18.871+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4129ec31]
2025-12-30T09:33:18.871+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectDashboardStats           : <==      Total: 1
2025-12-30T09:33:18.872+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:18.872+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.C.getTotalAvailableAmount        : <==      Total: 1
2025-12-30T09:33:18.872+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectMonthlyTrend             : <==      Total: 1
2025-12-30T09:33:18.873+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.ExpenseMapper.selectStatusStats  : <==      Total: 3
2025-12-30T09:33:18.873+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e0de1a8]
2025-12-30T09:33:18.873+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[CategoryRatioDto(category=식대, amount=103450, (truncated)...]
2025-12-30T09:33:18.873+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15b78b67]
2025-12-30T09:33:18.873+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d73c108]
2025-12-30T09:33:18.873+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6866db47]
2025-12-30T09:33:18.875+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:18.879+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 통계 조회 성공, data=DashboardStatsDto(totalAmount=104561, totalCou (truncated)...]
2025-12-30T09:33:18.876+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:18.876+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:18.877+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:18.878+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:18.881+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:18.884+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data={totalAmount=5145})]
2025-12-30T09:33:18.885+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 추이 조회 성공, data=[MonthlyTrendDto(yearMonth=2025-12, totalAmount= (truncated)...]
2025-12-30T09:33:18.886+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태별 통계 조회 성공, data=[StatusStatsDto(status=WAIT, count=6, totalAmou (truncated)...]
2025-12-30T09:33:18.887+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:18.888+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:18.889+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:31.422+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:33:31.423+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:33:31.425+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:33:31.426+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:33:31.426+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:33:31.426+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:33:31.427+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-30T09:33:31.427+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:33:31.427+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:33:31.427+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:33:31.427+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:33:31.429+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:33:31.430+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:33:31.430+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:31.429+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:33:31.430+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:31.431+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@359fdec0] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:31.431+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:33:31.431+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@622f3560] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:31.432+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:31.433+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@330664188 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:31.434+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:33:31.434+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a389f8e] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:31.435+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@663511915 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:33:31.436+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:33:31.438+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:33:31.441+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:33:31.442+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@897843882 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:31.442+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:33:31.442+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:33:31.442+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@359fdec0]
2025-12-30T09:33:31.443+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:33:31.444+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:31.444+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:33:31.448+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26ddfc48] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:31.449+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:33:31.451+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@622f3560]
2025-12-30T09:33:31.451+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1459599241 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:31.452+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a389f8e]
2025-12-30T09:33:31.452+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:31.453+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:31.453+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:31.453+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5450e776] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:31.454+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:31.454+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d13a449] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:31.454+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1318773496 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:33:31.456+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1640331357 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:31.456+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:33:31.456+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:31.457+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:33:31.457+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:31.460+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:31.466+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26ddfc48]
2025-12-30T09:33:31.468+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:31.468+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7eed6c03] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:31.469+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@932962346 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:31.469+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:33:31.470+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:31.471+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:33:31.473+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5450e776]
2025-12-30T09:33:31.473+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d13a449]
2025-12-30T09:33:31.473+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:33:31.474+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:31.474+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:31.481+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b2d615d] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:31.475+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:33:31.483+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@736933789 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:31.484+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:31.488+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:33:31.489+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:33:31.490+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:33:31.496+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7eed6c03]
2025-12-30T09:33:31.493+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:33:31.496+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:31.498+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@640772d4] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:31.498+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:33:31.499+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1906284323 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:31.499+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:33:31.499+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:33:31.502+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:31.502+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:33:31.502+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b2d615d]
2025-12-30T09:33:31.503+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:31.504+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:33:31.504+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:31.506+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18a50bdb] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:31.506+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:31.508+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:31.509+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@682800667 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:31.515+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54a0a382] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:31.519+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@640772d4]
2025-12-30T09:33:31.521+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:33:31.521+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:31.522+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:33:31.524+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:33:31.530+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@45606311 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:33:31.532+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:31.535+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:33:31.537+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:33:31.538+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:33:31.538+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:33:31.538+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18a50bdb]
2025-12-30T09:33:31.545+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:31.546+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ecc757a] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:31.545+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:33:31.546+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:33:31.549+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1049058475 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:31.549+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54a0a382]
2025-12-30T09:33:31.549+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:33:31.550+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:31.550+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:31.550+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:33:31.551+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:31.551+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33f632b4] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:31.551+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:33:31.552+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@645123054 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:33:31.552+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:31.553+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:33:31.553+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:31.553+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e8dbfdb] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:31.553+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:33:31.554+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ecc757a]
2025-12-30T09:33:31.556+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:31.556+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f1a962] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:31.557+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1534342701 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:33:31.557+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:33:31.557+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1845197731 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:31.557+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:33:31.558+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33f632b4]
2025-12-30T09:33:31.558+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:33:31.558+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:33:31.558+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:31.558+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:33:31.559+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:33:31.561+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:31.566+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:33:31.568+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:33:31.568+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:33:31.569+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e8dbfdb]
2025-12-30T09:33:31.569+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f1a962]
2025-12-30T09:33:31.569+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:33:31.569+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:31.570+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:31.571+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:33:31.571+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2506c49b] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:31.571+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bdfdac9] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:31.571+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:33:31.572+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@484712472 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:33:31.572+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@644406377 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:31.573+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:33:31.573+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:31.573+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:31.573+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:31.574+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:31.574+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:31.574+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d289ac7] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:31.577+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1676589879 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:33:31.577+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:31.577+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:31.577+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:33:31.579+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2506c49b]
2025-12-30T09:33:31.579+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bdfdac9]
2025-12-30T09:33:31.582+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:33:31.582+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:31.584+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:31.584+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@264aa389] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:31.585+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:33:31.586+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@905681351 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:33:31.586+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:33:31.586+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:33:31.586+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:31.587+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d289ac7]
2025-12-30T09:33:31.588+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:33:31.589+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:33:31.589+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:31.591+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64d7c49] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:31.591+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-30T09:33:31.591+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@798634213 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:33:31.592+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:33:31.592+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:33:31.592+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:33:31.593+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:33:31.593+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:33:31.593+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@264aa389]
2025-12-30T09:33:31.594+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:33:31.594+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:31.600+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33050673] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:31.600+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:31.600+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:33:31.600+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1075887473 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:33:31.601+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a9bdcd8] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:31.601+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64d7c49]
2025-12-30T09:33:31.602+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:31.602+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1543142018 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:31.602+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:31.603+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:31.603+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:33:31.603+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:33:31.604+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:33:31.604+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:31.608+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:31.609+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33050673]
2025-12-30T09:33:31.609+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:33:31.610+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:31.614+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a9bdcd8]
2025-12-30T09:33:31.615+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:33:31.615+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:31.616+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48ed60f2] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:31.616+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:31.617+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@745805867 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:31.618+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:33:31.618+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:31.620+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:31.620+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:33:31.620+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:33:31.621+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:33:31.621+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:33:31.622+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:31.623+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:31.623+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48ed60f2]
2025-12-30T09:33:31.624+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@122c1560] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:31.625+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:31.627+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dd76e10] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:31.629+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1050572712 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:31.630+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:33:31.632+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:33:31.634+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@497438321 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:33:31.635+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:33:31.637+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:33:31.637+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:33:31.637+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dd76e10]
2025-12-30T09:33:31.638+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:31.641+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@489ba38] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:31.642+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@579400535 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:31.648+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:33:31.651+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:33:31.652+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:33:31.652+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@122c1560]
2025-12-30T09:33:31.653+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:31.654+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50bdbb22] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:31.656+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:33:31.657+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@560123668 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:33:31.657+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@489ba38]
2025-12-30T09:33:31.658+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:31.659+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:31.659+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:31.659+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61e7f460] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:31.660+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@687262238 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:31.664+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:31.665+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:31.665+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:31.666+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50bdbb22]
2025-12-30T09:33:31.666+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:31.667+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ddba40f] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:31.668+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1342334525 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:33:31.668+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:31.668+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:33:31.668+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61e7f460]
2025-12-30T09:33:31.669+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:33:31.669+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:31.670+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15a3ce1e] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:31.672+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1262054462 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:31.673+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:33:31.673+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:33:31.673+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ddba40f]
2025-12-30T09:33:31.674+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:33:31.674+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:31.674+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fbb698c] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:31.675+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@535845800 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:33:31.676+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:31.677+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:31.677+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:33:31.681+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15a3ce1e]
2025-12-30T09:33:31.683+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:31.683+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:31.683+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fbb698c]
2025-12-30T09:33:31.684+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14f1a4b7] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:31.684+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:31.685+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@531188489 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:31.685+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:33:31.685+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:31.686+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:31.686+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:31.691+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:31.691+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14f1a4b7]
2025-12-30T09:33:31.691+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:31.692+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:33:31.692+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:35.359+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:33:35.359+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:33:35.360+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/stats
2025-12-30T09:33:35.362+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/monthly-trend
2025-12-30T09:33:35.363+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/status-stats
2025-12-30T09:33:35.364+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio
2025-12-30T09:33:35.366+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:33:35.367+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:33:35.388+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:33:35.372+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/stats
2025-12-30T09:33:35.389+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/stats
2025-12-30T09:33:35.390+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/stats", parameters={}
2025-12-30T09:33:35.390+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getDashboardStats(String, String)
2025-12-30T09:33:35.373+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/monthly-trend
2025-12-30T09:33:35.376+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/status-stats
2025-12-30T09:33:35.381+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/category-ratio
2025-12-30T09:33:35.383+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:33:35.388+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:33:35.390+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:33:35.391+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/monthly-trend
2025-12-30T09:33:35.392+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/status-stats
2025-12-30T09:33:35.393+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio
2025-12-30T09:33:35.394+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:33:35.396+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:33:35.398+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:33:35.399+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/monthly-trend", parameters={}
2025-12-30T09:33:35.404+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTrend(String, String)
2025-12-30T09:33:35.401+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/status-stats", parameters={}
2025-12-30T09:33:35.405+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getStatusStats(String, String)
2025-12-30T09:33:35.401+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio", parameters={}
2025-12-30T09:33:35.401+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:33:35.402+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:35.403+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:35.405+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:33:35.407+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:33:35.407+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2025-12-30T09:33:35.413+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:33:35.408+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:35.410+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21c0720e] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:35.412+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f4d78f7] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:35.413+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:33:35.413+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:33:35.417+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:33:35.417+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fe701af] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:35.421+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:35.421+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:35.422+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1969353083 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:35.422+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1341320223 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:33:35.423+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:35.424+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f4da43a] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:35.424+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20fa9f77] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:35.425+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectDashboardStats           : ==>  Preparing: SELECT COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS totalCount, COALESCE(AVG(total_amount), 0) AS averageAmount, COALESCE(MAX(total_amount), 0) AS maxAmount, COALESCE(MIN(total_amount), 0) AS minAmount, SUM(CASE WHEN status = 'PENDING' THEN 1 ELSE 0 END) AS pendingCount FROM expense_report_tb WHERE company_id = ?
2025-12-30T09:33:35.425+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:33:35.426+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11e11f40] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:35.427+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1379653341 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:35.432+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectDashboardStats           : ==> Parameters: 1(Long)
2025-12-30T09:33:35.433+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:33:35.433+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@437250392 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:33:35.433+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1294488953 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:33:35.435+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:33:35.436+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.ExpenseMapper.selectStatusStats  : ==>  Preparing: SELECT status, COUNT(*) AS count, COALESCE(SUM(total_amount), 0) AS totalAmount FROM expense_report_tb WHERE company_id = ? GROUP BY status ORDER BY count DESC
2025-12-30T09:33:35.437+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@618037597 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:33:35.437+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectDashboardStats           : <==      Total: 1
2025-12-30T09:33:35.437+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectMonthlyTrend             : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS count FROM expense_report_tb WHERE company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-30T09:33:35.437+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:33:35.437+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:33:35.437+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.ExpenseMapper.selectStatusStats  : ==> Parameters: 1(Long)
2025-12-30T09:33:35.438+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? GROUP BY d.category ORDER BY amount DESC
2025-12-30T09:33:35.438+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f4d78f7]
2025-12-30T09:33:35.438+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectMonthlyTrend             : ==> Parameters: 1(Long)
2025-12-30T09:33:35.438+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21c0720e]
2025-12-30T09:33:35.441+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: 1(Long)
2025-12-30T09:33:35.441+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.ExpenseMapper.selectStatusStats  : <==      Total: 3
2025-12-30T09:33:35.441+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:33:35.442+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:35.446+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 통계 조회 성공, data=DashboardStatsDto(totalAmount=104561, totalCou (truncated)...]
2025-12-30T09:33:35.442+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:35.443+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20fa9f77]
2025-12-30T09:33:35.446+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fe701af]
2025-12-30T09:33:35.447+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:35.448+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27bbf728] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:35.449+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:35.450+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:35.452+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/credits/total
2025-12-30T09:33:35.452+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1237038324 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:33:35.453+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectMonthlyTrend             : <==      Total: 1
2025-12-30T09:33:35.453+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectCategoryRatio            : <==      Total: 2
2025-12-30T09:33:35.453+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태별 통계 조회 성공, data=[StatusStatsDto(status=WAIT, count=6, totalAmou (truncated)...]
2025-12-30T09:33:35.454+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ef2431] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:35.454+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:33:35.454+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f4da43a]
2025-12-30T09:33:35.454+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/credits/total
2025-12-30T09:33:35.455+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11e11f40]
2025-12-30T09:33:35.455+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1918190584 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:35.458+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:35.455+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:35.456+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:33:35.456+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:35.458+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/credits/total
2025-12-30T09:33:35.458+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:35.458+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[CategoryRatioDto(category=식대, amount=103450, (truncated)...]
2025-12-30T09:33:35.460+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2025-12-30T09:33:35.460+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 추이 조회 성공, data=[MonthlyTrendDto(yearMonth=2025-12, totalAmount= (truncated)...]
2025-12-30T09:33:35.463+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/credits/total", parameters={}
2025-12-30T09:33:35.465+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:35.466+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:35.467+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/subscriptions/current
2025-12-30T09:33:35.468+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:35.469+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CreditController#getTotalAvailableAmount()
2025-12-30T09:33:35.472+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2025-12-30T09:33:35.472+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/stats
2025-12-30T09:33:35.474+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/status-stats
2025-12-30T09:33:35.474+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2025-12-30T09:33:35.474+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2025-12-30T09:33:35.475+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/stats
2025-12-30T09:33:35.476+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/status-stats
2025-12-30T09:33:35.479+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2025-12-30T09:33:35.480+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2025-12-30T09:33:35.481+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/stats
2025-12-30T09:33:35.485+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:35.481+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/status-stats
2025-12-30T09:33:35.481+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:33:35.484+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:35.485+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-30T09:33:35.485+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/stats", parameters={}
2025-12-30T09:33:35.485+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ef2431]
2025-12-30T09:33:35.487+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/status-stats", parameters={}
2025-12-30T09:33:35.487+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27bbf728]
2025-12-30T09:33:35.487+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1881e82c] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:35.488+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-30T09:33:35.489+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getDashboardStats(String, String)
2025-12-30T09:33:35.489+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:35.495+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d6cc723] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:35.490+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getStatusStats(String, String)
2025-12-30T09:33:35.491+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:35.491+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1975742529 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:33:35.500+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.C.getTotalAvailableAmount        : ==>  Preparing: SELECT COALESCE(SUM(amount - used_amount), 0) FROM credit_tb WHERE company_id = ? AND (expires_at IS NULL OR expires_at >= ?)
2025-12-30T09:33:35.493+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:35.495+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:33:35.496+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@98220563 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:35.497+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:33:35.498+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:33:35.500+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.C.getTotalAvailableAmount        : ==> Parameters: 1(Long), 2025-12-30(LocalDate)
2025-12-30T09:33:35.501+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@359ed137] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:35.506+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@783511401 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:33:35.507+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2025-12-30T09:33:35.501+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:33:35.502+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:33:35.503+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:33:35.505+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:35.507+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2025-12-30T09:33:35.508+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:35.510+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:33:35.514+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:35.514+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.C.getTotalAvailableAmount        : <==      Total: 1
2025-12-30T09:33:35.519+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio
2025-12-30T09:33:35.520+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43faa21a] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:35.522+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4561c4dc] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:35.523+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1881e82c]
2025-12-30T09:33:35.524+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2025-12-30T09:33:35.524+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:33:35.532+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d6cc723]
2025-12-30T09:33:35.524+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/category-ratio
2025-12-30T09:33:35.526+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@930698464 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:33:35.536+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectDashboardStats           : ==>  Preparing: SELECT COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS totalCount, COALESCE(AVG(total_amount), 0) AS averageAmount, COALESCE(MAX(total_amount), 0) AS maxAmount, COALESCE(MIN(total_amount), 0) AS minAmount, SUM(CASE WHEN status = 'PENDING' THEN 1 ELSE 0 END) AS pendingCount FROM expense_report_tb WHERE company_id = ?
2025-12-30T09:33:35.526+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1546388699 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:35.529+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:35.531+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2025-12-30T09:33:35.534+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:35.535+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio
2025-12-30T09:33:35.540+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio", parameters={}
2025-12-30T09:33:35.537+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectDashboardStats           : ==> Parameters: 1(Long)
2025-12-30T09:33:35.537+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.ExpenseMapper.selectStatusStats  : ==>  Preparing: SELECT status, COUNT(*) AS count, COALESCE(SUM(total_amount), 0) AS totalAmount FROM expense_report_tb WHERE company_id = ? GROUP BY status ORDER BY count DESC
2025-12-30T09:33:35.538+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data={totalAmount=5145})]
2025-12-30T09:33:35.539+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@437385d] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:35.540+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2025-12-30T09:33:35.541+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.ExpenseMapper.selectStatusStats  : ==> Parameters: 1(Long)
2025-12-30T09:33:35.541+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2025-12-30T09:33:35.541+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:35.543+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@536457767 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:35.545+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectDashboardStats           : <==      Total: 1
2025-12-30T09:33:35.550+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43faa21a]
2025-12-30T09:33:35.546+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:33:35.548+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 1
2025-12-30T09:33:35.549+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:35.552+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:35.550+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/monthly-trend
2025-12-30T09:33:35.550+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:35.551+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.ExpenseMapper.selectStatusStats  : <==      Total: 3
2025-12-30T09:33:35.557+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4561c4dc]
2025-12-30T09:33:35.551+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:33:35.551+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@359ed137]
2025-12-30T09:33:35.555+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/monthly-trend
2025-12-30T09:33:35.557+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 통계 조회 성공, data=DashboardStatsDto(totalAmount=104561, totalCou (truncated)...]
2025-12-30T09:33:35.557+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:35.563+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태별 통계 조회 성공, data=[StatusStatsDto(status=WAIT, count=6, totalAmou (truncated)...]
2025-12-30T09:33:35.565+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:35.558+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:35.558+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:35.570+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=SubscriptionDto(subscriptionId=1, companyId=1, planId= (truncated)...]
2025-12-30T09:33:35.559+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/monthly-trend
2025-12-30T09:33:35.560+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:35.569+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/credits/total
2025-12-30T09:33:35.569+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:35.583+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@437385d]
2025-12-30T09:33:35.586+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:35.570+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@610d4ebe] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:35.571+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:35.572+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/monthly-trend", parameters={}
2025-12-30T09:33:35.591+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTrend(String, String)
2025-12-30T09:33:35.575+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2025-12-30T09:33:35.575+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/credits/total
2025-12-30T09:33:35.589+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:33:35.590+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@665294091 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:35.605+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? GROUP BY d.category ORDER BY amount DESC
2025-12-30T09:33:35.593+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:33:35.597+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/subscriptions/current
2025-12-30T09:33:35.599+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/credits/total
2025-12-30T09:33:35.602+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:35.605+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: 1(Long)
2025-12-30T09:33:35.606+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:33:35.607+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2025-12-30T09:33:35.607+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/credits/total", parameters={}
2025-12-30T09:33:35.610+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:35.613+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51d306ff] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:35.612+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2025-12-30T09:33:35.614+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2025-12-30T09:33:35.612+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CreditController#getTotalAvailableAmount()
2025-12-30T09:33:35.614+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@685985681 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:33:35.618+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-30T09:33:35.619+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectCategoryRatio            : <==      Total: 2
2025-12-30T09:33:35.619+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2025-12-30T09:33:35.619+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectMonthlyTrend             : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS count FROM expense_report_tb WHERE company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-30T09:33:35.620+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-30T09:33:35.620+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@610d4ebe]
2025-12-30T09:33:35.620+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2025-12-30T09:33:35.622+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:35.624+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6913b153] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:35.625+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1094164216 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:33:35.625+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.C.getTotalAvailableAmount        : ==>  Preparing: SELECT COALESCE(SUM(amount - used_amount), 0) FROM credit_tb WHERE company_id = ? AND (expires_at IS NULL OR expires_at >= ?)
2025-12-30T09:33:35.620+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectMonthlyTrend             : ==> Parameters: 1(Long)
2025-12-30T09:33:35.621+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:35.622+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:35.626+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.C.getTotalAvailableAmount        : ==> Parameters: 1(Long), 2025-12-30(LocalDate)
2025-12-30T09:33:35.627+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b3341de] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:35.628+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[CategoryRatioDto(category=식대, amount=103450, (truncated)...]
2025-12-30T09:33:35.631+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@348758321 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:33:35.633+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:35.634+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2025-12-30T09:33:35.637+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2025-12-30T09:33:35.637+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.C.getTotalAvailableAmount        : <==      Total: 1
2025-12-30T09:33:35.637+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectMonthlyTrend             : <==      Total: 1
2025-12-30T09:33:35.638+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6913b153]
2025-12-30T09:33:35.639+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51d306ff]
2025-12-30T09:33:35.639+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2025-12-30T09:33:35.639+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:35.640+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:35.641+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2025-12-30T09:33:35.641+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data={totalAmount=5145})]
2025-12-30T09:33:35.642+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 추이 조회 성공, data=[MonthlyTrendDto(yearMonth=2025-12, totalAmount= (truncated)...]
2025-12-30T09:33:35.643+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:35.645+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:35.650+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2025-12-30T09:33:35.651+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 1
2025-12-30T09:33:35.651+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b3341de]
2025-12-30T09:33:35.652+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:35.653+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=SubscriptionDto(subscriptionId=1, companyId=1, planId= (truncated)...]
2025-12-30T09:33:35.653+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:35.922+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/stats
2025-12-30T09:33:35.922+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/monthly-trend
2025-12-30T09:33:35.922+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/status-stats
2025-12-30T09:33:35.923+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio
2025-12-30T09:33:35.923+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/credits/total
2025-12-30T09:33:35.924+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/stats
2025-12-30T09:33:35.925+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/monthly-trend
2025-12-30T09:33:35.925+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/status-stats
2025-12-30T09:33:35.926+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/dashboard/category-ratio
2025-12-30T09:33:35.931+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/credits/total
2025-12-30T09:33:35.932+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/stats
2025-12-30T09:33:35.933+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/monthly-trend
2025-12-30T09:33:35.933+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/status-stats
2025-12-30T09:33:35.935+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/status-stats", parameters={}
2025-12-30T09:33:35.933+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio
2025-12-30T09:33:35.936+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio", parameters={}
2025-12-30T09:33:35.934+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/credits/total
2025-12-30T09:33:35.934+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/stats", parameters={}
2025-12-30T09:33:35.934+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/monthly-trend", parameters={}
2025-12-30T09:33:35.936+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getStatusStats(String, String)
2025-12-30T09:33:35.937+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2025-12-30T09:33:35.937+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/credits/total", parameters={}
2025-12-30T09:33:35.939+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CreditController#getTotalAvailableAmount()
2025-12-30T09:33:35.940+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2025-12-30T09:33:35.937+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getDashboardStats(String, String)
2025-12-30T09:33:35.938+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTrend(String, String)
2025-12-30T09:33:35.938+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:33:35.939+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:33:35.941+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2025-12-30T09:33:35.942+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:33:35.943+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:33:35.946+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:33:35.949+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:33:35.949+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:35.950+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:33:35.951+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:33:35.952+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:35.953+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:35.954+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60d52e18] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:35.954+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:35.959+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@595c1136] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:35.955+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:35.955+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a081347] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:35.955+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@713d93cd] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:35.958+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1428737356 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:33:35.967+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.C.getTotalAvailableAmount        : ==>  Preparing: SELECT COALESCE(SUM(amount - used_amount), 0) FROM credit_tb WHERE company_id = ? AND (expires_at IS NULL OR expires_at >= ?)
2025-12-30T09:33:35.965+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@556183426 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:33:35.965+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6af3c953] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:35.966+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1359242238 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:35.967+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1732314498 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:33:35.968+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.C.getTotalAvailableAmount        : ==> Parameters: 1(Long), 2025-12-30(LocalDate)
2025-12-30T09:33:35.969+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectDashboardStats           : ==>  Preparing: SELECT COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS totalCount, COALESCE(AVG(total_amount), 0) AS averageAmount, COALESCE(MAX(total_amount), 0) AS maxAmount, COALESCE(MIN(total_amount), 0) AS minAmount, SUM(CASE WHEN status = 'PENDING' THEN 1 ELSE 0 END) AS pendingCount FROM expense_report_tb WHERE company_id = ?
2025-12-30T09:33:35.969+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2099547305 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:33:35.969+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.ExpenseMapper.selectStatusStats  : ==>  Preparing: SELECT status, COUNT(*) AS count, COALESCE(SUM(total_amount), 0) AS totalAmount FROM expense_report_tb WHERE company_id = ? GROUP BY status ORDER BY count DESC
2025-12-30T09:33:35.969+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? GROUP BY d.category ORDER BY amount DESC
2025-12-30T09:33:35.971+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectDashboardStats           : ==> Parameters: 1(Long)
2025-12-30T09:33:35.974+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectMonthlyTrend             : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS count FROM expense_report_tb WHERE company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-30T09:33:35.974+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.ExpenseMapper.selectStatusStats  : ==> Parameters: 1(Long)
2025-12-30T09:33:35.976+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: 1(Long)
2025-12-30T09:33:35.977+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.C.getTotalAvailableAmount        : <==      Total: 1
2025-12-30T09:33:35.982+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectMonthlyTrend             : ==> Parameters: 1(Long)
2025-12-30T09:33:35.985+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectDashboardStats           : <==      Total: 1
2025-12-30T09:33:35.986+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60d52e18]
2025-12-30T09:33:35.987+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@595c1136]
2025-12-30T09:33:35.988+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:35.988+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:35.989+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data={totalAmount=5145})]
2025-12-30T09:33:35.990+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 통계 조회 성공, data=DashboardStatsDto(totalAmount=104561, totalCou (truncated)...]
2025-12-30T09:33:35.990+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.ExpenseMapper.selectStatusStats  : <==      Total: 3
2025-12-30T09:33:35.991+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectCategoryRatio            : <==      Total: 2
2025-12-30T09:33:35.991+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectMonthlyTrend             : <==      Total: 1
2025-12-30T09:33:35.992+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:35.993+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:35.994+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a081347]
2025-12-30T09:33:35.997+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@713d93cd]
2025-12-30T09:33:35.998+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6af3c953]
2025-12-30T09:33:36.001+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:36.002+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:36.004+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:36.004+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태별 통계 조회 성공, data=[StatusStatsDto(status=WAIT, count=6, totalAmou (truncated)...]
2025-12-30T09:33:36.004+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[CategoryRatioDto(category=식대, amount=103450, (truncated)...]
2025-12-30T09:33:36.005+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 추이 조회 성공, data=[MonthlyTrendDto(yearMonth=2025-12, totalAmount= (truncated)...]
2025-12-30T09:33:36.005+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:36.006+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:36.008+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:37.819+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:33:37.819+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:33:37.819+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:33:37.821+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:33:37.823+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:33:37.823+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:33:37.823+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-30T09:33:37.823+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:33:37.823+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:33:37.824+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:33:37.828+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:33:37.830+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:37.830+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70d80132] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:37.824+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:33:37.832+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:33:37.832+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:33:37.824+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:33:37.833+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:37.836+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:37.836+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@251f9bd1] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:37.838+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51ebbd35] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:37.839+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1614746762 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:37.850+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:33:37.853+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:33:37.854+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2091988350 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:33:37.855+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1050242492 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:37.856+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:33:37.858+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:33:37.859+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:33:37.859+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:33:37.868+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:33:37.868+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:33:37.868+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:33:37.868+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70d80132]
2025-12-30T09:33:37.869+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51ebbd35]
2025-12-30T09:33:37.870+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@251f9bd1]
2025-12-30T09:33:37.870+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:37.870+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:37.871+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:37.871+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@379bd056] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:37.871+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61a84dd3] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:37.871+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6db0a9ca] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:37.871+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@308065565 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:37.872+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@292539609 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:37.873+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1479626839 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:33:37.873+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:33:37.874+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:37.874+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:37.875+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:33:37.876+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:37.876+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:37.882+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:33:37.883+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:37.883+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:37.884+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@379bd056]
2025-12-30T09:33:37.884+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6db0a9ca]
2025-12-30T09:33:37.884+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61a84dd3]
2025-12-30T09:33:37.885+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:37.885+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:37.885+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:37.886+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:33:37.887+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a6dd0d9] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:37.887+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3badc870] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:37.889+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:37.889+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@855366823 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:33:37.890+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@407424003 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:37.893+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:33:37.893+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:33:37.891+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:33:37.892+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:33:37.896+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:33:37.897+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:33:37.898+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:33:37.899+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:33:37.899+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:33:37.899+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:33:37.900+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:33:37.900+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:37.900+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3badc870]
2025-12-30T09:33:37.900+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a6dd0d9]
2025-12-30T09:33:37.900+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59765399] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:37.901+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:37.901+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:37.902+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@805708161 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:37.902+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66ef8368] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:37.902+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@393ab06a] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:37.902+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:33:37.903+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@869546381 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:37.904+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@233133196 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:33:37.904+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:33:37.905+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:37.905+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:33:37.906+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:33:37.905+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:37.907+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:33:37.908+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59765399]
2025-12-30T09:33:37.909+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:37.908+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:37.908+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:33:37.910+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36efa511] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:37.913+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66ef8368]
2025-12-30T09:33:37.914+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@393ab06a]
2025-12-30T09:33:37.915+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1575928526 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:37.916+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:37.916+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:37.916+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:33:37.917+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:33:37.917+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55b39aaf] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:37.918+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:33:37.919+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:37.919+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@963037587 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:33:37.923+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:37.923+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:37.921+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:33:37.925+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:33:37.929+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36efa511]
2025-12-30T09:33:37.927+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:37.927+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:33:37.930+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:37.931+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55b39aaf]
2025-12-30T09:33:37.931+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:33:37.931+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:33:37.931+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:37.934+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42b06383] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:37.932+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:33:37.933+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:37.935+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@186642328 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:33:37.936+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:33:37.942+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:33:37.943+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:37.943+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:33:37.943+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19220591] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:37.950+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:33:37.952+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:33:37.952+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1990333739 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:33:37.953+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:33:37.953+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:33:37.953+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:33:37.955+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42b06383]
2025-12-30T09:33:37.955+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:33:37.956+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:33:37.956+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:37.956+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:33:37.957+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ff94e3a] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:37.957+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:37.958+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1586797117 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:33:37.958+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b3c4fda] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:37.958+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:37.958+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:33:37.958+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@844106571 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:37.958+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:37.959+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19220591]
2025-12-30T09:33:37.959+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:33:37.960+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:37.963+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:33:37.963+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43506066] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:37.965+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:37.967+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1544104246 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:33:37.967+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ff94e3a]
2025-12-30T09:33:37.968+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:37.968+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:33:37.969+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:37.969+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:37.970+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b3c4fda]
2025-12-30T09:33:37.970+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:33:37.970+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:37.971+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:37.972+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fc0287f] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:37.973+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1176239810 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:37.973+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:37.975+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43506066]
2025-12-30T09:33:37.974+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:33:37.974+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:33:37.976+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:37.976+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:33:37.976+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f971f47] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:37.979+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-30T09:33:37.980+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@260314499 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:33:37.981+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:33:37.980+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:33:37.981+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:33:37.982+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:33:37.984+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:33:37.986+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:37.986+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:33:37.986+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:33:37.987+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d99e140] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:37.987+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fc0287f]
2025-12-30T09:33:37.987+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f971f47]
2025-12-30T09:33:37.988+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:37.989+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:37.989+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@12281799 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:33:37.989+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:33:37.989+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38ae0bb] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:37.989+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:33:37.991+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:37.991+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1947253418 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:33:37.994+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:33:37.998+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:38.000+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:38.002+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:38.002+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:33:38.003+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38ae0bb]
2025-12-30T09:33:38.003+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d99e140]
2025-12-30T09:33:38.003+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:38.004+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:38.006+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:33:38.007+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@223e2abd] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:38.007+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:38.009+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@443574334 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:33:38.012+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:38.013+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:38.015+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:33:38.019+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:33:38.019+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:38.019+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:33:38.020+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@223e2abd]
2025-12-30T09:33:38.020+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:33:38.021+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:38.021+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:33:38.021+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b5b0ea0] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:38.022+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:38.022+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@677619892 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:33:38.022+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@239e8d76] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:38.022+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:33:38.023+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2044080233 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:38.024+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:33:38.024+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:33:38.026+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:33:38.027+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:33:38.029+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:33:38.030+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b5b0ea0]
2025-12-30T09:33:38.030+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@239e8d76]
2025-12-30T09:33:38.030+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:38.032+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:38.032+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5de423e] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:38.033+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@730b0de7] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:38.033+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@642998827 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:33:38.034+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@606723021 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:38.034+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:33:38.035+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:38.037+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:33:38.038+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:38.042+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:33:38.042+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:38.046+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5de423e]
2025-12-30T09:33:38.048+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@730b0de7]
2025-12-30T09:33:38.049+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:38.049+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:38.050+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a4255df] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:38.050+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ac4aeb6] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:38.051+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@226109211 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:33:38.051+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:38.051+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@822864956 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:38.052+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:38.052+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:33:38.053+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:33:38.053+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:38.054+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a4255df]
2025-12-30T09:33:38.054+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:33:38.054+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:38.055+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ac4aeb6]
2025-12-30T09:33:38.055+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21166a48] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:38.057+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:38.057+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10fb3972] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:38.057+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1234317080 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:33:38.058+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@804619461 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:38.058+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:33:38.058+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:38.059+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:33:38.059+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:38.062+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:38.062+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:33:38.064+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10fb3972]
2025-12-30T09:33:38.065+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21166a48]
2025-12-30T09:33:38.066+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:38.066+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:38.066+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:33:38.067+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f668fbc] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:38.067+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:38.068+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@498135090 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:33:38.072+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:38.073+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:38.074+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:38.075+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f668fbc]
2025-12-30T09:33:38.076+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:38.077+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:33:38.078+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:47.712+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10&status%5B%5D=PAID
2025-12-30T09:33:47.716+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10&status%5B%5D=PAID
2025-12-30T09:33:47.717+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-30T09:33:47.717+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10&status%5B%5D=PAID
2025-12-30T09:33:47.718+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10&status%5B%5D=PAID", parameters={masked}
2025-12-30T09:33:47.719+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:33:47.720+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:47.721+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fb6f077] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:47.752+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1680468294 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:33:47.753+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:33:47.754+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), PAID(String), 2147483647(Integer), 0(Integer)
2025-12-30T09:33:47.756+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-30T09:33:47.757+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fb6f077]
2025-12-30T09:33:47.757+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:47.757+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b9ca6d0] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:47.759+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2145428226 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:33:47.759+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:47.760+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:47.768+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:47.769+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b9ca6d0]
2025-12-30T09:33:47.769+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:47.770+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15e18fc1] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:47.771+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@996479371 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:33:47.771+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:33:47.772+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 6(Long), 1(Long)
2025-12-30T09:33:47.773+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-30T09:33:47.774+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15e18fc1]
2025-12-30T09:33:47.774+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:47.776+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55e8d015] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:47.778+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1290715886 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:33:47.782+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:33:47.785+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), PAID(String), 2147483647(Integer), 0(Integer)
2025-12-30T09:33:47.788+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-30T09:33:47.788+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55e8d015]
2025-12-30T09:33:47.789+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:47.790+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24e200e8] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:47.790+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@932774937 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:33:47.790+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:47.791+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:47.792+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:47.793+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24e200e8]
2025-12-30T09:33:47.793+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:47.794+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@716fe24f] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:47.799+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1161714122 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:33:47.800+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:33:47.800+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 6(Long), 1(Long)
2025-12-30T09:33:47.802+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-30T09:33:47.802+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@716fe24f]
2025-12-30T09:33:47.802+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:47.803+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6530ddb8] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:47.804+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1807951563 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:33:47.804+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:47.804+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:47.806+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:47.806+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6530ddb8]
2025-12-30T09:33:47.807+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:47.807+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:33:47.808+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:51.626+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/6
2025-12-30T09:33:51.626+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:33:51.626+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:33:51.634+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:33:51.634+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:33:51.635+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:33:51.635+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:33:51.636+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:51.637+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@377d9400] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:51.629+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/6
2025-12-30T09:33:51.634+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:33:51.640+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:33:51.642+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/6
2025-12-30T09:33:51.648+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:33:51.650+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/6
2025-12-30T09:33:51.651+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:33:51.651+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/6
2025-12-30T09:33:51.653+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/6", parameters={}
2025-12-30T09:33:51.652+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:51.653+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1470246177 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:51.654+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-30T09:33:51.655+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c1b8c39] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:51.656+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:33:51.663+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:33:51.656+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:51.666+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a1bc58f] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:51.670+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1694490883 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:51.671+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:33:51.684+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:33:51.686+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@377d9400]
2025-12-30T09:33:51.690+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:33:51.690+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:51.690+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@489856727 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:33:51.695+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-30T09:33:51.692+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f64eb24] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:51.696+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 6(Long), 1(Long)
2025-12-30T09:33:51.697+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@145011707 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:51.701+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:33:51.698+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:33:51.702+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c1b8c39]
2025-12-30T09:33:51.702+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:33:51.703+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:51.704+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f7538e5] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:51.705+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1961580084 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:51.706+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:51.711+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:51.718+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:33:51.718+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-30T09:33:51.719+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f64eb24]
2025-12-30T09:33:51.720+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a1bc58f]
2025-12-30T09:33:51.721+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:51.721+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:51.722+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:51.722+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f7538e5]
2025-12-30T09:33:51.722+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:33:51.723+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70b3a5ad] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:51.723+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:51.725+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:51.725+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1085145949 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:33:51.733+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-30T09:33:51.733+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 6(Long), 1(Long)
2025-12-30T09:33:51.725+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8f4b231] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:51.734+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@247468506 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:51.736+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:33:51.736+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-30T09:33:51.737+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:33:51.738+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70b3a5ad]
2025-12-30T09:33:51.739+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:51.740+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c9eb153] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:51.740+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1374545312 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:33:51.741+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-30T09:33:51.741+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 6(Long), 1(Long)
2025-12-30T09:33:51.742+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:33:51.748+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8f4b231]
2025-12-30T09:33:51.750+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:51.750+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75d4434b] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:51.750+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1478230778 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:51.750+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-30T09:33:51.752+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:51.752+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c9eb153]
2025-12-30T09:33:51.753+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:51.753+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:51.753+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3711339e] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:51.754+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2127300614 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:33:51.755+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-30T09:33:51.755+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:51.756+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 6(Long), 1(Long)
2025-12-30T09:33:51.758+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75d4434b]
2025-12-30T09:33:51.759+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:51.761+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:33:51.763+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:51.765+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2025-12-30T09:33:51.768+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3711339e]
2025-12-30T09:33:51.770+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:51.771+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c76aa5f] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:51.771+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1380317580 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:33:51.772+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:51.772+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:51.774+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:51.775+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c76aa5f]
2025-12-30T09:33:51.776+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:51.780+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=6, drafterId=2, re (truncated)...]
2025-12-30T09:33:51.784+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:51.787+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/6
2025-12-30T09:33:51.789+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/6
2025-12-30T09:33:51.789+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/6
2025-12-30T09:33:51.790+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/6", parameters={}
2025-12-30T09:33:51.790+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-30T09:33:51.791+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:51.792+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f3c0835] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:51.796+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1783859837 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:33:51.798+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-30T09:33:51.801+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 6(Long), 1(Long)
2025-12-30T09:33:51.803+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-30T09:33:51.804+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f3c0835]
2025-12-30T09:33:51.806+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:51.807+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@227c7000] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:51.808+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@68095792 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:33:51.808+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-30T09:33:51.809+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 6(Long), 1(Long)
2025-12-30T09:33:51.815+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-30T09:33:51.818+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@227c7000]
2025-12-30T09:33:51.818+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:51.818+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a4e00fd] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:51.820+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1265864132 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:33:51.820+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-30T09:33:51.820+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 6(Long), 1(Long)
2025-12-30T09:33:51.825+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-30T09:33:51.825+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a4e00fd]
2025-12-30T09:33:51.826+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:51.826+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ed47249] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:51.828+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1961349766 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:33:51.829+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-30T09:33:51.830+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 6(Long), 1(Long)
2025-12-30T09:33:51.835+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2025-12-30T09:33:51.835+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ed47249]
2025-12-30T09:33:51.835+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:51.836+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fc0bcd6] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:51.836+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1915472733 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:33:51.836+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:51.836+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:51.838+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:51.838+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fc0bcd6]
2025-12-30T09:33:51.839+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:51.840+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=6, drafterId=2, re (truncated)...]
2025-12-30T09:33:51.841+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:53.041+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:33:53.041+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:33:53.041+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:33:53.042+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:33:53.042+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:33:53.042+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:33:53.042+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-30T09:33:53.042+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:33:53.043+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:33:53.043+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:33:53.043+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:33:53.043+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:33:53.043+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:33:53.043+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:33:53.046+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:53.046+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:33:53.047+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:53.048+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34a157e6] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:53.047+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ffabce0] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:53.048+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:53.049+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b6ff8aa] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:53.051+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1708348285 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:53.051+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@363488531 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:33:53.052+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:33:53.053+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:33:53.053+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@164875180 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:33:53.055+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:33:53.057+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:33:53.059+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:33:53.066+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:33:53.067+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:33:53.068+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:33:53.068+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:33:53.069+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ffabce0]
2025-12-30T09:33:53.069+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34a157e6]
2025-12-30T09:33:53.069+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b6ff8aa]
2025-12-30T09:33:53.070+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:53.070+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:53.071+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:53.073+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30f57cd] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:53.072+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51b39d55] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:53.072+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79e959d3] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:53.074+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1749732970 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:33:53.074+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@776573623 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:53.074+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2135152498 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:33:53.075+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:53.076+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:53.078+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:53.076+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:33:53.077+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:53.083+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:33:53.084+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:53.085+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51b39d55]
2025-12-30T09:33:53.086+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:53.086+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b6b5045] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:53.086+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@377431880 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:53.087+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:33:53.089+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:33:53.090+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:33:53.090+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:53.090+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79e959d3]
2025-12-30T09:33:53.090+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30f57cd]
2025-12-30T09:33:53.091+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:53.091+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:53.091+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:33:53.092+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7256fca8] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:53.094+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:53.095+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:33:53.097+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@194935824 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:33:53.101+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:33:53.101+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b6b5045]
2025-12-30T09:33:53.102+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:33:53.102+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:53.107+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5638a29e] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:53.104+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:33:53.108+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1464871268 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:53.114+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:53.113+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:33:53.115+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:53.115+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:33:53.117+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:33:53.118+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:33:53.118+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:53.119+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7256fca8]
2025-12-30T09:33:53.120+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:33:53.121+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5638a29e]
2025-12-30T09:33:53.121+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:53.122+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:53.122+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:53.122+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55197a86] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:53.122+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27a2f0bc] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:53.123+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:33:53.124+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@275738417 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:33:53.125+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:53.129+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:33:53.130+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:33:53.132+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:33:53.134+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:33:53.135+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@916174811 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:33:53.136+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:33:53.136+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:33:53.136+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:33:53.137+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:33:53.137+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:33:53.138+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:33:53.139+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55197a86]
2025-12-30T09:33:53.139+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:53.139+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:53.140+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59514523] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:53.141+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@135f5d38] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:53.141+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:33:53.141+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@284972040 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:33:53.142+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@227330207 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:53.142+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27a2f0bc]
2025-12-30T09:33:53.143+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:33:53.146+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:53.147+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:53.148+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:33:53.148+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:53.149+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c61da08] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:53.149+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1501504053 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:33:53.152+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:33:53.154+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:53.154+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:33:53.154+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:33:53.155+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@135f5d38]
2025-12-30T09:33:53.155+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59514523]
2025-12-30T09:33:53.155+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:53.156+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:53.157+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41c1cc99] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:53.157+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:33:53.158+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76713831] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:53.163+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@673115908 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:53.165+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c61da08]
2025-12-30T09:33:53.168+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@635044737 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:33:53.169+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:33:53.169+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:53.169+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:53.170+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:33:53.170+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:33:53.171+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:53.173+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:53.177+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:33:53.179+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:33:53.181+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41c1cc99]
2025-12-30T09:33:53.182+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:53.182+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:53.183+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:33:53.184+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ce454df] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:53.184+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76713831]
2025-12-30T09:33:53.184+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:33:53.185+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1661919454 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:53.185+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:53.185+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:33:53.185+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:53.186+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7dfdf08f] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:53.186+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:33:53.187+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:53.187+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@36892593 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:33:53.188+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:53.189+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:33:53.190+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ac0867c] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:53.190+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:53.190+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:33:53.193+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ce454df]
2025-12-30T09:33:53.197+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1436728636 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:33:53.198+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:53.198+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:33:53.200+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:33:53.201+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:33:53.202+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:33:53.203+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:53.204+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7dfdf08f]
2025-12-30T09:33:53.206+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:33:53.206+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:53.207+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-30T09:33:53.209+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2794ec4] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:53.209+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:33:53.213+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ac0867c]
2025-12-30T09:33:53.210+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:33:53.213+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@269664140 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:33:53.216+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:53.217+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:33:53.217+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:53.218+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ff2daf8] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:53.218+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:33:53.218+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:53.219+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1557182217 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:33:53.219+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:53.219+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:33:53.219+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fcbc054] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:53.220+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:33:53.221+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@665729346 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:53.222+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:33:53.224+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:33:53.230+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:53.230+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2794ec4]
2025-12-30T09:33:53.231+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:53.232+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:33:53.232+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:33:53.233+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:53.233+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ff2daf8]
2025-12-30T09:33:53.234+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:53.236+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:33:53.236+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:33:53.236+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fcbc054]
2025-12-30T09:33:53.236+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:53.236+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:53.237+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e72269f] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:53.237+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@798662245 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:53.238+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:53.238+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:53.241+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:33:53.243+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:33:53.243+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:33:53.245+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:33:53.246+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:33:53.247+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:53.248+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@530b6255] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:53.250+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:53.251+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e72269f]
2025-12-30T09:33:53.251+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:53.251+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30b05dba] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:53.252+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@803849197 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:53.252+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:33:53.253+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:33:53.266+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1008821470 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:53.266+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:33:53.267+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:33:53.269+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:33:53.269+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30b05dba]
2025-12-30T09:33:53.270+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:53.270+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bdba28f] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:53.271+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1496608707 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:53.272+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:33:53.273+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:33:53.274+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:33:53.274+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@530b6255]
2025-12-30T09:33:53.275+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:53.275+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e9cc6e] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:53.275+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@385955914 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:53.275+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:33:53.275+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:53.276+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bdba28f]
2025-12-30T09:33:53.276+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:53.276+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:53.276+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@341a0a75] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:53.277+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@48433571 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:53.278+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:53.280+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:53.283+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:53.283+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e9cc6e]
2025-12-30T09:33:53.283+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:53.284+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e764aa6] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:53.284+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:53.285+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@640967098 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:53.285+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@341a0a75]
2025-12-30T09:33:53.285+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:33:53.286+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:53.286+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:33:53.286+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@591c64c3] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:53.287+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1026655287 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:53.287+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:33:53.287+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:33:53.288+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:33:53.288+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e764aa6]
2025-12-30T09:33:53.288+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:53.289+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@153a9e0a] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:53.290+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1229309297 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:53.290+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:53.290+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:33:53.290+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:53.290+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@591c64c3]
2025-12-30T09:33:53.291+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:53.291+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@469525f4] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:53.291+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2081778585 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:53.292+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:53.293+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:53.297+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:53.298+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:53.298+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@153a9e0a]
2025-12-30T09:33:53.298+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@469525f4]
2025-12-30T09:33:53.299+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:53.299+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:53.299+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:33:53.300+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:33:53.301+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:53.301+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:56.465+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10&status%5B%5D=PAID
2025-12-30T09:33:56.466+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-30T09:33:56.466+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10&status%5B%5D=PAID
2025-12-30T09:33:56.467+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10&status%5B%5D=PAID", parameters={masked}
2025-12-30T09:33:56.467+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:33:56.468+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:56.468+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1da09a08] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:56.470+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@959051583 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:33:56.470+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:33:56.471+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), PAID(String), 2147483647(Integer), 0(Integer)
2025-12-30T09:33:56.473+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-30T09:33:56.473+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1da09a08]
2025-12-30T09:33:56.474+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:56.474+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@565eac43] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:56.475+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2102747486 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:33:56.475+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:56.475+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:56.481+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:56.481+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@565eac43]
2025-12-30T09:33:56.482+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:56.482+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c080b72] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:56.483+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1603767300 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:33:56.483+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:33:56.484+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 6(Long), 1(Long)
2025-12-30T09:33:56.486+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-30T09:33:56.487+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c080b72]
2025-12-30T09:33:56.487+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:56.487+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d37340f] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:56.488+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@559476544 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:33:56.489+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:33:56.490+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), PAID(String), 2147483647(Integer), 0(Integer)
2025-12-30T09:33:56.492+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-30T09:33:56.492+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d37340f]
2025-12-30T09:33:56.492+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:56.497+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39e07e32] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:56.497+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@492024397 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:33:56.498+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:56.498+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:56.500+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:56.500+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39e07e32]
2025-12-30T09:33:56.500+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:56.500+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c7a0151] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:56.501+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1725035778 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:33:56.502+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:33:56.502+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 6(Long), 1(Long)
2025-12-30T09:33:56.504+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-30T09:33:56.504+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c7a0151]
2025-12-30T09:33:56.504+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:56.505+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2625b7e9] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:56.505+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@718887669 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:33:56.506+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:56.506+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:56.508+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:56.509+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2625b7e9]
2025-12-30T09:33:56.509+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:56.510+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:33:56.511+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:57.889+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:33:57.889+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/1
2025-12-30T09:33:57.889+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:33:57.890+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/1
2025-12-30T09:33:57.891+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:33:57.896+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:33:57.904+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/1
2025-12-30T09:33:57.900+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:33:57.904+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:33:57.906+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/1
2025-12-30T09:33:57.906+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:33:57.906+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:33:57.907+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/1
2025-12-30T09:33:57.907+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:33:57.907+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:33:57.907+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/1", parameters={}
2025-12-30T09:33:57.908+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:57.908+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:57.909+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-30T09:33:57.909+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37054c1f] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:57.909+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4259cca7] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:57.909+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:57.915+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1734a818] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:57.917+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1703412554 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:33:57.918+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@128688737 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:57.918+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@224677756 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:57.918+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:33:57.918+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:33:57.918+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-30T09:33:57.919+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:33:57.919+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:33:57.919+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 1(Long), 1(Long)
2025-12-30T09:33:57.921+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:33:57.921+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:33:57.922+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-30T09:33:57.922+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4259cca7]
2025-12-30T09:33:57.922+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37054c1f]
2025-12-30T09:33:57.922+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1734a818]
2025-12-30T09:33:57.922+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:57.922+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:57.923+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:57.924+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63040989] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:57.924+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c487915] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:57.924+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3938aa5e] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:57.924+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@131565667 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:57.924+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1974944949 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:33:57.925+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1656708568 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:57.925+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:33:57.925+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:57.925+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-30T09:33:57.926+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:33:57.926+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:57.926+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 1(Long), 1(Long)
2025-12-30T09:33:57.930+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:33:57.930+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63040989]
2025-12-30T09:33:57.930+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:57.931+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:57.931+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-30T09:33:57.931+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c487915]
2025-12-30T09:33:57.931+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:33:57.931+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3938aa5e]
2025-12-30T09:33:57.933+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:57.934+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:57.934+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:57.935+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34f0f1e6] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:57.935+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33350393] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:57.936+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@189773500 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:33:57.937+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1336096241 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:57.937+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:33:57.937+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-30T09:33:57.937+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:33:57.938+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 1(Long), 1(Long)
2025-12-30T09:33:57.939+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:33:57.941+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34f0f1e6]
2025-12-30T09:33:57.960+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:57.961+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2025-12-30T09:33:57.970+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@101ed24f] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:57.971+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33350393]
2025-12-30T09:33:57.973+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@592604779 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:33:57.973+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:57.973+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:57.973+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65dd6ef0] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:57.974+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:57.974+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2121257027 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:57.976+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-30T09:33:57.978+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 1(Long), 1(Long)
2025-12-30T09:33:57.979+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:57.981+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@101ed24f]
2025-12-30T09:33:57.983+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2025-12-30T09:33:57.983+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:57.983+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65dd6ef0]
2025-12-30T09:33:57.984+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:33:57.984+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:57.985+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28ddf374] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:57.985+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:57.986+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@653898353 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:57.988+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:57.989+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:57.991+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:57.992+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28ddf374]
2025-12-30T09:33:57.993+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:57.995+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=1, drafterId=2, re (truncated)...]
2025-12-30T09:33:57.998+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:58.000+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/1
2025-12-30T09:33:58.006+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/1
2025-12-30T09:33:58.009+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/1
2025-12-30T09:33:58.013+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/1", parameters={}
2025-12-30T09:33:58.014+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-30T09:33:58.018+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:58.019+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@360894b7] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:58.026+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@716703925 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:33:58.032+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-30T09:33:58.034+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 1(Long), 1(Long)
2025-12-30T09:33:58.036+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-30T09:33:58.037+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@360894b7]
2025-12-30T09:33:58.038+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:58.038+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7636909f] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:58.039+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1486418911 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:33:58.039+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-30T09:33:58.040+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 1(Long), 1(Long)
2025-12-30T09:33:58.042+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-30T09:33:58.042+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7636909f]
2025-12-30T09:33:58.042+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:58.043+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ea69fd8] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:58.043+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1012292347 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:33:58.048+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-30T09:33:58.050+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 1(Long), 1(Long)
2025-12-30T09:33:58.054+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2025-12-30T09:33:58.054+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ea69fd8]
2025-12-30T09:33:58.054+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:58.055+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7aa2c4bc] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:58.056+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@254674193 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:33:58.056+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-30T09:33:58.057+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 1(Long), 1(Long)
2025-12-30T09:33:58.058+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2025-12-30T09:33:58.059+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7aa2c4bc]
2025-12-30T09:33:58.059+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:58.059+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@353be910] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:58.060+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1506823215 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ebef537] will not be managed by Spring
2025-12-30T09:33:58.063+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:58.064+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:58.066+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:33:58.066+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@353be910]
2025-12-30T09:33:58.067+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:33:58.068+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=1, drafterId=2, re (truncated)...]
2025-12-30T09:33:58.071+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:33:59.924+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:33:59.925+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:33:59.925+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:33:59.926+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:33:59.926+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:33:59.925+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:33:59.926+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-30T09:33:59.926+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:33:59.927+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:33:59.933+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:33:59.933+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:33:59.931+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:33:59.934+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:33:59.934+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:33:59.935+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:59.936+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43de91a1] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:59.932+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:33:59.934+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:59.938+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a1730f] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:59.938+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:59.941+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a14f8ad] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:59.945+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1463601710 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:33:59.946+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2073385216 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:59.947+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:33:59.947+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:33:59.948+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:33:59.949+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:33:59.949+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@471254900 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:33:59.949+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:33:59.952+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:33:59.951+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:33:59.952+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:33:59.953+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43de91a1]
2025-12-30T09:33:59.991+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:59.991+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@236a2203] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:59.954+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a1730f]
2025-12-30T09:33:59.992+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1378215467 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:33:59.994+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:33:59.995+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:33:59.996+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ac4d6db] was not registered for synchronization because synchronization is not active
2025-12-30T09:33:59.997+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:33:59.997+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2119023630 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:33:59.998+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:34:00.012+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:34:00.041+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:34:00.041+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a14f8ad]
2025-12-30T09:34:00.041+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:34:00.049+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@236a2203]
2025-12-30T09:34:00.050+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:34:00.049+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:34:00.051+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@609109d3] was not registered for synchronization because synchronization is not active
2025-12-30T09:34:00.070+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@303650296 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:34:00.072+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:34:00.075+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:34:00.055+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7078914] was not registered for synchronization because synchronization is not active
2025-12-30T09:34:00.086+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@63274092 wrapping com.mysql.cj.jdbc.ConnectionImpl@dd4d4af] will not be managed by Spring
2025-12-30T09:34:00.088+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:34:00.089+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:34:00.091+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:34:00.092+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:34:00.091+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ac4d6db]
2025-12-30T09:34:00.092+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@609109d3]
2025-12-30T09:34:00.093+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:34:00.098+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:34:00.099+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@564952de] was not registered for synchronization because synchronization is not active
2025-12-30T09:34:00.099+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23d4c0ae] was not registered for synchronization because synchronization is not active
2025-12-30T09:34:00.099+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:34:00.099+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1787245762 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:34:00.100+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1264818838 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:34:00.100+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7078914]
2025-12-30T09:34:00.100+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:34:00.100+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:34:00.100+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:34:00.101+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:34:00.101+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:34:00.102+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:34:00.104+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:34:00.105+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:34:00.110+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@564952de]
2025-12-30T09:34:00.113+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:34:00.113+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d4e98d8] was not registered for synchronization because synchronization is not active
2025-12-30T09:34:00.114+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@554557965 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:34:00.115+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:34:00.115+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:34:00.115+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:34:00.115+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:34:00.116+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23d4c0ae]
2025-12-30T09:34:00.116+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:34:00.116+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:34:00.116+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:34:00.117+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b7c3655] was not registered for synchronization because synchronization is not active
2025-12-30T09:34:00.117+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:34:00.118+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:34:00.118+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2124961828 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:34:00.118+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:34:00.118+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d4e98d8]
2025-12-30T09:34:00.118+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:34:00.119+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:34:00.119+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:34:00.119+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:34:00.120+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@222ac3f5] was not registered for synchronization because synchronization is not active
2025-12-30T09:34:00.120+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:34:00.122+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:34:00.122+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:34:00.123+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b7c3655]
2025-12-30T09:34:00.123+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1238715270 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:34:00.124+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:34:00.130+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57bfcefb] was not registered for synchronization because synchronization is not active
2025-12-30T09:34:00.125+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:34:00.130+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:34:00.131+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1307280583 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:34:00.132+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:34:00.132+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:34:00.132+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:34:00.132+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:34:00.133+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:34:00.134+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:34:00.136+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:34:00.137+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:34:00.137+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@222ac3f5]
2025-12-30T09:34:00.138+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:34:00.138+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:34:00.138+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:34:00.139+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57bfcefb]
2025-12-30T09:34:00.139+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@709469f9] was not registered for synchronization because synchronization is not active
2025-12-30T09:34:00.140+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@304a4c61] was not registered for synchronization because synchronization is not active
2025-12-30T09:34:00.140+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:34:00.141+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1141962332 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:34:00.141+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ecbaafe] was not registered for synchronization because synchronization is not active
2025-12-30T09:34:00.142+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:34:00.143+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@925525962 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:34:00.147+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:34:00.147+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:34:00.148+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:34:00.148+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@104143378 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:34:00.150+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:34:00.150+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:34:00.150+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:34:00.150+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:34:00.150+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@304a4c61]
2025-12-30T09:34:00.150+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ecbaafe]
2025-12-30T09:34:00.152+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:34:00.153+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:34:00.153+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:34:00.153+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:34:00.153+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@709469f9]
2025-12-30T09:34:00.154+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:34:00.154+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:34:00.155+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fa6f0d1] was not registered for synchronization because synchronization is not active
2025-12-30T09:34:00.154+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:34:00.155+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:34:00.156+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@391064513 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:34:00.160+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:34:00.161+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:34:00.156+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:34:00.159+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:34:00.164+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/users/pending
2025-12-30T09:34:00.165+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:34:00.164+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses
2025-12-30T09:34:00.166+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:34:00.166+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:34:00.166+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:34:00.166+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:34:00.167+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fa6f0d1]
2025-12-30T09:34:00.167+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:34:00.168+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:34:00.168+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:34:00.168+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:34:00.169+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@491d0676] was not registered for synchronization because synchronization is not active
2025-12-30T09:34:00.169+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@610ae873] was not registered for synchronization because synchronization is not active
2025-12-30T09:34:00.170+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:34:00.171+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14a978f4] was not registered for synchronization because synchronization is not active
2025-12-30T09:34:00.170+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@996029639 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:34:00.171+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@694336763 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:34:00.172+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1461875625 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:34:00.172+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:34:00.172+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:34:00.173+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:34:00.173+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 5(Long)
2025-12-30T09:34:00.174+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:34:00.174+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:34:00.179+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:34:00.180+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:34:00.180+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:34:00.180+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@491d0676]
2025-12-30T09:34:00.181+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14a978f4]
2025-12-30T09:34:00.181+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@610ae873]
2025-12-30T09:34:00.182+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:34:00.182+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:34:00.182+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:34:00.183+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22057bdc] was not registered for synchronization because synchronization is not active
2025-12-30T09:34:00.183+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d1b8d67] was not registered for synchronization because synchronization is not active
2025-12-30T09:34:00.183+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c37f4a0] was not registered for synchronization because synchronization is not active
2025-12-30T09:34:00.184+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@51050332 wrapping com.mysql.cj.jdbc.ConnectionImpl@37b27a5] will not be managed by Spring
2025-12-30T09:34:00.184+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1110059240 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:34:00.185+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1783158309 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:34:00.185+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:34:00.185+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:34:00.185+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:34:00.186+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:34:00.186+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:34:00.186+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:34:00.189+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:34:00.189+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:34:00.190+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22057bdc]
2025-12-30T09:34:00.189+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:34:00.190+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c37f4a0]
2025-12-30T09:34:00.190+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:34:00.190+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d1b8d67]
2025-12-30T09:34:00.190+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:34:00.190+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:34:00.191+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:34:00.192+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:34:00.193+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:34:00.195+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13649d6] was not registered for synchronization because synchronization is not active
2025-12-30T09:34:00.195+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:34:00.196+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1074236450 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:34:00.200+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:34:00.201+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:34:00.201+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:34:00.202+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:34:00.202+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=5
2025-12-30T09:34:00.203+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=5", parameters={masked}
2025-12-30T09:34:00.203+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:34:00.204+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:34:00.204+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13649d6]
2025-12-30T09:34:00.205+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:34:00.206+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@588227ae] was not registered for synchronization because synchronization is not active
2025-12-30T09:34:00.204+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:34:00.207+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1799990673 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:34:00.207+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@752bb75] was not registered for synchronization because synchronization is not active
2025-12-30T09:34:00.208+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:34:00.208+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1631100282 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:34:00.208+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:34:00.209+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:34:00.212+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 5(Long), 1(Long)
2025-12-30T09:34:00.212+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:34:00.213+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@588227ae]
2025-12-30T09:34:00.214+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:34:00.214+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2025-12-30T09:34:00.215+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8b83d9f] was not registered for synchronization because synchronization is not active
2025-12-30T09:34:00.215+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@752bb75]
2025-12-30T09:34:00.217+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1095681137 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:34:00.218+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:34:00.218+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:34:00.218+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72e36b40] was not registered for synchronization because synchronization is not active
2025-12-30T09:34:00.219+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:34:00.219+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1626931066 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:34:00.220+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:34:00.220+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:34:00.221+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:34:00.221+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8b83d9f]
2025-12-30T09:34:00.222+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:34:00.222+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:34:00.223+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72e36b40]
2025-12-30T09:34:00.224+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ac1ab29] was not registered for synchronization because synchronization is not active
2025-12-30T09:34:00.224+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:34:00.224+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@601634603 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:34:00.224+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@580aea65] was not registered for synchronization because synchronization is not active
2025-12-30T09:34:00.224+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:34:00.225+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@836379471 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:34:00.225+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:34:00.225+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:34:00.228+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:34:00.231+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:34:00.232+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ac1ab29]
2025-12-30T09:34:00.232+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 5
2025-12-30T09:34:00.232+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:34:00.232+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@580aea65]
2025-12-30T09:34:00.232+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d2596bd] was not registered for synchronization because synchronization is not active
2025-12-30T09:34:00.233+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:34:00.233+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2061172435 wrapping com.mysql.cj.jdbc.ConnectionImpl@120f96c] will not be managed by Spring
2025-12-30T09:34:00.234+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20ac0241] was not registered for synchronization because synchronization is not active
2025-12-30T09:34:00.234+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:34:00.234+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@796564979 wrapping com.mysql.cj.jdbc.ConnectionImpl@369298aa] will not be managed by Spring
2025-12-30T09:34:00.234+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:34:00.234+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:34:00.235+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-30T09:34:00.236+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:34:00.237+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d2596bd]
2025-12-30T09:34:00.237+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:34:00.237+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:34:00.238+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20ac0241]
2025-12-30T09:34:00.239+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:34:00.240+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:34:00.241+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:34:00.241+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:34:00.243+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:34:01.416+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-30T09:34:01.420+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 5, role: ADMIN, companyId: 1, uri: /api/logout
2025-12-30T09:34:01.420+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-30T09:34:01.421+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-30T09:34:01.422+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-30T09:34:01.423+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiI1IiwidXNlcm5hbWUiOiJ (truncated)...]
2025-12-30T09:34:01.426+09:00  INFO 19004 --- [http-nio-8080-exec-10] SECURITY                                 : LOGOUT userId=5
2025-12-30T09:34:01.432+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:34:01.436+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-30T09:34:01.438+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:45:39.263+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-30T09:45:39.265+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-30T09:45:39.265+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-30T09:45:39.266+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-30T09:45:39.266+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-30T09:45:39.267+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_user1, password=1234)]
2025-12-30T09:45:39.269+09:00  INFO 19004 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 로그인 시도 - username: test_user1
2025-12-30T09:45:39.271+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:39.273+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d1ed73b] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:39.281+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@851098314 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:45:39.284+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-30T09:45:39.285+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user1(String)
2025-12-30T09:45:39.289+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-30T09:45:39.289+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d1ed73b]
2025-12-30T09:45:39.373+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:39.374+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66ef0d40] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:39.374+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@93673119 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:45:39.374+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:45:39.377+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 2(Long)
2025-12-30T09:45:39.380+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T09:45:39.381+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66ef0d40]
2025-12-30T09:45:39.382+09:00  INFO 19004 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 로그인 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1
2025-12-30T09:45:39.382+09:00  INFO 19004 --- [http-nio-8080-exec-7] SECURITY                                 : LOGIN_SUCCESS userId=2 username=test_user1 role=TAX_ACCOUNTANT
2025-12-30T09:45:39.383+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:45:39.384+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=2, username=test_user1, password (truncated)...]
2025-12-30T09:45:39.385+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:45:39.758+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-30T09:45:39.763+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/companies
2025-12-30T09:45:39.763+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-30T09:45:39.763+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-30T09:45:39.765+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-30T09:45:39.767+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:39.772+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c4c03d4] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:39.781+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@762183326 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:45:39.787+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-30T09:45:39.789+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-30T09:45:39.789+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:45:39.795+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 2(Long)
2025-12-30T09:45:39.796+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:45:39.796+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-30T09:45:39.800+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-30T09:45:39.803+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-30T09:45:39.802+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:45:39.803+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-30T09:45:39.803+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c4c03d4]
2025-12-30T09:45:39.804+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:45:39.804+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:45:39.805+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:45:39.805+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:45:39.805+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:39.805+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-30T09:45:39.806+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@298b2cc3] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:39.807+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:45:39.806+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:39.807+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1769311673 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:45:39.812+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:45:39.813+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-30T09:45:39.808+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2554aa5b] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:39.817+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@198955123 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:45:39.818+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:45:39.818+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T09:45:39.820+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:45:39.821+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@298b2cc3]
2025-12-30T09:45:39.822+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:39.822+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dc60369] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:39.823+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2111556390 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:45:39.823+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:45:39.824+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2554aa5b]
2025-12-30T09:45:39.823+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:45:39.824+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:39.824+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:45:39.825+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44993497] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:39.830+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1784518924 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:45:39.831+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:45:39.831+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:45:39.832+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:45:39.834+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dc60369]
2025-12-30T09:45:39.834+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:39.834+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:45:39.836+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72540e18] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:39.836+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44993497]
2025-12-30T09:45:39.836+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1328846448 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:45:39.837+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:39.837+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:45:39.837+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59424a0a] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:39.838+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 2(Long)
2025-12-30T09:45:39.838+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1425203257 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:45:39.839+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:45:39.840+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:45:39.840+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-30T09:45:39.841+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72540e18]
2025-12-30T09:45:39.842+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:39.842+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60542739] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:39.845+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@849527269 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:45:39.845+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:45:39.845+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:45:39.846+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59424a0a]
2025-12-30T09:45:39.846+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:45:39.847+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:39.847+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69a90b16] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:39.847+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@577769011 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:45:39.850+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:45:39.850+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:45:39.850+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:45:39.851+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60542739]
2025-12-30T09:45:39.851+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:45:39.853+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T09:45:39.853+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:45:39.854+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69a90b16]
2025-12-30T09:45:39.854+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:45:39.854+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:39.856+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-30T09:45:39.856+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f4d8800] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:39.860+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@513656132 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:45:39.858+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:45:39.862+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:45:39.863+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-30T09:45:39.863+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:45:39.864+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-30T09:45:39.865+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:45:39.866+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:45:39.867+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:39.868+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f4d8800]
2025-12-30T09:45:39.868+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2de57ab6] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:39.869+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:39.869+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1193565813 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:45:39.869+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b92bc68] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:39.870+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:45:39.870+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@147600018 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:45:39.870+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-30T09:45:39.871+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:45:39.872+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:45:39.873+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T09:45:39.874+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2de57ab6]
2025-12-30T09:45:39.875+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:39.875+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:45:39.875+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e301a7b] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:39.875+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b92bc68]
2025-12-30T09:45:39.875+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1753677249 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:45:39.876+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:39.876+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:45:39.876+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@367288c8] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:39.877+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:45:39.878+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2026701714 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:45:39.879+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:45:39.880+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:45:39.880+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:45:39.882+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e301a7b]
2025-12-30T09:45:39.883+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:39.883+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:45:39.883+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@eacb81d] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:39.883+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@367288c8]
2025-12-30T09:45:39.884+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1612814449 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:45:39.884+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:45:39.884+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:45:39.885+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:45:39.885+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 2(Long)
2025-12-30T09:45:39.886+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:45:39.887+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-30T09:45:39.887+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@eacb81d]
2025-12-30T09:45:39.888+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:45:39.888+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:39.888+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1403f1b0] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:39.889+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2131025789 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:45:39.888+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-30T09:45:39.889+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:45:39.890+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:45:39.890+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:45:39.890+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:45:39.892+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:45:39.896+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:39.897+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:45:39.897+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d96f814] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:39.898+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1403f1b0]
2025-12-30T09:45:39.898+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1457689499 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:45:39.899+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:45:39.899+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T09:45:39.899+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:45:39.903+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:45:39.904+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:45:39.906+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-30T09:45:39.908+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:45:39.908+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:45:39.908+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d96f814]
2025-12-30T09:45:39.911+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:39.912+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4626d0e3] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:39.908+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-30T09:45:39.913+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@480953963 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:45:39.914+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:45:39.915+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:45:39.913+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-30T09:45:39.916+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:45:39.917+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:39.917+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41374e0d] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:39.917+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:45:39.918+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@150374059 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:45:39.918+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4626d0e3]
2025-12-30T09:45:39.918+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:45:39.918+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:39.919+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-30T09:45:39.919+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@457895d0] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:39.920+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@891937876 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:45:39.922+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:45:39.923+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:45:39.923+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T09:45:39.924+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41374e0d]
2025-12-30T09:45:39.925+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:39.925+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:45:39.930+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@457895d0]
2025-12-30T09:45:39.930+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:39.931+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16047d55] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:39.931+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@399748176 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:45:39.932+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:45:39.925+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bc94a9f] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:39.933+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:45:39.935+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@821371597 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:45:39.935+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:45:39.936+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:45:39.938+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:45:39.938+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16047d55]
2025-12-30T09:45:39.939+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:39.938+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:45:39.939+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45d8fbcf] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:39.940+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bc94a9f]
2025-12-30T09:45:39.940+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1887684852 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:45:39.941+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:39.941+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:45:39.941+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62408c85] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:39.942+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:45:39.942+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1675407328 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:45:39.942+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:45:39.947+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 2(Long)
2025-12-30T09:45:39.948+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:45:39.956+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45d8fbcf]
2025-12-30T09:45:39.956+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-30T09:45:39.957+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:39.957+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62408c85]
2025-12-30T09:45:39.957+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ed5a44] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:39.958+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:39.963+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@273cdbe7] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:39.960+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@40492821 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:45:39.965+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:45:39.964+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1098796833 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:45:39.966+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:45:39.966+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:45:39.966+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:45:39.969+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:45:39.971+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ed5a44]
2025-12-30T09:45:39.973+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:39.973+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:45:39.973+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@541f815f] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:40.030+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1045090018 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:45:40.031+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:45:40.031+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:45:39.974+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@273cdbe7]
2025-12-30T09:45:40.032+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:45:40.033+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T09:45:40.034+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:45:40.122+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-30T09:45:40.124+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:45:40.133+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@541f815f]
2025-12-30T09:45:40.134+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:45:40.132+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:45:40.135+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:45:40.137+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-30T09:45:40.157+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:45:40.158+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-30T09:45:40.161+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:45:40.163+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:40.163+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@232ce700] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:40.164+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1618159041 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:45:40.165+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:45:40.166+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-30T09:45:40.170+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T09:45:40.172+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@232ce700]
2025-12-30T09:45:40.173+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:40.173+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12614e56] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:40.174+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1446100989 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:45:40.175+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:45:40.175+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:45:40.180+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:45:40.180+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12614e56]
2025-12-30T09:45:40.183+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:40.184+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@335b188d] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:40.186+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@726725454 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:45:40.187+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:45:40.189+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 2(Long)
2025-12-30T09:45:40.191+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-30T09:45:40.191+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@335b188d]
2025-12-30T09:45:40.194+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:40.195+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71ff372c] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:40.195+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@445372142 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:45:40.196+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:45:40.196+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T09:45:40.199+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:45:40.199+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71ff372c]
2025-12-30T09:45:40.200+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:45:40.200+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T09:45:40.201+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:45:44.297+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-30T09:45:44.299+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/logout
2025-12-30T09:45:44.300+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-30T09:45:44.301+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-30T09:45:44.302+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-30T09:45:44.302+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIyIiwidXNlcm5hbWUiOiJ (truncated)...]
2025-12-30T09:45:44.306+09:00  INFO 19004 --- [http-nio-8080-exec-9] SECURITY                                 : LOGOUT userId=2
2025-12-30T09:45:44.306+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:45:44.306+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-30T09:45:44.308+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:45:49.691+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-30T09:45:49.693+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-30T09:45:49.694+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-30T09:45:49.694+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-30T09:45:49.694+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-30T09:45:49.695+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_user3, password=1234)]
2025-12-30T09:45:49.696+09:00  INFO 19004 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 로그인 시도 - username: test_user3
2025-12-30T09:45:49.696+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:49.697+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@93b8bab] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:49.701+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1070295619 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:45:49.701+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-30T09:45:49.702+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user3(String)
2025-12-30T09:45:49.705+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-30T09:45:49.705+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@93b8bab]
2025-12-30T09:45:49.788+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:49.788+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4eb95187] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:49.788+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1660321231 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:45:49.789+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:45:49.789+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 4(Long)
2025-12-30T09:45:49.791+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-30T09:45:49.792+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4eb95187]
2025-12-30T09:45:49.793+09:00  INFO 19004 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 로그인 성공 - userId: 4, role: ACCOUNTANT, companyId: 1
2025-12-30T09:45:49.793+09:00  INFO 19004 --- [http-nio-8080-exec-5] SECURITY                                 : LOGIN_SUCCESS userId=4 username=test_user3 role=ACCOUNTANT
2025-12-30T09:45:49.794+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:45:49.795+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=4, username=test_user3, password (truncated)...]
2025-12-30T09:45:49.796+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:45:50.135+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-30T09:45:50.136+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/companies
2025-12-30T09:45:50.140+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-30T09:45:50.158+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-30T09:45:50.163+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:45:50.163+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:45:50.163+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-30T09:45:50.165+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-30T09:45:50.165+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:45:50.166+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:50.166+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:45:50.167+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:45:50.167+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23fe8575] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:50.167+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:45:50.167+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-30T09:45:50.168+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@930363311 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:45:50.169+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-30T09:45:50.168+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:45:50.168+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:45:50.170+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 4(Long)
2025-12-30T09:45:50.171+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:50.171+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@579819cc] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:50.171+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:50.172+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a2a541b] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:50.173+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 1
2025-12-30T09:45:50.174+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23fe8575]
2025-12-30T09:45:50.173+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1777164478 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:45:50.174+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:45:50.176+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-30T09:45:50.175+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:45:50.176+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1415316268 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:45:50.179+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:45:50.181+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-30T09:45:50.181+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:45:50.182+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:45:50.184+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 6
2025-12-30T09:45:50.185+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@579819cc]
2025-12-30T09:45:50.186+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:50.187+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:45:50.187+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b2922bc] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:50.188+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a2a541b]
2025-12-30T09:45:50.188+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@118568739 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:45:50.189+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:50.189+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:45:50.190+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7159b3be] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:50.191+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:45:50.191+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1921142603 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:45:50.192+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:45:50.195+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:45:50.195+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:45:50.197+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b2922bc]
2025-12-30T09:45:50.199+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:50.199+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49bb6ff8] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:50.200+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:45:50.200+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@466978993 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:45:50.200+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7159b3be]
2025-12-30T09:45:50.201+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:45:50.201+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:50.201+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:45:50.202+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2af89725] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:50.204+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@377492871 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:45:50.204+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:45:50.205+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:45:50.205+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 7
2025-12-30T09:45:50.205+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49bb6ff8]
2025-12-30T09:45:50.206+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:50.206+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a282da1] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:50.207+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:45:50.207+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1493065651 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:45:50.207+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2af89725]
2025-12-30T09:45:50.207+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:45:50.208+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:50.208+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:45:50.208+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b0cf85b] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:50.210+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1168311200 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:45:50.211+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:45:50.212+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:45:50.214+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:45:50.214+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a282da1]
2025-12-30T09:45:50.215+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:45:50.216+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:45:50.216+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T09:45:50.216+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b0cf85b]
2025-12-30T09:45:50.217+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:45:50.218+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:50.219+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6270f866] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:50.221+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:45:50.221+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@787618387 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:45:50.222+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:45:50.222+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:45:50.222+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:45:50.223+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:45:50.223+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-30T09:45:50.224+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:45:50.225+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:50.225+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:45:50.225+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32dd479f] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:50.225+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6270f866]
2025-12-30T09:45:50.225+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@273399236 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:45:50.225+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:50.227+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:45:50.228+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68c69a08] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:50.231+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-30T09:45:50.231+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@227601598 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:45:50.236+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:45:50.237+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:45:50.239+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 6
2025-12-30T09:45:50.239+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:45:50.240+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32dd479f]
2025-12-30T09:45:50.241+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68c69a08]
2025-12-30T09:45:50.242+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:50.242+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:50.242+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76b51a48] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:50.246+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@780946110 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:45:50.246+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:45:50.246+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4df00b40] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:50.248+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@297455148 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:45:50.247+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:45:50.249+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:45:50.250+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:45:50.252+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:45:50.253+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76b51a48]
2025-12-30T09:45:50.253+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:50.254+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:45:50.254+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34d7820b] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:50.254+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4df00b40]
2025-12-30T09:45:50.254+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1785641347 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:45:50.255+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:45:50.255+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:45:50.256+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:45:50.256+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:45:50.257+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:45:50.262+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:45:50.263+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 7
2025-12-30T09:45:50.264+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-30T09:45:50.266+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34d7820b]
2025-12-30T09:45:50.266+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:45:50.267+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:50.267+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:45:50.269+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66e6c9e4] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:50.269+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:45:50.269+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1856624873 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:45:50.270+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:45:50.270+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:50.271+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:45:50.271+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c597dcd] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:50.272+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@391938439 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:45:50.273+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:45:50.273+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:45:50.273+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:45:50.273+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66e6c9e4]
2025-12-30T09:45:50.274+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:45:50.278+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T09:45:50.279+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:45:50.281+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c597dcd]
2025-12-30T09:45:50.281+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:50.281+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ca59dc7] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:50.281+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:45:50.282+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1539649163 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:45:50.283+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:45:50.284+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:45:50.286+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:45:50.292+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:45:50.300+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:45:50.301+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:45:50.302+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-30T09:45:50.303+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ca59dc7]
2025-12-30T09:45:50.304+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:45:50.307+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:50.308+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34d9019c] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:50.307+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:50.309+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@338884965 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:45:50.309+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:45:50.315+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:45:50.309+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d674f5c] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:50.317+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1288003316 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:45:50.319+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:45:50.319+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:45:50.320+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-30T09:45:50.320+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34d9019c]
2025-12-30T09:45:50.321+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:50.321+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@786f14a9] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:50.323+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@80097241 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:45:50.323+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:45:50.329+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:45:50.331+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 6
2025-12-30T09:45:50.332+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d674f5c]
2025-12-30T09:45:50.332+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:45:50.333+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:50.334+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@786f14a9]
2025-12-30T09:45:50.334+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62edcae6] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:50.334+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:50.335+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1430746184 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:45:50.335+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6842cad0] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:50.335+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:45:50.336+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1753764141 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:45:50.336+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:45:50.336+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:45:50.337+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:45:50.340+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:45:50.341+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62edcae6]
2025-12-30T09:45:50.346+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:50.347+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@442d3ac5] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:50.341+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:45:50.350+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6842cad0]
2025-12-30T09:45:50.349+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1218146908 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:45:50.351+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:50.355+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ae124f8] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:50.354+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:45:50.365+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1149992254 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:45:50.366+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:45:50.367+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:45:50.368+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:45:50.370+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 7
2025-12-30T09:45:50.371+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@442d3ac5]
2025-12-30T09:45:50.372+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:50.372+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:45:50.372+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8bac8f9] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:50.372+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ae124f8]
2025-12-30T09:45:50.373+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@627843129 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:45:50.374+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:50.374+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:45:50.374+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bc84e7e] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:50.375+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:45:50.380+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@675114779 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:45:50.381+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:45:50.383+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:45:50.384+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:45:50.385+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8bac8f9]
2025-12-30T09:45:50.385+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:45:50.385+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:45:50.386+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bc84e7e]
2025-12-30T09:45:50.386+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T09:45:50.387+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:45:50.388+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:45:50.390+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:45:50.396+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:45:50.401+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:45:50.402+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:45:50.403+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:45:50.403+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-30T09:45:50.404+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:45:50.404+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:50.404+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53d2f8c] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:50.405+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@763384589 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:45:50.405+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:45:50.406+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-30T09:45:50.408+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 6
2025-12-30T09:45:50.408+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53d2f8c]
2025-12-30T09:45:50.414+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:50.414+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ef3b715] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:50.415+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1658763272 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:45:50.415+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:45:50.416+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:45:50.419+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:45:50.421+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ef3b715]
2025-12-30T09:45:50.421+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:50.421+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25785ae4] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:50.422+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@916462145 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:45:50.423+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:45:50.424+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:45:50.427+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 7
2025-12-30T09:45:50.427+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25785ae4]
2025-12-30T09:45:50.430+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:50.430+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@207a039a] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:50.430+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1202897419 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:45:50.431+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:45:50.431+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:45:50.433+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:45:50.433+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@207a039a]
2025-12-30T09:45:50.433+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:45:50.436+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T09:45:50.436+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:45:52.841+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:45:52.842+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/8
2025-12-30T09:45:52.847+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:45:52.849+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/8
2025-12-30T09:45:52.844+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/8
2025-12-30T09:45:52.849+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:45:52.850+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/8
2025-12-30T09:45:52.854+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/8
2025-12-30T09:45:52.854+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-30T09:45:52.855+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/8", parameters={}
2025-12-30T09:45:52.856+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:45:52.856+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-30T09:45:52.858+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:52.862+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:52.863+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bbe2a58] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:52.863+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@757d7fe0] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:52.871+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@445972350 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:45:52.872+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@882908088 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:45:52.873+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:45:52.873+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-30T09:45:52.874+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-30T09:45:52.874+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 8(Long), 1(Long)
2025-12-30T09:45:52.879+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-30T09:45:52.881+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 6
2025-12-30T09:45:52.881+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@757d7fe0]
2025-12-30T09:45:52.882+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bbe2a58]
2025-12-30T09:45:52.882+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:52.882+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:52.882+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b4c5296] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:52.883+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@275ef816] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:52.883+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1965380057 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:45:52.883+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1415088631 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:45:52.883+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-30T09:45:52.883+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:45:52.884+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 8(Long), 1(Long)
2025-12-30T09:45:52.884+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:45:52.886+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-30T09:45:52.886+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b4c5296]
2025-12-30T09:45:52.887+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:45:52.887+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:52.887+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@275ef816]
2025-12-30T09:45:52.888+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7141dd21] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:52.888+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:52.888+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@953219453 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:45:52.888+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4340b50c] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:52.888+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-30T09:45:52.889+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@319712058 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:45:52.891+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 8(Long), 1(Long)
2025-12-30T09:45:52.891+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:45:52.892+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:45:52.897+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-30T09:45:52.898+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7141dd21]
2025-12-30T09:45:52.898+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 7
2025-12-30T09:45:52.898+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:52.898+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4340b50c]
2025-12-30T09:45:52.899+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41a6edd4] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:52.900+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:52.900+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1056020500 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:45:52.900+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3da5466a] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:52.900+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-30T09:45:52.900+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2064346119 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:45:52.901+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 8(Long), 1(Long)
2025-12-30T09:45:52.901+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:45:52.902+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:45:52.903+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-30T09:45:52.904+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41a6edd4]
2025-12-30T09:45:52.904+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:45:52.904+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:52.904+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3da5466a]
2025-12-30T09:45:52.904+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40d1b45f] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:52.905+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:45:52.905+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@913258972 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:45:52.905+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T09:45:52.906+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:45:52.906+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:45:52.907+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:45:52.916+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:45:52.917+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40d1b45f]
2025-12-30T09:45:52.918+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:45:52.918+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=8, drafterId=2, re (truncated)...]
2025-12-30T09:45:52.919+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:45:52.923+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/8
2025-12-30T09:45:52.928+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/8
2025-12-30T09:45:52.935+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/8
2025-12-30T09:45:52.936+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/8", parameters={}
2025-12-30T09:45:52.936+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-30T09:45:52.937+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:52.937+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62c17815] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:52.938+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1762591945 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:45:52.939+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-30T09:45:52.939+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 8(Long), 1(Long)
2025-12-30T09:45:52.944+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-30T09:45:52.946+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62c17815]
2025-12-30T09:45:52.947+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:52.948+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62fe00d9] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:52.948+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@186047811 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:45:52.948+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-30T09:45:52.948+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 8(Long), 1(Long)
2025-12-30T09:45:52.950+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-30T09:45:52.950+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62fe00d9]
2025-12-30T09:45:52.951+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:52.951+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f11dd50] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:52.951+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2105274531 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:45:52.951+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-30T09:45:52.952+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 8(Long), 1(Long)
2025-12-30T09:45:52.955+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-30T09:45:52.955+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f11dd50]
2025-12-30T09:45:52.955+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:52.955+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f3624b0] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:52.956+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1319933787 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:45:52.956+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-30T09:45:52.957+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 8(Long), 1(Long)
2025-12-30T09:45:52.962+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-30T09:45:52.963+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f3624b0]
2025-12-30T09:45:52.964+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:52.964+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ae88d47] was not registered for synchronization because synchronization is not active
2025-12-30T09:45:52.964+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1692738830 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:45:52.965+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:45:52.965+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:45:52.966+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:45:52.966+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ae88d47]
2025-12-30T09:45:52.967+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:45:52.968+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=8, drafterId=2, re (truncated)...]
2025-12-30T09:45:52.968+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:45:58.520+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/8/status
2025-12-30T09:45:58.523+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing PUT /api/expenses/8/status
2025-12-30T09:45:58.524+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/8/status
2025-12-30T09:45:58.524+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured PUT /api/expenses/8/status
2025-12-30T09:45:58.525+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : PUT "/api/expenses/8/status", parameters={}
2025-12-30T09:45:58.525+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#updateExpenseStatus(Long, StatusUpdateRequest)
2025-12-30T09:45:58.530+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ExpenseController.StatusUpdateRequest(status=PAID)]
2025-12-30T09:45:58.531+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.updateExpenseStatus(java.lang.Long,com.innersignature.backend.controller.ExpenseController$StatusUpdateRequest); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:45:58.532+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.updateExpenseStatus(java.lang.Long,com.innersignature.backend.controller.ExpenseController$StatusUpdateRequest); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:45:58.534+09:00  INFO 19004 --- [http-nio-8080-exec-10] c.i.b.controller.ExpenseController       : 지출결의서 상태 변경 요청 - expenseId: 8, userId: 4, status: PAID
2025-12-30T09:45:58.541+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:45:58.541+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3764eeb5]
2025-12-30T09:45:58.542+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@637139770 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will be managed by Spring
2025-12-30T09:45:58.544+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-30T09:45:58.546+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 8(Long), 1(Long)
2025-12-30T09:45:58.548+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-30T09:45:58.549+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3764eeb5]
2025-12-30T09:45:58.549+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3764eeb5] from current transaction
2025-12-30T09:45:58.549+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:45:58.550+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 4(Long)
2025-12-30T09:45:58.552+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-30T09:45:58.552+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3764eeb5]
2025-12-30T09:45:58.553+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3764eeb5] from current transaction
2025-12-30T09:45:58.554+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.updateExpenseReportStatus      : ==>  Preparing: UPDATE expense_report_tb SET status = ? WHERE expense_report_id = ? AND company_id = ?
2025-12-30T09:45:58.555+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.updateExpenseReportStatus      : ==> Parameters: PAID(String), 8(Long), 1(Long)
2025-12-30T09:45:58.559+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.updateExpenseReportStatus      : <==    Updates: 1
2025-12-30T09:45:58.563+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3764eeb5]
2025-12-30T09:45:58.563+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3764eeb5]
2025-12-30T09:45:58.563+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3764eeb5]
2025-12-30T09:45:58.564+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3764eeb5]
2025-12-30T09:45:58.579+09:00  INFO 19004 --- [http-nio-8080-exec-10] c.i.b.controller.ExpenseController       : 지출결의서 상태 변경 완료 - expenseId: 8, status: PAID
2025-12-30T09:45:58.580+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:45:58.580+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태 변경 완료, data=null)]
2025-12-30T09:45:58.581+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:46:00.095+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:46:00.096+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/8
2025-12-30T09:46:00.097+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:46:00.097+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-30T09:46:00.097+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/8
2025-12-30T09:46:00.097+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:46:00.098+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/8
2025-12-30T09:46:00.098+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/companies
2025-12-30T09:46:00.098+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-30T09:46:00.098+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/8", parameters={}
2025-12-30T09:46:00.099+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-30T09:46:00.099+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:46:00.099+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-30T09:46:00.099+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:46:00.100+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15145a85] was not registered for synchronization because synchronization is not active
2025-12-30T09:46:00.099+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-30T09:46:00.100+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:46:00.103+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-30T09:46:00.104+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5be1db69] was not registered for synchronization because synchronization is not active
2025-12-30T09:46:00.104+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:46:00.106+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fe28c27] was not registered for synchronization because synchronization is not active
2025-12-30T09:46:00.107+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@253639017 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:46:00.107+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1099245369 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:46:00.108+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:46:00.108+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-30T09:46:00.113+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1040650237 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:46:00.113+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-30T09:46:00.156+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 8(Long), 1(Long)
2025-12-30T09:46:00.165+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-30T09:46:00.166+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 4(Long)
2025-12-30T09:46:00.206+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-30T09:46:00.207+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 6
2025-12-30T09:46:00.212+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5be1db69]
2025-12-30T09:46:00.212+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15145a85]
2025-12-30T09:46:00.213+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:46:00.214+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:46:00.216+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27b418fa] was not registered for synchronization because synchronization is not active
2025-12-30T09:46:00.217+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3be6e8ca] was not registered for synchronization because synchronization is not active
2025-12-30T09:46:00.218+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@990239908 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:46:00.218+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 1
2025-12-30T09:46:00.218+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1300837165 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:46:00.218+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-30T09:46:00.219+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fe28c27]
2025-12-30T09:46:00.219+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:46:00.220+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 8(Long), 1(Long)
2025-12-30T09:46:00.220+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:46:00.220+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:46:00.221+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-30T09:46:00.236+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:46:00.239+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-30T09:46:00.245+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27b418fa]
2025-12-30T09:46:00.246+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:46:00.250+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:46:00.251+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3be6e8ca]
2025-12-30T09:46:00.252+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cdf4454] was not registered for synchronization because synchronization is not active
2025-12-30T09:46:00.253+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:46:00.254+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2074865917 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:46:00.254+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35e8e7ec] was not registered for synchronization because synchronization is not active
2025-12-30T09:46:00.254+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-30T09:46:00.256+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@960817443 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:46:00.257+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:46:00.257+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 8(Long), 1(Long)
2025-12-30T09:46:00.258+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:46:00.267+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 7
2025-12-30T09:46:00.267+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-30T09:46:00.267+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35e8e7ec]
2025-12-30T09:46:00.268+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cdf4454]
2025-12-30T09:46:00.268+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:46:00.269+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:46:00.269+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a21caed] was not registered for synchronization because synchronization is not active
2025-12-30T09:46:00.270+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31906711] was not registered for synchronization because synchronization is not active
2025-12-30T09:46:00.270+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1745131970 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:46:00.270+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@938178707 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:46:00.271+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:46:00.272+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-30T09:46:00.273+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:46:00.273+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 8(Long), 1(Long)
2025-12-30T09:46:00.278+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-30T09:46:00.278+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:46:00.279+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a21caed]
2025-12-30T09:46:00.279+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31906711]
2025-12-30T09:46:00.280+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:46:00.281+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:46:00.282+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T09:46:00.283+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a3aeb44] was not registered for synchronization because synchronization is not active
2025-12-30T09:46:00.283+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:46:00.283+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@941669885 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:46:00.287+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:46:00.288+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:46:00.286+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:46:00.291+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:46:00.296+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:46:00.296+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:46:00.298+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a3aeb44]
2025-12-30T09:46:00.297+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-30T09:46:00.299+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:46:00.300+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=8, drafterId=2, re (truncated)...]
2025-12-30T09:46:00.300+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:46:00.301+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:46:00.308+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:46:00.314+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d0fac3e] was not registered for synchronization because synchronization is not active
2025-12-30T09:46:00.317+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1707188452 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:46:00.328+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:46:00.335+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-30T09:46:00.320+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/8
2025-12-30T09:46:00.340+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/8
2025-12-30T09:46:00.353+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/8
2025-12-30T09:46:00.354+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 6
2025-12-30T09:46:00.354+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/8", parameters={}
2025-12-30T09:46:00.355+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d0fac3e]
2025-12-30T09:46:00.355+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-30T09:46:00.356+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:46:00.356+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:46:00.357+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bedb05d] was not registered for synchronization because synchronization is not active
2025-12-30T09:46:00.357+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f896a5a] was not registered for synchronization because synchronization is not active
2025-12-30T09:46:00.357+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1796447554 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:46:00.360+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:46:00.362+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:46:00.359+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1158524305 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:46:00.364+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-30T09:46:00.366+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 8(Long), 1(Long)
2025-12-30T09:46:00.366+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:46:00.367+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bedb05d]
2025-12-30T09:46:00.368+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:46:00.368+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-30T09:46:00.368+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b5cc9b1] was not registered for synchronization because synchronization is not active
2025-12-30T09:46:00.369+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f896a5a]
2025-12-30T09:46:00.369+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2108027871 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:46:00.370+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:46:00.370+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:46:00.371+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:46:00.371+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b1f7c89] was not registered for synchronization because synchronization is not active
2025-12-30T09:46:00.373+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@529531914 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:46:00.373+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-30T09:46:00.374+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 7
2025-12-30T09:46:00.374+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 8(Long), 1(Long)
2025-12-30T09:46:00.374+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b5cc9b1]
2025-12-30T09:46:00.378+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:46:00.378+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67496043] was not registered for synchronization because synchronization is not active
2025-12-30T09:46:00.382+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1792355418 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:46:00.383+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:46:00.383+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:46:00.384+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-30T09:46:00.385+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b1f7c89]
2025-12-30T09:46:00.386+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:46:00.387+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36bd48fc] was not registered for synchronization because synchronization is not active
2025-12-30T09:46:00.387+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:46:00.387+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@108429718 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:46:00.389+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67496043]
2025-12-30T09:46:00.389+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-30T09:46:00.390+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:46:00.391+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 8(Long), 1(Long)
2025-12-30T09:46:00.391+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T09:46:00.393+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:46:00.396+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:46:00.400+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:46:00.401+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:46:00.401+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-30T09:46:00.401+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-30T09:46:00.401+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36bd48fc]
2025-12-30T09:46:00.402+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:46:00.402+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:46:00.403+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:46:00.403+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64e79642] was not registered for synchronization because synchronization is not active
2025-12-30T09:46:00.403+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52805eba] was not registered for synchronization because synchronization is not active
2025-12-30T09:46:00.403+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@952227978 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:46:00.404+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1166136470 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:46:00.404+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-30T09:46:00.404+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:46:00.404+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 8(Long), 1(Long)
2025-12-30T09:46:00.405+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-30T09:46:00.407+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-30T09:46:00.407+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 6
2025-12-30T09:46:00.407+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64e79642]
2025-12-30T09:46:00.407+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52805eba]
2025-12-30T09:46:00.407+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:46:00.408+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:46:00.408+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@582a2127] was not registered for synchronization because synchronization is not active
2025-12-30T09:46:00.409+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1af61b9c] was not registered for synchronization because synchronization is not active
2025-12-30T09:46:00.410+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@11008486 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:46:00.411+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1255404534 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:46:00.411+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:46:00.412+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:46:00.412+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:46:00.413+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:46:00.416+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:46:00.416+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:46:00.416+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@582a2127]
2025-12-30T09:46:00.416+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1af61b9c]
2025-12-30T09:46:00.416+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:46:00.416+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:46:00.417+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=8, drafterId=2, re (truncated)...]
2025-12-30T09:46:00.417+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33de2157] was not registered for synchronization because synchronization is not active
2025-12-30T09:46:00.418+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:46:00.419+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@434042443 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:46:00.420+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/8
2025-12-30T09:46:00.420+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:46:00.421+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/8
2025-12-30T09:46:00.421+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:46:00.421+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/8
2025-12-30T09:46:00.423+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/8", parameters={}
2025-12-30T09:46:00.424+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-30T09:46:00.424+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:46:00.425+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 7
2025-12-30T09:46:00.427+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33de2157]
2025-12-30T09:46:00.427+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70fae62b] was not registered for synchronization because synchronization is not active
2025-12-30T09:46:00.430+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:46:00.430+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2043728394 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:46:00.430+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@204ccf58] was not registered for synchronization because synchronization is not active
2025-12-30T09:46:00.431+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-30T09:46:00.431+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1650103967 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c922be] will not be managed by Spring
2025-12-30T09:46:00.431+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 8(Long), 1(Long)
2025-12-30T09:46:00.431+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:46:00.432+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:46:00.433+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-30T09:46:00.434+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70fae62b]
2025-12-30T09:46:00.434+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:46:00.434+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:46:00.435+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@204ccf58]
2025-12-30T09:46:00.435+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53a133cb] was not registered for synchronization because synchronization is not active
2025-12-30T09:46:00.435+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:46:00.436+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1959615530 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:46:00.436+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T09:46:00.436+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-30T09:46:00.436+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 8(Long), 1(Long)
2025-12-30T09:46:00.437+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:46:00.439+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-30T09:46:00.441+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53a133cb]
2025-12-30T09:46:00.442+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:46:00.443+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7668e2ce] was not registered for synchronization because synchronization is not active
2025-12-30T09:46:00.444+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@747485347 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:46:00.444+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-30T09:46:00.445+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 8(Long), 1(Long)
2025-12-30T09:46:00.447+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2025-12-30T09:46:00.447+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7668e2ce]
2025-12-30T09:46:00.449+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:46:00.449+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d532030] was not registered for synchronization because synchronization is not active
2025-12-30T09:46:00.450+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@471652806 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:46:00.450+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-30T09:46:00.450+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 8(Long), 1(Long)
2025-12-30T09:46:00.452+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-30T09:46:00.453+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d532030]
2025-12-30T09:46:00.454+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:46:00.454+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@130cd3cd] was not registered for synchronization because synchronization is not active
2025-12-30T09:46:00.454+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@661267260 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:46:00.455+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:46:00.455+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:46:00.458+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:46:00.458+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@130cd3cd]
2025-12-30T09:46:00.460+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:46:00.461+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=8, drafterId=2, re (truncated)...]
2025-12-30T09:46:00.462+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:56:57.549+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:56:57.549+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:56:57.551+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-30T09:56:57.551+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:56:57.552+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:56:57.552+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:56:57.552+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:56:57.553+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-30T09:56:57.553+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:56:57.553+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:56:57.554+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:56:57.554+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:56:57.554+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e5450e2] was not registered for synchronization because synchronization is not active
2025-12-30T09:56:57.555+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71e8d986] was not registered for synchronization because synchronization is not active
2025-12-30T09:56:57.558+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@964220281 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:56:57.558+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@372295018 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:56:57.563+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:56:57.561+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:56:57.565+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:56:57.565+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-30T09:56:57.572+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 6
2025-12-30T09:56:57.573+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:56:57.573+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71e8d986]
2025-12-30T09:56:57.574+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e5450e2]
2025-12-30T09:56:57.578+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:56:57.579+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:56:57.579+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@737c54c4] was not registered for synchronization because synchronization is not active
2025-12-30T09:56:57.580+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3715e093] was not registered for synchronization because synchronization is not active
2025-12-30T09:56:57.580+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2115757421 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:56:57.581+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1504087731 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:56:57.581+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:56:57.581+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:56:57.582+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:56:57.582+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:56:57.603+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:56:57.603+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:56:57.607+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@737c54c4]
2025-12-30T09:56:57.609+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3715e093]
2025-12-30T09:56:57.612+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:56:57.613+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:56:57.613+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3969f36b] was not registered for synchronization because synchronization is not active
2025-12-30T09:56:57.615+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@414db251] was not registered for synchronization because synchronization is not active
2025-12-30T09:56:57.616+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@681724662 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:56:57.617+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1497678739 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:56:57.617+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:56:57.618+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:56:57.619+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:56:57.619+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:56:57.622+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 7
2025-12-30T09:56:57.622+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:56:57.622+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3969f36b]
2025-12-30T09:56:57.622+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@414db251]
2025-12-30T09:56:57.623+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:56:57.624+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:56:57.625+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@311a069a] was not registered for synchronization because synchronization is not active
2025-12-30T09:56:57.625+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15ad3632] was not registered for synchronization because synchronization is not active
2025-12-30T09:56:57.625+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1193167225 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:56:57.630+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@970904044 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:56:57.634+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:56:57.635+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:56:57.635+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:56:57.636+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:56:57.639+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:56:57.639+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:56:57.639+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@311a069a]
2025-12-30T09:56:57.639+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15ad3632]
2025-12-30T09:56:57.639+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:56:57.641+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:56:57.641+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T09:56:57.642+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@220fb223] was not registered for synchronization because synchronization is not active
2025-12-30T09:56:57.647+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1584340214 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:56:57.648+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:56:57.648+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:56:57.650+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:56:57.651+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:56:57.652+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:56:57.653+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:56:57.654+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-30T09:56:57.654+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:56:57.654+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:56:57.655+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:56:57.655+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@220fb223]
2025-12-30T09:56:57.655+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d5d5a9f] was not registered for synchronization because synchronization is not active
2025-12-30T09:56:57.656+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:56:57.656+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@6355643 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:56:57.657+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19a8996a] was not registered for synchronization because synchronization is not active
2025-12-30T09:56:57.657+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:56:57.658+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1189719766 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:56:57.664+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:56:57.664+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:56:57.663+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-30T09:56:57.669+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:56:57.669+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 6
2025-12-30T09:56:57.670+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19a8996a]
2025-12-30T09:56:57.670+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d5d5a9f]
2025-12-30T09:56:57.671+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:56:57.672+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:56:57.673+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e9303f8] was not registered for synchronization because synchronization is not active
2025-12-30T09:56:57.673+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72120d02] was not registered for synchronization because synchronization is not active
2025-12-30T09:56:57.673+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@598582921 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:56:57.674+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1160525949 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:56:57.674+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:56:57.675+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:56:57.680+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:56:57.681+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:56:57.683+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:56:57.683+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:56:57.683+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72120d02]
2025-12-30T09:56:57.683+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e9303f8]
2025-12-30T09:56:57.684+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:56:57.684+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:56:57.685+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ca2a595] was not registered for synchronization because synchronization is not active
2025-12-30T09:56:57.685+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:56:57.686+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@247127838 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:56:57.687+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:56:57.689+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:56:57.701+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:56:57.704+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:56:57.708+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-30T09:56:57.708+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:56:57.711+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:56:57.712+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:56:57.718+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 7
2025-12-30T09:56:57.719+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:56:57.719+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ca2a595]
2025-12-30T09:56:57.721+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e04d0cf] was not registered for synchronization because synchronization is not active
2025-12-30T09:56:57.722+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:56:57.722+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1122238004 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:56:57.723+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d62efc4] was not registered for synchronization because synchronization is not active
2025-12-30T09:56:57.725+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:56:57.728+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1679126512 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:56:57.730+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:56:57.731+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:56:57.732+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:56:57.735+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:56:57.736+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:56:57.751+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d62efc4]
2025-12-30T09:56:57.751+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e04d0cf]
2025-12-30T09:56:57.753+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:56:57.755+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:56:57.755+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T09:56:57.755+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@597dae99] was not registered for synchronization because synchronization is not active
2025-12-30T09:56:57.755+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:56:57.758+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@288858065 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:56:57.764+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:56:57.765+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:56:57.766+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:56:57.773+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:56:57.912+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:56:57.972+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@597dae99]
2025-12-30T09:56:57.913+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:56:57.979+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-30T09:56:57.973+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:56:57.981+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:56:57.982+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@703d6c11] was not registered for synchronization because synchronization is not active
2025-12-30T09:56:57.983+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:56:57.990+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29b97ba3] was not registered for synchronization because synchronization is not active
2025-12-30T09:56:57.990+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1678197127 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:56:57.991+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:56:57.995+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-30T09:56:57.986+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1140854249 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:56:57.996+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:56:57.997+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:56:58.039+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:56:58.044+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 6
2025-12-30T09:56:58.055+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@703d6c11]
2025-12-30T09:56:58.057+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29b97ba3]
2025-12-30T09:56:58.084+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:56:58.084+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e51339c] was not registered for synchronization because synchronization is not active
2025-12-30T09:56:58.085+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@752299414 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:56:58.086+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:56:58.086+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:56:58.057+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:56:58.088+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@631a0b27] was not registered for synchronization because synchronization is not active
2025-12-30T09:56:58.125+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:56:58.150+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2027732657 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:56:58.155+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e51339c]
2025-12-30T09:56:58.155+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:56:58.156+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:56:58.156+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:56:58.156+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1021b085] was not registered for synchronization because synchronization is not active
2025-12-30T09:56:58.157+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1470868686 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:56:58.157+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:56:58.159+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:56:58.169+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:56:58.170+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@631a0b27]
2025-12-30T09:56:58.170+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 7
2025-12-30T09:56:58.170+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:56:58.170+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1021b085]
2025-12-30T09:56:58.171+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73818694] was not registered for synchronization because synchronization is not active
2025-12-30T09:56:58.171+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:56:58.171+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1081211120 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:56:58.171+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22b08758] was not registered for synchronization because synchronization is not active
2025-12-30T09:56:58.171+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:56:58.172+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1057537555 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:56:58.172+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:56:58.172+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:56:58.173+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:56:58.186+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:56:58.191+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73818694]
2025-12-30T09:56:58.196+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:56:58.197+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:56:58.198+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22b08758]
2025-12-30T09:56:58.198+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5deaf06c] was not registered for synchronization because synchronization is not active
2025-12-30T09:56:58.201+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:56:58.202+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@572553315 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:56:58.202+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T09:56:58.202+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:56:58.203+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:56:58.204+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:56:58.215+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:56:58.221+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5deaf06c]
2025-12-30T09:56:58.233+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:56:58.235+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f95365a] was not registered for synchronization because synchronization is not active
2025-12-30T09:56:58.235+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@360107092 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:56:58.236+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:56:58.237+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:56:58.239+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:56:58.239+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f95365a]
2025-12-30T09:56:58.241+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:56:58.244+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:56:58.247+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:01.997+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:57:02.000+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/missing-receipts/list?days=3
2025-12-30T09:57:02.002+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:57:02.012+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/missing-receipts/list
2025-12-30T09:57:02.014+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:57:02.015+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/missing-receipts/list?days=3
2025-12-30T09:57:02.016+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-30T09:57:02.016+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/missing-receipts/list?days=3", parameters={masked}
2025-12-30T09:57:02.017+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:57:02.017+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.MissingReceiptController#getMissingReceipts(int)
2025-12-30T09:57:02.017+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:02.017+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.MissingReceiptController.getMissingReceipts(int); target is of class [com.innersignature.backend.controller.MissingReceiptController]
2025-12-30T09:57:02.018+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fba8abd] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:02.019+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.MissingReceiptController.getMissingReceipts(int); target is of class [com.innersignature.backend.controller.MissingReceiptController]
2025-12-30T09:57:02.019+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:02.021+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29b18212] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:02.030+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@252849093 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:02.030+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@710087975 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:02.032+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:57:02.033+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectMissingReceipts          : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id LEFT JOIN receipt_tb rec ON r.expense_report_id = rec.expense_report_id WHERE r.company_id = ? AND r.report_date <= ? AND r.status IN ('WAIT', 'APPROVED') AND rec.receipt_id IS NULL ORDER BY r.report_date ASC, r.expense_report_id ASC
2025-12-30T09:57:02.035+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-30T09:57:02.035+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectMissingReceipts          : ==> Parameters: 1(Long), 2025-12-27(LocalDate)
2025-12-30T09:57:02.039+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 6
2025-12-30T09:57:02.039+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectMissingReceipts          : <==      Total: 4
2025-12-30T09:57:02.040+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fba8abd]
2025-12-30T09:57:02.040+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29b18212]
2025-12-30T09:57:02.041+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:02.042+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:02.045+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a816631] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:02.046+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseReportDto(expenseReportId=2, drafterId=2, repo (truncated)...]
2025-12-30T09:57:02.046+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@113710392 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:02.047+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:02.048+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:02.051+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:57:02.053+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/missing-receipts/list?days=3
2025-12-30T09:57:02.054+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:02.055+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a816631]
2025-12-30T09:57:02.056+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:02.056+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76a04131] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:02.059+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@401674554 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:02.055+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/missing-receipts/list
2025-12-30T09:57:02.063+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:02.063+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/missing-receipts/list?days=3
2025-12-30T09:57:02.065+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:57:02.065+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/missing-receipts/list?days=3", parameters={masked}
2025-12-30T09:57:02.068+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.MissingReceiptController#getMissingReceipts(int)
2025-12-30T09:57:02.069+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.MissingReceiptController.getMissingReceipts(int); target is of class [com.innersignature.backend.controller.MissingReceiptController]
2025-12-30T09:57:02.072+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.MissingReceiptController.getMissingReceipts(int); target is of class [com.innersignature.backend.controller.MissingReceiptController]
2025-12-30T09:57:02.081+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:02.083+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b1a62f0] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:02.083+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 7
2025-12-30T09:57:02.084+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@568584081 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:02.085+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76a04131]
2025-12-30T09:57:02.085+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectMissingReceipts          : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id LEFT JOIN receipt_tb rec ON r.expense_report_id = rec.expense_report_id WHERE r.company_id = ? AND r.report_date <= ? AND r.status IN ('WAIT', 'APPROVED') AND rec.receipt_id IS NULL ORDER BY r.report_date ASC, r.expense_report_id ASC
2025-12-30T09:57:02.086+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:02.086+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectMissingReceipts          : ==> Parameters: 1(Long), 2025-12-27(LocalDate)
2025-12-30T09:57:02.087+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bd70351] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:02.087+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1862951123 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:02.088+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:02.088+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:57:02.088+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectMissingReceipts          : <==      Total: 4
2025-12-30T09:57:02.089+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b1a62f0]
2025-12-30T09:57:02.091+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:02.091+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:02.091+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseReportDto(expenseReportId=2, drafterId=2, repo (truncated)...]
2025-12-30T09:57:02.091+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bd70351]
2025-12-30T09:57:02.092+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:02.097+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:02.099+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T09:57:02.100+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:03.472+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:57:03.472+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/2
2025-12-30T09:57:03.473+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:57:03.473+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/2
2025-12-30T09:57:03.473+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:57:03.474+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/2
2025-12-30T09:57:03.474+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-30T09:57:03.475+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/2", parameters={}
2025-12-30T09:57:03.475+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:57:03.477+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-30T09:57:03.478+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:03.480+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:03.480+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5af461bb] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:03.480+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2687ef38] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:03.483+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1352645854 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:03.484+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:57:03.484+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1438340950 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:03.486+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-30T09:57:03.486+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-30T09:57:03.488+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 2(Long), 1(Long)
2025-12-30T09:57:03.489+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 6
2025-12-30T09:57:03.492+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5af461bb]
2025-12-30T09:57:03.497+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:03.497+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bc57fc3] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:03.500+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@302127534 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:03.501+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-30T09:57:03.501+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:03.501+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2687ef38]
2025-12-30T09:57:03.502+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:57:03.502+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:03.502+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49049b2c] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:03.503+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@253314314 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:03.503+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-30T09:57:03.503+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:03.504+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 2(Long), 1(Long)
2025-12-30T09:57:03.504+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bc57fc3]
2025-12-30T09:57:03.505+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:03.506+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74c49be4] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:03.507+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1146079704 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:03.507+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-30T09:57:03.507+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:03.508+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49049b2c]
2025-12-30T09:57:03.508+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:57:03.508+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:03.509+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a3f3895] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:03.516+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@655300357 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:03.517+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-30T09:57:03.518+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 7
2025-12-30T09:57:03.518+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 2(Long), 1(Long)
2025-12-30T09:57:03.519+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74c49be4]
2025-12-30T09:57:03.521+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:03.522+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48a984f4] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:03.526+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@417480126 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:03.529+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:03.531+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:57:03.531+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2025-12-30T09:57:03.532+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a3f3895]
2025-12-30T09:57:03.533+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:03.534+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f434c9e] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:03.534+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:03.534+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1812675699 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:03.535+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48a984f4]
2025-12-30T09:57:03.535+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-30T09:57:03.536+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:03.537+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 2(Long), 1(Long)
2025-12-30T09:57:03.537+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T09:57:03.538+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:03.540+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-30T09:57:03.540+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f434c9e]
2025-12-30T09:57:03.547+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:03.547+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@81c94a0] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:03.547+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1308495489 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:03.548+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:03.548+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:57:03.549+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:03.550+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@81c94a0]
2025-12-30T09:57:03.550+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:03.551+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=2, drafterId=2, re (truncated)...]
2025-12-30T09:57:03.552+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:03.556+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/2
2025-12-30T09:57:03.557+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/2
2025-12-30T09:57:03.558+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/2
2025-12-30T09:57:03.558+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/2", parameters={}
2025-12-30T09:57:03.561+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-30T09:57:03.565+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:03.566+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6be480cc] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:03.567+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@179009020 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:03.569+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-30T09:57:03.570+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 2(Long), 1(Long)
2025-12-30T09:57:03.574+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-30T09:57:03.574+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6be480cc]
2025-12-30T09:57:03.574+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:03.574+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48196cd0] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:03.575+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@129267711 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:03.579+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-30T09:57:03.579+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 2(Long), 1(Long)
2025-12-30T09:57:03.583+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-30T09:57:03.584+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48196cd0]
2025-12-30T09:57:03.585+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:03.585+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@344a8dc5] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:03.586+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@926292080 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:03.586+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-30T09:57:03.587+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 2(Long), 1(Long)
2025-12-30T09:57:03.589+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2025-12-30T09:57:03.590+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@344a8dc5]
2025-12-30T09:57:03.590+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:03.590+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a923c13] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:03.590+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@718709793 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:03.591+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-30T09:57:03.591+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 2(Long), 1(Long)
2025-12-30T09:57:03.594+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-30T09:57:03.595+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a923c13]
2025-12-30T09:57:03.595+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:03.596+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72b5bd6b] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:03.597+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@698119562 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:03.597+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:03.597+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:57:03.599+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:03.600+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72b5bd6b]
2025-12-30T09:57:03.600+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:03.600+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=2, drafterId=2, re (truncated)...]
2025-12-30T09:57:03.601+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:04.564+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:57:04.564+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:57:04.565+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:57:04.565+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-30T09:57:04.566+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:57:04.566+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:57:04.566+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-30T09:57:04.566+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:57:04.567+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:57:04.567+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:57:04.567+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:04.568+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:04.568+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74b07968] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:04.568+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19d02277] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:04.570+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1544379897 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:04.570+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1558410529 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:04.571+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:57:04.571+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:57:04.574+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:57:04.573+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-30T09:57:04.584+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 6
2025-12-30T09:57:04.584+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:57:04.585+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74b07968]
2025-12-30T09:57:04.587+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19d02277]
2025-12-30T09:57:04.588+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:04.588+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cf0e] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:04.587+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:04.588+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@611436954 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:04.590+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:04.589+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ac03027] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:04.592+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:57:04.596+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@161457594 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:04.599+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:04.599+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:57:04.600+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:04.601+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cf0e]
2025-12-30T09:57:04.601+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:04.601+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f45c69a] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:04.601+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:04.603+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@556930499 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:04.603+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ac03027]
2025-12-30T09:57:04.604+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:04.604+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:04.604+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:57:04.605+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6177bbce] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:04.606+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@712896207 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:04.606+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:57:04.606+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:04.606+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f45c69a]
2025-12-30T09:57:04.607+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:57:04.607+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:04.609+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f0f30e0] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:04.613+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@251614861 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:04.614+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:57:04.614+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 7
2025-12-30T09:57:04.615+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:57:04.615+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6177bbce]
2025-12-30T09:57:04.617+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:04.617+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f0e9896] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:04.618+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1677458802 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:04.619+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:04.620+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:57:04.620+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:57:04.620+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f0f30e0]
2025-12-30T09:57:04.620+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:04.621+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dfeda05] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:04.622+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:04.623+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1795187050 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:04.623+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f0e9896]
2025-12-30T09:57:04.623+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:04.623+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:04.623+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:57:04.624+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T09:57:04.625+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:04.631+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:04.633+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dfeda05]
2025-12-30T09:57:04.632+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:57:04.635+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:04.635+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36f0caf4] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:04.635+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:57:04.636+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1563758813 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:04.637+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:57:04.638+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:04.638+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-30T09:57:04.639+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:57:04.639+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:57:04.640+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:04.641+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ba52a69] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:04.642+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2106194946 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:04.642+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:57:04.647+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:57:04.647+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36f0caf4]
2025-12-30T09:57:04.648+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-30T09:57:04.649+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:04.650+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@524304e2] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:04.652+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1649722164 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:04.652+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 6
2025-12-30T09:57:04.652+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:04.652+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ba52a69]
2025-12-30T09:57:04.652+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:57:04.653+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:04.654+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fcb0d2f] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:04.655+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1037013213 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:04.655+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:04.655+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:04.656+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:57:04.656+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@524304e2]
2025-12-30T09:57:04.657+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:04.659+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:04.661+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:57:04.662+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fcb0d2f]
2025-12-30T09:57:04.663+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:04.663+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:04.663+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51ad69e3] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:04.666+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1176020108 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:04.668+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:04.666+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:57:04.668+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:57:04.669+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-30T09:57:04.671+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:57:04.672+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 7
2025-12-30T09:57:04.673+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:57:04.674+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51ad69e3]
2025-12-30T09:57:04.675+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:57:04.675+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:04.681+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@283f5fc0] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:04.681+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:04.682+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@308791637 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:04.683+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14d84d0a] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:04.683+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:04.683+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@575245869 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:04.683+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:57:04.685+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:57:04.688+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:57:04.696+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:04.696+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:57:04.699+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@283f5fc0]
2025-12-30T09:57:04.701+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14d84d0a]
2025-12-30T09:57:04.701+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:04.702+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:04.703+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T09:57:04.704+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1733bc1f] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:04.705+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:04.705+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1096094702 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:04.707+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:04.711+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:57:04.713+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:57:04.714+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:57:04.716+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=4
2025-12-30T09:57:04.718+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=4", parameters={masked}
2025-12-30T09:57:04.719+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:04.719+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:57:04.720+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1733bc1f]
2025-12-30T09:57:04.720+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:04.720+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:04.720+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42bf6698] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:04.720+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5999bea1] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:04.721+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@728954035 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:04.722+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1405100745 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:04.722+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:57:04.723+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:04.727+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:57:04.725+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2025-12-30T09:57:04.734+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:57:04.734+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 6
2025-12-30T09:57:04.735+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5999bea1]
2025-12-30T09:57:04.736+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42bf6698]
2025-12-30T09:57:04.736+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:04.736+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:04.737+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20f364ae] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:04.737+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b7900d2] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:04.739+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@423714190 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:04.739+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@528599978 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:04.739+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:04.739+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:57:04.740+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:57:04.741+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:57:04.751+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:04.752+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:57:04.752+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20f364ae]
2025-12-30T09:57:04.752+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b7900d2]
2025-12-30T09:57:04.752+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:04.753+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:04.753+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6dee6395] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:04.753+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bc9f604] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:04.754+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1443085458 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:04.755+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@687150143 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:04.755+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:04.755+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:04.755+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 7(Long), 5(Long), 4(Long), 3(Long), 2(Long)
2025-12-30T09:57:04.756+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:57:04.757+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:04.757+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 7
2025-12-30T09:57:04.758+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bc9f604]
2025-12-30T09:57:04.761+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6dee6395]
2025-12-30T09:57:04.762+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:04.762+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:04.763+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ffccf72] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:04.763+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37ce1212] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:04.764+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2074180447 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:04.764+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@698498485 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:04.764+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:04.764+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:04.765+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:57:04.765+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:57:04.767+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:04.767+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:57:04.767+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37ce1212]
2025-12-30T09:57:04.767+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ffccf72]
2025-12-30T09:57:04.768+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:04.768+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:04.769+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T09:57:04.769+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68d50] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:04.771+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:04.771+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@968377725 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:04.772+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:04.774+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-30T09:57:04.787+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:04.788+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68d50]
2025-12-30T09:57:04.789+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:04.790+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:57:04.791+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:06.020+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-30T09:57:06.027+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/logout
2025-12-30T09:57:06.028+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-30T09:57:06.029+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-30T09:57:06.033+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-30T09:57:06.044+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiI0IiwidXNlcm5hbWUiOiJ (truncated)...]
2025-12-30T09:57:06.050+09:00  INFO 19004 --- [http-nio-8080-exec-10] SECURITY                                 : LOGOUT userId=4
2025-12-30T09:57:06.051+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:06.052+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-30T09:57:06.053+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:10.894+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-30T09:57:10.895+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-30T09:57:10.896+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-30T09:57:10.896+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-30T09:57:10.896+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-30T09:57:10.897+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_ceo, password=1234)]
2025-12-30T09:57:10.897+09:00  INFO 19004 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 로그인 시도 - username: test_ceo
2025-12-30T09:57:10.897+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:10.897+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54a9ca1d] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:10.900+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1274506369 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:10.901+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-30T09:57:10.902+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_ceo(String)
2025-12-30T09:57:10.904+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-30T09:57:10.904+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54a9ca1d]
2025-12-30T09:57:10.986+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:10.987+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fc1e331] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:10.987+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@83827085 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:10.987+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:57:10.988+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-30T09:57:10.989+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-30T09:57:10.991+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fc1e331]
2025-12-30T09:57:10.991+09:00  INFO 19004 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 로그인 성공 - userId: 1, role: CEO, companyId: 1
2025-12-30T09:57:10.992+09:00  INFO 19004 --- [http-nio-8080-exec-9] SECURITY                                 : LOGIN_SUCCESS userId=1 username=test_ceo role=CEO
2025-12-30T09:57:10.992+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:10.995+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=1, username=test_ceo, password=n (truncated)...]
2025-12-30T09:57:10.996+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:11.386+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-30T09:57:11.413+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:11.413+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:11.414+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:11.421+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:57:11.421+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:57:11.423+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/companies
2025-12-30T09:57:11.431+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-30T09:57:11.429+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-30T09:57:11.430+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-30T09:57:11.433+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:57:11.431+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-30T09:57:11.432+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-30T09:57:11.433+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-30T09:57:11.434+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:57:11.435+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:57:11.437+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:11.437+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-30T09:57:11.438+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-30T09:57:11.438+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:57:11.440+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:57:11.446+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:11.441+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:57:11.441+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:11.442+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-30T09:57:11.446+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:57:11.447+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1224134d] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:11.447+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:11.447+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77b25b69] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:11.448+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-30T09:57:11.448+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:11.449+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-30T09:57:11.450+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1941503823 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:11.450+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:11.451+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@134968b8] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:11.451+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1823923108 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:11.452+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:57:11.452+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-30T09:57:11.452+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28448cec] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:11.453+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:57:11.453+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:11.454+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 1(Long)
2025-12-30T09:57:11.454+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@509432038 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d6e3f5c] will not be managed by Spring
2025-12-30T09:57:11.455+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:57:11.455+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c742d54] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:11.456+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1842094848 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:11.456+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:57:11.458+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:57:11.459+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:57:11.459+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 7
2025-12-30T09:57:11.462+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-30T09:57:11.462+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@133632934 wrapping com.mysql.cj.jdbc.ConnectionImpl@53446442] will not be managed by Spring
2025-12-30T09:57:11.463+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-30T09:57:11.463+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1224134d]
2025-12-30T09:57:11.463+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77b25b69]
2025-12-30T09:57:11.464+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:57:11.466+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:11.467+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:11.467+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-30T09:57:11.468+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-30T09:57:11.468+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e28fd6a] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:11.468+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-30T09:57:11.468+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-30T09:57:11.469+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@134968b8]
2025-12-30T09:57:11.469+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1914669062 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:11.469+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28448cec]
2025-12-30T09:57:11.470+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:11.471+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:11.471+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:11.473+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:11.475+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@275eebf9] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:11.475+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T09:57:11.477+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:11.479+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-30T09:57:11.480+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1260827793 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d6e3f5c] will not be managed by Spring
2025-12-30T09:57:11.480+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c742d54]
2025-12-30T09:57:11.483+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:57:11.483+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:11.484+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:57:11.485+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:11.487+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70ceb03b] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:11.489+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:11.493+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@14203924 wrapping com.mysql.cj.jdbc.ConnectionImpl@53446442] will not be managed by Spring
2025-12-30T09:57:11.494+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e28fd6a]
2025-12-30T09:57:11.495+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:11.496+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:11.498+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:11.498+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:57:11.498+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72b2a6f0] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:11.499+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@275eebf9]
2025-12-30T09:57:11.500+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@712274042 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:11.501+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:11.502+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:11.502+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:57:11.503+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:57:11.504+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:11.504+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:11.505+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:57:11.505+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70ceb03b]
2025-12-30T09:57:11.507+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:11.506+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-30T09:57:11.508+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21c33a62] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:11.508+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:57:11.509+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:57:11.511+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@604571913 wrapping com.mysql.cj.jdbc.ConnectionImpl@53446442] will not be managed by Spring
2025-12-30T09:57:11.511+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72b2a6f0]
2025-12-30T09:57:11.513+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:11.511+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:57:11.512+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:11.513+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30278e2c] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:11.515+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:57:11.516+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-30T09:57:11.516+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1464155134 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:11.517+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:11.517+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:57:11.518+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65eb8f7] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:11.519+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:57:11.519+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-30T09:57:11.520+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@414758685 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:11.520+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21c33a62]
2025-12-30T09:57:11.520+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:57:11.521+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:11.521+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:57:11.522+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-30T09:57:11.522+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31053191] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:11.522+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30278e2c]
2025-12-30T09:57:11.523+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@162340345 wrapping com.mysql.cj.jdbc.ConnectionImpl@53446442] will not be managed by Spring
2025-12-30T09:57:11.523+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:11.524+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:11.526+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-30T09:57:11.527+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ae0cd7e] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:11.529+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:11.530+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65eb8f7]
2025-12-30T09:57:11.532+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@641360096 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:11.534+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:11.534+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:11.534+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f52a734] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:11.534+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:11.535+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1287137577 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:11.535+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:11.535+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:57:11.535+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31053191]
2025-12-30T09:57:11.536+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:57:11.536+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:11.537+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:11.537+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:57:11.538+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ae0cd7e]
2025-12-30T09:57:11.538+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:11.538+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:11.539+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:57:11.539+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dd6b5c3] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:11.540+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f52a734]
2025-12-30T09:57:11.540+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:11.544+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1911625786 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:11.546+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:11.546+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:11.547+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:57:11.547+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:57:11.547+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:57:11.548+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:11.549+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:11.549+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-30T09:57:11.551+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:57:11.552+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:57:11.552+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:11.553+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:57:11.553+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30efa5ac] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:11.554+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dd6b5c3]
2025-12-30T09:57:11.554+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-30T09:57:11.554+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1895235819 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:11.554+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:11.555+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:57:11.555+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:57:11.555+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2de688b4] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:11.555+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:57:11.556+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-30T09:57:11.556+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1173772390 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:11.556+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:57:11.557+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:11.557+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:11.557+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:11.557+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@562010dc] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:11.558+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T09:57:11.558+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@980760364 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d6e3f5c] will not be managed by Spring
2025-12-30T09:57:11.559+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30efa5ac]
2025-12-30T09:57:11.560+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:57:11.561+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:11.563+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-30T09:57:11.562+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:11.563+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fc0602f] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:11.565+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2de688b4]
2025-12-30T09:57:11.567+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1389323454 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:11.567+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-30T09:57:11.567+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:11.567+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:11.568+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@562010dc]
2025-12-30T09:57:11.568+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:57:11.568+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:11.568+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:11.569+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:11.569+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65dc53e7] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:11.570+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:11.572+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:57:11.572+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@858524016 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d6e3f5c] will not be managed by Spring
2025-12-30T09:57:11.572+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fc0602f]
2025-12-30T09:57:11.573+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:57:11.573+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:11.573+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-30T09:57:11.574+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:57:11.574+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54e18907] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:11.577+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1211914924 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:11.574+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:57:11.582+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:11.582+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:57:11.582+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-30T09:57:11.582+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:57:11.583+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:57:11.583+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:11.585+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21eb7589] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:11.584+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65dc53e7]
2025-12-30T09:57:11.585+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-30T09:57:11.585+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1785369354 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:11.585+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:11.585+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54e18907]
2025-12-30T09:57:11.586+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:57:11.587+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:57:11.587+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:11.588+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@459e028c] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:11.587+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:57:11.588+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:11.589+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@493818505 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:11.590+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:57:11.590+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:11.591+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-30T09:57:11.595+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:11.595+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:57:11.595+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:57:11.596+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21eb7589]
2025-12-30T09:57:11.597+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:57:11.597+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:11.600+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:57:11.600+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b9ce218] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:11.601+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:11.602+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@564237279 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:11.602+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e284b31] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:11.602+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:11.602+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:11.602+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@162635364 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d6e3f5c] will not be managed by Spring
2025-12-30T09:57:11.603+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@459e028c]
2025-12-30T09:57:11.603+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:11.603+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:57:11.603+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:11.605+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:11.607+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-30T09:57:11.608+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:57:11.614+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b9ce218]
2025-12-30T09:57:11.615+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:11.615+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:11.616+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e505ab4] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:11.617+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1113647940 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:11.620+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:11.622+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:11.622+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:57:11.623+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:57:11.623+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-30T09:57:11.624+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:11.626+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e284b31]
2025-12-30T09:57:11.628+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-30T09:57:11.630+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:11.633+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24445f7e] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:11.689+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@674883844 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d6e3f5c] will not be managed by Spring
2025-12-30T09:57:11.690+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:57:11.690+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:57:11.632+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:57:11.695+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:11.696+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11bff8c1] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:11.697+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1949536396 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:11.697+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:57:11.800+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:57:11.806+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:57:11.811+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e505ab4]
2025-12-30T09:57:11.811+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24445f7e]
2025-12-30T09:57:11.820+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-30T09:57:11.823+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:11.823+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:11.828+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:57:11.824+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d5c50c6] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:11.830+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:11.831+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1638214691 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:11.832+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:57:11.834+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T09:57:11.834+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:57:11.835+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11bff8c1]
2025-12-30T09:57:11.836+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:11.836+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bea0cfa] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:11.838+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@637377718 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:11.839+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:11.839+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:11.848+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:11.849+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:57:11.850+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bea0cfa]
2025-12-30T09:57:11.850+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d5c50c6]
2025-12-30T09:57:11.851+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:11.852+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27531648] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:11.852+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:11.853+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1011172228 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:11.853+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5eef4de8] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:11.853+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:11.854+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@566946963 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:11.854+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-30T09:57:11.855+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:11.857+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:11.866+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-30T09:57:11.867+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27531648]
2025-12-30T09:57:11.868+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:11.868+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e96c026] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:11.869+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:11.869+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@298345194 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:11.869+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5eef4de8]
2025-12-30T09:57:11.870+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:11.870+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:11.871+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:11.871+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1be2521c] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:11.872+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1069993093 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:11.873+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:11.873+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:11.873+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:57:11.875+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e96c026]
2025-12-30T09:57:11.878+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:11.880+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:57:11.881+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:11.885+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:11.889+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:57:11.890+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:11.891+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-30T09:57:11.891+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:57:11.897+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:57:11.899+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1be2521c]
2025-12-30T09:57:11.900+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:11.900+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:11.900+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1900b75a] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:11.900+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10c46bf4] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:11.901+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@506145082 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:11.901+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@423602498 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:11.901+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:57:11.901+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:11.903+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-30T09:57:11.903+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:11.905+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:11.905+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T09:57:11.906+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10c46bf4]
2025-12-30T09:57:11.906+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1900b75a]
2025-12-30T09:57:11.907+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:11.907+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:11.908+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:57:11.908+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e23226f] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:11.911+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:11.915+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@579205270 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:11.918+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:11.918+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:11.921+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:11.921+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e23226f]
2025-12-30T09:57:11.923+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:11.923+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@362b4649] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:11.924+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@289159865 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:11.925+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:11.929+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-30T09:57:11.933+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-30T09:57:11.935+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@362b4649]
2025-12-30T09:57:11.936+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:11.944+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a8e6584] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:11.945+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@377191826 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:11.952+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:11.952+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:11.964+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:11.965+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a8e6584]
2025-12-30T09:57:11.965+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:11.965+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:57:11.966+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:14.087+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:14.099+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:57:14.087+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:57:14.110+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-30T09:57:14.087+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/budget/list?year=2025
2025-12-30T09:57:14.106+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:14.112+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:57:14.115+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/budget/list
2025-12-30T09:57:14.115+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-30T09:57:14.116+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:57:14.117+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/budget/list?year=2025
2025-12-30T09:57:14.119+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/budget/list?year=2025", parameters={masked}
2025-12-30T09:57:14.117+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:57:14.120+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:14.121+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3631bfb0] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:14.118+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:57:14.120+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.BudgetController#getBudgetList(Integer, Integer)
2025-12-30T09:57:14.128+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:14.129+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.BudgetController.getBudgetList(java.lang.Integer,java.lang.Integer); target is of class [com.innersignature.backend.controller.BudgetController]
2025-12-30T09:57:14.129+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@412887501 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d6e3f5c] will not be managed by Spring
2025-12-30T09:57:14.130+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2578019d] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:14.132+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.BudgetController.getBudgetList(java.lang.Integer,java.lang.Integer); target is of class [com.innersignature.backend.controller.BudgetController]
2025-12-30T09:57:14.133+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:57:14.135+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:14.136+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-30T09:57:14.137+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1548400027 wrapping com.mysql.cj.jdbc.ConnectionImpl@53446442] will not be managed by Spring
2025-12-30T09:57:14.137+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61db38b4] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:14.138+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:57:14.141+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-30T09:57:14.142+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T09:57:14.144+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3631bfb0]
2025-12-30T09:57:14.145+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:14.146+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c27f957] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:14.146+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1056482436 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d6e3f5c] will not be managed by Spring
2025-12-30T09:57:14.149+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:14.151+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@727820797 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:14.151+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-30T09:57:14.151+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:14.151+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.BudgetMapper.findByCompanyId     : ==>  Preparing: SELECT b.*, COALESCE(( SELECT SUM(ed.amount) FROM expense_detail_tb ed INNER JOIN expense_report_tb er ON ed.expense_report_id = er.expense_report_id WHERE er.company_id = b.company_id AND YEAR(er.report_date) = b.budget_year AND (b.budget_month IS NULL OR MONTH(er.report_date) = b.budget_month) AND ed.category = b.category AND er.status IN ('APPROVED', 'PAID') ), 0) AS used_amount, CASE WHEN b.budget_amount > 0 THEN ROUND((COALESCE(( SELECT SUM(ed.amount) FROM expense_detail_tb ed INNER JOIN expense_report_tb er ON ed.expense_report_id = er.expense_report_id WHERE er.company_id = b.company_id AND YEAR(er.report_date) = b.budget_year AND (b.budget_month IS NULL OR MONTH(er.report_date) = b.budget_month) AND ed.category = b.category AND er.status IN ('APPROVED', 'PAID') ), 0) * 100.0 / b.budget_amount), 2) ELSE 0 END AS usage_rate FROM budget_tb b WHERE b.company_id = ? AND (? IS NULL OR b.budget_year = ?) AND (? IS NULL OR b.budget_month = ? OR b.budget_month IS NULL) ORDER BY b.budget_year DESC, b.budget_month DESC, b.category ASC
2025-12-30T09:57:14.152+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2578019d]
2025-12-30T09:57:14.155+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.BudgetMapper.findByCompanyId     : ==> Parameters: 1(Long), 2025(Integer), 2025(Integer), null, null
2025-12-30T09:57:14.155+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:14.155+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:14.156+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c27f957]
2025-12-30T09:57:14.157+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c5a7cf7] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:14.157+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:14.163+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@678413203 wrapping com.mysql.cj.jdbc.ConnectionImpl@53446442] will not be managed by Spring
2025-12-30T09:57:14.164+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.BudgetMapper.findByCompanyId     : <==      Total: 1
2025-12-30T09:57:14.165+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2055df89] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:14.166+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:57:14.166+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61db38b4]
2025-12-30T09:57:14.167+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:57:14.166+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1130063765 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d6e3f5c] will not be managed by Spring
2025-12-30T09:57:14.167+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:14.168+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:14.168+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[BudgetDto(budgetId=1, companyId=1, budgetYear=2025, b (truncated)...]
2025-12-30T09:57:14.168+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-30T09:57:14.169+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:14.172+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/budget/list?year=2025
2025-12-30T09:57:14.177+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/budget/list
2025-12-30T09:57:14.179+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:57:14.179+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-30T09:57:14.180+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/budget/list?year=2025
2025-12-30T09:57:14.181+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c5a7cf7]
2025-12-30T09:57:14.182+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2055df89]
2025-12-30T09:57:14.183+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/budget/list?year=2025", parameters={masked}
2025-12-30T09:57:14.184+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:14.184+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:14.185+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.BudgetController#getBudgetList(Integer, Integer)
2025-12-30T09:57:14.185+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:57:14.187+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66f77dae] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:14.188+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.BudgetController.getBudgetList(java.lang.Integer,java.lang.Integer); target is of class [com.innersignature.backend.controller.BudgetController]
2025-12-30T09:57:14.188+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:14.189+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1750097774 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d6e3f5c] will not be managed by Spring
2025-12-30T09:57:14.192+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:14.190+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.BudgetController.getBudgetList(java.lang.Integer,java.lang.Integer); target is of class [com.innersignature.backend.controller.BudgetController]
2025-12-30T09:57:14.195+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:14.196+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:14.197+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7214b142] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:14.199+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@476865767 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:14.200+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:14.200+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.BudgetMapper.findByCompanyId     : ==>  Preparing: SELECT b.*, COALESCE(( SELECT SUM(ed.amount) FROM expense_detail_tb ed INNER JOIN expense_report_tb er ON ed.expense_report_id = er.expense_report_id WHERE er.company_id = b.company_id AND YEAR(er.report_date) = b.budget_year AND (b.budget_month IS NULL OR MONTH(er.report_date) = b.budget_month) AND ed.category = b.category AND er.status IN ('APPROVED', 'PAID') ), 0) AS used_amount, CASE WHEN b.budget_amount > 0 THEN ROUND((COALESCE(( SELECT SUM(ed.amount) FROM expense_detail_tb ed INNER JOIN expense_report_tb er ON ed.expense_report_id = er.expense_report_id WHERE er.company_id = b.company_id AND YEAR(er.report_date) = b.budget_year AND (b.budget_month IS NULL OR MONTH(er.report_date) = b.budget_month) AND ed.category = b.category AND er.status IN ('APPROVED', 'PAID') ), 0) * 100.0 / b.budget_amount), 2) ELSE 0 END AS usage_rate FROM budget_tb b WHERE b.company_id = ? AND (? IS NULL OR b.budget_year = ?) AND (? IS NULL OR b.budget_month = ? OR b.budget_month IS NULL) ORDER BY b.budget_year DESC, b.budget_month DESC, b.category ASC
2025-12-30T09:57:14.201+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66f77dae]
2025-12-30T09:57:14.202+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.BudgetMapper.findByCompanyId     : ==> Parameters: 1(Long), 2025(Integer), 2025(Integer), null, null
2025-12-30T09:57:14.203+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:14.203+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:57:14.204+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:14.205+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.BudgetMapper.findByCompanyId     : <==      Total: 1
2025-12-30T09:57:14.206+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7214b142]
2025-12-30T09:57:14.207+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:14.213+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[BudgetDto(budgetId=1, companyId=1, budgetYear=2025, b (truncated)...]
2025-12-30T09:57:14.214+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:21.156+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:21.156+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:57:21.156+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:57:21.157+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:57:21.157+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-30T09:57:21.157+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-30T09:57:21.158+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:21.160+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-30T09:57:21.160+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-30T09:57:21.161+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:57:21.161+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-30T09:57:21.161+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:57:21.162+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-30T09:57:21.162+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:57:21.162+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:57:21.163+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:57:21.163+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-30T09:57:21.163+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:57:21.163+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:21.163+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:57:21.163+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-30T09:57:21.164+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:21.164+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:21.164+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32c4b111] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:21.164+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:21.165+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e90bdc1] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:21.165+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f27e2f3] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:21.166+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51418a92] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:21.170+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1714710428 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d6e3f5c] will not be managed by Spring
2025-12-30T09:57:21.170+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1337922826 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:21.171+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:57:21.172+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:57:21.173+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2139536745 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:21.173+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@457376653 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:21.173+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-30T09:57:21.174+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:57:21.174+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:57:21.175+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:57:21.181+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-30T09:57:21.181+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T09:57:21.181+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:57:21.182+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-30T09:57:21.182+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32c4b111]
2025-12-30T09:57:21.182+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e90bdc1]
2025-12-30T09:57:21.184+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:21.184+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d03b1a3] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:21.184+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:21.184+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-30T09:57:21.184+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-30T09:57:21.185+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2085380449 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d6e3f5c] will not be managed by Spring
2025-12-30T09:57:21.185+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39cfe5db] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:21.185+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f27e2f3]
2025-12-30T09:57:21.185+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51418a92]
2025-12-30T09:57:21.185+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:21.186+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1556460936 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:21.186+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:21.186+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:21.186+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:21.187+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:21.187+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ece863d] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:21.187+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-30T09:57:21.187+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:21.188+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1693692362 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:21.191+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:57:21.189+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:21.190+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:21.194+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:57:21.196+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:21.196+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d03b1a3]
2025-12-30T09:57:21.198+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39cfe5db]
2025-12-30T09:57:21.198+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:21.198+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:21.198+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25bb8f4c] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:21.199+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@285b5013] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:21.199+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:57:21.199+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1969601777 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d6e3f5c] will not be managed by Spring
2025-12-30T09:57:21.199+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1853659646 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:21.199+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ece863d]
2025-12-30T09:57:21.200+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:21.200+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:21.200+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:21.200+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-30T09:57:21.200+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:57:21.201+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:57:21.203+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-30T09:57:21.203+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:21.203+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:57:21.203+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25bb8f4c]
2025-12-30T09:57:21.205+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@285b5013]
2025-12-30T09:57:21.205+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:57:21.205+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:21.205+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:21.206+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-30T09:57:21.207+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c056698] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:21.207+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ba718eb] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:21.207+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:57:21.208+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@633160635 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d6e3f5c] will not be managed by Spring
2025-12-30T09:57:21.208+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@688787524 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:21.211+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:57:21.208+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:57:21.208+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:21.212+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:57:21.212+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:57:21.213+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:21.213+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:21.214+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29bfbd4d] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:21.215+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@437774405 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:21.215+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:21.215+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:57:21.215+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:57:21.215+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c056698]
2025-12-30T09:57:21.216+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-30T09:57:21.215+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ba718eb]
2025-12-30T09:57:21.216+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:21.216+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:21.216+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:57:21.217+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c2e95b0] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:21.218+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-30T09:57:21.219+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:21.219+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2142090910 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:21.219+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29bfbd4d]
2025-12-30T09:57:21.220+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:21.221+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:21.221+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:21.221+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:21.221+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@494580e4] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:21.222+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:57:21.223+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@499386708 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:21.223+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:21.223+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:57:21.224+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-30T09:57:21.224+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:21.224+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:57:21.226+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:57:21.228+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c2e95b0]
2025-12-30T09:57:21.229+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:21.229+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:21.230+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b8533ab] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:21.230+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bad967d] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:21.230+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1915669274 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:21.230+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:57:21.230+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:57:21.231+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1397102509 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:21.231+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@494580e4]
2025-12-30T09:57:21.231+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-30T09:57:21.231+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:21.231+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:21.232+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:57:21.232+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:57:21.234+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:21.236+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T09:57:21.236+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:57:21.236+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b8533ab]
2025-12-30T09:57:21.237+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bad967d]
2025-12-30T09:57:21.237+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:57:21.237+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:21.237+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:21.238+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a433e0c] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:21.238+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@277be7d6] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:21.238+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-30T09:57:21.238+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@411649156 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:21.239+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1890751290 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:21.240+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:57:21.240+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:21.240+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:21.240+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:57:21.240+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:21.240+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:21.240+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:57:21.241+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:21.244+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@421accf7] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:21.245+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1089233305 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:21.245+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:21.245+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:21.246+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:57:21.246+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a433e0c]
2025-12-30T09:57:21.246+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@277be7d6]
2025-12-30T09:57:21.248+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-30T09:57:21.249+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:21.249+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:21.250+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:57:21.251+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ec1b94] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:21.251+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-30T09:57:21.252+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:21.252+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1426912795 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:21.252+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@421accf7]
2025-12-30T09:57:21.253+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:21.254+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:21.254+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:57:21.254+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-30T09:57:21.255+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7eecafcd] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:21.264+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1778760083 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:21.265+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:57:21.256+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-30T09:57:21.266+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:57:21.268+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:57:21.270+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:57:21.271+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-30T09:57:21.272+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:57:21.272+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:57:21.272+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ec1b94]
2025-12-30T09:57:21.273+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7eecafcd]
2025-12-30T09:57:21.273+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:21.273+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:21.273+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:21.276+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:57:21.277+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47988144] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:21.278+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@421910ba] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:21.279+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:21.279+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@609194966 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:21.281+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:21.282+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:21.283+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@512737625 wrapping com.mysql.cj.jdbc.ConnectionImpl@53446442] will not be managed by Spring
2025-12-30T09:57:21.283+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:57:21.284+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:57:21.284+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:21.284+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@421910ba]
2025-12-30T09:57:21.286+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:21.286+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:57:21.287+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:57:21.287+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47988144]
2025-12-30T09:57:21.288+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:21.288+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:21.289+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e5610a0] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:21.291+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:21.296+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@568846654 wrapping com.mysql.cj.jdbc.ConnectionImpl@53446442] will not be managed by Spring
2025-12-30T09:57:21.297+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:21.297+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:57:21.298+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:21.298+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:21.298+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-30T09:57:21.300+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:57:21.301+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:21.301+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:21.301+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29356012] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:21.301+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e5610a0]
2025-12-30T09:57:21.302+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1953653399 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d6e3f5c] will not be managed by Spring
2025-12-30T09:57:21.302+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:21.302+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:57:21.302+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45e6c5d3] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:21.303+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-30T09:57:21.303+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1270554335 wrapping com.mysql.cj.jdbc.ConnectionImpl@53446442] will not be managed by Spring
2025-12-30T09:57:21.305+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:21.307+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:57:21.312+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T09:57:21.313+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29356012]
2025-12-30T09:57:21.314+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:21.315+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:57:21.315+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11420faa] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:21.315+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45e6c5d3]
2025-12-30T09:57:21.316+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@326490208 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d6e3f5c] will not be managed by Spring
2025-12-30T09:57:21.316+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:21.316+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:21.316+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d1538d] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:21.317+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:21.317+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1961547513 wrapping com.mysql.cj.jdbc.ConnectionImpl@53446442] will not be managed by Spring
2025-12-30T09:57:21.318+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:57:21.319+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:57:21.321+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:21.324+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11420faa]
2025-12-30T09:57:21.327+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:21.328+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@750421ad] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:21.329+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1958371320 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d6e3f5c] will not be managed by Spring
2025-12-30T09:57:21.332+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:57:21.332+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:21.333+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d1538d]
2025-12-30T09:57:21.335+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-30T09:57:21.336+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:21.339+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f3338ec] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:21.340+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1651721148 wrapping com.mysql.cj.jdbc.ConnectionImpl@53446442] will not be managed by Spring
2025-12-30T09:57:21.341+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:21.347+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:21.350+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-30T09:57:21.351+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@750421ad]
2025-12-30T09:57:21.351+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:21.351+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:21.352+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f3338ec]
2025-12-30T09:57:21.352+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ea09edc] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:21.352+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:21.353+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1249762796 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d6e3f5c] will not be managed by Spring
2025-12-30T09:57:21.353+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e631d2] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:21.353+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:21.354+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1927585274 wrapping com.mysql.cj.jdbc.ConnectionImpl@53446442] will not be managed by Spring
2025-12-30T09:57:21.354+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:21.354+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:21.355+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:57:21.356+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:21.356+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ea09edc]
2025-12-30T09:57:21.356+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:57:21.357+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:21.357+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e631d2]
2025-12-30T09:57:21.357+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:57:21.357+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:21.358+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:21.360+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a3e8746] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:21.364+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@526601074 wrapping com.mysql.cj.jdbc.ConnectionImpl@53446442] will not be managed by Spring
2025-12-30T09:57:21.364+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:21.364+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:21.366+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:21.366+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a3e8746]
2025-12-30T09:57:21.367+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:21.367+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:57:21.368+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:22.903+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/audit-rules/list
2025-12-30T09:57:22.904+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:22.904+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:57:22.904+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/audit-rules/list
2025-12-30T09:57:22.906+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-30T09:57:22.905+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:57:22.907+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:57:22.907+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:22.907+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:57:22.912+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:57:22.907+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/audit-rules/list
2025-12-30T09:57:22.908+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-30T09:57:22.913+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:57:22.912+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:22.913+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/audit-rules/list
2025-12-30T09:57:22.913+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:22.914+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76a9947a] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:22.914+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/audit-rules/list
2025-12-30T09:57:22.915+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7be03766] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:22.916+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/audit-rules/list", parameters={}
2025-12-30T09:57:22.918+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AuditRuleController#getRuleList()
2025-12-30T09:57:22.918+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1159237716 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:22.919+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1190655650 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:22.919+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AuditRuleController.getRuleList(); target is of class [com.innersignature.backend.controller.AuditRuleController]
2025-12-30T09:57:22.921+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:57:22.921+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:57:22.923+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AuditRuleController.getRuleList(); target is of class [com.innersignature.backend.controller.AuditRuleController]
2025-12-30T09:57:22.923+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-30T09:57:22.925+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-30T09:57:22.927+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:22.930+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77427654] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:22.934+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-30T09:57:22.934+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T09:57:22.935+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@794214217 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:22.935+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76a9947a]
2025-12-30T09:57:22.936+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7be03766]
2025-12-30T09:57:22.936+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.AuditRuleMapper.findByCompanyId  : ==>  Preparing: SELECT * FROM audit_rule_tb WHERE company_id = ? ORDER BY rule_type, rule_name
2025-12-30T09:57:22.937+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:22.937+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:22.937+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.AuditRuleMapper.findByCompanyId  : ==> Parameters: 1(Long)
2025-12-30T09:57:22.937+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@705dd039] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:22.937+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bf80b79] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:22.938+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@750941733 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:22.939+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1084210725 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:22.939+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:57:22.939+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:22.940+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:57:22.940+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:22.940+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.AuditRuleMapper.findByCompanyId  : <==      Total: 0
2025-12-30T09:57:22.940+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77427654]
2025-12-30T09:57:22.942+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:57:22.942+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:22.942+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:22.945+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@705dd039]
2025-12-30T09:57:22.945+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bf80b79]
2025-12-30T09:57:22.946+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:57:22.947+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:22.947+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:22.947+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:57:22.947+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:22.948+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@528f8eae] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:22.948+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:22.950+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1236788293 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:22.950+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/audit-rules/list
2025-12-30T09:57:22.950+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:22.952+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/audit-rules/list
2025-12-30T09:57:22.953+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-30T09:57:22.953+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/audit-rules/list
2025-12-30T09:57:22.953+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/audit-rules/list", parameters={}
2025-12-30T09:57:22.955+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AuditRuleController#getRuleList()
2025-12-30T09:57:22.955+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-30T09:57:22.955+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AuditRuleController.getRuleList(); target is of class [com.innersignature.backend.controller.AuditRuleController]
2025-12-30T09:57:22.955+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@528f8eae]
2025-12-30T09:57:22.956+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AuditRuleController.getRuleList(); target is of class [com.innersignature.backend.controller.AuditRuleController]
2025-12-30T09:57:22.956+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:22.957+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:22.957+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d4abebc] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:22.957+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38dcec2c] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:22.957+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1134475077 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:22.958+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1088547254 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:22.958+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:22.958+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.AuditRuleMapper.findByCompanyId  : ==>  Preparing: SELECT * FROM audit_rule_tb WHERE company_id = ? ORDER BY rule_type, rule_name
2025-12-30T09:57:22.958+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:22.959+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.AuditRuleMapper.findByCompanyId  : ==> Parameters: 1(Long)
2025-12-30T09:57:22.963+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.AuditRuleMapper.findByCompanyId  : <==      Total: 0
2025-12-30T09:57:22.963+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:22.965+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38dcec2c]
2025-12-30T09:57:22.966+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d4abebc]
2025-12-30T09:57:22.966+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:22.966+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:22.966+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:57:22.966+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:57:22.967+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:22.968+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:33.743+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:33.745+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:57:33.746+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:57:33.746+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:57:33.746+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-30T09:57:33.746+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:33.747+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-30T09:57:33.746+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-30T09:57:33.747+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-30T09:57:33.747+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-30T09:57:33.747+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:57:33.747+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:57:33.748+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:57:33.748+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-30T09:57:33.748+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-30T09:57:33.748+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:33.748+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:57:33.748+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:57:33.749+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-30T09:57:33.750+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fd5e725] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:33.750+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:57:33.750+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:57:33.750+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:33.751+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:33.753+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1397901820 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:33.752+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:33.754+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c915b07] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:33.753+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51219621] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:33.753+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8063b0d] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:33.753+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:57:33.758+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@309026749 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d6e3f5c] will not be managed by Spring
2025-12-30T09:57:33.762+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-30T09:57:33.762+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@180805026 wrapping com.mysql.cj.jdbc.ConnectionImpl@53446442] will not be managed by Spring
2025-12-30T09:57:33.763+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:57:33.762+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:57:33.766+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-30T09:57:33.766+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1520010432 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:33.767+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T09:57:33.767+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:57:33.767+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:57:33.768+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fd5e725]
2025-12-30T09:57:33.769+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-30T09:57:33.770+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:57:33.770+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-30T09:57:33.770+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:33.771+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51219621]
2025-12-30T09:57:33.771+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c915b07]
2025-12-30T09:57:33.771+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dc939da] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:33.772+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:33.772+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:33.773+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2096816573 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:33.773+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-30T09:57:33.773+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-30T09:57:33.773+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28f030bd] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:33.773+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:33.774+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:33.774+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8063b0d]
2025-12-30T09:57:33.781+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1967195978 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d6e3f5c] will not be managed by Spring
2025-12-30T09:57:33.781+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:33.782+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:33.782+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:33.783+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d8ab57f] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:33.783+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:33.784+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2091407207 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:33.785+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:57:33.785+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:33.786+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:57:33.786+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:33.786+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dc939da]
2025-12-30T09:57:33.787+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28f030bd]
2025-12-30T09:57:33.788+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:33.788+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:33.788+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38dabbcc] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:33.788+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:57:33.788+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bae330a] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:33.789+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2082034404 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:33.789+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d8ab57f]
2025-12-30T09:57:33.790+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1651676954 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d6e3f5c] will not be managed by Spring
2025-12-30T09:57:33.790+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:33.791+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:33.791+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:33.793+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-30T09:57:33.794+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:57:33.794+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:57:33.796+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:33.796+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-30T09:57:33.796+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:57:33.797+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:57:33.798+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38dabbcc]
2025-12-30T09:57:33.798+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bae330a]
2025-12-30T09:57:33.799+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:33.799+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:33.799+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-30T09:57:33.799+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@583faeae] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:33.799+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b688427] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:33.799+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:57:33.800+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@903244478 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:33.800+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1633995299 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d6e3f5c] will not be managed by Spring
2025-12-30T09:57:33.800+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:57:33.800+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:33.800+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:57:33.801+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:33.801+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:57:33.801+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:57:33.802+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:33.803+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a9ad5f1] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:33.804+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:33.804+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:57:33.805+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@583faeae]
2025-12-30T09:57:33.805+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b688427]
2025-12-30T09:57:33.805+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:33.805+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1874763600 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:33.806+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:33.806+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:57:33.807+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:57:33.807+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dace80f] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:33.808+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:33.810+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-30T09:57:33.812+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:33.812+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@846858273 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d6e3f5c] will not be managed by Spring
2025-12-30T09:57:33.814+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:33.814+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:57:33.815+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:33.815+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:33.815+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-30T09:57:33.816+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-30T09:57:33.816+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a9ad5f1]
2025-12-30T09:57:33.817+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:57:33.817+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:33.817+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:33.817+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:33.817+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71cb9036] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:33.818+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dace80f]
2025-12-30T09:57:33.818+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bbe9504] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:33.818+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@894605759 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:33.818+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:33.818+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@217587021 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d6e3f5c] will not be managed by Spring
2025-12-30T09:57:33.819+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:57:33.819+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20df3eb7] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:33.819+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:57:33.819+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:57:33.820+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1794725427 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:33.820+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-30T09:57:33.821+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:33.823+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:57:33.823+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:57:33.824+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71cb9036]
2025-12-30T09:57:33.824+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T09:57:33.824+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:33.825+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bbe9504]
2025-12-30T09:57:33.827+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:57:33.828+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:57:33.828+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:33.828+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:33.829+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20df3eb7]
2025-12-30T09:57:33.831+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13ceff0] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:33.832+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:57:33.833+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:33.834+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@237329510 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d6e3f5c] will not be managed by Spring
2025-12-30T09:57:33.834+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a56a4c7] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:33.834+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:33.835+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-30T09:57:33.835+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1663373244 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:33.836+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:33.836+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:57:33.836+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:33.837+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:57:33.837+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:33.837+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:57:33.838+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:33.839+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@571102ff] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:33.840+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:33.841+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:33.846+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1771954367 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:33.846+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a56a4c7]
2025-12-30T09:57:33.846+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13ceff0]
2025-12-30T09:57:33.847+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:57:33.847+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:33.848+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:33.849+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-30T09:57:33.849+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:57:33.849+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38a9bd80] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:33.850+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:33.851+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1586271754 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d6e3f5c] will not be managed by Spring
2025-12-30T09:57:33.855+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:33.857+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-30T09:57:33.855+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:57:33.865+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-30T09:57:33.866+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-30T09:57:33.867+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:57:33.868+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@571102ff]
2025-12-30T09:57:33.868+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-30T09:57:33.868+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:57:33.868+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:33.870+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38a9bd80]
2025-12-30T09:57:33.870+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:57:33.870+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69a46710] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:33.871+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:33.871+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:33.872+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@914200097 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:33.872+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61dafdec] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:33.874+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@350886378 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d6e3f5c] will not be managed by Spring
2025-12-30T09:57:33.872+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b28dcef] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:33.872+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:57:33.879+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:57:33.874+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:33.885+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:33.879+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@359274923 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:33.886+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:57:33.887+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:57:33.887+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:57:33.888+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69a46710]
2025-12-30T09:57:33.889+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:33.892+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:33.895+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:57:33.896+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:33.893+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61dafdec]
2025-12-30T09:57:33.902+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:33.903+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:57:33.903+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:57:33.904+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b28dcef]
2025-12-30T09:57:33.904+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:33.907+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:33.910+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49d2b5f1] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:33.911+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@72402816 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:33.911+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:33.916+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:33.920+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:33.928+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:57:33.929+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:33.931+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-30T09:57:33.932+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:57:33.933+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:33.933+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:33.935+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49d2b5f1]
2025-12-30T09:57:33.935+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67881141] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:33.936+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:33.936+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@946486288 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:33.936+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5abc6275] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:33.937+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:57:33.937+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@110963182 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:33.939+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:33.939+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-30T09:57:33.941+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:57:33.948+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:57:33.948+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5abc6275]
2025-12-30T09:57:33.949+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T09:57:33.952+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67881141]
2025-12-30T09:57:33.951+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:33.954+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:33.955+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@549e0e35] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:33.958+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27b931c1] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:33.964+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1837658393 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:33.965+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1846894 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:33.966+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:57:33.967+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:33.968+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:57:33.970+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:33.973+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:33.973+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:57:33.973+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27b931c1]
2025-12-30T09:57:33.973+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@549e0e35]
2025-12-30T09:57:33.974+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:33.975+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:33.979+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50b8b552] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:33.979+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1acd5561] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:33.981+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1046589885 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:33.982+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1040588715 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:33.982+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:33.982+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:33.983+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-30T09:57:33.983+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:33.987+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:33.987+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-30T09:57:33.988+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1acd5561]
2025-12-30T09:57:33.988+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50b8b552]
2025-12-30T09:57:33.988+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:33.988+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:33.992+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ec7b56d] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:33.989+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d08a1de] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:33.995+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1530956738 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:33.998+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1293851971 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:33.999+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:34.000+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:34.000+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:34.000+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:57:34.003+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:34.003+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:57:34.004+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ec7b56d]
2025-12-30T09:57:34.005+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d08a1de]
2025-12-30T09:57:34.006+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:34.007+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:34.007+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:57:34.007+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1698ff43] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:34.008+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:34.015+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1860610591 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:34.017+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:34.018+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:34.022+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:34.022+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1698ff43]
2025-12-30T09:57:34.023+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:34.024+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:57:34.030+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:36.253+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:36.253+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:57:36.253+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/account-codes/list
2025-12-30T09:57:36.254+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:57:36.256+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-30T09:57:36.268+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/account-codes/list
2025-12-30T09:57:36.268+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:36.269+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:57:36.272+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/account-codes/list
2025-12-30T09:57:36.273+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-30T09:57:36.274+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:57:36.280+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/account-codes/list", parameters={}
2025-12-30T09:57:36.281+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:57:36.281+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:57:36.281+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AccountCodeController#getMappingList()
2025-12-30T09:57:36.282+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:36.282+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:36.283+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2025-12-30T09:57:36.283+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6163afd5] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:36.283+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6efd5d4c] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:36.284+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2025-12-30T09:57:36.287+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:36.287+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47c4461a] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:36.301+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@79215234 wrapping com.mysql.cj.jdbc.ConnectionImpl@53446442] will not be managed by Spring
2025-12-30T09:57:36.301+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1373651761 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:36.301+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1870066429 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:36.302+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:57:36.302+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.A.findByCompanyId                : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE company_id = ? OR company_id IS NULL ORDER BY company_id DESC, category ASC, account_name ASC
2025-12-30T09:57:36.302+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:57:36.303+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-30T09:57:36.304+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.A.findByCompanyId                : ==> Parameters: 1(Long)
2025-12-30T09:57:36.304+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-30T09:57:36.306+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.A.findByCompanyId                : <==      Total: 1
2025-12-30T09:57:36.306+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-30T09:57:36.307+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47c4461a]
2025-12-30T09:57:36.307+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6efd5d4c]
2025-12-30T09:57:36.308+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T09:57:36.308+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:36.311+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:36.312+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6163afd5]
2025-12-30T09:57:36.312+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[AccountCodeMappingDto(mappingId=1, companyId=1, categ (truncated)...]
2025-12-30T09:57:36.313+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@318667ae] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:36.313+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:36.314+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:36.315+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1932794493 wrapping com.mysql.cj.jdbc.ConnectionImpl@53446442] will not be managed by Spring
2025-12-30T09:57:36.315+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4985a5dc] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:36.317+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:57:36.318+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@839565933 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:36.318+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:57:36.318+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:36.319+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:36.319+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/account-codes/list
2025-12-30T09:57:36.322+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/account-codes/list
2025-12-30T09:57:36.322+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:36.322+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:57:36.322+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/account-codes/list
2025-12-30T09:57:36.324+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4985a5dc]
2025-12-30T09:57:36.324+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@318667ae]
2025-12-30T09:57:36.325+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/account-codes/list", parameters={}
2025-12-30T09:57:36.326+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:36.327+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:36.328+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AccountCodeController#getMappingList()
2025-12-30T09:57:36.331+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a8a3206] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:36.332+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:57:36.333+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@507892686 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:36.333+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:36.334+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-30T09:57:36.332+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2025-12-30T09:57:36.334+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:36.335+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2025-12-30T09:57:36.337+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-30T09:57:36.338+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:36.338+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a8a3206]
2025-12-30T09:57:36.338+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79cf6007] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:36.339+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:36.340+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@986462a] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:36.341+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@582438686 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:36.342+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:36.342+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1520822782 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:36.343+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:36.343+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCompanyId                : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE company_id = ? OR company_id IS NULL ORDER BY company_id DESC, category ASC, account_name ASC
2025-12-30T09:57:36.345+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCompanyId                : ==> Parameters: 1(Long)
2025-12-30T09:57:36.348+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:36.349+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@986462a]
2025-12-30T09:57:36.350+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:36.350+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCompanyId                : <==      Total: 1
2025-12-30T09:57:36.350+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:57:36.351+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79cf6007]
2025-12-30T09:57:36.351+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:36.352+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:36.353+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[AccountCodeMappingDto(mappingId=1, companyId=1, categ (truncated)...]
2025-12-30T09:57:36.354+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:38.057+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:38.057+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:57:38.057+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-30T09:57:38.057+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:57:38.060+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:57:38.061+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-30T09:57:38.062+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-30T09:57:38.062+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:38.062+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-30T09:57:38.062+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:57:38.063+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-30T09:57:38.064+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-30T09:57:38.064+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:57:38.065+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:57:38.066+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:57:38.065+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-30T09:57:38.066+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:57:38.066+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:57:38.067+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:38.067+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-30T09:57:38.069+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:38.069+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:57:38.070+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4864b719] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:38.070+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:38.070+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14fc07a8] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:38.071+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:38.073+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25370b08] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:38.076+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ed7ba51] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:38.088+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@405112540 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:38.088+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1473628442 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d6e3f5c] will not be managed by Spring
2025-12-30T09:57:38.088+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@210304494 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:38.088+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@244816451 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:38.088+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:57:38.089+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:57:38.089+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:57:38.089+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:57:38.090+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-30T09:57:38.092+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-30T09:57:38.097+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-30T09:57:38.097+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:57:38.100+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T09:57:38.100+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-30T09:57:38.100+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:57:38.100+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-30T09:57:38.100+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14fc07a8]
2025-12-30T09:57:38.103+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4864b719]
2025-12-30T09:57:38.104+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ed7ba51]
2025-12-30T09:57:38.104+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25370b08]
2025-12-30T09:57:38.104+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:38.104+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:38.104+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:38.105+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:38.106+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c7f3370] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:38.111+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e7202e9] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:38.113+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5788128] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:38.114+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-30T09:57:38.114+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1316955065 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:38.114+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1399201867 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:38.114+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1597022681 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:38.115+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:38.115+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:38.116+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:57:38.116+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:38.116+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:38.119+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:57:38.120+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:38.131+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:57:38.131+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:38.131+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:38.132+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e7202e9]
2025-12-30T09:57:38.132+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5788128]
2025-12-30T09:57:38.133+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c7f3370]
2025-12-30T09:57:38.134+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:38.134+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:38.134+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:38.135+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:57:38.135+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e5e08e4] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:38.135+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77ebe01f] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:38.136+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:38.136+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2137960390 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:38.137+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:57:38.140+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@576366881 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:38.149+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:38.149+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:38.149+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-30T09:57:38.149+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:57:38.150+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-30T09:57:38.151+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:57:38.152+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:57:38.153+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:57:38.154+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:38.155+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-30T09:57:38.156+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:57:38.157+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b696293] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:38.157+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77ebe01f]
2025-12-30T09:57:38.157+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e5e08e4]
2025-12-30T09:57:38.158+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@947309134 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:38.160+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:38.161+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:38.161+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:57:38.162+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d112f7a] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:38.162+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73745649] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:38.163+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-30T09:57:38.164+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@89311711 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:38.167+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1025735147 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:38.170+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:38.170+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:57:38.172+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:38.179+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:57:38.182+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-30T09:57:38.185+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b696293]
2025-12-30T09:57:38.185+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:57:38.186+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:38.187+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:38.187+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73745649]
2025-12-30T09:57:38.188+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d112f7a]
2025-12-30T09:57:38.188+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@761334f4] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:38.189+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:38.189+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:38.195+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1995353439 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:38.196+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@457dee45] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:38.199+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:57:38.199+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:57:38.201+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@350891709 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:38.202+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:38.204+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:57:38.204+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:38.206+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:38.212+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:38.213+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:57:38.213+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:38.214+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-30T09:57:38.214+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:57:38.215+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:38.215+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d1a2fb4] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:38.216+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@480883635 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:38.216+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:57:38.217+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-30T09:57:38.220+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:57:38.220+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:38.221+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@761334f4]
2025-12-30T09:57:38.221+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@457dee45]
2025-12-30T09:57:38.222+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:38.222+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:38.222+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:57:38.222+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ae917f9] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:38.223+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:38.223+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1624033063 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:38.224+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:38.224+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:57:38.229+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T09:57:38.229+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d1a2fb4]
2025-12-30T09:57:38.229+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:38.230+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:57:38.232+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:57:38.232+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ed6b978] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:38.233+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ae917f9]
2025-12-30T09:57:38.233+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-30T09:57:38.233+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1387088025 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:38.233+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:38.234+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:57:38.234+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:38.234+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@108c08bc] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:38.235+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:57:38.235+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:38.235+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@307790731 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:38.235+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:57:38.236+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:38.236+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:38.240+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:38.244+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@550c62e7] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:38.246+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1406239028 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:38.248+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:57:38.249+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:38.251+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-30T09:57:38.252+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ed6b978]
2025-12-30T09:57:38.253+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:38.253+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:38.254+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@108c08bc]
2025-12-30T09:57:38.254+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@664ab64a] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:38.255+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-30T09:57:38.255+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:38.256+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@489475714 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:38.265+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@550c62e7]
2025-12-30T09:57:38.270+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:57:38.270+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:38.270+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:38.271+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:38.271+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-30T09:57:38.272+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@580d4115] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:38.281+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1855982505 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:38.281+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:57:38.283+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:57:38.294+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:57:38.302+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:57:38.302+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-30T09:57:38.302+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-30T09:57:38.303+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@580d4115]
2025-12-30T09:57:38.303+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@664ab64a]
2025-12-30T09:57:38.303+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:57:38.303+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:38.304+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:38.305+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:57:38.311+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:57:38.311+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@641eff28] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:38.319+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:57:38.321+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:38.321+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1465253127 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:38.322+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:38.333+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:38.334+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dc8292e] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:38.334+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:38.353+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2093322319 wrapping com.mysql.cj.jdbc.ConnectionImpl@53446442] will not be managed by Spring
2025-12-30T09:57:38.353+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:38.364+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:57:38.365+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@641eff28]
2025-12-30T09:57:38.365+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:57:38.368+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:38.371+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:57:38.372+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:38.384+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:38.388+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:57:38.392+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:57:38.398+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:38.399+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dc8292e]
2025-12-30T09:57:38.420+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-30T09:57:38.428+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:38.429+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cdc85df] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:38.429+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1326418058 wrapping com.mysql.cj.jdbc.ConnectionImpl@53446442] will not be managed by Spring
2025-12-30T09:57:38.430+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:38.430+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:38.428+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:57:38.434+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:38.435+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bc37cc4] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:38.436+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@282056832 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:38.443+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:57:38.445+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-30T09:57:38.445+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:38.454+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cdc85df]
2025-12-30T09:57:38.457+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:38.478+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@154ecc2c] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:38.481+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T09:57:38.485+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@498356519 wrapping com.mysql.cj.jdbc.ConnectionImpl@53446442] will not be managed by Spring
2025-12-30T09:57:38.498+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bc37cc4]
2025-12-30T09:57:38.499+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:38.500+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:38.500+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:57:38.501+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b2ee515] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:38.502+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1262191592 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:38.503+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:38.505+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:38.512+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:57:38.516+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@154ecc2c]
2025-12-30T09:57:38.517+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:38.518+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:38.519+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70fce498] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:38.521+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b2ee515]
2025-12-30T09:57:38.522+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@321943815 wrapping com.mysql.cj.jdbc.ConnectionImpl@53446442] will not be managed by Spring
2025-12-30T09:57:38.534+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:38.536+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:57:38.536+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@685afe2e] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:38.537+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:57:38.538+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1691400317 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:38.563+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:38.564+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-30T09:57:38.596+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:57:38.605+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70fce498]
2025-12-30T09:57:38.606+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:38.606+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64b821a3] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:38.607+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1937232264 wrapping com.mysql.cj.jdbc.ConnectionImpl@53446442] will not be managed by Spring
2025-12-30T09:57:38.633+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:38.607+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-30T09:57:38.634+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:38.635+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@685afe2e]
2025-12-30T09:57:38.635+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:38.637+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24a43c96] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:38.639+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@464526754 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:38.649+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:38.649+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:38.651+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:38.651+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64b821a3]
2025-12-30T09:57:38.652+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:38.653+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ee966bb] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:38.653+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:38.654+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2079973884 wrapping com.mysql.cj.jdbc.ConnectionImpl@53446442] will not be managed by Spring
2025-12-30T09:57:38.654+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24a43c96]
2025-12-30T09:57:38.654+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:38.655+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:38.657+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:57:38.657+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:57:38.673+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:38.723+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:57:38.728+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ee966bb]
2025-12-30T09:57:38.732+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:38.732+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2efdde85] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:38.733+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@993311071 wrapping com.mysql.cj.jdbc.ConnectionImpl@53446442] will not be managed by Spring
2025-12-30T09:57:38.734+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:38.734+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:38.742+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:38.747+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2efdde85]
2025-12-30T09:57:38.748+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:38.751+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:57:38.751+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:39.932+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/monthly-closing/list
2025-12-30T09:57:39.932+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:39.933+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:57:39.936+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/monthly-closing/list
2025-12-30T09:57:39.933+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/monthly-closing/list
2025-12-30T09:57:39.935+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:57:39.937+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-30T09:57:39.944+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/monthly-closing/list
2025-12-30T09:57:39.947+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:39.948+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:57:39.948+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/monthly-closing/list
2025-12-30T09:57:39.949+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-30T09:57:39.952+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:57:39.952+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/monthly-closing/list", parameters={}
2025-12-30T09:57:39.952+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:57:39.953+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:57:39.953+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.MonthlyClosingController#getClosingList()
2025-12-30T09:57:39.954+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:39.957+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38fbcfe] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:39.955+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:39.959+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@261822b7] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:39.956+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.MonthlyClosingController.getClosingList(); target is of class [com.innersignature.backend.controller.MonthlyClosingController]
2025-12-30T09:57:39.964+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.MonthlyClosingController.getClosingList(); target is of class [com.innersignature.backend.controller.MonthlyClosingController]
2025-12-30T09:57:39.966+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1289190314 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d6e3f5c] will not be managed by Spring
2025-12-30T09:57:39.966+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@447023856 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:39.966+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:57:39.966+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:39.967+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:57:39.967+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-30T09:57:39.967+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@256ed5e7] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:39.968+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-30T09:57:39.970+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T09:57:39.970+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38fbcfe]
2025-12-30T09:57:39.971+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1228024182 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:39.971+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:39.971+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-30T09:57:39.971+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.M.findByCompanyId                : ==>  Preparing: SELECT mc.*, u.korean_name AS closed_by_name FROM monthly_closing_tb mc LEFT JOIN user_tb u ON mc.closed_by = u.user_id WHERE mc.company_id = ? ORDER BY mc.closing_year DESC, mc.closing_month DESC
2025-12-30T09:57:39.971+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4015ec2b] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:39.971+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@261822b7]
2025-12-30T09:57:39.972+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.M.findByCompanyId                : ==> Parameters: 1(Long)
2025-12-30T09:57:39.972+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1782881959 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d6e3f5c] will not be managed by Spring
2025-12-30T09:57:39.972+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:39.973+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:39.973+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33c9acb9] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:39.973+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:39.973+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1405384374 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:39.974+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:57:39.977+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:57:39.978+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:39.978+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4015ec2b]
2025-12-30T09:57:39.979+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:39.979+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d604f07] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:39.979+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:57:39.980+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1392220212 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d6e3f5c] will not be managed by Spring
2025-12-30T09:57:39.981+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:39.980+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33c9acb9]
2025-12-30T09:57:39.981+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.M.findByCompanyId                : <==      Total: 1
2025-12-30T09:57:39.982+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-30T09:57:39.982+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@256ed5e7]
2025-12-30T09:57:39.982+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:39.983+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:39.983+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:57:39.984+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[MonthlyClosingDto(closingId=1, companyId=1, closingYe (truncated)...]
2025-12-30T09:57:39.984+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-30T09:57:39.985+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d604f07]
2025-12-30T09:57:39.984+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:39.985+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:39.986+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:39.987+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/monthly-closing/list
2025-12-30T09:57:39.987+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cfeee46] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:39.989+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1935247529 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d6e3f5c] will not be managed by Spring
2025-12-30T09:57:39.989+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/monthly-closing/list
2025-12-30T09:57:39.990+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:39.990+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/monthly-closing/list
2025-12-30T09:57:39.990+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:39.990+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/monthly-closing/list", parameters={}
2025-12-30T09:57:39.991+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.MonthlyClosingController#getClosingList()
2025-12-30T09:57:39.992+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.MonthlyClosingController.getClosingList(); target is of class [com.innersignature.backend.controller.MonthlyClosingController]
2025-12-30T09:57:39.995+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:39.996+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.MonthlyClosingController.getClosingList(); target is of class [com.innersignature.backend.controller.MonthlyClosingController]
2025-12-30T09:57:39.996+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cfeee46]
2025-12-30T09:57:39.996+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:39.997+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:39.997+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53eb772] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:39.997+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:57:39.998+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:40.001+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@596969313 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:40.001+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.M.findByCompanyId                : ==>  Preparing: SELECT mc.*, u.korean_name AS closed_by_name FROM monthly_closing_tb mc LEFT JOIN user_tb u ON mc.closed_by = u.user_id WHERE mc.company_id = ? ORDER BY mc.closing_year DESC, mc.closing_month DESC
2025-12-30T09:57:40.001+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.M.findByCompanyId                : ==> Parameters: 1(Long)
2025-12-30T09:57:40.003+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.M.findByCompanyId                : <==      Total: 1
2025-12-30T09:57:40.004+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53eb772]
2025-12-30T09:57:40.005+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:40.005+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[MonthlyClosingDto(closingId=1, companyId=1, closingYe (truncated)...]
2025-12-30T09:57:40.006+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:45.974+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/monthly-closing/close
2025-12-30T09:57:45.982+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/monthly-closing/close
2025-12-30T09:57:45.985+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/monthly-closing/close
2025-12-30T09:57:45.985+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/monthly-closing/close
2025-12-30T09:57:45.985+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/monthly-closing/close", parameters={}
2025-12-30T09:57:45.986+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.MonthlyClosingController#closeMonth(Map)
2025-12-30T09:57:45.987+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{year=2025, month=11}]
2025-12-30T09:57:45.988+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.MonthlyClosingController.closeMonth(java.util.Map); target is of class [com.innersignature.backend.controller.MonthlyClosingController]
2025-12-30T09:57:45.988+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.MonthlyClosingController.closeMonth(java.util.Map); target is of class [com.innersignature.backend.controller.MonthlyClosingController]
2025-12-30T09:57:45.997+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:45.997+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10374ddc]
2025-12-30T09:57:45.997+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@567417781 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will be managed by Spring
2025-12-30T09:57:45.998+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.MonthlyClosingMapper.isClosed    : ==>  Preparing: SELECT COUNT(*) > 0 FROM monthly_closing_tb WHERE company_id = ? AND closing_year = ? AND closing_month = ? AND is_closed = 1
2025-12-30T09:57:45.998+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.MonthlyClosingMapper.isClosed    : ==> Parameters: 1(Long), 2025(Integer), 11(Integer)
2025-12-30T09:57:46.000+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.MonthlyClosingMapper.isClosed    : <==      Total: 1
2025-12-30T09:57:46.000+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10374ddc]
2025-12-30T09:57:46.001+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10374ddc] from current transaction
2025-12-30T09:57:46.001+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.MonthlyClosingMapper.insert      : ==>  Preparing: INSERT INTO monthly_closing_tb ( company_id, closing_year, closing_month, closed_by, closed_at, is_closed ) VALUES ( ?, ?, ?, ?, ?, ? )
2025-12-30T09:57:46.002+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.MonthlyClosingMapper.insert      : ==> Parameters: 1(Long), 2025(Integer), 11(Integer), 1(Long), 2025-12-30T09:57:46.001056(LocalDateTime), true(Boolean)
2025-12-30T09:57:46.007+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.MonthlyClosingMapper.insert      : <==    Updates: 1
2025-12-30T09:57:46.008+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10374ddc]
2025-12-30T09:57:46.011+09:00  INFO 19004 --- [http-nio-8080-exec-9] c.i.b.service.MonthlyClosingService      : 월 마감 처리 완료 - companyId: 1, year: 2025, month: 11, userId: 1
2025-12-30T09:57:46.011+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10374ddc] from current transaction
2025-12-30T09:57:46.011+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.M.findByCompanyAndDate           : ==>  Preparing: SELECT mc.*, u.korean_name AS closed_by_name FROM monthly_closing_tb mc LEFT JOIN user_tb u ON mc.closed_by = u.user_id WHERE mc.company_id = ? AND mc.closing_year = ? AND mc.closing_month = ?
2025-12-30T09:57:46.011+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.M.findByCompanyAndDate           : ==> Parameters: 1(Long), 2025(Integer), 11(Integer)
2025-12-30T09:57:46.014+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.M.findByCompanyAndDate           : <==      Total: 1
2025-12-30T09:57:46.015+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10374ddc]
2025-12-30T09:57:46.015+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10374ddc]
2025-12-30T09:57:46.016+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10374ddc]
2025-12-30T09:57:46.016+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10374ddc]
2025-12-30T09:57:46.020+09:00  INFO 19004 --- [http-nio-8080-exec-9] c.i.b.c.MonthlyClosingController         : 월 마감 처리 완료 - year: 2025, month: 11, userId: 1
2025-12-30T09:57:46.020+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:46.021+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=월 마감이 완료되었습니다., data=MonthlyClosingDto(closingId=2, companyId=1, c (truncated)...]
2025-12-30T09:57:46.022+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:46.743+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/monthly-closing/list
2025-12-30T09:57:46.745+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/monthly-closing/list
2025-12-30T09:57:46.747+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/monthly-closing/list
2025-12-30T09:57:46.747+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/monthly-closing/list", parameters={}
2025-12-30T09:57:46.747+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.MonthlyClosingController#getClosingList()
2025-12-30T09:57:46.747+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.MonthlyClosingController.getClosingList(); target is of class [com.innersignature.backend.controller.MonthlyClosingController]
2025-12-30T09:57:46.748+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.MonthlyClosingController.getClosingList(); target is of class [com.innersignature.backend.controller.MonthlyClosingController]
2025-12-30T09:57:46.749+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:46.752+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13d68c4e] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:46.764+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@232067155 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:46.765+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.M.findByCompanyId                : ==>  Preparing: SELECT mc.*, u.korean_name AS closed_by_name FROM monthly_closing_tb mc LEFT JOIN user_tb u ON mc.closed_by = u.user_id WHERE mc.company_id = ? ORDER BY mc.closing_year DESC, mc.closing_month DESC
2025-12-30T09:57:46.766+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.M.findByCompanyId                : ==> Parameters: 1(Long)
2025-12-30T09:57:46.769+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.M.findByCompanyId                : <==      Total: 2
2025-12-30T09:57:46.776+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13d68c4e]
2025-12-30T09:57:46.782+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:46.783+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[MonthlyClosingDto(closingId=2, companyId=1, closingYe (truncated)...]
2025-12-30T09:57:46.784+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:52.565+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:52.566+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:57:52.566+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:57:52.566+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-30T09:57:52.567+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:57:52.567+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-30T09:57:52.567+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-30T09:57:52.568+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:52.568+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-30T09:57:52.568+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:57:52.568+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:57:52.568+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-30T09:57:52.569+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-30T09:57:52.569+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:57:52.569+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:57:52.569+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:57:52.569+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-30T09:57:52.570+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:57:52.570+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:57:52.573+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:52.574+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e742f7f] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:52.570+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:52.570+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-30T09:57:52.571+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:52.583+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45d767e4] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:52.583+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:52.583+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ff59ac0] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:52.585+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c6282b5] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:52.590+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@699765661 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:52.591+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:57:52.595+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:57:52.596+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@582083282 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d6e3f5c] will not be managed by Spring
2025-12-30T09:57:52.596+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@461258640 wrapping com.mysql.cj.jdbc.ConnectionImpl@53446442] will not be managed by Spring
2025-12-30T09:57:52.596+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@30118790 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:52.602+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:57:52.603+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:57:52.603+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:57:52.606+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-30T09:57:52.608+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-30T09:57:52.612+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-30T09:57:52.612+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:57:52.614+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e742f7f]
2025-12-30T09:57:52.617+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:52.618+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T09:57:52.618+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-30T09:57:52.618+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-30T09:57:52.618+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57ad6936] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:52.619+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45d767e4]
2025-12-30T09:57:52.619+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c6282b5]
2025-12-30T09:57:52.620+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ff59ac0]
2025-12-30T09:57:52.621+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@951126526 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:52.622+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:52.622+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:52.622+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:52.623+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:52.623+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@586d563e] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:52.624+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-30T09:57:52.627+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f7f068e] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:52.628+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:52.629+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@696466150 wrapping com.mysql.cj.jdbc.ConnectionImpl@53446442] will not be managed by Spring
2025-12-30T09:57:52.631+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:52.633+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@940281404 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:52.633+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:52.636+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:57:52.636+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:52.636+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:57:52.637+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:52.640+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57ad6936]
2025-12-30T09:57:52.641+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:52.644+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:52.645+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@586d563e]
2025-12-30T09:57:52.647+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:57:52.648+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38e176e4] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:52.650+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:52.650+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f7f068e]
2025-12-30T09:57:52.651+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@79252503 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:52.651+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a8376ab] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:52.651+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:52.652+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:52.652+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@141368163 wrapping com.mysql.cj.jdbc.ConnectionImpl@53446442] will not be managed by Spring
2025-12-30T09:57:52.653+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:57:52.654+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:57:52.656+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:52.655+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:52.666+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-30T09:57:52.671+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:57:52.672+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:57:52.676+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-30T09:57:52.679+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-30T09:57:52.680+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38e176e4]
2025-12-30T09:57:52.680+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:57:52.681+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a8376ab]
2025-12-30T09:57:52.681+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:52.681+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:57:52.681+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:52.681+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63dd0c3b] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:52.682+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:57:52.682+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@236e75b0] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:52.683+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1354236146 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:52.683+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:52.684+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@49899864 wrapping com.mysql.cj.jdbc.ConnectionImpl@53446442] will not be managed by Spring
2025-12-30T09:57:52.684+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:57:52.684+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4356aca9] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:52.685+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:52.686+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:57:52.687+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@646949208 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:52.687+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:52.688+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:57:52.690+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-30T09:57:52.707+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:52.707+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:57:52.716+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@236e75b0]
2025-12-30T09:57:52.716+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63dd0c3b]
2025-12-30T09:57:52.717+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:52.717+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-30T09:57:52.718+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:52.719+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:57:52.719+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4356aca9]
2025-12-30T09:57:52.719+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@108aec27] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:52.720+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:52.720+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:52.721+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@465405657 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:52.726+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:52.726+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:52.724+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4acb59d2] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:52.731+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1007589318 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:52.734+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:57:52.734+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:52.735+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:57:52.735+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:57:52.736+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:52.737+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:52.739+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@108aec27]
2025-12-30T09:57:52.739+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-30T09:57:52.739+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:52.739+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:57:52.740+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:57:52.740+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ce2bbaf] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:52.741+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@726567360 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:52.740+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4acb59d2]
2025-12-30T09:57:52.741+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:52.747+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:52.748+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:52.748+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45fae1cc] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:52.749+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:57:52.750+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:57:52.750+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2127408107 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d6e3f5c] will not be managed by Spring
2025-12-30T09:57:52.751+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:57:52.751+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:52.752+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-30T09:57:52.754+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:57:52.759+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-30T09:57:52.762+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:57:52.763+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:57:52.763+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ce2bbaf]
2025-12-30T09:57:52.764+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:57:52.764+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:52.764+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T09:57:52.765+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:57:52.765+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4268dcbe] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:52.766+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45fae1cc]
2025-12-30T09:57:52.766+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:52.766+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@992884895 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:52.766+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:52.767+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bdb0460] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:52.767+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:52.767+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50b4df4c] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:52.767+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:52.769+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1112711191 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d6e3f5c] will not be managed by Spring
2025-12-30T09:57:52.771+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1493467438 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:52.772+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:52.772+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:57:52.773+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:52.779+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-30T09:57:52.782+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:52.784+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4268dcbe]
2025-12-30T09:57:52.785+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:52.786+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:57:52.786+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:52.787+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-30T09:57:52.787+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:52.788+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50b4df4c]
2025-12-30T09:57:52.789+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bdb0460]
2025-12-30T09:57:52.791+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:57:52.797+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:52.798+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:52.798+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63cd4f84] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:52.799+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-30T09:57:52.799+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d5a1ec] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:52.799+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@360034830 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d6e3f5c] will not be managed by Spring
2025-12-30T09:57:52.800+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:57:52.801+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1602210536 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:52.802+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:52.802+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:57:52.802+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:57:52.803+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-30T09:57:52.803+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:57:52.804+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:57:52.805+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:52.805+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ccc46f1] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:52.807+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1593554836 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:52.810+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:57:52.812+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:57:52.818+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-30T09:57:52.818+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:57:52.818+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:57:52.819+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63cd4f84]
2025-12-30T09:57:52.820+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ccc46f1]
2025-12-30T09:57:52.820+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d5a1ec]
2025-12-30T09:57:52.820+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:52.821+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:52.821+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:52.821+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@da69a55] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:52.822+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e3a677b] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:52.822+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:57:52.823+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@69096714 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d6e3f5c] will not be managed by Spring
2025-12-30T09:57:52.823+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@810505603 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:52.824+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:52.829+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:52.830+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:52.831+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:52.831+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:52.836+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:52.837+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:52.839+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e3a677b]
2025-12-30T09:57:52.839+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@da69a55]
2025-12-30T09:57:52.840+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:52.840+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:52.840+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@430662d3] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:52.841+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:57:52.842+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@787137655 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:52.847+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:52.848+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:52.850+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:57:52.851+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:52.853+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:57:52.856+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:52.858+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-30T09:57:52.863+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:57:52.865+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:57:52.865+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@430662d3]
2025-12-30T09:57:52.866+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:52.866+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fbbbbae] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:52.865+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:52.867+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2136690800 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:52.868+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19e13bca] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:52.868+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:57:52.869+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1771854438 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:52.870+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:57:52.870+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:57:52.872+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-30T09:57:52.879+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:57:52.880+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T09:57:52.881+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fbbbbae]
2025-12-30T09:57:52.882+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19e13bca]
2025-12-30T09:57:52.882+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:52.883+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:52.883+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78ad1d46] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:52.883+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e2ca8d3] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:52.884+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@706330422 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:52.884+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2122576311 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:52.884+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:52.884+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:52.885+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:52.885+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:52.887+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:52.887+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:52.888+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78ad1d46]
2025-12-30T09:57:52.889+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e2ca8d3]
2025-12-30T09:57:52.889+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:52.891+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:52.894+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f0af7c3] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:52.895+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c9d7b22] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:52.896+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1331533385 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:52.896+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@939271762 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:52.897+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:52.898+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:52.899+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:57:52.899+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-30T09:57:52.901+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:57:52.901+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-30T09:57:52.901+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f0af7c3]
2025-12-30T09:57:52.903+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c9d7b22]
2025-12-30T09:57:52.904+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:52.904+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:52.905+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2828d5f] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:52.909+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d44f269] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:52.910+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@171886115 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:52.911+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1255657096 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:52.911+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:52.911+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:52.912+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:52.912+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:52.917+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:52.918+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:52.919+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d44f269]
2025-12-30T09:57:52.920+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2828d5f]
2025-12-30T09:57:52.921+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:52.921+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:52.921+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:57:52.922+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:57:52.922+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:52.923+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:54.689+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:57:54.689+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:54.690+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/audit-logs/list?page=1&size=10
2025-12-30T09:57:54.691+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-30T09:57:54.692+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:57:54.692+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:57:54.692+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/audit-logs/list
2025-12-30T09:57:54.693+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:54.694+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:57:54.694+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/audit-logs/list?page=1&size=10
2025-12-30T09:57:54.694+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-30T09:57:54.694+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:57:54.694+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/audit-logs/list?page=1&size=10", parameters={masked}
2025-12-30T09:57:54.697+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AuditLogController#getAuditLogs(String, Boolean, LocalDateTime, LocalDateTime, int, int)
2025-12-30T09:57:54.695+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:57:54.696+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:54.699+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AuditLogController.getAuditLogs(java.lang.String,java.lang.Boolean,java.time.LocalDateTime,java.time.LocalDateTime,int,int); target is of class [com.innersignature.backend.controller.AuditLogController]
2025-12-30T09:57:54.700+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:54.700+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b9eb261] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:54.701+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AuditLogController.getAuditLogs(java.lang.String,java.lang.Boolean,java.time.LocalDateTime,java.time.LocalDateTime,int,int); target is of class [com.innersignature.backend.controller.AuditLogController]
2025-12-30T09:57:54.702+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42836d95] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:54.703+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:54.704+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@646663497 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d6e3f5c] will not be managed by Spring
2025-12-30T09:57:54.705+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@745df6ad] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:54.706+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:57:54.706+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1803490259 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:54.710+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@127913468 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:54.710+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-30T09:57:54.711+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:57:54.711+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.AuditLogMapper.findByCompanyId   : ==>  Preparing: SELECT al.*, ar.rule_name, er.title AS expense_title, u.korean_name AS resolved_by_name FROM audit_log_tb al INNER JOIN expense_report_tb er ON al.expense_report_id = er.expense_report_id LEFT JOIN audit_rule_tb ar ON al.rule_id = ar.rule_id LEFT JOIN user_tb u ON al.resolved_by = u.user_id WHERE er.company_id = ? AND (? IS NULL OR al.severity = ?) AND (? IS NULL OR al.is_resolved = ?) AND (? IS NULL OR al.detected_at >= ?) AND (? IS NULL OR al.detected_at <= ?) ORDER BY al.detected_at DESC LIMIT ? OFFSET ?
2025-12-30T09:57:54.713+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-30T09:57:54.715+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.AuditLogMapper.findByCompanyId   : ==> Parameters: 1(Long), null, null, null, null, null, null, null, null, 10(Integer), 0(Integer)
2025-12-30T09:57:54.719+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-30T09:57:54.722+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.AuditLogMapper.findByCompanyId   : <==      Total: 0
2025-12-30T09:57:54.722+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T09:57:54.723+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b9eb261]
2025-12-30T09:57:54.723+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@745df6ad]
2025-12-30T09:57:54.723+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42836d95]
2025-12-30T09:57:54.723+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:54.724+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:54.724+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:54.724+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64896941] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:54.726+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72ebe2ba] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:54.727+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56f1f800] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:54.728+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1673783560 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d6e3f5c] will not be managed by Spring
2025-12-30T09:57:54.729+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@531228188 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:54.729+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:57:54.729+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1987234842 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:54.729+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.AuditLogMapper.countByCompanyId  : ==>  Preparing: SELECT COUNT(*) FROM audit_log_tb al INNER JOIN expense_report_tb er ON al.expense_report_id = er.expense_report_id WHERE er.company_id = ? AND (? IS NULL OR al.severity = ?) AND (? IS NULL OR al.is_resolved = ?) AND (? IS NULL OR al.detected_at >= ?) AND (? IS NULL OR al.detected_at <= ?)
2025-12-30T09:57:54.730+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:57:54.730+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:54.731+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.AuditLogMapper.countByCompanyId  : ==> Parameters: 1(Long), null, null, null, null, null, null, null, null
2025-12-30T09:57:54.731+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:54.733+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:57:54.733+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.AuditLogMapper.countByCompanyId  : <==      Total: 1
2025-12-30T09:57:54.733+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:54.733+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64896941]
2025-12-30T09:57:54.733+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72ebe2ba]
2025-12-30T09:57:54.733+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56f1f800]
2025-12-30T09:57:54.733+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:54.734+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:54.734+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:54.734+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:57:54.734+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=PagedResponse(content=[], page=1, size=10, totalElemen (truncated)...]
2025-12-30T09:57:54.735+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54eb7d87] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:54.736+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:54.736+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:54.736+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@218349282 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:54.736+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:54.737+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-30T09:57:54.738+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/audit-logs/list?page=1&size=10
2025-12-30T09:57:54.739+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/audit-logs/list
2025-12-30T09:57:54.740+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/audit-logs/list?page=1&size=10
2025-12-30T09:57:54.740+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/audit-logs/list?page=1&size=10", parameters={masked}
2025-12-30T09:57:54.742+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AuditLogController#getAuditLogs(String, Boolean, LocalDateTime, LocalDateTime, int, int)
2025-12-30T09:57:54.743+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AuditLogController.getAuditLogs(java.lang.String,java.lang.Boolean,java.time.LocalDateTime,java.time.LocalDateTime,int,int); target is of class [com.innersignature.backend.controller.AuditLogController]
2025-12-30T09:57:54.744+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AuditLogController.getAuditLogs(java.lang.String,java.lang.Boolean,java.time.LocalDateTime,java.time.LocalDateTime,int,int); target is of class [com.innersignature.backend.controller.AuditLogController]
2025-12-30T09:57:54.748+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:54.749+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10f029f4] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:54.752+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-30T09:57:54.752+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@161025874 wrapping com.mysql.cj.jdbc.ConnectionImpl@53446442] will not be managed by Spring
2025-12-30T09:57:54.752+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54eb7d87]
2025-12-30T09:57:54.752+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.AuditLogMapper.findByCompanyId   : ==>  Preparing: SELECT al.*, ar.rule_name, er.title AS expense_title, u.korean_name AS resolved_by_name FROM audit_log_tb al INNER JOIN expense_report_tb er ON al.expense_report_id = er.expense_report_id LEFT JOIN audit_rule_tb ar ON al.rule_id = ar.rule_id LEFT JOIN user_tb u ON al.resolved_by = u.user_id WHERE er.company_id = ? AND (? IS NULL OR al.severity = ?) AND (? IS NULL OR al.is_resolved = ?) AND (? IS NULL OR al.detected_at >= ?) AND (? IS NULL OR al.detected_at <= ?) ORDER BY al.detected_at DESC LIMIT ? OFFSET ?
2025-12-30T09:57:54.753+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:54.753+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dd5a0be] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:54.753+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.AuditLogMapper.findByCompanyId   : ==> Parameters: 1(Long), null, null, null, null, null, null, null, null, 10(Integer), 0(Integer)
2025-12-30T09:57:54.753+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@48100294 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:54.754+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:54.755+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:54.757+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:54.757+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.AuditLogMapper.findByCompanyId   : <==      Total: 0
2025-12-30T09:57:54.757+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dd5a0be]
2025-12-30T09:57:54.757+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10f029f4]
2025-12-30T09:57:54.757+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:54.757+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:54.758+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:57:54.759+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e70226] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:54.759+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1546742112 wrapping com.mysql.cj.jdbc.ConnectionImpl@53446442] will not be managed by Spring
2025-12-30T09:57:54.759+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:54.760+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.AuditLogMapper.countByCompanyId  : ==>  Preparing: SELECT COUNT(*) FROM audit_log_tb al INNER JOIN expense_report_tb er ON al.expense_report_id = er.expense_report_id WHERE er.company_id = ? AND (? IS NULL OR al.severity = ?) AND (? IS NULL OR al.is_resolved = ?) AND (? IS NULL OR al.detected_at >= ?) AND (? IS NULL OR al.detected_at <= ?)
2025-12-30T09:57:54.762+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.AuditLogMapper.countByCompanyId  : ==> Parameters: 1(Long), null, null, null, null, null, null, null, null
2025-12-30T09:57:54.764+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.AuditLogMapper.countByCompanyId  : <==      Total: 1
2025-12-30T09:57:54.764+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e70226]
2025-12-30T09:57:54.765+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:54.765+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=PagedResponse(content=[], page=1, size=10, totalElemen (truncated)...]
2025-12-30T09:57:54.766+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:55.638+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:55.638+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:57:55.638+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:57:55.639+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-30T09:57:55.639+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:57:55.639+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-30T09:57:55.640+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-30T09:57:55.643+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:57:55.640+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-30T09:57:55.640+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:55.640+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:57:55.646+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:57:55.648+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:57:55.647+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-30T09:57:55.647+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-30T09:57:55.651+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:57:55.647+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:57:55.653+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:57:55.649+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:55.650+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-30T09:57:55.652+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:55.655+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:55.656+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17ff1191] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:55.660+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-30T09:57:55.661+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b59889f] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:55.662+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a44f8ba] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:55.664+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:55.667+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79a342e0] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:55.672+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1684890614 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:55.673+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@859062775 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:55.673+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@520465888 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:55.679+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:57:55.681+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@917414065 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d6e3f5c] will not be managed by Spring
2025-12-30T09:57:55.679+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:57:55.680+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:57:55.681+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-30T09:57:55.681+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:57:55.682+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-30T09:57:55.682+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:57:55.685+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-30T09:57:55.685+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-30T09:57:55.687+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a44f8ba]
2025-12-30T09:57:55.687+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:55.689+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:57:55.689+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ccbdcc] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:55.695+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1151750121 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:55.697+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:57:55.689+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17ff1191]
2025-12-30T09:57:55.698+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:57:55.698+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:55.702+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b23d0aa] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:55.699+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T09:57:55.699+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-30T09:57:55.703+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1966312349 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:55.703+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b59889f]
2025-12-30T09:57:55.704+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79a342e0]
2025-12-30T09:57:55.704+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:55.705+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:55.705+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:55.706+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:55.707+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@721bcf30] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:55.707+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:57:55.709+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-30T09:57:55.711+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1795253165 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:55.711+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ccbdcc]
2025-12-30T09:57:55.714+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:55.714+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:55.716+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:55.717+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:55.719+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:55.720+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:57:55.720+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b23d0aa]
2025-12-30T09:57:55.721+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:55.721+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:55.722+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7af86e24] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:55.723+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1332430673 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:55.729+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:55.732+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:57:55.733+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:57:55.734+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-30T09:57:55.734+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:55.737+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:57:55.737+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@721bcf30]
2025-12-30T09:57:55.737+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:57:55.737+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:55.738+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:57:55.738+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2291b11d] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:55.739+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:57:55.739+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:55.740+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@249534512 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:55.740+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7af86e24]
2025-12-30T09:57:55.740+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51ab7a03] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:55.740+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:55.741+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:55.745+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b88dc1b] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:55.741+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1808141797 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:55.744+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-30T09:57:55.746+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@45616128 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:55.747+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:57:55.748+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:57:55.752+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-30T09:57:55.753+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:57:55.758+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-30T09:57:55.758+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:57:55.758+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-30T09:57:55.762+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2291b11d]
2025-12-30T09:57:55.762+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b88dc1b]
2025-12-30T09:57:55.763+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51ab7a03]
2025-12-30T09:57:55.763+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:55.763+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:55.763+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:55.764+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49c97aee] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:55.764+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bcf3d26] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:55.764+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e460750] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:55.764+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1719612307 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:55.764+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@643451456 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:55.765+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1958154745 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:55.765+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:55.765+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:55.766+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:57:55.766+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:55.766+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:55.768+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:57:55.772+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:55.772+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:55.772+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bcf3d26]
2025-12-30T09:57:55.773+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49c97aee]
2025-12-30T09:57:55.774+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:57:55.774+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:55.774+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:55.776+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e460750]
2025-12-30T09:57:55.776+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17d9361c] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:55.777+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:57:55.778+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:55.779+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@895295436 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:55.780+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:55.783+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:57:55.783+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:55.785+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:55.787+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:55.789+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:57:55.789+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:57:55.793+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:57:55.795+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:55.794+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-30T09:57:55.796+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:57:55.797+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-30T09:57:55.799+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:57:55.799+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17d9361c]
2025-12-30T09:57:55.799+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:57:55.799+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:57:55.799+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:55.800+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:55.800+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:57:55.800+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21d5757c] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:55.801+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2137185932 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:55.800+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52d715ee] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:55.800+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:55.802+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:55.802+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1151963806 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:55.802+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@356b9b7] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:55.803+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:55.803+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:57:55.803+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@750390269 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d6e3f5c] will not be managed by Spring
2025-12-30T09:57:55.804+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-30T09:57:55.804+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:57:55.804+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:55.805+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-30T09:57:55.805+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21d5757c]
2025-12-30T09:57:55.806+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:55.807+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T09:57:55.811+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:57:55.813+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52d715ee]
2025-12-30T09:57:55.813+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:55.814+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:55.814+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6217760] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:55.819+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1815312943 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:55.820+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-30T09:57:55.821+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T09:57:55.821+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:55.821+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@356b9b7]
2025-12-30T09:57:55.822+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:55.822+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-30T09:57:55.822+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:55.823+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T09:57:55.830+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f75101f] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:55.830+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T09:57:55.831+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@165186887 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d6e3f5c] will not be managed by Spring
2025-12-30T09:57:55.831+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T09:57:55.832+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:57:55.832+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:55.833+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:55.833+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:57:55.834+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6217760]
2025-12-30T09:57:55.834+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bd8388f] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:55.835+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:55.837+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1712061820 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:55.838+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e695ad8] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:55.838+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:57:55.838+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:57:55.839+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@58635778 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:55.840+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:55.839+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f75101f]
2025-12-30T09:57:55.849+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:55.840+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:57:55.846+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-30T09:57:55.851+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:57:55.852+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:55.865+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-30T09:57:55.866+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:57:55.867+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e695ad8]
2025-12-30T09:57:55.868+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bd8388f]
2025-12-30T09:57:55.868+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:55.868+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:55.868+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21fa0c18] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:55.869+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5144f1bf] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:55.869+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1694575973 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:55.870+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1540536152 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:55.870+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:55.870+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:55.870+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:55.871+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:55.874+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:55.874+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:55.879+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5144f1bf]
2025-12-30T09:57:55.880+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21fa0c18]
2025-12-30T09:57:55.880+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:55.880+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:55.880+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4799acf3] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:55.881+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:57:55.882+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@832988342 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:55.882+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:55.882+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:55.885+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:55.886+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:57:55.886+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:57:55.888+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:55.888+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-30T09:57:55.888+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:57:55.889+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:57:55.889+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4799acf3]
2025-12-30T09:57:55.894+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:55.895+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47393a57] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:55.896+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1296955511 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:55.898+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T09:57:55.899+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T09:57:55.890+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:55.900+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72a24143] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:55.902+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1381158905 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:55.902+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:57:55.902+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T09:57:55.904+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47393a57]
2025-12-30T09:57:55.904+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-30T09:57:55.905+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:55.907+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@335dd7fd] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:55.912+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1027127363 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:55.912+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:55.913+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T09:57:55.913+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:55.913+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72a24143]
2025-12-30T09:57:55.914+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:55.915+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60d404b9] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:55.915+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:55.916+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1894841 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:55.916+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@335dd7fd]
2025-12-30T09:57:55.916+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:55.916+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:55.917+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:55.918+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35c7cddb] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:55.919+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1761089185 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:55.920+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:55.920+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:55.921+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T09:57:55.921+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60d404b9]
2025-12-30T09:57:55.922+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:55.923+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19797f99] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:55.924+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1506300355 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:55.925+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:55.925+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-30T09:57:55.932+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-30T09:57:55.932+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T09:57:55.933+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19797f99]
2025-12-30T09:57:55.933+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35c7cddb]
2025-12-30T09:57:55.933+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:55.933+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:55.934+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@547bb10a] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:55.934+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cdca078] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:55.935+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@111970731 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:55.935+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@662575405 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:55.935+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:55.935+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:55.937+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:55.938+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:55.940+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:55.940+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:55.941+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cdca078]
2025-12-30T09:57:55.944+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@547bb10a]
2025-12-30T09:57:55.944+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:55.945+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:55.947+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T09:57:55.948+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:57:55.949+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:55.949+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:59.462+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:59.462+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T09:57:59.462+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/stats
2025-12-30T09:57:59.462+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/monthly-trend
2025-12-30T09:57:59.463+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/status-stats
2025-12-30T09:57:59.463+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio
2025-12-30T09:57:59.464+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T09:57:59.466+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/dashboard/category-ratio
2025-12-30T09:57:59.464+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-30T09:57:59.465+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/dashboard/stats
2025-12-30T09:57:59.465+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/dashboard/monthly-trend
2025-12-30T09:57:59.465+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/dashboard/status-stats
2025-12-30T09:57:59.466+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-30T09:57:59.466+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio
2025-12-30T09:57:59.466+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-30T09:57:59.466+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/stats
2025-12-30T09:57:59.467+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/monthly-trend
2025-12-30T09:57:59.467+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/status-stats
2025-12-30T09:57:59.467+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-30T09:57:59.467+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio", parameters={}
2025-12-30T09:57:59.470+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2025-12-30T09:57:59.467+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-30T09:57:59.468+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/stats", parameters={}
2025-12-30T09:57:59.468+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/monthly-trend", parameters={}
2025-12-30T09:57:59.468+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/status-stats", parameters={}
2025-12-30T09:57:59.469+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T09:57:59.471+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:57:59.472+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-30T09:57:59.473+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getDashboardStats(String, String)
2025-12-30T09:57:59.475+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTrend(String, String)
2025-12-30T09:57:59.477+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getStatusStats(String, String)
2025-12-30T09:57:59.477+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:59.478+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:57:59.479+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:59.480+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:57:59.481+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:57:59.481+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:57:59.482+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4131d5dd] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:59.482+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:59.482+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@720fd9f2] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:59.483+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:57:59.484+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:57:59.484+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:57:59.485+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@aa6125b] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:59.487+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:59.488+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:59.489+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:59.489+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@718673225 wrapping com.mysql.cj.jdbc.ConnectionImpl@53446442] will not be managed by Spring
2025-12-30T09:57:59.489+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@31779931 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d6e3f5c] will not be managed by Spring
2025-12-30T09:57:59.490+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55518827] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:59.490+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bd040d2] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:59.492+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3be88d18] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:59.493+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1329227317 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:59.494+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T09:57:59.494+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T09:57:59.496+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? GROUP BY d.category ORDER BY amount DESC
2025-12-30T09:57:59.498+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-30T09:57:59.498+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@280078012 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:59.498+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1245045395 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:59.498+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-30T09:57:59.499+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: 1(Long)
2025-12-30T09:57:59.499+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectMonthlyTrend             : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS count FROM expense_report_tb WHERE company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-30T09:57:59.500+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectDashboardStats           : ==>  Preparing: SELECT COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS totalCount, COALESCE(AVG(total_amount), 0) AS averageAmount, COALESCE(MAX(total_amount), 0) AS maxAmount, COALESCE(MIN(total_amount), 0) AS minAmount, SUM(CASE WHEN status = 'PENDING' THEN 1 ELSE 0 END) AS pendingCount FROM expense_report_tb WHERE company_id = ?
2025-12-30T09:57:59.502+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectMonthlyTrend             : ==> Parameters: 1(Long)
2025-12-30T09:57:59.502+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectDashboardStats           : ==> Parameters: 1(Long)
2025-12-30T09:57:59.503+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T09:57:59.503+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2025-12-30T09:57:59.503+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectCategoryRatio            : <==      Total: 2
2025-12-30T09:57:59.504+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4131d5dd]
2025-12-30T09:57:59.504+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@720fd9f2]
2025-12-30T09:57:59.505+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@aa6125b]
2025-12-30T09:57:59.506+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:59.506+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1973532616 wrapping com.mysql.cj.jdbc.ConnectionImpl@53446442] will not be managed by Spring
2025-12-30T09:57:59.506+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:59.507+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:59.507+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectMonthlyTrend             : <==      Total: 1
2025-12-30T09:57:59.507+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60e18378] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:59.510+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.ExpenseMapper.selectStatusStats  : ==>  Preparing: SELECT status, COUNT(*) AS count, COALESCE(SUM(total_amount), 0) AS totalAmount FROM expense_report_tb WHERE company_id = ? GROUP BY status ORDER BY count DESC
2025-12-30T09:57:59.511+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectDashboardStats           : <==      Total: 1
2025-12-30T09:57:59.512+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d4bb9f2] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:59.512+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[CategoryRatioDto(category=식대, amount=103450, (truncated)...]
2025-12-30T09:57:59.512+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bd040d2]
2025-12-30T09:57:59.514+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1165019898 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d6e3f5c] will not be managed by Spring
2025-12-30T09:57:59.515+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.ExpenseMapper.selectStatusStats  : ==> Parameters: 1(Long)
2025-12-30T09:57:59.515+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55518827]
2025-12-30T09:57:59.516+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2094693671 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:59.517+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:59.517+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:59.522+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:59.524+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:59.525+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-30T09:57:59.528+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 추이 조회 성공, data=[MonthlyTrendDto(yearMonth=2025-12, totalAmount= (truncated)...]
2025-12-30T09:57:59.528+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/credits/total
2025-12-30T09:57:59.528+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:59.529+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.ExpenseMapper.selectStatusStats  : <==      Total: 2
2025-12-30T09:57:59.530+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 통계 조회 성공, data=DashboardStatsDto(totalAmount=104561, totalCou (truncated)...]
2025-12-30T09:57:59.531+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-30T09:57:59.532+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:59.533+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/credits/total
2025-12-30T09:57:59.534+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3be88d18]
2025-12-30T09:57:59.535+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:59.536+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:59.537+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/credits/total
2025-12-30T09:57:59.538+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2025-12-30T09:57:59.538+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:59.539+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60e18378]
2025-12-30T09:57:59.540+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-30T09:57:59.542+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/credits/total", parameters={}
2025-12-30T09:57:59.541+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio
2025-12-30T09:57:59.543+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2025-12-30T09:57:59.543+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태별 통계 조회 성공, data=[StatusStatsDto(status=WAIT, count=6, totalAmou (truncated)...]
2025-12-30T09:57:59.544+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:59.545+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d4bb9f2]
2025-12-30T09:57:59.545+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CreditController#getTotalAvailableAmount()
2025-12-30T09:57:59.545+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/dashboard/category-ratio
2025-12-30T09:57:59.545+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2025-12-30T09:57:59.546+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79a22e08] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:59.546+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:59.547+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:59.548+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2025-12-30T09:57:59.548+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio
2025-12-30T09:57:59.548+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2025-12-30T09:57:59.549+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@355768327 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d6e3f5c] will not be managed by Spring
2025-12-30T09:57:59.551+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2025-12-30T09:57:59.550+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/monthly-trend
2025-12-30T09:57:59.550+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T09:57:59.551+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2025-12-30T09:57:59.551+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio", parameters={}
2025-12-30T09:57:59.551+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T09:57:59.552+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-30T09:57:59.552+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:59.552+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/dashboard/monthly-trend
2025-12-30T09:57:59.553+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:59.553+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2025-12-30T09:57:59.554+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 5(Long), 4(Long)
2025-12-30T09:57:59.555+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-30T09:57:59.556+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/stats
2025-12-30T09:57:59.556+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/monthly-trend
2025-12-30T09:57:59.556+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@164ec38c] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:59.565+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 3
2025-12-30T09:57:59.557+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:57:59.559+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:59.563+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/dashboard/stats
2025-12-30T09:57:59.565+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/monthly-trend", parameters={}
2025-12-30T09:57:59.565+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1864714685 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:59.566+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79a22e08]
2025-12-30T09:57:59.576+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:59.566+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:57:59.582+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:59.566+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dced410] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:59.567+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/stats
2025-12-30T09:57:59.567+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTrend(String, String)
2025-12-30T09:57:59.576+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.C.getTotalAvailableAmount        : ==>  Preparing: SELECT COALESCE(SUM(amount - used_amount), 0) FROM credit_tb WHERE company_id = ? AND (expires_at IS NULL OR expires_at >= ?)
2025-12-30T09:57:59.577+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3eb4d238] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:59.583+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4da9067a] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:59.583+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1285920125 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:59.583+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/stats", parameters={}
2025-12-30T09:57:59.584+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:57:59.584+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.C.getTotalAvailableAmount        : ==> Parameters: 1(Long), 2025-12-30(LocalDate)
2025-12-30T09:57:59.584+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1443785096 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d6e3f5c] will not be managed by Spring
2025-12-30T09:57:59.584+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@79671511 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:57:59.584+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2025-12-30T09:57:59.585+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getDashboardStats(String, String)
2025-12-30T09:57:59.588+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2025-12-30T09:57:59.585+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:57:59.586+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T09:57:59.587+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? GROUP BY d.category ORDER BY amount DESC
2025-12-30T09:57:59.588+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.C.getTotalAvailableAmount        : <==      Total: 1
2025-12-30T09:57:59.588+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:57:59.588+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:59.589+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-30T09:57:59.589+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: 1(Long)
2025-12-30T09:57:59.590+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@164ec38c]
2025-12-30T09:57:59.590+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2025-12-30T09:57:59.591+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:57:59.591+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52139212] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:59.595+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:59.595+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T09:57:59.596+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2025-12-30T09:57:59.596+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:59.596+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectCategoryRatio            : <==      Total: 2
2025-12-30T09:57:59.597+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1533647547 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:59.597+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data={totalAmount=5145})]
2025-12-30T09:57:59.597+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3eb4d238]
2025-12-30T09:57:59.597+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f7742c8] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:59.598+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4da9067a]
2025-12-30T09:57:59.599+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectMonthlyTrend             : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS count FROM expense_report_tb WHERE company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-30T09:57:59.600+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:59.600+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:59.601+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@607666515 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d6e3f5c] will not be managed by Spring
2025-12-30T09:57:59.601+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:59.601+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2025-12-30T09:57:59.602+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectMonthlyTrend             : ==> Parameters: 1(Long)
2025-12-30T09:57:59.603+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=5, drafterId=5 (truncated)...]
2025-12-30T09:57:59.603+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/status-stats
2025-12-30T09:57:59.604+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectDashboardStats           : ==>  Preparing: SELECT COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS totalCount, COALESCE(AVG(total_amount), 0) AS averageAmount, COALESCE(MAX(total_amount), 0) AS maxAmount, COALESCE(MIN(total_amount), 0) AS minAmount, SUM(CASE WHEN status = 'PENDING' THEN 1 ELSE 0 END) AS pendingCount FROM expense_report_tb WHERE company_id = ?
2025-12-30T09:57:59.604+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[CategoryRatioDto(category=식대, amount=103450, (truncated)...]
2025-12-30T09:57:59.604+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 1
2025-12-30T09:57:59.605+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:59.608+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/dashboard/status-stats
2025-12-30T09:57:59.611+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectDashboardStats           : ==> Parameters: 1(Long)
2025-12-30T09:57:59.614+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:59.615+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dced410]
2025-12-30T09:57:59.616+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectMonthlyTrend             : <==      Total: 1
2025-12-30T09:57:59.617+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/status-stats
2025-12-30T09:57:59.617+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/credits/total
2025-12-30T09:57:59.619+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:59.619+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52139212]
2025-12-30T09:57:59.619+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/status-stats", parameters={}
2025-12-30T09:57:59.620+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectDashboardStats           : <==      Total: 1
2025-12-30T09:57:59.621+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/credits/total
2025-12-30T09:57:59.621+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=SubscriptionDto(subscriptionId=1, companyId=1, planId= (truncated)...]
2025-12-30T09:57:59.622+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:59.628+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 추이 조회 성공, data=[MonthlyTrendDto(yearMonth=2025-12, totalAmount= (truncated)...]
2025-12-30T09:57:59.629+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:59.622+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getStatusStats(String, String)
2025-12-30T09:57:59.622+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f7742c8]
2025-12-30T09:57:59.623+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/credits/total
2025-12-30T09:57:59.624+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:59.632+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2025-12-30T09:57:59.632+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:57:59.633+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:59.634+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/credits/total", parameters={}
2025-12-30T09:57:59.635+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:57:59.636+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2025-12-30T09:57:59.636+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 통계 조회 성공, data=DashboardStatsDto(totalAmount=104561, totalCou (truncated)...]
2025-12-30T09:57:59.636+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CreditController#getTotalAvailableAmount()
2025-12-30T09:57:59.636+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:59.637+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d3b5b56] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:59.636+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2025-12-30T09:57:59.637+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:59.637+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2025-12-30T09:57:59.642+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2025-12-30T09:57:59.638+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@848800863 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:57:59.638+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2025-12-30T09:57:59.643+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:59.643+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.ExpenseMapper.selectStatusStats  : ==>  Preparing: SELECT status, COUNT(*) AS count, COALESCE(SUM(total_amount), 0) AS totalAmount FROM expense_report_tb WHERE company_id = ? GROUP BY status ORDER BY count DESC
2025-12-30T09:57:59.644+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2025-12-30T09:57:59.644+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58a32654] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:59.646+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.ExpenseMapper.selectStatusStats  : ==> Parameters: 1(Long)
2025-12-30T09:57:59.648+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2098894852 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:57:59.647+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-30T09:57:59.649+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.C.getTotalAvailableAmount        : ==>  Preparing: SELECT COALESCE(SUM(amount - used_amount), 0) FROM credit_tb WHERE company_id = ? AND (expires_at IS NULL OR expires_at >= ?)
2025-12-30T09:57:59.651+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.ExpenseMapper.selectStatusStats  : <==      Total: 2
2025-12-30T09:57:59.651+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-30T09:57:59.652+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.C.getTotalAvailableAmount        : ==> Parameters: 1(Long), 2025-12-30(LocalDate)
2025-12-30T09:57:59.652+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d3b5b56]
2025-12-30T09:57:59.653+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:57:59.653+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:59.654+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ec058ff] was not registered for synchronization because synchronization is not active
2025-12-30T09:57:59.654+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.C.getTotalAvailableAmount        : <==      Total: 1
2025-12-30T09:57:59.655+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태별 통계 조회 성공, data=[StatusStatsDto(status=WAIT, count=6, totalAmou (truncated)...]
2025-12-30T09:57:59.655+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1067126951 wrapping com.mysql.cj.jdbc.ConnectionImpl@53446442] will not be managed by Spring
2025-12-30T09:57:59.657+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58a32654]
2025-12-30T09:57:59.658+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:59.660+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2025-12-30T09:57:59.660+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:57:59.671+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2025-12-30T09:57:59.671+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data={totalAmount=5145})]
2025-12-30T09:57:59.672+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:57:59.685+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2025-12-30T09:57:59.750+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2025-12-30T09:57:59.923+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2025-12-30T09:58:00.040+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 1
2025-12-30T09:58:00.060+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ec058ff]
2025-12-30T09:58:00.137+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:58:00.142+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=SubscriptionDto(subscriptionId=1, companyId=1, planId= (truncated)...]
2025-12-30T09:58:00.145+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:58:00.180+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/stats
2025-12-30T09:58:00.184+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/monthly-trend
2025-12-30T09:58:00.187+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/dashboard/stats
2025-12-30T09:58:00.187+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/stats
2025-12-30T09:58:00.184+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/status-stats
2025-12-30T09:58:00.184+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio
2025-12-30T09:58:00.190+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/dashboard/category-ratio
2025-12-30T09:58:00.185+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/credits/total
2025-12-30T09:58:00.187+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/dashboard/monthly-trend
2025-12-30T09:58:00.195+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/monthly-trend
2025-12-30T09:58:00.188+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/stats", parameters={}
2025-12-30T09:58:00.190+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/dashboard/status-stats
2025-12-30T09:58:00.194+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio
2025-12-30T09:58:00.195+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/credits/total
2025-12-30T09:58:00.196+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/monthly-trend", parameters={}
2025-12-30T09:58:00.196+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getDashboardStats(String, String)
2025-12-30T09:58:00.197+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/status-stats
2025-12-30T09:58:00.197+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio", parameters={}
2025-12-30T09:58:00.198+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/credits/total
2025-12-30T09:58:00.198+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTrend(String, String)
2025-12-30T09:58:00.199+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:58:00.200+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/status-stats", parameters={}
2025-12-30T09:58:00.201+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2025-12-30T09:58:00.201+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/credits/total", parameters={}
2025-12-30T09:58:00.201+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:58:00.202+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:58:00.203+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getStatusStats(String, String)
2025-12-30T09:58:00.203+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:58:00.203+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CreditController#getTotalAvailableAmount()
2025-12-30T09:58:00.204+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:58:00.205+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:58:00.217+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3246fd07] was not registered for synchronization because synchronization is not active
2025-12-30T09:58:00.212+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:58:00.216+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:58:00.217+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2025-12-30T09:58:00.217+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:58:00.219+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-30T09:58:00.219+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:58:00.220+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2025-12-30T09:58:00.220+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68636e67] was not registered for synchronization because synchronization is not active
2025-12-30T09:58:00.224+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:58:00.225+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@662a2bc] was not registered for synchronization because synchronization is not active
2025-12-30T09:58:00.229+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T09:58:00.230+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@501102270 wrapping com.mysql.cj.jdbc.ConnectionImpl@7bcc8fd8] will not be managed by Spring
2025-12-30T09:58:00.231+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34f2eee9] was not registered for synchronization because synchronization is not active
2025-12-30T09:58:00.232+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28bdc643] was not registered for synchronization because synchronization is not active
2025-12-30T09:58:00.233+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectDashboardStats           : ==>  Preparing: SELECT COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS totalCount, COALESCE(AVG(total_amount), 0) AS averageAmount, COALESCE(MAX(total_amount), 0) AS maxAmount, COALESCE(MIN(total_amount), 0) AS minAmount, SUM(CASE WHEN status = 'PENDING' THEN 1 ELSE 0 END) AS pendingCount FROM expense_report_tb WHERE company_id = ?
2025-12-30T09:58:00.235+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1299995218 wrapping com.mysql.cj.jdbc.ConnectionImpl@9d4f7c7] will not be managed by Spring
2025-12-30T09:58:00.235+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1718633028 wrapping com.mysql.cj.jdbc.ConnectionImpl@53446442] will not be managed by Spring
2025-12-30T09:58:00.235+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2059263868 wrapping com.mysql.cj.jdbc.ConnectionImpl@7f8f8af4] will not be managed by Spring
2025-12-30T09:58:00.236+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectDashboardStats           : ==> Parameters: 1(Long)
2025-12-30T09:58:00.236+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectMonthlyTrend             : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS count FROM expense_report_tb WHERE company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-30T09:58:00.236+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@153657717 wrapping com.mysql.cj.jdbc.ConnectionImpl@1d6e3f5c] will not be managed by Spring
2025-12-30T09:58:00.239+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.ExpenseMapper.selectStatusStats  : ==>  Preparing: SELECT status, COUNT(*) AS count, COALESCE(SUM(total_amount), 0) AS totalAmount FROM expense_report_tb WHERE company_id = ? GROUP BY status ORDER BY count DESC
2025-12-30T09:58:00.236+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.C.getTotalAvailableAmount        : ==>  Preparing: SELECT COALESCE(SUM(amount - used_amount), 0) FROM credit_tb WHERE company_id = ? AND (expires_at IS NULL OR expires_at >= ?)
2025-12-30T09:58:00.237+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? GROUP BY d.category ORDER BY amount DESC
2025-12-30T09:58:00.238+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectMonthlyTrend             : ==> Parameters: 1(Long)
2025-12-30T09:58:00.240+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.ExpenseMapper.selectStatusStats  : ==> Parameters: 1(Long)
2025-12-30T09:58:00.240+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectDashboardStats           : <==      Total: 1
2025-12-30T09:58:00.240+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.C.getTotalAvailableAmount        : ==> Parameters: 1(Long), 2025-12-30(LocalDate)
2025-12-30T09:58:00.244+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: 1(Long)
2025-12-30T09:58:00.245+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3246fd07]
2025-12-30T09:58:00.246+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:58:00.249+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 통계 조회 성공, data=DashboardStatsDto(totalAmount=104561, totalCou (truncated)...]
2025-12-30T09:58:00.250+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.C.getTotalAvailableAmount        : <==      Total: 1
2025-12-30T09:58:00.250+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.ExpenseMapper.selectStatusStats  : <==      Total: 2
2025-12-30T09:58:00.250+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectMonthlyTrend             : <==      Total: 1
2025-12-30T09:58:00.250+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectCategoryRatio            : <==      Total: 2
2025-12-30T09:58:00.252+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28bdc643]
2025-12-30T09:58:00.252+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:58:00.252+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34f2eee9]
2025-12-30T09:58:00.252+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68636e67]
2025-12-30T09:58:00.253+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@662a2bc]
2025-12-30T09:58:00.253+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:58:00.253+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:58:00.254+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:58:00.254+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T09:58:00.255+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data={totalAmount=5145})]
2025-12-30T09:58:00.255+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태별 통계 조회 성공, data=[StatusStatsDto(status=WAIT, count=6, totalAmou (truncated)...]
2025-12-30T09:58:00.255+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 추이 조회 성공, data=[MonthlyTrendDto(yearMonth=2025-12, totalAmount= (truncated)...]
2025-12-30T09:58:00.256+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[CategoryRatioDto(category=식대, amount=103450, (truncated)...]
2025-12-30T09:58:00.256+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:58:00.257+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:58:00.257+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T09:58:00.261+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T10:05:02.055+09:00  INFO 19004 --- [http-nio-8080-exec-10] o.apache.coyote.http11.Http11Processor   : Error parsing HTTP request header
 Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.

java.lang.IllegalArgumentException: Invalid character found in method name [0x000x0e0x08!q[0xadU0xb1Ds0x000x000x000x000x00...]. HTTP method names must be tokens
	at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:402) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:272) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2025-12-30T10:31:37.897+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /images/js/eas/eas.js
2025-12-30T10:31:37.899+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-30T10:47:22.962+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /ip
2025-12-30T10:47:22.964+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-30T11:04:37.051+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-30T11:04:37.052+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T11:04:37.052+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T11:04:37.052+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-30T11:04:37.055+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-30T11:04:37.056+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-30T11:04:37.057+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-30T11:04:37.057+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-30T11:04:37.063+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-30T11:04:37.063+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T11:04:37.064+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T11:04:37.069+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-30T11:04:37.071+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-30T11:04:37.072+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-30T11:04:37.085+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-30T11:04:37.086+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T11:04:37.087+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-30T11:04:37.091+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-30T11:04:37.093+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-30T11:04:37.094+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-30T11:04:41.613+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T11:04:41.614+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-30T11:04:41.629+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T11:04:41.632+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-30T11:04:48.768+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2025-12-30T11:04:48.773+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-30T11:04:48.774+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-30T11:04:48.774+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-30T11:04:48.775+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-30T11:04:48.775+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-30T11:04:48.776+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_user2, password=1234)]
2025-12-30T11:04:48.778+09:00  INFO 19004 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 로그인 시도 - username: test_user2
2025-12-30T11:04:48.779+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:48.781+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1444265a] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:48.786+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@764818283 wrapping com.mysql.cj.jdbc.ConnectionImpl@acc9400] will not be managed by Spring
2025-12-30T11:04:48.786+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-30T11:04:48.788+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user2(String)
2025-12-30T11:04:48.793+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-30T11:04:48.794+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1444265a]
2025-12-30T11:04:48.882+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:48.883+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@439845b1] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:48.883+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@756725078 wrapping com.mysql.cj.jdbc.ConnectionImpl@acc9400] will not be managed by Spring
2025-12-30T11:04:48.883+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T11:04:48.884+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 3(Long)
2025-12-30T11:04:48.886+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T11:04:48.887+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@439845b1]
2025-12-30T11:04:48.890+09:00  INFO 19004 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 로그인 성공 - userId: 3, role: USER, companyId: 1
2025-12-30T11:04:48.891+09:00  INFO 19004 --- [http-nio-8080-exec-1] SECURITY                                 : LOGIN_SUCCESS userId=3 username=test_user2 role=USER
2025-12-30T11:04:48.891+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:04:48.892+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=3, username=test_user2, password (truncated)...]
2025-12-30T11:04:48.893+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:04:49.248+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-30T11:04:49.270+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=3
2025-12-30T11:04:49.272+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-30T11:04:49.274+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=3
2025-12-30T11:04:49.274+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-30T11:04:49.275+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=3
2025-12-30T11:04:49.294+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-30T11:04:49.294+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=3
2025-12-30T11:04:49.298+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T11:04:49.302+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T11:04:49.301+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/companies
2025-12-30T11:04:49.303+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-30T11:04:49.302+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses
2025-12-30T11:04:49.302+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=3
2025-12-30T11:04:49.307+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-30T11:04:49.308+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T11:04:49.308+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=3", parameters={masked}
2025-12-30T11:04:49.308+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-30T11:04:49.309+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T11:04:49.309+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T11:04:49.312+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:49.310+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:49.311+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T11:04:49.313+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d509825] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:49.313+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4689d975] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:49.314+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:49.315+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1528416786 wrapping com.mysql.cj.jdbc.ConnectionImpl@acc9400] will not be managed by Spring
2025-12-30T11:04:49.316+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cda65cc] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:49.316+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T11:04:49.351+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 3(Long), 1(Long)
2025-12-30T11:04:49.365+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1218957102 wrapping com.mysql.cj.jdbc.ConnectionImpl@15753c9] will not be managed by Spring
2025-12-30T11:04:49.365+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@462129286 wrapping com.mysql.cj.jdbc.ConnectionImpl@4b6c088] will not be managed by Spring
2025-12-30T11:04:49.366+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-30T11:04:49.366+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T11:04:49.367+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 3(Long)
2025-12-30T11:04:49.370+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T11:04:49.413+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-30T11:04:49.430+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d509825]
2025-12-30T11:04:49.441+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:49.444+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@136ba6ff] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:49.446+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@174298375 wrapping com.mysql.cj.jdbc.ConnectionImpl@acc9400] will not be managed by Spring
2025-12-30T11:04:49.460+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:04:49.460+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-30T11:04:49.461+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T11:04:49.461+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-30T11:04:49.464+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cda65cc]
2025-12-30T11:04:49.464+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4689d975]
2025-12-30T11:04:49.465+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:49.465+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:04:49.466+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c73977e] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:49.467+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=2, companyCode=YM3Y62, companyNa (truncated)...]
2025-12-30T11:04:49.467+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1861467896 wrapping com.mysql.cj.jdbc.ConnectionImpl@4b6c088] will not be managed by Spring
2025-12-30T11:04:49.474+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:04:49.479+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:04:49.517+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-30T11:04:49.522+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:04:49.551+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@136ba6ff]
2025-12-30T11:04:49.552+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:49.553+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:04:49.554+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5eebf8da] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:49.554+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c73977e]
2025-12-30T11:04:49.567+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@276423078 wrapping com.mysql.cj.jdbc.ConnectionImpl@acc9400] will not be managed by Spring
2025-12-30T11:04:49.567+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:49.568+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:04:49.569+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e4dca83] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:49.571+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long)
2025-12-30T11:04:49.576+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1589995091 wrapping com.mysql.cj.jdbc.ConnectionImpl@4b6c088] will not be managed by Spring
2025-12-30T11:04:49.577+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:04:49.584+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T11:04:49.586+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-30T11:04:49.592+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5eebf8da]
2025-12-30T11:04:49.597+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:49.597+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65401d4b] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:49.598+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T11:04:49.598+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1693189137 wrapping com.mysql.cj.jdbc.ConnectionImpl@acc9400] will not be managed by Spring
2025-12-30T11:04:49.599+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e4dca83]
2025-12-30T11:04:49.599+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:04:49.599+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:49.600+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-30T11:04:49.600+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a1eddb7] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:49.601+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@712449445 wrapping com.mysql.cj.jdbc.ConnectionImpl@4b6c088] will not be managed by Spring
2025-12-30T11:04:49.604+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T11:04:49.607+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T11:04:49.608+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:04:49.611+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65401d4b]
2025-12-30T11:04:49.612+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:04:49.614+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T11:04:49.614+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-30T11:04:49.615+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a1eddb7]
2025-12-30T11:04:49.617+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:04:49.618+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:49.620+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62426fca] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:49.626+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1310582096 wrapping com.mysql.cj.jdbc.ConnectionImpl@4b6c088] will not be managed by Spring
2025-12-30T11:04:49.627+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:04:49.627+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-30T11:04:49.635+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=3
2025-12-30T11:04:49.638+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:04:49.640+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T11:04:49.645+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62426fca]
2025-12-30T11:04:49.646+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=3
2025-12-30T11:04:49.647+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:49.648+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=3", parameters={masked}
2025-12-30T11:04:49.648+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b9d06e6] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:49.648+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T11:04:49.649+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1515192416 wrapping com.mysql.cj.jdbc.ConnectionImpl@4b6c088] will not be managed by Spring
2025-12-30T11:04:49.649+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:49.651+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:04:49.652+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d8b8af] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:49.652+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T11:04:49.653+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@99401800 wrapping com.mysql.cj.jdbc.ConnectionImpl@acc9400] will not be managed by Spring
2025-12-30T11:04:49.654+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T11:04:49.660+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 3(Long), 1(Long)
2025-12-30T11:04:49.660+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T11:04:49.661+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b9d06e6]
2025-12-30T11:04:49.662+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:49.663+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dbd103f] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:49.665+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-30T11:04:49.666+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1322552664 wrapping com.mysql.cj.jdbc.ConnectionImpl@4b6c088] will not be managed by Spring
2025-12-30T11:04:49.666+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d8b8af]
2025-12-30T11:04:49.667+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:04:49.667+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:49.667+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-30T11:04:49.667+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12f72899] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:49.669+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1395390376 wrapping com.mysql.cj.jdbc.ConnectionImpl@acc9400] will not be managed by Spring
2025-12-30T11:04:49.669+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:04:49.670+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-30T11:04:49.676+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:04:49.678+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dbd103f]
2025-12-30T11:04:49.679+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:04:49.680+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T11:04:49.681+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:04:49.701+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T11:04:49.701+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:04:49.719+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12f72899]
2025-12-30T11:04:49.719+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:49.718+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses
2025-12-30T11:04:49.724+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ef1d9f2] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:49.748+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T11:04:49.749+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1172936533 wrapping com.mysql.cj.jdbc.ConnectionImpl@acc9400] will not be managed by Spring
2025-12-30T11:04:49.750+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T11:04:49.769+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:04:49.769+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T11:04:49.770+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long)
2025-12-30T11:04:49.771+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:49.775+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e5ec2f3] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:49.776+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2048470238 wrapping com.mysql.cj.jdbc.ConnectionImpl@15753c9] will not be managed by Spring
2025-12-30T11:04:49.777+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T11:04:49.780+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T11:04:49.835+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-30T11:04:49.845+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ef1d9f2]
2025-12-30T11:04:49.846+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:49.846+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4dc93267] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:49.848+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T11:04:49.875+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@764894309 wrapping com.mysql.cj.jdbc.ConnectionImpl@acc9400] will not be managed by Spring
2025-12-30T11:04:49.876+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e5ec2f3]
2025-12-30T11:04:49.882+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:04:49.884+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:49.884+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-30T11:04:49.884+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34ef66fe] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:49.892+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1009677258 wrapping com.mysql.cj.jdbc.ConnectionImpl@15753c9] will not be managed by Spring
2025-12-30T11:04:49.899+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:04:49.903+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-30T11:04:49.914+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:04:49.934+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4dc93267]
2025-12-30T11:04:49.952+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:04:50.004+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-30T11:04:50.007+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:04:50.064+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34ef66fe]
2025-12-30T11:04:50.066+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:50.076+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18d509db] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:50.059+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:04:50.079+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1463964841 wrapping com.mysql.cj.jdbc.ConnectionImpl@15753c9] will not be managed by Spring
2025-12-30T11:04:50.082+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:04:50.084+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T11:04:50.125+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=3
2025-12-30T11:04:50.136+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T11:04:50.143+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=3
2025-12-30T11:04:50.144+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=3", parameters={masked}
2025-12-30T11:04:50.147+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T11:04:50.149+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:50.150+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@514a1c93] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:50.151+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1779912009 wrapping com.mysql.cj.jdbc.ConnectionImpl@acc9400] will not be managed by Spring
2025-12-30T11:04:50.153+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T11:04:50.154+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T11:04:50.162+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 3(Long), 1(Long)
2025-12-30T11:04:50.163+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18d509db]
2025-12-30T11:04:50.166+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:50.166+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fca94d] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:50.169+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@827843448 wrapping com.mysql.cj.jdbc.ConnectionImpl@15753c9] will not be managed by Spring
2025-12-30T11:04:50.171+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T11:04:50.175+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T11:04:50.186+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-30T11:04:50.187+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@514a1c93]
2025-12-30T11:04:50.187+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T11:04:50.187+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:50.189+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fca94d]
2025-12-30T11:04:50.189+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d181904] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:50.189+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:50.190+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1010250928 wrapping com.mysql.cj.jdbc.ConnectionImpl@acc9400] will not be managed by Spring
2025-12-30T11:04:50.190+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2534d5c] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:50.190+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:04:50.191+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1711356570 wrapping com.mysql.cj.jdbc.ConnectionImpl@15753c9] will not be managed by Spring
2025-12-30T11:04:50.191+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-30T11:04:50.194+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:04:50.195+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-30T11:04:50.232+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:04:50.235+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d181904]
2025-12-30T11:04:50.235+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:04:50.236+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:50.236+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2534d5c]
2025-12-30T11:04:50.237+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f951983] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:50.245+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:50.247+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1656283980 wrapping com.mysql.cj.jdbc.ConnectionImpl@acc9400] will not be managed by Spring
2025-12-30T11:04:50.251+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@341de0d8] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:50.252+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:04:50.253+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@750547626 wrapping com.mysql.cj.jdbc.ConnectionImpl@15753c9] will not be managed by Spring
2025-12-30T11:04:50.253+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long)
2025-12-30T11:04:50.254+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:04:50.259+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T11:04:50.261+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-30T11:04:50.261+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f951983]
2025-12-30T11:04:50.263+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:50.263+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T11:04:50.263+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59d00f0b] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:50.264+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@341de0d8]
2025-12-30T11:04:50.265+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1857965235 wrapping com.mysql.cj.jdbc.ConnectionImpl@acc9400] will not be managed by Spring
2025-12-30T11:04:50.266+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:50.266+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:04:50.266+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@317f9a7d] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:50.267+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-30T11:04:50.268+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1790945194 wrapping com.mysql.cj.jdbc.ConnectionImpl@15753c9] will not be managed by Spring
2025-12-30T11:04:50.268+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:04:50.268+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-30T11:04:50.269+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:04:50.269+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59d00f0b]
2025-12-30T11:04:50.271+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:04:50.273+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:04:50.274+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-30T11:04:50.277+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@317f9a7d]
2025-12-30T11:04:50.277+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:04:50.277+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:04:50.283+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T11:04:50.295+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:04:50.303+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=3
2025-12-30T11:04:50.317+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T11:04:50.330+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=3
2025-12-30T11:04:50.332+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=3", parameters={masked}
2025-12-30T11:04:50.334+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T11:04:50.335+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:50.335+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@322d61c8] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:50.336+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1380127885 wrapping com.mysql.cj.jdbc.ConnectionImpl@acc9400] will not be managed by Spring
2025-12-30T11:04:50.337+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T11:04:50.340+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 3(Long), 1(Long)
2025-12-30T11:04:50.383+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-30T11:04:50.385+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@322d61c8]
2025-12-30T11:04:50.386+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:50.387+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5655964e] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:50.387+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@254774893 wrapping com.mysql.cj.jdbc.ConnectionImpl@acc9400] will not be managed by Spring
2025-12-30T11:04:50.389+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:04:50.390+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-30T11:04:50.402+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:04:50.404+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5655964e]
2025-12-30T11:04:50.409+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:50.409+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3467aa1c] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:50.410+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1325055288 wrapping com.mysql.cj.jdbc.ConnectionImpl@acc9400] will not be managed by Spring
2025-12-30T11:04:50.412+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:04:50.413+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long)
2025-12-30T11:04:50.416+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-30T11:04:50.418+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3467aa1c]
2025-12-30T11:04:50.418+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:50.419+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68217473] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:50.421+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1637815329 wrapping com.mysql.cj.jdbc.ConnectionImpl@acc9400] will not be managed by Spring
2025-12-30T11:04:50.421+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:04:50.423+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-30T11:04:50.431+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:04:50.433+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68217473]
2025-12-30T11:04:50.434+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:04:50.435+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-30T11:04:50.436+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:04:54.726+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-30T11:04:54.727+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-30T11:04:54.729+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=3
2025-12-30T11:04:54.727+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-30T11:04:54.727+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-30T11:04:54.731+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T11:04:54.733+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=3
2025-12-30T11:04:54.734+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-30T11:04:54.734+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-30T11:04:54.734+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-30T11:04:54.734+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=3", parameters={masked}
2025-12-30T11:04:54.736+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/companies
2025-12-30T11:04:54.736+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/me
2025-12-30T11:04:54.741+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/companies/pending
2025-12-30T11:04:54.742+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T11:04:54.742+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-30T11:04:54.743+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-30T11:04:54.744+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-30T11:04:54.744+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:54.744+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-30T11:04:54.744+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-30T11:04:54.744+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-30T11:04:54.745+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19e9ab0d] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:54.746+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-30T11:04:54.747+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-30T11:04:54.748+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-30T11:04:54.748+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:54.750+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@709d33d5] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:54.748+09:00  INFO 19004 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 3, companyId: 1
2025-12-30T11:04:54.750+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:54.750+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2020481079 wrapping com.mysql.cj.jdbc.ConnectionImpl@acc9400] will not be managed by Spring
2025-12-30T11:04:54.751+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:54.752+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52c72ff2] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:54.753+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T11:04:54.753+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d1aead7] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:54.753+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1663071026 wrapping com.mysql.cj.jdbc.ConnectionImpl@15753c9] will not be managed by Spring
2025-12-30T11:04:54.757+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 3(Long), 1(Long)
2025-12-30T11:04:54.757+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@401724663 wrapping com.mysql.cj.jdbc.ConnectionImpl@4b6c088] will not be managed by Spring
2025-12-30T11:04:54.758+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T11:04:54.759+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T11:04:54.759+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@680521433 wrapping com.mysql.cj.jdbc.ConnectionImpl@5217d1ae] will not be managed by Spring
2025-12-30T11:04:54.760+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 3(Long)
2025-12-30T11:04:54.761+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-30T11:04:54.762+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 3(Long), PENDING(String)
2025-12-30T11:04:54.762+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:04:54.762+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19e9ab0d]
2025-12-30T11:04:54.764+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-30T11:04:54.764+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:54.764+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2aa527a2] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:54.765+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-30T11:04:54.765+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T11:04:54.765+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1693751919 wrapping com.mysql.cj.jdbc.ConnectionImpl@acc9400] will not be managed by Spring
2025-12-30T11:04:54.766+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52c72ff2]
2025-12-30T11:04:54.766+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@709d33d5]
2025-12-30T11:04:54.766+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:04:54.766+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:04:54.766+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:04:54.766+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:04:54.766+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-30T11:04:54.767+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d1aead7]
2025-12-30T11:04:54.767+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-30T11:04:54.767+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=11, userId=3, companyId= (truncated)...]
2025-12-30T11:04:54.768+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:54.769+09:00 DEBUG 19004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:04:54.769+09:00 DEBUG 19004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:04:54.770+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@306228a] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:54.770+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:04:54.774+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1869617637 wrapping com.mysql.cj.jdbc.ConnectionImpl@5217d1ae] will not be managed by Spring
2025-12-30T11:04:54.774+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2aa527a2]
2025-12-30T11:04:54.775+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T11:04:54.775+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:54.776+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 3(Long)
2025-12-30T11:04:54.776+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@103aebb2] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:54.778+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@329340448 wrapping com.mysql.cj.jdbc.ConnectionImpl@acc9400] will not be managed by Spring
2025-12-30T11:04:54.779+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:04:54.779+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long)
2025-12-30T11:04:54.781+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T11:04:54.784+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@306228a]
2025-12-30T11:04:54.785+09:00  INFO 19004 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 3, companyId: 1, role: USER
2025-12-30T11:04:54.786+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-30T11:04:54.786+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:04:54.786+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@103aebb2]
2025-12-30T11:04:54.786+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=3, username=test_user2, passw (truncated)...]
2025-12-30T11:04:54.787+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:54.788+09:00 DEBUG 19004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:04:54.793+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@232eba7e] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:54.794+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1678684882 wrapping com.mysql.cj.jdbc.ConnectionImpl@acc9400] will not be managed by Spring
2025-12-30T11:04:54.797+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:04:54.797+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-30T11:04:54.796+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-30T11:04:54.801+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/me
2025-12-30T11:04:54.810+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:04:54.810+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-30T11:04:54.812+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@232eba7e]
2025-12-30T11:04:54.812+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-30T11:04:54.813+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:04:54.813+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-30T11:04:54.814+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-30T11:04:54.815+09:00 DEBUG 19004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:04:54.815+09:00  INFO 19004 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 3, companyId: 1
2025-12-30T11:04:54.817+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:54.818+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54ecd1b3] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:54.819+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@428676385 wrapping com.mysql.cj.jdbc.ConnectionImpl@15753c9] will not be managed by Spring
2025-12-30T11:04:54.819+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:04:54.820+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-30T11:04:54.833+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:04:54.842+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54ecd1b3]
2025-12-30T11:04:54.843+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:54.849+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@662229e2] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:54.849+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1425083868 wrapping com.mysql.cj.jdbc.ConnectionImpl@15753c9] will not be managed by Spring
2025-12-30T11:04:54.852+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T11:04:54.854+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 3(Long)
2025-12-30T11:04:54.859+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T11:04:54.860+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@662229e2]
2025-12-30T11:04:54.861+09:00  INFO 19004 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 3, companyId: 1, role: USER
2025-12-30T11:04:54.862+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:04:54.863+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=3, username=test_user2, passw (truncated)...]
2025-12-30T11:04:54.864+09:00 DEBUG 19004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:04:57.852+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=3
2025-12-30T11:04:57.852+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T11:04:57.853+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T11:04:57.853+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses
2025-12-30T11:04:57.854+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=3
2025-12-30T11:04:57.856+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=3", parameters={masked}
2025-12-30T11:04:57.854+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T11:04:57.858+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T11:04:57.860+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T11:04:57.860+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:57.860+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T11:04:57.860+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fa4a117] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:57.861+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:57.862+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@107979dc] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:57.864+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@358805977 wrapping com.mysql.cj.jdbc.ConnectionImpl@15753c9] will not be managed by Spring
2025-12-30T11:04:57.864+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@321514796 wrapping com.mysql.cj.jdbc.ConnectionImpl@4b6c088] will not be managed by Spring
2025-12-30T11:04:57.865+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T11:04:57.868+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T11:04:57.869+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 3(Long), 1(Long)
2025-12-30T11:04:57.869+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T11:04:57.877+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T11:04:57.879+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@107979dc]
2025-12-30T11:04:57.879+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:57.879+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-30T11:04:57.879+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@caf1d33] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:57.880+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fa4a117]
2025-12-30T11:04:57.880+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@294613375 wrapping com.mysql.cj.jdbc.ConnectionImpl@4b6c088] will not be managed by Spring
2025-12-30T11:04:57.880+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:57.880+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:04:57.880+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ee0b772] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:57.881+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-30T11:04:57.881+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1016381664 wrapping com.mysql.cj.jdbc.ConnectionImpl@15753c9] will not be managed by Spring
2025-12-30T11:04:57.881+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:04:57.882+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-30T11:04:57.884+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:04:57.885+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:04:57.885+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@caf1d33]
2025-12-30T11:04:57.885+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ee0b772]
2025-12-30T11:04:57.885+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:57.886+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:57.886+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d2710a] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:57.887+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a5facc9] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:57.887+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2002825926 wrapping com.mysql.cj.jdbc.ConnectionImpl@4b6c088] will not be managed by Spring
2025-12-30T11:04:57.887+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1100995543 wrapping com.mysql.cj.jdbc.ConnectionImpl@15753c9] will not be managed by Spring
2025-12-30T11:04:57.888+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:04:57.892+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:04:57.893+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T11:04:57.894+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long)
2025-12-30T11:04:57.896+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T11:04:57.897+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-30T11:04:57.897+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d2710a]
2025-12-30T11:04:57.898+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a5facc9]
2025-12-30T11:04:57.899+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:57.899+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:57.900+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4dba1054] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:57.900+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3516f7a6] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:57.901+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1567650504 wrapping com.mysql.cj.jdbc.ConnectionImpl@4b6c088] will not be managed by Spring
2025-12-30T11:04:57.901+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@310914089 wrapping com.mysql.cj.jdbc.ConnectionImpl@15753c9] will not be managed by Spring
2025-12-30T11:04:57.901+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T11:04:57.902+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:04:57.902+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T11:04:57.902+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-30T11:04:57.913+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:04:57.914+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T11:04:57.914+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3516f7a6]
2025-12-30T11:04:57.914+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4dba1054]
2025-12-30T11:04:57.915+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:04:57.915+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:57.915+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-30T11:04:57.915+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4398d9d1] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:57.916+09:00 DEBUG 19004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:04:57.916+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1589467462 wrapping com.mysql.cj.jdbc.ConnectionImpl@4b6c088] will not be managed by Spring
2025-12-30T11:04:57.917+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:04:57.918+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-30T11:04:57.919+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=3
2025-12-30T11:04:57.924+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T11:04:57.925+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:04:57.927+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=3
2025-12-30T11:04:57.927+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4398d9d1]
2025-12-30T11:04:57.927+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=3", parameters={masked}
2025-12-30T11:04:57.928+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:57.928+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T11:04:57.929+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f979644] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:57.929+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:57.929+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@172261430 wrapping com.mysql.cj.jdbc.ConnectionImpl@4b6c088] will not be managed by Spring
2025-12-30T11:04:57.929+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58545169] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:57.930+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:04:57.930+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@957815196 wrapping com.mysql.cj.jdbc.ConnectionImpl@15753c9] will not be managed by Spring
2025-12-30T11:04:57.930+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T11:04:57.931+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T11:04:57.932+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 3(Long), 1(Long)
2025-12-30T11:04:57.933+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T11:04:57.935+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f979644]
2025-12-30T11:04:57.935+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-30T11:04:57.936+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:57.937+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58545169]
2025-12-30T11:04:57.937+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@129de034] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:57.938+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:57.948+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@562786709 wrapping com.mysql.cj.jdbc.ConnectionImpl@4b6c088] will not be managed by Spring
2025-12-30T11:04:57.948+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dc25d83] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:57.948+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:04:57.948+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1466408523 wrapping com.mysql.cj.jdbc.ConnectionImpl@15753c9] will not be managed by Spring
2025-12-30T11:04:57.948+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-30T11:04:57.949+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:04:57.949+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-30T11:04:57.952+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:04:57.952+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:04:57.952+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@129de034]
2025-12-30T11:04:57.953+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dc25d83]
2025-12-30T11:04:57.954+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:04:57.957+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:57.957+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T11:04:57.958+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2361c532] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:57.958+09:00 DEBUG 19004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:04:57.959+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@477145752 wrapping com.mysql.cj.jdbc.ConnectionImpl@15753c9] will not be managed by Spring
2025-12-30T11:04:57.961+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:04:57.963+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long)
2025-12-30T11:04:57.966+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T11:04:57.973+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses
2025-12-30T11:04:58.000+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T11:04:58.000+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-30T11:04:58.036+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T11:04:58.044+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2361c532]
2025-12-30T11:04:58.044+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T11:04:58.045+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:58.047+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c3e590e] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:58.048+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1633377774 wrapping com.mysql.cj.jdbc.ConnectionImpl@15753c9] will not be managed by Spring
2025-12-30T11:04:58.046+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:58.051+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66828bb7] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:58.051+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:04:58.052+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1567638965 wrapping com.mysql.cj.jdbc.ConnectionImpl@4b6c088] will not be managed by Spring
2025-12-30T11:04:58.053+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-30T11:04:58.053+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T11:04:58.059+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T11:04:58.101+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:04:58.102+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T11:04:58.121+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c3e590e]
2025-12-30T11:04:58.121+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66828bb7]
2025-12-30T11:04:58.123+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:04:58.191+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:58.192+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b36bca] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:58.192+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-30T11:04:58.194+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1990105048 wrapping com.mysql.cj.jdbc.ConnectionImpl@4b6c088] will not be managed by Spring
2025-12-30T11:04:58.195+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:04:58.195+09:00 DEBUG 19004 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:04:58.195+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-30T11:04:58.272+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:04:58.402+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b36bca]
2025-12-30T11:04:58.403+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:58.403+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43d26785] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:58.408+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=3
2025-12-30T11:04:58.414+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1545648398 wrapping com.mysql.cj.jdbc.ConnectionImpl@4b6c088] will not be managed by Spring
2025-12-30T11:04:58.418+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T11:04:58.435+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:04:58.435+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=3
2025-12-30T11:04:58.453+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T11:04:58.453+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=3", parameters={masked}
2025-12-30T11:04:58.458+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T11:04:58.458+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:58.459+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21336b13] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:58.461+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1617127655 wrapping com.mysql.cj.jdbc.ConnectionImpl@15753c9] will not be managed by Spring
2025-12-30T11:04:58.462+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T11:04:58.478+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 3(Long), 1(Long)
2025-12-30T11:04:58.482+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T11:04:58.491+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43d26785]
2025-12-30T11:04:58.493+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-30T11:04:58.494+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:58.494+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21336b13]
2025-12-30T11:04:58.495+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@169cb937] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:58.495+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:58.496+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1185028654 wrapping com.mysql.cj.jdbc.ConnectionImpl@4b6c088] will not be managed by Spring
2025-12-30T11:04:58.496+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e56e03c] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:58.496+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T11:04:58.498+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1946644758 wrapping com.mysql.cj.jdbc.ConnectionImpl@15753c9] will not be managed by Spring
2025-12-30T11:04:58.498+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T11:04:58.499+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:04:58.500+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-30T11:04:58.510+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T11:04:58.511+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@169cb937]
2025-12-30T11:04:58.512+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:58.513+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:04:58.515+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57717737] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:58.515+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e56e03c]
2025-12-30T11:04:58.516+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@618080751 wrapping com.mysql.cj.jdbc.ConnectionImpl@4b6c088] will not be managed by Spring
2025-12-30T11:04:58.516+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:58.516+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:04:58.517+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46331623] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:58.518+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-30T11:04:58.519+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1067276761 wrapping com.mysql.cj.jdbc.ConnectionImpl@15753c9] will not be managed by Spring
2025-12-30T11:04:58.519+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:04:58.521+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long)
2025-12-30T11:04:58.523+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:04:58.527+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57717737]
2025-12-30T11:04:58.528+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:58.529+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@747eeb89] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:58.530+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@678093566 wrapping com.mysql.cj.jdbc.ConnectionImpl@4b6c088] will not be managed by Spring
2025-12-30T11:04:58.531+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:04:58.531+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-30T11:04:58.532+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T11:04:58.532+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46331623]
2025-12-30T11:04:58.532+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:58.533+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f931cd4] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:58.534+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1632601867 wrapping com.mysql.cj.jdbc.ConnectionImpl@15753c9] will not be managed by Spring
2025-12-30T11:04:58.534+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T11:04:58.534+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:04:58.535+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@747eeb89]
2025-12-30T11:04:58.535+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-30T11:04:58.535+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:04:58.536+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@565fd76d] was not registered for synchronization because synchronization is not active
2025-12-30T11:04:58.537+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1442733196 wrapping com.mysql.cj.jdbc.ConnectionImpl@4b6c088] will not be managed by Spring
2025-12-30T11:04:58.541+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:04:58.542+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:04:58.542+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-30T11:04:58.543+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f931cd4]
2025-12-30T11:04:58.543+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:04:58.545+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-30T11:04:58.545+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:04:58.546+09:00 DEBUG 19004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:04:58.549+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@565fd76d]
2025-12-30T11:04:58.560+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:04:58.564+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T11:04:58.576+09:00 DEBUG 19004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:21:16.294+09:00  INFO 42648 --- [main] c.i.backend.BackendApplication           : Starting BackendApplication using Java 17.0.17 with PID 42648 (C:\InnerSignature\backend\target\classes started by owner in C:\InnerSignature\backend)
2025-12-30T11:21:16.342+09:00 DEBUG 42648 --- [main] c.i.backend.BackendApplication           : Running with Spring Boot v3.5.8, Spring v6.2.14
2025-12-30T11:21:16.374+09:00  INFO 42648 --- [main] c.i.backend.BackendApplication           : The following 1 profile is active: "dev"
2025-12-30T11:21:18.390+09:00 DEBUG 42648 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Searching for mappers annotated with @Mapper
2025-12-30T11:21:18.399+09:00 DEBUG 42648 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Using auto-configuration base package 'com.innersignature.backend'
2025-12-30T11:21:18.942+09:00 DEBUG 42648 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AccountCodeMappingMapper.class]
2025-12-30T11:21:18.951+09:00 DEBUG 42648 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AuditLogMapper.class]
2025-12-30T11:21:18.954+09:00 DEBUG 42648 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AuditRuleMapper.class]
2025-12-30T11:21:18.964+09:00 DEBUG 42648 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\BudgetMapper.class]
2025-12-30T11:21:19.026+09:00 DEBUG 42648 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CompanyMapper.class]
2025-12-30T11:21:19.072+09:00 DEBUG 42648 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CreditMapper.class]
2025-12-30T11:21:19.102+09:00 DEBUG 42648 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\ExpenseMapper.class]
2025-12-30T11:21:19.109+09:00 DEBUG 42648 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\MonthlyClosingMapper.class]
2025-12-30T11:21:19.116+09:00 DEBUG 42648 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PasswordResetTokenMapper.class]
2025-12-30T11:21:19.128+09:00 DEBUG 42648 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PaymentMapper.class]
2025-12-30T11:21:19.146+09:00 DEBUG 42648 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionMapper.class]
2025-12-30T11:21:19.151+09:00 DEBUG 42648 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionPlanMapper.class]
2025-12-30T11:21:19.154+09:00 DEBUG 42648 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserMapper.class]
2025-12-30T11:21:19.168+09:00 DEBUG 42648 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'accountCodeMappingMapper' and 'com.innersignature.backend.mapper.AccountCodeMappingMapper' mapperInterface
2025-12-30T11:21:19.176+09:00 DEBUG 42648 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'auditLogMapper' and 'com.innersignature.backend.mapper.AuditLogMapper' mapperInterface
2025-12-30T11:21:19.179+09:00 DEBUG 42648 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'auditRuleMapper' and 'com.innersignature.backend.mapper.AuditRuleMapper' mapperInterface
2025-12-30T11:21:19.184+09:00 DEBUG 42648 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'budgetMapper' and 'com.innersignature.backend.mapper.BudgetMapper' mapperInterface
2025-12-30T11:21:19.192+09:00 DEBUG 42648 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'companyMapper' and 'com.innersignature.backend.mapper.CompanyMapper' mapperInterface
2025-12-30T11:21:19.196+09:00 DEBUG 42648 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'creditMapper' and 'com.innersignature.backend.mapper.CreditMapper' mapperInterface
2025-12-30T11:21:19.203+09:00 DEBUG 42648 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'expenseMapper' and 'com.innersignature.backend.mapper.ExpenseMapper' mapperInterface
2025-12-30T11:21:19.210+09:00 DEBUG 42648 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'monthlyClosingMapper' and 'com.innersignature.backend.mapper.MonthlyClosingMapper' mapperInterface
2025-12-30T11:21:19.217+09:00 DEBUG 42648 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'passwordResetTokenMapper' and 'com.innersignature.backend.mapper.PasswordResetTokenMapper' mapperInterface
2025-12-30T11:21:19.220+09:00 DEBUG 42648 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'paymentMapper' and 'com.innersignature.backend.mapper.PaymentMapper' mapperInterface
2025-12-30T11:21:19.227+09:00 DEBUG 42648 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionMapper' and 'com.innersignature.backend.mapper.SubscriptionMapper' mapperInterface
2025-12-30T11:21:19.254+09:00 DEBUG 42648 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionPlanMapper' and 'com.innersignature.backend.mapper.SubscriptionPlanMapper' mapperInterface
2025-12-30T11:21:19.289+09:00 DEBUG 42648 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'com.innersignature.backend.mapper.UserMapper' mapperInterface
2025-12-30T11:21:20.429+09:00  INFO 42648 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-12-30T11:21:20.485+09:00  INFO 42648 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-30T11:21:20.497+09:00  INFO 42648 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-30T11:21:20.819+09:00  INFO 42648 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-30T11:21:20.837+09:00  INFO 42648 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4350 ms
2025-12-30T11:21:20.990+09:00 DEBUG 42648 --- [main] c.i.b.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-12-30T11:21:20.992+09:00 DEBUG 42648 --- [main] c.i.backend.security.RateLimitFilter     : Filter 'rateLimitFilter' configured for use
2025-12-30T11:21:21.702+09:00 DEBUG 42648 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\AccountCodeMappingMapper.xml]'
2025-12-30T11:21:21.725+09:00 DEBUG 42648 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\AuditLogMapper.xml]'
2025-12-30T11:21:21.744+09:00 DEBUG 42648 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\AuditRuleMapper.xml]'
2025-12-30T11:21:21.760+09:00 DEBUG 42648 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\BudgetMapper.xml]'
2025-12-30T11:21:21.785+09:00 DEBUG 42648 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CompanyMapper.xml]'
2025-12-30T11:21:21.815+09:00 DEBUG 42648 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CreditMapper.xml]'
2025-12-30T11:21:21.917+09:00 DEBUG 42648 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\ExpenseMapper.xml]'
2025-12-30T11:21:21.980+09:00 DEBUG 42648 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\MonthlyClosingMapper.xml]'
2025-12-30T11:21:22.002+09:00 DEBUG 42648 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PasswordResetTokenMapper.xml]'
2025-12-30T11:21:22.041+09:00 DEBUG 42648 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PaymentMapper.xml]'
2025-12-30T11:21:22.070+09:00 DEBUG 42648 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionMapper.xml]'
2025-12-30T11:21:22.078+09:00 DEBUG 42648 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionPlanMapper.xml]'
2025-12-30T11:21:22.109+09:00 DEBUG 42648 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserMappeer.xml]'
2025-12-30T11:21:23.228+09:00 DEBUG 42648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 118 mappings in 'requestMappingHandlerMapping'
2025-12-30T11:21:23.384+09:00 DEBUG 42648 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /api/uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-30T11:21:23.416+09:00  WARN 42648 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 579c543d-6426-499e-9552-c9762e5d9208

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-30T11:21:23.431+09:00  INFO 42648 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-30T11:21:23.638+09:00 DEBUG 42648 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, RateLimitFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-30T11:21:23.809+09:00 DEBUG 42648 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-30T11:21:23.905+09:00 DEBUG 42648 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-30T11:21:23.911+09:00 DEBUG 42648 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-12-30T11:21:24.199+09:00  INFO 42648 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-12-30T11:21:24.220+09:00  INFO 42648 --- [main] c.i.backend.BackendApplication           : Started BackendApplication in 9.114 seconds (process running for 9.778)
2025-12-30T11:22:46.521+09:00  INFO 42648 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-30T11:22:46.522+09:00  INFO 42648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-30T11:22:46.522+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-30T11:22:46.523+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-30T11:22:46.523+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-30T11:22:46.525+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@6a6e9289
2025-12-30T11:22:46.526+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@18bb1b88
2025-12-30T11:22:46.531+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-30T11:22:46.539+09:00  INFO 42648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 16 ms
2025-12-30T11:22:46.606+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/12
2025-12-30T11:22:46.606+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/12
2025-12-30T11:22:46.606+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=3
2025-12-30T11:22:46.686+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/12
2025-12-30T11:22:46.933+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T11:22:46.933+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses/12
2025-12-30T11:22:46.941+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=3
2025-12-30T11:22:46.941+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/12
2025-12-30T11:22:46.947+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/12", parameters={}
2025-12-30T11:22:46.947+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=3", parameters={masked}
2025-12-30T11:22:46.951+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T11:22:46.955+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-30T11:22:47.009+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:47.009+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:47.019+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21e97f0b] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:47.019+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cde2439] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:47.041+09:00  INFO 42648 --- [http-nio-8080-exec-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-30T11:22:47.845+09:00  INFO 42648 --- [http-nio-8080-exec-4] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6a086c3a
2025-12-30T11:22:47.848+09:00  INFO 42648 --- [http-nio-8080-exec-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-30T11:22:47.856+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@849875673 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:47.871+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-30T11:22:47.935+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 12(Long), 1(Long)
2025-12-30T11:22:48.008+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@964858895 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:22:48.015+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-30T11:22:48.018+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T11:22:48.022+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 3(Long), 1(Long)
2025-12-30T11:22:48.030+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21e97f0b]
2025-12-30T11:22:48.049+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:48.072+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d1ef3b9] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:48.075+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-30T11:22:48.087+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cde2439]
2025-12-30T11:22:48.082+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1631377095 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:48.089+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-30T11:22:48.089+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:48.089+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 12(Long), 1(Long)
2025-12-30T11:22:48.090+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@390a3d55] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:48.092+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@192110696 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:22:48.094+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:22:48.096+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-30T11:22:48.104+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:22:48.104+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-30T11:22:48.107+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@390a3d55]
2025-12-30T11:22:48.108+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d1ef3b9]
2025-12-30T11:22:48.109+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:48.109+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:48.117+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4305b2b7] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:48.117+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b855e59] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:48.118+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2030987208 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:48.118+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-30T11:22:48.119+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 12(Long), 1(Long)
2025-12-30T11:22:48.125+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : <==      Total: 2
2025-12-30T11:22:48.126+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4305b2b7]
2025-12-30T11:22:48.129+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:48.131+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@719db792] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:48.131+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1093306531 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:48.132+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-30T11:22:48.134+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 12(Long), 1(Long)
2025-12-30T11:22:48.138+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-30T11:22:48.139+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@719db792]
2025-12-30T11:22:48.139+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:48.140+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c0c0649] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:48.142+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@548472701 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:48.142+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:22:48.142+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-30T11:22:48.143+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1581336732 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:22:48.144+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:22:48.145+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long)
2025-12-30T11:22:48.148+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:22:48.149+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c0c0649]
2025-12-30T11:22:48.152+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-30T11:22:48.152+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b855e59]
2025-12-30T11:22:48.154+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:48.155+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79e24943] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:48.155+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1439626717 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:22:48.156+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:22:48.156+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-30T11:22:48.160+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:22:48.163+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79e24943]
2025-12-30T11:22:48.203+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:22:48.203+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:22:48.223+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-30T11:22:48.231+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=12, drafterId=1, r (truncated)...]
2025-12-30T11:22:48.321+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:22:48.321+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:22:48.358+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/12
2025-12-30T11:22:48.370+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses/12
2025-12-30T11:22:48.381+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/12
2025-12-30T11:22:48.386+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/12", parameters={}
2025-12-30T11:22:48.389+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-30T11:22:48.391+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:48.392+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7473f5b9] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:48.395+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2058618183 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:48.398+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-30T11:22:48.404+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 12(Long), 1(Long)
2025-12-30T11:22:48.407+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-30T11:22:48.409+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7473f5b9]
2025-12-30T11:22:48.410+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:48.413+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a7852e4] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:48.415+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@682096820 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:48.417+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-30T11:22:48.420+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 12(Long), 1(Long)
2025-12-30T11:22:48.423+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-30T11:22:48.424+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a7852e4]
2025-12-30T11:22:48.424+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:48.425+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c71287d] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:48.427+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@609658981 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:48.429+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-30T11:22:48.431+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 12(Long), 1(Long)
2025-12-30T11:22:48.435+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : <==      Total: 2
2025-12-30T11:22:48.436+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c71287d]
2025-12-30T11:22:48.438+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:48.438+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fe8cf2c] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:48.439+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@985605740 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:48.442+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-30T11:22:48.443+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 12(Long), 1(Long)
2025-12-30T11:22:48.448+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-30T11:22:48.453+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fe8cf2c]
2025-12-30T11:22:48.453+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:48.453+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4873c34] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:48.454+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@495915559 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:48.454+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:22:48.456+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-30T11:22:48.477+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:22:48.480+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4873c34]
2025-12-30T11:22:48.481+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:22:48.483+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=12, drafterId=1, r (truncated)...]
2025-12-30T11:22:48.485+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:22:49.393+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=3
2025-12-30T11:22:49.393+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T11:22:49.400+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T11:22:49.402+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses
2025-12-30T11:22:49.403+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=3
2025-12-30T11:22:49.404+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T11:22:49.405+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=3", parameters={masked}
2025-12-30T11:22:49.405+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T11:22:49.406+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T11:22:49.406+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T11:22:49.407+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:49.415+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:49.415+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b010de0] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:49.419+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76e8a0] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:49.426+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2119548865 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:49.446+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T11:22:49.461+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 3(Long), 1(Long)
2025-12-30T11:22:49.463+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1090586808 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:22:49.468+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T11:22:49.469+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T11:22:49.481+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-30T11:22:49.485+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T11:22:49.486+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b010de0]
2025-12-30T11:22:49.487+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76e8a0]
2025-12-30T11:22:49.487+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:49.487+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:49.488+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c28442a] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:49.488+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a4b40ca] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:49.489+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@946039918 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:49.491+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1524839238 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:22:49.492+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:22:49.497+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:22:49.498+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-30T11:22:49.500+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-30T11:22:49.528+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:22:49.529+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:22:49.545+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a4b40ca]
2025-12-30T11:22:49.551+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c28442a]
2025-12-30T11:22:49.553+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:49.556+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:49.557+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62102f14] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:49.557+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59b10063] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:49.560+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@304967308 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:22:49.569+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2006320747 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:49.572+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:22:49.573+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:22:49.575+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T11:22:49.577+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long)
2025-12-30T11:22:49.590+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-30T11:22:49.590+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59b10063]
2025-12-30T11:22:49.592+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:49.592+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a8b706d] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:49.592+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1802030407 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:49.608+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:22:49.610+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-30T11:22:49.620+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T11:22:49.626+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62102f14]
2025-12-30T11:22:49.630+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:49.633+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3343752] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:49.634+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1614790831 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:22:49.637+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T11:22:49.640+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T11:22:49.641+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:22:49.651+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a8b706d]
2025-12-30T11:22:49.657+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:22:49.666+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T11:22:49.668+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-30T11:22:49.670+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3343752]
2025-12-30T11:22:49.672+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:22:49.673+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:49.678+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36f27ab1] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:49.682+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2124500645 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:22:49.684+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=3
2025-12-30T11:22:49.686+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:22:49.687+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-30T11:22:49.690+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T11:22:49.692+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=3
2025-12-30T11:22:49.696+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:22:49.698+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=3", parameters={masked}
2025-12-30T11:22:49.699+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36f27ab1]
2025-12-30T11:22:49.699+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T11:22:49.701+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:49.701+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:49.702+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79b748d8] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:49.702+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@419e0c7e] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:49.703+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1555403437 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:22:49.703+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1331292733 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:49.704+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:22:49.704+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T11:22:49.706+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T11:22:49.707+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 3(Long), 1(Long)
2025-12-30T11:22:49.713+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-30T11:22:49.717+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T11:22:49.718+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@419e0c7e]
2025-12-30T11:22:49.719+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79b748d8]
2025-12-30T11:22:49.719+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:49.720+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:49.720+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e64e006] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:49.721+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bd5e4d6] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:49.721+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1068032072 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:49.722+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1030994696 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:22:49.723+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:22:49.723+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:22:49.726+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-30T11:22:49.726+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-30T11:22:49.730+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:22:49.730+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:22:49.731+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bd5e4d6]
2025-12-30T11:22:49.733+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e64e006]
2025-12-30T11:22:49.734+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:22:49.734+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:49.737+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4706b37f] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:49.741+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T11:22:49.742+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@778939332 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:49.753+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:22:49.758+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long)
2025-12-30T11:22:49.764+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:22:49.804+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-30T11:22:49.808+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T11:22:49.812+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4706b37f]
2025-12-30T11:22:49.823+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:49.820+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses
2025-12-30T11:22:49.824+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a0585a3] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:49.834+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T11:22:49.838+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@880876227 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:49.838+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:22:49.839+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-30T11:22:49.838+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T11:22:49.840+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T11:22:49.850+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:49.851+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:22:49.852+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a0585a3]
2025-12-30T11:22:49.852+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4aef4445] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:49.853+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:22:49.854+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1143513960 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:49.856+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-30T11:22:49.858+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:22:49.857+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T11:22:49.872+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T11:22:49.880+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T11:22:49.882+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=3
2025-12-30T11:22:49.886+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4aef4445]
2025-12-30T11:22:49.890+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T11:22:49.891+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:49.898+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=3
2025-12-30T11:22:49.901+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@515a953] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:49.903+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=3", parameters={masked}
2025-12-30T11:22:49.904+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@896010456 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:49.904+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T11:22:49.905+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:22:49.905+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:49.906+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-30T11:22:49.906+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17e31090] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:49.909+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@421850140 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:22:49.917+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T11:22:49.919+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 3(Long), 1(Long)
2025-12-30T11:22:49.922+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:22:49.924+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@515a953]
2025-12-30T11:22:49.935+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:49.936+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4dcd31c7] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:49.936+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-30T11:22:49.938+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1698321948 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:49.938+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17e31090]
2025-12-30T11:22:49.939+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:22:49.940+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:49.943+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T11:22:49.946+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5819e627] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:49.949+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1467025956 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:22:49.952+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:22:49.952+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-30T11:22:49.953+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T11:22:49.955+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4dcd31c7]
2025-12-30T11:22:49.957+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:49.957+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72aebd77] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:49.958+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1456077292 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:49.958+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:22:49.959+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T11:22:49.959+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5819e627]
2025-12-30T11:22:49.960+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T11:22:49.962+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:49.964+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f09ea70] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:49.965+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@943069544 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:22:49.966+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T11:22:49.966+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:22:49.968+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72aebd77]
2025-12-30T11:22:49.969+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 3(Long)
2025-12-30T11:22:49.969+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:49.970+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cedb3ee] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:49.972+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@629104639 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:49.973+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:22:49.975+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-30T11:22:49.975+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-30T11:22:49.976+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f09ea70]
2025-12-30T11:22:49.977+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:49.983+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5437dddb] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:49.985+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@873326407 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:22:49.985+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:22:49.989+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:22:49.990+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cedb3ee]
2025-12-30T11:22:49.992+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:49.993+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3057570b] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:49.991+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-30T11:22:50.004+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1365701988 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:50.005+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:22:50.006+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T11:22:50.007+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:22:50.010+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5437dddb]
2025-12-30T11:22:50.013+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T11:22:50.021+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:22:50.021+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3057570b]
2025-12-30T11:22:50.022+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2025-12-30T11:22:50.023+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:50.024+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:22:50.087+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@316bfd41] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:50.089+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1909643812 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:50.157+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:22:50.165+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-30T11:22:50.177+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:22:50.200+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@316bfd41]
2025-12-30T11:22:50.202+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:22:50.208+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T11:22:50.217+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:22:50.645+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2025-12-30T11:22:50.650+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-30T11:22:50.653+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/logout
2025-12-30T11:22:50.654+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-30T11:22:50.655+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-30T11:22:50.656+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-30T11:22:50.701+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIzIiwidXNlcm5hbWUiOiJ (truncated)...]
2025-12-30T11:22:50.706+09:00  INFO 42648 --- [http-nio-8080-exec-1] SECURITY                                 : LOGOUT userId=3
2025-12-30T11:22:50.707+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:22:50.709+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-30T11:22:50.712+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:22:54.800+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-30T11:22:54.803+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-30T11:22:54.805+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-30T11:22:54.806+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-30T11:22:54.806+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-30T11:22:54.808+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_user1, password=1234)]
2025-12-30T11:22:54.809+09:00  INFO 42648 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 로그인 시도 - username: test_user1
2025-12-30T11:22:54.810+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:54.811+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ec4c169] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:54.814+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1886214414 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:54.815+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-30T11:22:54.816+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user1(String)
2025-12-30T11:22:54.821+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-30T11:22:54.822+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ec4c169]
2025-12-30T11:22:54.913+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:54.913+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78582617] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:54.914+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1689017175 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:54.914+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T11:22:54.915+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 2(Long)
2025-12-30T11:22:54.918+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T11:22:54.919+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78582617]
2025-12-30T11:22:54.942+09:00  INFO 42648 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 로그인 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1
2025-12-30T11:22:54.942+09:00  INFO 42648 --- [http-nio-8080-exec-4] SECURITY                                 : LOGIN_SUCCESS userId=2 username=test_user1 role=TAX_ACCOUNTANT
2025-12-30T11:22:54.943+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:22:54.952+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=2, username=test_user1, password (truncated)...]
2025-12-30T11:22:54.957+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:22:55.173+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-30T11:22:55.174+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-30T11:22:55.174+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=2
2025-12-30T11:22:55.198+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-30T11:22:55.185+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-30T11:22:55.185+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T11:22:55.202+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/companies
2025-12-30T11:22:55.203+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-30T11:22:55.202+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T11:22:55.204+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-30T11:22:55.205+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-30T11:22:55.205+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-30T11:22:55.209+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T11:22:55.212+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-30T11:22:55.213+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-30T11:22:55.218+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T11:22:55.219+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:55.221+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T11:22:55.222+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T11:22:55.222+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60819e32] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:55.223+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:55.226+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:55.232+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13bdac0c] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:55.235+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38fdf94f] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:55.239+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2039374501 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:55.242+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T11:22:55.245+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@945518017 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:22:55.246+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-30T11:22:55.247+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-30T11:22:55.251+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 2(Long)
2025-12-30T11:22:55.254+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@953392250 wrapping com.mysql.cj.jdbc.ConnectionImpl@42f8117d] will not be managed by Spring
2025-12-30T11:22:55.256+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T11:22:55.257+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T11:22:55.257+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T11:22:55.268+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13bdac0c]
2025-12-30T11:22:55.268+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:55.270+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ccb2b5a] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:55.271+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-30T11:22:55.273+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T11:22:55.275+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@577253635 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:55.275+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60819e32]
2025-12-30T11:22:55.276+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38fdf94f]
2025-12-30T11:22:55.276+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:22:55.282+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:22:55.284+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:55.285+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:22:55.293+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-30T11:22:55.293+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b9f431d] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:55.298+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:22:55.300+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@166643946 wrapping com.mysql.cj.jdbc.ConnectionImpl@42f8117d] will not be managed by Spring
2025-12-30T11:22:55.302+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:22:55.305+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:22:55.307+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:22:55.308+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ccb2b5a]
2025-12-30T11:22:55.309+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:55.315+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e05ce57] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:55.317+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@462530358 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:55.319+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:22:55.321+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:22:55.323+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b9f431d]
2025-12-30T11:22:55.324+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 2(Long)
2025-12-30T11:22:55.331+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:55.332+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b5223bd] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:55.338+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@707003489 wrapping com.mysql.cj.jdbc.ConnectionImpl@42f8117d] will not be managed by Spring
2025-12-30T11:22:55.340+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-30T11:22:55.342+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:22:55.347+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e05ce57]
2025-12-30T11:22:55.349+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T11:22:55.352+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:55.355+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f295221] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:55.356+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@795754725 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:55.357+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:22:55.358+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T11:22:55.359+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:22:55.364+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b5223bd]
2025-12-30T11:22:55.365+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:55.367+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d5f52b5] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:55.371+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1742390120 wrapping com.mysql.cj.jdbc.ConnectionImpl@42f8117d] will not be managed by Spring
2025-12-30T11:22:55.373+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:22:55.373+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T11:22:55.374+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f295221]
2025-12-30T11:22:55.375+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T11:22:55.376+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:22:55.385+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T11:22:55.387+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:22:55.404+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-30T11:22:55.412+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T11:22:55.419+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T11:22:55.422+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d5f52b5]
2025-12-30T11:22:55.423+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-30T11:22:55.423+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:55.423+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-30T11:22:55.423+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29e3b19b] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:55.424+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T11:22:55.424+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2122224872 wrapping com.mysql.cj.jdbc.ConnectionImpl@42f8117d] will not be managed by Spring
2025-12-30T11:22:55.425+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:55.425+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:22:55.430+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:22:55.426+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a4632f] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:55.436+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@378761960 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:55.440+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T11:22:55.441+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-30T11:22:55.452+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:22:55.456+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29e3b19b]
2025-12-30T11:22:55.457+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:55.457+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c2d84e7] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:55.459+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@687243664 wrapping com.mysql.cj.jdbc.ConnectionImpl@42f8117d] will not be managed by Spring
2025-12-30T11:22:55.465+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:22:55.467+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T11:22:55.467+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T11:22:55.468+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a4632f]
2025-12-30T11:22:55.469+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:55.469+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39adb0a8] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:55.470+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@532021673 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:55.471+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:22:55.472+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:22:55.472+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T11:22:55.473+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c2d84e7]
2025-12-30T11:22:55.474+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:55.474+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b5c6493] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:55.476+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:22:55.479+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1797702051 wrapping com.mysql.cj.jdbc.ConnectionImpl@42f8117d] will not be managed by Spring
2025-12-30T11:22:55.479+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39adb0a8]
2025-12-30T11:22:55.480+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:22:55.480+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:55.481+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:22:55.482+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1579c87c] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:55.483+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1099240075 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:55.484+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:22:55.485+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 2(Long)
2025-12-30T11:22:55.485+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:22:55.487+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b5c6493]
2025-12-30T11:22:55.489+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:22:55.491+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-30T11:22:55.491+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T11:22:55.496+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1579c87c]
2025-12-30T11:22:55.498+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:22:55.500+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:55.503+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5617210] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:55.504+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T11:22:55.509+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1585471720 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:55.519+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-30T11:22:55.519+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:22:55.519+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T11:22:55.521+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:22:55.523+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T11:22:55.525+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T11:22:55.528+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:55.529+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18992809] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:55.531+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2030856925 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:22:55.532+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:22:55.534+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T11:22:55.536+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5617210]
2025-12-30T11:22:55.537+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T11:22:55.537+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:22:55.540+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T11:22:55.542+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:22:55.552+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-30T11:22:55.554+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T11:22:55.559+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18992809]
2025-12-30T11:22:55.558+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T11:22:55.563+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:55.563+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-30T11:22:55.564+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@733dcaf0] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:55.564+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-30T11:22:55.567+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@573926910 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:22:55.568+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:22:55.568+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T11:22:55.569+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:22:55.569+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:55.574+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43548045] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:55.575+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1961232550 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:55.580+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T11:22:55.581+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:22:55.581+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-30T11:22:55.582+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@733dcaf0]
2025-12-30T11:22:55.583+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:55.584+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@390bbe45] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:55.585+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@612145630 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:22:55.592+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:22:55.601+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T11:22:55.602+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T11:22:55.607+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43548045]
2025-12-30T11:22:55.608+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:55.611+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d287acb] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:55.614+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1780057475 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:55.634+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T11:22:55.635+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:22:55.636+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@390bbe45]
2025-12-30T11:22:55.636+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:22:55.637+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:55.638+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38c03ce9] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:55.657+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1549620258 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:22:55.659+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T11:22:55.661+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T11:22:55.667+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:22:55.673+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d287acb]
2025-12-30T11:22:55.673+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:55.675+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T11:22:55.686+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dbc1d46] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:55.687+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38c03ce9]
2025-12-30T11:22:55.700+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1393349144 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:55.701+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:55.701+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:22:55.702+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44d2cfbb] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:55.717+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 2(Long)
2025-12-30T11:22:55.717+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@608021579 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:22:55.719+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:22:55.721+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:22:55.735+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-30T11:22:55.737+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dbc1d46]
2025-12-30T11:22:55.738+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:55.738+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b25e969] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:55.740+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1443792742 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:55.746+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:22:55.751+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:22:55.751+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44d2cfbb]
2025-12-30T11:22:55.759+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:22:55.759+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:55.762+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f3f58c8] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:55.763+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1036189059 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:22:55.772+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:22:55.773+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T11:22:55.815+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:22:55.823+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b25e969]
2025-12-30T11:22:55.832+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:22:55.834+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T11:22:55.836+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:22:55.837+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-30T11:22:55.841+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T11:22:55.856+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f3f58c8]
2025-12-30T11:22:55.854+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T11:22:55.857+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:55.867+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-30T11:22:55.871+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a744f34] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:55.872+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-30T11:22:55.884+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1872277930 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:22:55.887+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:22:55.887+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:22:55.886+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T11:22:55.889+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:55.890+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3421a422] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:55.894+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@212367243 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:55.897+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T11:22:55.906+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-30T11:22:55.914+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:22:55.914+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T11:22:55.915+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a744f34]
2025-12-30T11:22:55.916+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3421a422]
2025-12-30T11:22:55.916+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:22:55.917+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:55.918+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T11:22:55.918+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f9ec3ce] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:55.920+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:22:55.921+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@648504491 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:55.922+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:22:55.922+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:22:55.933+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:22:55.933+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f9ec3ce]
2025-12-30T11:22:55.933+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:55.933+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d1d96a1] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:55.934+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1962194559 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:55.935+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:22:55.935+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 2(Long)
2025-12-30T11:22:55.939+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-30T11:22:55.940+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d1d96a1]
2025-12-30T11:22:55.940+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:55.941+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62422a03] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:55.941+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@328929396 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:55.942+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:22:55.942+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:22:55.949+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:22:55.949+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62422a03]
2025-12-30T11:22:55.950+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:22:55.951+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T11:22:55.952+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:22:57.392+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-30T11:22:57.392+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/12
2025-12-30T11:22:57.399+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T11:22:57.400+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/12
2025-12-30T11:22:57.402+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-30T11:22:57.404+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-30T11:22:57.404+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T11:22:57.403+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/12
2025-12-30T11:22:57.405+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:57.406+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/12", parameters={}
2025-12-30T11:22:57.412+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c1b7350] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:57.414+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-30T11:22:57.416+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:57.419+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28ab99fe] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:57.421+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1087087993 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:22:57.423+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T11:22:57.424+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-30T11:22:57.424+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1879785696 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:57.424+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-30T11:22:57.425+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 12(Long), 1(Long)
2025-12-30T11:22:57.429+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T11:22:57.430+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c1b7350]
2025-12-30T11:22:57.430+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:57.431+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-30T11:22:57.432+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78cafb31] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:57.432+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28ab99fe]
2025-12-30T11:22:57.432+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1455906769 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:22:57.433+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:57.434+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:22:57.434+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c5ee0e8] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:57.434+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:22:57.435+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1242191694 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:57.435+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-30T11:22:57.436+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 12(Long), 1(Long)
2025-12-30T11:22:57.437+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:22:57.438+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78cafb31]
2025-12-30T11:22:57.438+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-30T11:22:57.439+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:57.440+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c5ee0e8]
2025-12-30T11:22:57.440+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30be1c3f] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:57.440+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:57.440+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ffe4b14] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:57.441+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@520252010 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:22:57.442+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@344765859 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:57.447+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:22:57.448+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-30T11:22:57.448+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 2(Long)
2025-12-30T11:22:57.448+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 12(Long), 1(Long)
2025-12-30T11:22:57.452+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-30T11:22:57.452+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : <==      Total: 2
2025-12-30T11:22:57.453+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30be1c3f]
2025-12-30T11:22:57.453+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ffe4b14]
2025-12-30T11:22:57.454+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:57.454+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:57.455+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6eb043cb] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:57.455+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c9df21a] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:57.456+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@783283654 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:22:57.457+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1106689654 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:57.458+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:22:57.459+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-30T11:22:57.460+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:22:57.461+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 12(Long), 1(Long)
2025-12-30T11:22:57.466+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-30T11:22:57.466+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:22:57.466+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c9df21a]
2025-12-30T11:22:57.467+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6eb043cb]
2025-12-30T11:22:57.467+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:57.468+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:22:57.468+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dade2f1] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:57.469+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T11:22:57.469+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2118377084 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:57.470+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:22:57.470+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:22:57.471+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:22:57.475+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:22:57.517+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dade2f1]
2025-12-30T11:22:57.569+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:22:57.583+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=12, drafterId=1, r (truncated)...]
2025-12-30T11:22:57.586+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:22:57.589+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/12
2025-12-30T11:22:57.625+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/12
2025-12-30T11:22:57.629+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/12
2025-12-30T11:22:57.631+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/12", parameters={}
2025-12-30T11:22:57.632+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-30T11:22:57.634+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:57.635+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5064f039] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:57.637+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@831388224 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:57.639+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-30T11:22:57.641+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 12(Long), 1(Long)
2025-12-30T11:22:57.645+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-30T11:22:57.646+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5064f039]
2025-12-30T11:22:57.647+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:57.648+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@610d198b] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:57.650+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@371181739 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:57.650+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-30T11:22:57.651+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 12(Long), 1(Long)
2025-12-30T11:22:57.654+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-30T11:22:57.654+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@610d198b]
2025-12-30T11:22:57.654+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:57.655+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44ee0901] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:57.655+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1294369110 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:57.655+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-30T11:22:57.655+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 12(Long), 1(Long)
2025-12-30T11:22:57.658+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : <==      Total: 2
2025-12-30T11:22:57.658+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44ee0901]
2025-12-30T11:22:57.659+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:57.660+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ecf4956] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:57.662+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@710798735 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:57.662+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-30T11:22:57.663+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 12(Long), 1(Long)
2025-12-30T11:22:57.666+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-30T11:22:57.666+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ecf4956]
2025-12-30T11:22:57.667+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:22:57.667+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@548df701] was not registered for synchronization because synchronization is not active
2025-12-30T11:22:57.667+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@812421439 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:22:57.668+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:22:57.668+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:22:57.670+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:22:57.670+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@548df701]
2025-12-30T11:22:57.671+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:22:57.671+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=12, drafterId=1, r (truncated)...]
2025-12-30T11:22:57.672+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:23:01.562+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/12/approve
2025-12-30T11:23:01.566+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/expenses/12/approve
2025-12-30T11:23:01.569+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/12/approve
2025-12-30T11:23:01.571+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/expenses/12/approve
2025-12-30T11:23:01.572+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/expenses/12/approve", parameters={}
2025-12-30T11:23:01.574+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#approveExpense(Long, ApprovalLineDto)
2025-12-30T11:23:01.581+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ApprovalLineDto(approvalLineId=null, expenseReportId=null, approverId=2, stepOrder=null, status=null (truncated)...]
2025-12-30T11:23:01.665+09:00  INFO 42648 --- [http-nio-8080-exec-10] c.i.b.controller.ExpenseController       : 결재 승인 요청 - expenseId: 12, approverId: 2
2025-12-30T11:23:01.700+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:01.702+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6758c691]
2025-12-30T11:23:01.703+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1257951004 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will be managed by Spring
2025-12-30T11:23:01.704+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-30T11:23:01.705+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 12(Long), 1(Long)
2025-12-30T11:23:01.707+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : <==      Total: 2
2025-12-30T11:23:01.708+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6758c691]
2025-12-30T11:23:01.711+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6758c691] from current transaction
2025-12-30T11:23:01.716+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.m.E.updateApprovalLine             : ==>  Preparing: UPDATE approval_line_tb SET status = 'APPROVED', signature_data = ?, approval_date = NOW() WHERE expense_report_id = ? AND approver_id = ? AND company_id = ?
2025-12-30T11:23:01.719+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.m.E.updateApprovalLine             : ==> Parameters: data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWgAAADICAYAAADFjnuPAAAQAElEQVR4Aezdf+xvdV0H8DPnxBVTRCZLhFpYzDRcMcKuYJdWrEhxERJt1LIVLTE2EAabOMeSibsXrXtppDizYvNOiVoxNykDI6Ab6w910CwYYFLAoEGjBWqz+3hzX1/PPffz45zzOb8+n++b8brv93n/eP1+Pc/7cz4/vi/55je/+Z1M2Qc5B/rLgX/7t3/7Drr55pu/84EPfOA7v/Zrv/ad7//+7/9OURSH0E/91E+leWs++clPfudv/uZveq9NeiHy6IVm6WbMnHXW53zpL1/Kvn3JgSTJ/2cPZA905IFHH320QL/3e79X/OZv/mbxQz/0Q1v0p3/6pwUi6gDYFQeAuDgAdsWBgkx0AJDTmHHzBwDb0l7pAPAWiLwD4FsgOiH6GKcHm+hetknf2Je+9KVeddzOzDNAb+foZ9s78QCQAsg/+7M/ewgYAzUAF6B32223JUB2DYQRcOxEiY6Z0Asw0xVQu4kAbddsIo7dQDrs1jc2GGBTYsMpA/SGBzib170HAC8gAkgve9nL0kkZQJMEdAEZAmyuARrAMz8k0TOIvkF0RYA1iB2ofOJnn3X24cMGtgBp9iF9Yz/wAz+QXh3Ygyc+2tg7pN2bJCsD9CZFM9vSqweAFMACPoDISREAA2InTK1rQNZWETLmEXkAL1o60Kd8HfPGo2+eTk7ECKAi4EpnBGzR3/7t36bHHObYQBe82Bzk+rOf/azposzHfvuMmSSXjvYBa317jZvPtNwDGaCX+yiv2OYeAChABgE9IAyMkD7QW+QiIIeHvQBKC6yAlr4WxZzW+jI98sgjhVMqWdECw5APFF1rrfnABz6Qnme7RsaAdJVC7/K4tQg/xE6kT97f//3fF7t27UqPc5y62UJXPMiyznqkbw85bGWb9XwZNvOP+UyHeyAD9OE+ySPZA8kDgAOYABIDgAboaIGRsTJZD6iAELLPfsBkzloABvzwcHJ1rUXGEFAzXiZ7yCwTfkMRuXSgE13vu+++9DydvmxmKwo76WWP9dbYw3cIHzcZ+/gJWCP7q/7CZztTBujtHP1s+0wPAJkADiACMAELoIkNxmNdgIoxwGMdAkr26gMqBLSCgte6tuxgG9+w0yn/Z37mZ9KnWGbZZD2ylm88Foq9fMN/6PLLL0+nc6AtDvyMZvHc9LEM0Jse4WzfLA/MHQMEQAYwBPgAFadgZByIWIeJNQAHwCBrjW83Yjs/sBuwhn9cLyL+spcfAbZn4H/5l3+Znm3bx+f4ITfCunzt3QTKAL0JUcw2dOIB4AsI/ud//qe44oorire97W3pkwmYe1keQBJ94GIu04se4BdA68pNrg2Y8umOHTvSG5VxusbTeIC1RyFukuRsOmWA3vQIZ/uWegCQnHDCCQWAvuSSS4rPfOYzxUUXXVQAHKCsBRBLGeUF6eQLUPm0ixMv3+MHrD0WcQ2cgTQiZ5PdngF6k6Pb0rZN36aogYcTmWI/77zziscffzyd2nbv3p2AOQNy+ywAqPzHt3v37m3PqLITOANpFPyd1MmpLN2YywzQGxPKbMgsDwBh5HSM9K3zvFTBf+hDHyqeeeaZQtE7LZvLtLoH+BeXPXv2bD0mct0FiZsTtRsBfk7SYqu/aZQBetMiuo3tcTJ2mgLCSNE6aQFexYz0jVnrFO2TB96YUvTb2HWdm86f/I0xP/O3fpeEPxJPsRbzLvlPgVcG6KZRyOsn4wFgjBQnENAHBEAYKV5AMUth64076Slw/UzdeqDs//B3txKK9Mw7YkjGpoF0BuiuMybz680DwFcBAmQva32jzRggUKRAGS1SwHqf1HBy9lhjHoAv4pHn6nvg6quvTovj5pkuOv5HDL0KcqPdNJDOAN1xsmR23XkAmAYgR+EpRoAMXLXLALmsDX74+DKJgi7P5X4/HhCv4Ayko991C5zlg1aM+5TVte6L+HUM0ItE5bnsgcUeAKAKywnZKRc4K3CF54SsVYCLucyexds7/nFybstnNvc8WscDYlBnXds1btbyRGw3BaQzQLfNhryvEw8oWoAc5LEFII536RXbqoLIULBOzviuyi/vr+8Bvn/pS1+aNvi0TOr0+E/c0InwGIx8/XWlDNDrGrk11lvRAGSg6ZQMhIGy04+2a9PIwdNjEe1UiV+CvJLQ184ic8ictkxTso9+3/72t5NKb37zm1Pb9z9O0vJIXnklxjd1ZE5xTQboKUZlA3VSJGVQ9jXqAGQF1ZfJTlHxWKMvGfP4sjkIULkZhQ/oBTyQn+xE+kExr51F1XVxra3yMlal4Bnjrk899dT0I0VuaMhY6Ou6SuaCzOmzMYjN8bvRfOR0qx2C5FQZpOkyhNyuZWSA7tqjmd+WB4CTokWKtgzKQxQrgKFMX28Isi+IfewEVAF65ZYu5qyxFmDEXjp2TcF7Xks+inn9L3/5y+mX6OiHjIW+rqtkLsicPhuD2Hz77bcn0zzm2LlzZ+GX6tLAAP8AaYcAJ2k6sWcAsZ2KyADdqTszMwWvWBWnVnE4yaAhQDkiQL6+xxp00G9Cipn+QQocT20ZeF1ffPHF6Xc8PD9nPzmedwMIdgcBC/pUyXPxIL/oFv1qG/uMl3npzyOy6YH0kX5Q+drvkLjGK1r9RJ/8ZPoqPNmhh3HXKMaqLV8EPfbYY8UnPvGJuByklXP0JEysxFN/XSgD9LpEauJ6AjTkFKUoFKoiBwRDqg4gFSJQjsKsyqcnUqz0tR74Al6PB5Br4+YBL35eASAncsRGMm677bb04/WuUQCWOT4I4gu+qRLeQXSNfrWNfcbLvPTnEdn0QPpIP6h87XdIXOMVrX6ZyA49jLtGxtyU6C8Gf/Znf1ZceOGFLhO9/OUvL0477bTihhtuSNdD/kM39pJ51VVXpZup/jpQBuh1iNKEdQRgSFFGISjYMVSmA1D92te+lv7cExCmmzGAC3iRvjFzQJqugBfgKGQAi+I0awxgIWvYh9irtX+7EB8H8R/iSzc3H2MEzHzBLwBZH1166aXFXXfdlb7553poEitxPPHEE9Nvg9B7aB3ayMsAXfJaJF5pKHdneICfAJskB1gBXDOW9jpED0SP973vfcUZZ5xRAOX9+/dvvdlFT0oAYAXqhIsAcJBxNiD2ABdkXz3azFV8yzL+RXwJiLXIHH/xW9mXMXbUUUdZkoj/U2fEf4D0zTffXDjpsweNqE4t0RmgD7pJcUs+5JSlddISRO9ER7IeXL7tGvYDP6cln4qIIhwSyOgAGMREbMQIfepTnyoU3hFHHJFOzgDY6RcBjgBgOitStO0CWMNg/hVjPubXW2+9teBn4+E7PgXIQeKPZrHHK8an4nO6ygf6RB6FjlNsM0AfiIoEdOo60N3635gEE0TP0iSsZJW85rYWbnCHneEDoOzkEcndt9lk8zX/83vcNF17JuxERhcAfM011xTveMc70nNgwKH4+tZvE/iHj9105beWb9nGjx5LuNnxM2BD5uoQ3sjaJvus75vowyY3Hfktv0LXvmU35Z8B+oDHBOycc8450Hvxfy/NzjrrrBcvSv8KpiT2rA14TDWoJZVbd9mHgLJiBXr81IJhrS18CXz5F1gg1wADGAMKpzeArB86WW+NgqslaBsv4mMxBUhIHntmzL/xpie/Ai60iqvIif2r8go+XbZyOWxV13zBP13K6IJXBuiDXrzlllvSCUzxA2tvNHmT413velchmAeXpUYgAYOglhMxTa7pP2ySqIhNikoCV23vyryQAyjidEwH8sieBcZl2daKgbEMzrxwKPEPH7vJ8ZMbnnw1/qu/+quHfGSOv/n9UA6rXblpBgf8oz+lls1ynH78Ev6Zko4ZoEvREDAnRQXvROGjQZ/73OfSO8+ecZorLU8f6pf8QEaAy3Pr1AfIiM5slLD6XRL+iK+ABb85vQELp2KAzO8KBi2Szdf2i5cb6qK122WOTxBADh/7azHs5yf5zM98K77GzPVB9HBzwJscpD9Folv4hN5TA+kM0HOyRuAUP9AQOG+YABNjEry8TTICnY9+9KPl4Vr9sRbRGbENKEtSbVf6AGNgAUgRMMbb7wMDChS+5GtzdYjO+HpZLjZ19mzqmvBFADJwYas8dcPjX3FFTXyMxyokPrG/WisxPqWWb/iIruoh/DgFHTNAL4mCoAne2WefXQAZpxLXkr8KaD4Ef/zxx6cPwgv0EtaDT9MJAUzC6S85kes2hB8CyPhqfeoFL74Dooi/XJNprg0BJDKAsxi04bHOe9gP/ACyx0J8wff84YaH+IWfx7KTPnKAfHlFH/2pU+gqP9nAt1PQOQN0jSgInqQHMvpOy4IIeJCxYPPEE08kgHYXVkyKKubGaulAF5/EQHSWiG30YbcCRHhq8ecDfPnp/PPPT4+FjLWRMWsPGYBJwZMxa80mjfEz4mNgEYDMRoDshAyQ+ZxPuvQ1GW2JrrGXbtFfh5YP6aw25DXfj633tAF6bO/MkC+ACkPwJKOguvaM2puKsSWKC6hYB2BiboiWfDLJ1lfEEg/VlW9/JCo+iN3244MnApiujfdB9OBHN0iy+pAxNk8xQvztAOAGj4zJsQBk/kZj6ztLvtwQK3Pi1GdOkNEH8bUax1sswh7XY1AG6BZeF0Sg7Hkq0ELA2VdZZ4GIQAMYhaffQmTtLRKKDK1Nkk2x6C8iQGAPW+iJPNKxh734BOFnzFzfxBa+49d1LPhF/mEbf5fJegAsvxCfuzY+ZZI/AJqOcoPe+utIoT+bxEY7lh0ZoFfwPMBQRFg47UhQnxuWnMYBmbkggRbw17zmNYXf3j3zzDPT4xCFWqzwH754kI8NuYh+rqtkPbKHPsBY66NR3mCKd/zZgQ+q8hjiOm4Y6w7OfM1f/C1GyE3HDdDjCgDMRsTXyPp1ol//9V/fUlf+bF2saUcMkNiJVwszOtmSAboDNwIypAABnaDGXRhQK8CyGH/6x2/v3n333Qmg7QGS9pXXLetbL3nIJY+cRaBsHVnIPvzpTUfgEPvxMjcmAWcgRr95No2p3yLZ4kJ/PmaDTwBpjSt6fuZv5HoK/l5kz7I5tspl6zzqW3d72IHEiS3qho3GhqYM0B15HIgAOifQOE0rSAEWaIk7T9SRRx6ZPlN9+umnJ8Cety7GJUuALN6I/JiPlnwgAfxRnJABA+ADDrF2Sq2CAGj0nKqO4S8+Fg86h6/FxrjYy4f4yrQ4GYu9m9CyXazYIlbeINbfBBIrdcIWMdUOTRmgO/a4JAXUClTBSmAi/J6H1rNqQS8D6nPPPWeq8AmQD3/4w8V5552Xrqv/4KUY8MYDVdeYI1dCAWXX1nmTSVuWW907hWs20h04T0lXfkQBxHT0yQq+9tFLcx5XiD3d5UHQFPzahw5s5ge8xUp+6dehdVnDLnEs2zqk7hmge/K2ZHViUrwnnHDClhTXAq6Ikf7W5IHOt7/97eKv/uqviqOPPjqdpiMxgK0T8Kw9B7alEziwcHoHIsBiXUCZ/gg4uwHxncIw5zG6mAAAEABJREFUNjTxN+JD/gRAdOJ/5LkxnfgXGNNVTMR6LJ3pMwbxDV+VT5pj6NG3TLFlo/xEfcsr888AXfZGx31BVbzf+ta3tjh7EzEuFLQCV+iSIMa1TtUA4k1velPhmbU3XqprrAMkAESxuLYOvyrwm5sySXx28McQugMWxH/8zH8AOMgYf4mhT+u42SHxFAc6mrNmOxL/iBnb+WOTfcE2eSlf5Ambh6IM0D172rfqnn766STFpzcAgkCngYP/SABJfueddxZA2x/YPDhVvPDCC+lEDTgkh6KwHx/XTnQAJIADr9i7Li2bgDMfAL6u9eYvMoAKn/FlkDHz/KYI3dwAsZY+SEy61mkhv4lPyj1+oybf9BEzvKdE7ERyJWwfQr+lAE0hxSOxgQ3l9CW8uSGUXGcZfhUv9L/gggsKL435T5LHOD/y686dO9OQxyDAwvPqNHDwH3vE4sd+7MfS186BB2CWOAeXrF3DdjaxBa1qAH6IP/nZc2JgrG8cEJMDgAOI+doYP5pfVYdN3s+HfMlG/pJ/+tuB5Ak7b7zxxvRIUb9vWgrQgFgQKOcdWomsHy/VgYY1gqYoXCNjfSu/Dvz5IvQ8+eST0wmZPwEBwPanmgCIdcbRZZddlr4q7YsvgKT6pqHHH/zreTOfB/91bOWNQpdXbfQHGHyHDz/yCTLOx/xZBWInPnNt5G3nPXzKt3zAf3BAf7sQm+888Cr3qaeeKuQbf/Rt+0KAlviKZ5YSlEWS3RrBUmT6yB7ggYAJGsIgcqdC7EWhT/jFmDf8fD7Wz5leccUVhWfHMR/r+Q699rWvTX/S6d3vfnfhJ1BjHh/zgEnrOubWoXVypicQ1dahRx99tJBLCsR+gOExT+SiGxoq52MdvnnNcg/weeQY//L58l2btWLHjh3pkCUHUd/WLQRowWgaBOsRsAHYSJ8hDBJkYKJ1AyDD3KYTn7CR7QAVQAOSr3/964W/3mLc/D333JM+veGluT0KYffu3YVXLx//+MeLr371q8W5555r6Rbxof3Ail/5eWtyoh3g6oebloEz2xC7+A15BORRkc8Y8yEe8gxN1Ny1V0u8Iq/4O2p67Q1rYYCaVJtyUm62YFF7y1yAFgxK1Oa0ZKGAOm0zTiFpbQHSDEVkGtsUYlvY8uyzzxYA1JgER+FfvgE4P/qjP1r88i//cnH//fenv+7CX7E/Wnv27dtX2H/ccccV/jzXMccck6YlC/6Kacr+FGcUOZCUP/gPG5AbDhuC2O1VhscVbOcbdHBbbnr0gBiIFxFiJl/1tyvJxcg9vpGvffliLkA74fUpmEGMBNZBxhiMAI3rdaaq/9jpxFdOcEAEUL1Mv+GGG4p/+Id/KPz2dBTEPPvxePjhhwuna3/N+qSTTipOO+20reX8hy9fLuO1tWmADp/QC8iywTUKfT/xiU+k53tU4S/rkL7CMJ5pOA/IH7EhUb0i/e1O8lH+qq3wTx8+mQvQhAFpbd+k8BCD3aEZTybwKieIsXUhgfOpl9D3d3/3d9Mbf3HNNi/XgVN8TI79/KAItNaYjz2zWmu9ceETH/v37y/IueSSS7aWSh6AyI902poYqUMP+rGLXnzglYVc88ji2muvTa8O5AAfjKRmFnvAA+Ijfw5003NXtamf6UUP8IccrVOnL+5o/u9cgPaSW0ErpOZsV9vBaMCjSBFuChvRyfVUib/oKbmPPfbYLTX504Vger4MkAQYAWZzZTLGdvYqEnzL8+U+f+HjpOlbiH6ICWjbb85aPOiFFvGytmsij/w3vOENhZvInj170nN2gOwVBaK/mHctO/Nr5wH5K/fsFhu5pZ/pux5QW5Gz8vu7M9315gI0gEBOOEClO5HNOIUTJAnAUexARvLoN+HW51q68BN/0dmz0rK822+/vTBnnWRH/FteM6svAaxj77IksA7YuRns3LmzoIfntnxnjmw8nFj50PUsmauO4UsOf7gZsfv9739/8dBDD6U3O+mI2EbHVeXl/d15QOzETL7hKnfEST/T4R6ASXJYrvPd4StWG5kL0Ng64WgVmyLTuh6LOEKySBqfw6ZPUB/OqWsnHfjHqRjwCFp1L4CmNwKW1flF1+yOPXUSgXw3AGuRva7pxn98RWdAbd71Ivl15vDAix+QGwAZ5LHZxwPpoM+eOjzzmmE9AJTFjlQxinxxnWm+B+S4WTmv7ZIWAjTBgqTAFSAFBFAhdqlEG14SCBDRkX7AgF7aNvza7CHLacMbfMAH0St48Vn0b7nllvQcL66btviyFSkkshfx4BOxo4O4afEAkMb5zhifBVAv4jdrjh7280E5L/DmC3LIc+NyQ6XTLD55bHwPeKSBaCLHxE6+uM602APyna/Uw7K6XMzp8NnvAvThc2mEYEWm4AQuilowu1YmCWzxDx05CenTC3BoW7BbuoUPgB4ZZPJNGXzM80/5NzWWMq25gH3ioCV/mY1088iDvrHWXnorQrGlL150jjWz1LHOPF5A2Xr7yvzwxDv8IWkRObN45rFxPSA24qiliTgh/Uz1PSDnrXZY03ZFSwE6BCk4gVOAClJAFWr55BRrx2zpCcA4TB+AABX6rqoXgMLPiZMP+IKcMl9yzBt761vfqumF2BayFRjd5gmyzuMqycMXsY4NfMUOsaW7mOJXXmec3WJt3py9+NqL9I0F72h9qYSMWXOxJrfjeEBMxVp85ZP3TcRqHG3WWyq/yXG+XFSLTa2sDdDBmBIK0slMUCkj0IpXG+um0NIVcHAePQELaqMb29jo5bo33vCt8hEcCc8v/FOe96258nVXfbYBV3bRcR5f63ycj/7W8kes5Sfz4hp2ffCDH0xvai47KdsbfKotOcaCp36m8T0g9m60kS/yp5qv42vZSINJLFZDFIm811+VGgN0CAwQUtQUE3QBB2KCD6xi7RRaOiJ6cyD9tPRepJ81QAqwsVUizwIl/ICzZEd4zlpnvGsiBwhWH2VU5bCdbmyh7zzbH3zwweKxxx7b+sWuc845J/0WCPvJIa/Ku3qNt3wgrzqXr8fzgHyWp1r1IKba8TTaHMnqjzV8q+2CWgN0CFesilCgFa/CpKAkANaK1FisH7ulr4QEVsjJdpaOdGaDOXbNA2b2ADtr+QFvY4gs7VDEHrrSne+1s2TT09zevXsTCOuz0x4tcKY7Xtb6OvlNN91UiOssfrPG3KT5Ap9Z83lseA+Irbj87//+byGuKMenuzioP/5UT6gLzisDdChBMQUNqAWespSUFAofgClwY7Fn7JbO9KR36CKBfWaXzu6I7CnPx7po2cM2NgOkGNfirx2SyKSvxzD8zZ5Z8unq5sROJE6x17PIsNs6tiHPsK11Q2L3LL7GzCN6uM40rgfEyqtAMZbvfk5AXMfVajOlh1/lfxcWdgbQoYwip6QTZxS5MQoDCwWOJIux2Dd2S0eAhnwTj/7scC3BZ+lHf7YAImtnrYkxHzOL/hAte+jlzUE3EP4mVxtx8K1DY9b6KdOIl7EqWcMngNp+fPimus61eev0M43rAbGQo7QQEzEUS9eZuveAQx2uDjPaValzgC4rJBGAhMJH+u7gAE+BAw7JI4kUO8Ar7x+qTy5dOJWet912W/rMMv3pa57OdNTSy5g9gJldxqpkf3Vs6Gv6K0zPnb/ne74nfcWaHXQz7rSsfd3rXlfrEQZ+fGS/GIoffmGXvpsRv8RYbof3gPyM2IgVYM4x6T8O6oO/+b8Lab0CdFlBSgMyiaLAgUIkjKIG0gBPUukb68rIsh7lPrAlEzA7adKNnuU1rukZrccC9LPPDxOxo7y+2j/yyCOrQ4Nd8x9d+VTfXwz3hh97xEBLGUmlzx/8bmwZiaXHKPYCav4ggy+X+WQZ70HnN1BYxEM8xVWsxWkDTZ2kSeHrurW0yIjBALqsRICdQpY8SF8yWccwwKLogYu+MQlnvguSxAgwl2XX4e3vDAJnYLdINydJf56qDs8u17CL3/iP3yQMQHVa9o1G/dA75EZMtPbE+KLWWr4D1Prk8c2iPXmuPw+oD3EXf/Fw4BCf/iRmzrM8EI85xGPWfJOxUQC6qqBkAs6SCVgjfUAC5AAGQJF8QEDfaa3KZ9k1hyFvmJBJBrnL9pXnyfa7Etdff316DIIHAHSypif+5fVD9cnmG7YpUHL5jy8Vqr4xxHbXdLVHG+P8rY+ftg4Fvze/+c3pB5rEyf7gW4dHX2vKOujPIrrWIbEvkz2zrvlUDMxV+7P2xFptkHVVkvOz9DdGFr/ry0dxj1gu86091TWzxqprqtdt9lR5bMK1ekBd+GMSAF0NCuMAJxABLpINECJrJa7EB0ZaSS15zc0ja/wNQImMH/7z1s4bt1fS06m8hr6KInjSjz6ovK7rPjns4ge6kUcP+rGR/+g2S65x+l5zzTWFj9v5w7T44eF59a5du4rzzjsvPbMOH0dLpj6Z+tpTTz21+PEf//H057sAtS/F/ORP/mRx5plnFhdccEF6vm2tfdpZRL5xLT20KPZIeOPkWaePXGvNW49m9a0J4pPo88U84k9k3qstPkVy0XiMubbGHP87Rc3ql/eYtyfWigdyTb8qsSl0jlZOv+Utb0n+9XFIb/byPf/wQ7R85Nq+at83X/kYAfkyya26FPvK643FdbXvGpEbRDcUetMZ0RvxQdUvU7sWYzp98Ytf1KxEkwToqkWSWOIiye+lehmABFBQBVtbDqKgGscTgNiPn+smhC9e9i/ahzc9AfnrX//6raX+UkhZr62Jhh060IVNWomMxXXXXZf+TBb9IkHIQ/agWB+tMV9K+Ymf+InC19K/8pWvFF4dAA5/+9AjHGANfIzhrUX6Me76la98ZeFvJurfd999hb+1SKdvfOMbxT//8z9TMf3BAvusmUX8ZlzLf1oUe/iWbSFXH7nWmrceRR+/6BsPKo/ZO4+sQzGvjxikNa51XadvbayLfvk6xkLPea09YnvllVcWTz/9dPLtk08+mWJgjt1BePCR1ly1r5aM8bN+kEdX0deaX0R4kKm1ThvXWmSMHkH0YTP/ITbJS3ktT4MCwOV9GfCNxxo4gOzHB7+xiF2+T7CqHmsB0LOcLKgRcIkk8K6tFdzjjz++OOGEEwoB/J3f+Z3CHKeZb0oSQODJqbuXfv5mYKx3qpQ4dENNA2eP5GQPXWI/EGT7Aw88kE5R1pFjjZZ8YIes44doo0j8QdpLL700/TWW559/PvGxz7y1eIY841Uiy7rquP0Km0w8+DF0qq6tXvNfdSxfv+gB/pYLfMpPAYYvzrb7F5/yTtdVUj+LSLyDrIu+Vg5okVxxjfQRG4LkjEMY0g8yb619+JBBRzmF5BdSI/wT5No4fyFr5XO0Zbu76tMLLzK0bWltAbpsMGcIlqDpxxtVJ554YvoL2MBLsDhLYMp7l/XtURCSA+/S+kZdf5KKfkESBeE/jxG5ksuJwdrQ/aSTTiq8lKXTKaecsvUsXOKi8AVZdA6aJyfGrYs95JJnDNJYg1oAABAASURBVE8J7jrWRktHp2wyY6za4qmwjOM7j5f5TPM9wP/ymP+sEhfgtcj31q0zyb8gdsoldsunID5AVUC3zvp4ZCRP1RH/XXzxxenwxp/qS4siP62T2+oTNfVhWWbTveX1GwHQDOJMDubYs846q/BtqTvuuKPYt29fOj0Llo+AmY91Et7eeWRewOyVHPPWNRmPZJNcksdeup9xxhlF/A1D32R8zWtek/54ajk5rAfKHj94nEAnhCc+XVHIIZtu+NNXYhsry+Ejc+WxWX160h3hIQZ42z9rfR77rgf4iO/5TF98AJK8/O6q3OMBuRrET3yE5KjcA+JeCf/hH/5h+rq7Oevkp/1yU17CCT5X/yhAXN+4NdaKh31Vwo8e1lTnmlyvPUBzJOdxGkcLAKdzTjhC35wgmdOa8+aIvZyOT9WZeHK0PdZ3RYKKfPJD68bxi7/4i+n5IX28QffMM89siaO7gqQ3fbYmeu6QSx7/EEU+XcNPdOdbZL4O4ccWPuVzPg5+dfZvpzX8y0eAGSDwM9+Jg/528kWXtvIdkt/ykD8R38IPrWtz1shZ8sVDroqFvFUXYoNcGzdvbZA9KK6btr0BdFNFmqxnsMQFZlqO5FjtMj4Cw+HWCgTycgRPv10czvapBs52113Gc948AI65PXv2pGe79DWONz0kAJ2uuuqq4q677orlqfXc+txzzy18UsCaNDjwP+RKVjojfguQlpD0b6MSPnyPv0SX4GLQhtem7eEH/pCL8oWP5GH4a9PsnZo9/C2v5ajc53v4wv+uzaHQW7zUgpjJZXHT9+3cWNO2XSuAlqzhAH0O5DhtWwcIhv0cH+TjSn6nQsvZnA9Q68gQLGvtufzyy7e2/NIv/VJ6p52sAGY2uMlYu7XwQEfwJYMvlXzkIx85MFKkxx3Wp4uB/+EjOnujkQ5suPHGGwvPwldVhc8VAJ95RaNdlee67md75Lec4HO+kQv662rXpuitDtSmnEWwR2z0jYedMED87r777jR0+umnp4+rim8aaPDP5AGasUABkGnjFMc5gKKBrUuXCoBC8JExfR8XI8ObC1E47oz0KDs7dATm5ggSMN821Ec7duzQJBK8sCcNHPzHngg4+UF0ooeTvr100ZJ7cOsgDX0koxg88cQThT+EW/ZDWyXYx2728y/7hratre6r7mOnWModdvOtWPMHcOabVWXk/U09UH+9mpC36gImiZt+OW5qBS6IrzjL8bp1M1mAlriMYpCWIxjOARK4vgubrQy5nE6mNuR6c8FYAPbRRx9dIA4HnnSzthycsnSFKEjWl8fJiL34l+eibxxfaxWucX7BD1/XQxEfeWbua+zxuKML2eLKx3hF3MlyvWnELvFjZ+QD++WBVrw3zebtYI+4RY3efPPNyWSPKlPnwD/irl7VbcR+EVhPDqAjaSmvz2BJixh+wMZe/+c8AhSJNogeCBAjz4b/4i/+In2Mz5pwuBaPstOPPfbY9JEehVgeB7jAFqjjjU9d4gv7kL3k8pcEqMujzTr80SWXXJI+IeMxkMdBxtrwq+5hS/iEH/msK95VWWNcs4VNkd9yQG6jas6NoV+W2Z0HfLQWN6+kxVetqls5blwuyHG1Kx/kRRkfrJkEQFMUuMTLfteSlVEoDKJw3+R0XJVHH/pxpHm6+fie4uJ0gEJPpz9v6DlVWnvZZZcldb3EKTsef3sQHmlRy3/wwgMvwaenQAs8vVuynbuNHW5QsWD37t2FN0O8qXrPPffE8MotW/iTfZ5N92XPyorWZEB/OaEQxUUOyRlxY2NNNlNYlnWo6QGPqywVbzGW0/BC3JEcMB5ryjkSP48wKkBTHKBIWi1lKe1ZjtY15Yci+gAgjgyZ9EJ0UUz0irlyax7Za50T9n//93+Xl6T+Mccck94sTBcd/0O+BED6EXBtF6L4Bx83BG2QbyH+wR/8QeHz2/FZ7phbpWUDW5AYAGrxWYXnkHsfffTR9Nl2+e2mSTZb5Ic8Yp+xTNvPA2IvBwA10o+6kjd+Y0XOjAbQCk7iasvKUnSscEXxA1l6cRDdFJWxOnoBKK8EOLi83n6F6avZAoA3+52qAKix8vpV+4LNl3THizw26bcl/uGPWfu9CfrpT386vVvdhy2SmA/ZwWddy5hlU9sxfqKnG4o8oLdDh/jrt+Wb962XByJHy684Z1mgptSq/JDn+vHcenCAprQCC7CgTCg1S/khx+jmebHi4lTgVregFCW7LrzwwsNU9iwKL6CJnz6bvYSPRyLAGpHdJWALPpn8zCZ+J4O+hym6YIBvPN5hw7xlZPlrNH/+53+egHreurbjbOAzcoAfP7Xl1fU+/uFTOYDwF2ePwujtOtP28oCcYLGPp2rrkNyWLz5BBiMGBWjgAIQkskKnAGXqKN73Gjp5s+uFF14o3MnoV1cmwFOUeNjjF+GAojfSXD/++OOaw0gwrCPPCUtBA1FACIDw5bMI9GEMGgyQxSb+RnjSGcjpL2NlnX3L1pHj90G09vBJHf7L+MY8vvyE+IYNZMT80C3bxElea8VPXtOPv4fWJ8ubjgfkBm3krLYp2TcIQFNUISkoSkpeoEQB12MS3eil9cdiveNaVx8A5HGGNvYA3L/+679O3/N/xzveEcO1WgVtP/84KTpd20i/AAB6IuNtid/JiRh4M0N8ynaUece4feXxeX12xFq6AlDtvPVtxskAhADRN0CBY9cy5ulFjpiQKS6uxYw+bmJh+7z9eXx7eEDey9NVrO0doBW3JKasxHVSBA6rKN3FXkWlwOinqEInOtbhby+KtfYrUIVaDQpZsa5uSw986IYn3sCIvnxJtn5dfvPWkYHI0OKJyjqTRY95PGaN42U87KDzowfeNCvzNb8q0Yvu+NAz5LjumugOmOWzlm1uckj8u5aX+a2vB+QKkiOrWNErQEtiRUNBhQRk9McmAIQUNr3oo7C1y4jTFaj91ipMduFVDUb52ZN91q9CZNEX+JGHFz3orl1FBt0RGfgHT5/M8MYmWU0JLzoF3+BprCmvRevx5w9/SUS+ybuuZOCDn1dKEXeyHDQiFot0y3Pb2wNycxUP9AbQAENiU9AJQzKvomgXe6PY6FTVx3NfMoCTdh4BAHzMs0ux4ue6SsaRcY8RtF1Q8ASAiM6IzxG/a0PPpjLxD774+GigFjXlhQ9gpou+VwH0c92U17L1fOBmSYY4oTZy7KEjQEbsli94I3Ys0yXPb28PyHkekIvattQLQCsMRCkApnD0xyLOUmRAUqEt0gc4zdNT4eJlHjgv4mNNM1ptNb3ZBjy0uLEZ0CB9Y03InmuvvTZ9bputZIhr+KAuL68k7OE/fOQE3vSqy6PJOj5wmqYvOeQu2m/eOvrESVk/dAXKfIrfIj55LnsgPODAJ1/kUIy1aTsHaAUs2SknsVdVsI1RsUfh0YezFO0iXaz1Q/+xd1bLJl9tnjU3b0xhm/PtQu1QxF6ytYjuQIc/xIe9y3Sxzl7r7Oc/4Ooa4Jqvwyf2ukHai0K30MdYl0TXkEFu6EpfFL4IQA497HHz9QiDrWF/l7plXpvvAfXRhZWdAnQkOcV8CkFh6o9BilBR+iSEolumA4fGn8patPa3fuu30jRbFTkZZKXBBf/UWbNge+spMUABWEAHM3qzAbG9qp+xeX7DKyh44VflYS6IDnGSLo+R4Qa6bH/sadLShx34f/7zny/89WuPLJDYmSc/ANmBwjXbmsjJa7MHyh6QV8gfXS6Pt+l3BtAKXZEpRImubaPQnD21hzlG8dGlbrHZg+oUppf8QA7YkMNuBR/kGplDeB533HEFoKhtRM8LnQr5hh1uYACMzvFRO7+p4aNr1i1SRYyRdexkI+LLWfusNV6eN0YP43QozxlbRtYH8TceqHwyZt+RRx5ZvOc97ym84elr+E7IgJkf6L5MTp7PHmjqgfg2YNN95fWdADQwRFFs2rKQIfuK04N5hddUbl29AZLidiMKAjJk4oHIBgz0AQau/d1B14CEv4yNTcCJ3uxB9PHJjfvvvz/9kQCAa2wZsZlf3Lj02cfO6j7yPHIAquU5ez039gWdWfusp0vwtcYNxY3RniuvvLLgbzwj/uzhe23Exw9Y+XYfPvjha0+m7IGuPCC/8ZLr2lVoZYCW5ECHEoqgC6Xwakr0UKxD6gCIgtgNZIBdUADDr/zKryRzfMNQBygAGPoiQBOAYX5MYsc3vvGN4t57701/bBfoiS8dtXRfpB9/mA9fiIs97DOOyNCa0wYZFz9fGOIXv+hFrj7S5zf8yHH6t97jNKAb/g7Z+AXvamuNmwkdyrpV1+Xr7IGmHlAz8hOlvSv8sxJAS25FQ77iWFQQ1vRF9PAmnNNsG6fEHc/Jq2sd6eMbhX7j4wd/8AfTNwyBCl21wJxc+vNl+aU54GBb1zot4kcm8KI3oh89nW7tA5DAEljX0U1O4KP1Q1L+NqMTunbv3r2FVxX4sRvxAYD2Zqy/2OKv29BBfjkNh9/oGIQ/3ZqSfXho2VXHnqYy8vrt5wEA7ebfheUrAbTnlJRQQApQf2hSVMACiLSV7URmb1dOxatMfOP0/Hd/93fl4cI4gOC/MgC5ngfabAUmgDSI/kEERF9bvtbnL+NlKo8BRTqV5/X5JvTyHP7kk08udu3aVbz2ta8tzjzzzMLvQb/vfe9LP5JER0CLgC4Cwn5Iyt9ptO+mm24q8H3++efTx/jED/gGCPuxmP/6r/8qnn322bSOfPr3QeLANoXFt/zRh5zMc3t4QP6o3y6sbQ3QipAikdxdKNOUhwIHAl7iNt1bXo+PaycpbR/ET+Tw2SL+dACQqAzaAEzQkTXAxKkbiQUCLtF6LgvAXevHnJsqsDSOzMWYcZ9k0c4je5yAnX6B+RFHHFE8+OCDhT+QSRfjDz30UPHqV7+6oCvgQ/RnT4Cw38r2uyfIjYtNs/xij3Fyl/nOulWInvyOB3/1LY+cTJvlATXOonn5bK4JtQJoyav4gU4UUBOhXa1VtIpqVWeEU7vSaxYfz0uNA1ZtE2IfXwOPoAA8/g8yFgQI+ca1vhZZ65SqRea0xsh48sknC/1FZA+y5uGHHy7+/d//vfjP//zPwqkXvfvd7y58aoJf6R464+86bI9xvyMN3OWVG67cijVadvCfeFuDr/E+iH70pBs5fcvrw4bMczwPxE1dDnWhRWOApoCkJVxha8cgRfzII4+kN7K6kK8wu+Azj4eX6GQo+nlrxhwX11Xlsw8BNzcDhKdYAV4AO0uOPUD4R37kRwrPuoG1E7z14S88vVLCqzyOfx9EJzIRnSPn+5CVeW6OB+Sr3EFdWNUYoBUHwU5Q2rFIwQQAjKVDE7kRMAAjiE32DrEWKDqldi0LwAFfsdJ6BSGH+AHwhTz+8TvSrt34rTUWQG29a3nn0YlHM+X99vVBZDoNad1khpBZsiN318wD8lu+dKV2I4BWWMBF0UnYrpRoygc4O5F26Qh2oaa6NFnPb9ZPscihcJQgAAAQAElEQVTpFPrRsWuSLwjwAmt9/pZTwJf8iKdxulgLkK0V8wBrAI2Hvcat71rfMj/y6ePGQRagpnN5Te5nD8gNeSxfuvJGbYAmWFJKVMXRlQJt+NDDS+E2e8fcA1jId1rVToX4U1yH1AcYkymX9CU3wPWGpT+Z5Zo+kj2AWmsMQFp3/vnnF3S3L9ab75NCZzLooS70M2UPyMXI1668URugJWPXwtsYoRjtU9TaLohd+Himre2L6EyWoh4KUOrY4mVZgF+d9V2v4ZMAPqfU//iP/yh8ZM/npvkq5MUap2qPY8ybe+aZZ9LvbJTXGu+LyvrynZwcSnZfNmW+q3sAQMvR1Tl9l0MtgJaAtjjtSE79sUghdA0mYdMQoAmk+Y4d2inQlHThj927dxfXX399sX///vRZcYkvByM+4qUQvGkoJ32p5emnny5+/ud/Pn0eG48hiB5yETnRD/G4ZQi7sozmHlBD8lNeNt89f8dSgCZUgRAc4DKfXb8zCoAEumi7orBriEcP8ZiDX7vSfxU+Yhv2r8Kn673Azx/dBcziDYjJ4Dd5QG9r6O7U7VTtx5D84d+jjz668DVxRWNP30QPOogtfenXt8zMf1oeEHd5Khe61GwpQHtjhtAokC6FN+Xl5SQnNN23bD37kIIGAMvWrzJPf7IAzCp8lu6tuYBPnQBrLh90GT8BvfCVaxT6GhcvLcWcvAH1iSeeWABqj+XkL8C0zpo+yc0i6oTs0KtPmZn3+B6IOEdedqnRQoCW2IT1IRjfJuR5o2eNCrbJvrprw8Zwdt19bdYpZICB2uzvco+bEtDrkmeXvObd0IwjuvMnO4J8O/GP/uiP0rcZX/e616Wvn/tYnlOONV3qV+VFH7kEqMXXDWKInKrqka+H8YAYy6vIxa6lzgVoggE0wahrwU35+e0GzxoVY9O9ddazUXGxme119rRdEzeZsQuXnT6u2NaOofZFzOk7S6a4iZ91yLV1v/Ebv5G+hg6w3/nOd6ZPfDjZAk1xtqYvogOg9pyc3opYS160+pnW2wPyKGLdhyVzATrAQ5L1IbgJTwnt5ONU0mTf/LWzZxS5mbBdvw8iR1D7lrNMdz6Nm8WytWPPA17FIBcW6cKv1vLxRRddVPj9Z+8tfOELXyh+//d/P/2aoJsSXoAacPLDIp6rzNFHDSE/KOX5OJnL7FhFZt47jAfUL/JYrS+JMwFa8khgSSXB+hJely9dFF3fuoS95PFBXf3arGMPGX2CwzK9PH8GZMvWTWFe7MVHbOrqY8+ll15a+H2RN77xjenX9zwqc1O6+eabC99cVGBxqtavy7vuOjyDv59Rfe6559Jf1/Exwro88rrpeUDdutH2Cc6sngnQikByKwiLxiQgJsl97nUIPeKUzvlk9yUTSODtdKcdg9gnzmPIbiOTrvJAbJru94P+Hnm88MILxfd+7/cWfp/77LPPLnxSxN+O4wt8narlv+tihf/kLF54KuYyK39yy59DMmddeS7318MDbrrwUU72qfFhAP3oo4+mZ3VTOVlJYE4YSh8nW7IU1a233tqb78lgF/tWBYO2SpLfdu9Y+8SH3uLTVAcF5QZ84403pj+PhZdPfnhGDTTf+ta3Fn63G0A3fVNRDMUS6Pr9a62xso5kO3G5WdAFmVfs9upnmr4HfIRT/Ub8+tT4MICWKApgCOHLDJPgioUzlq3tcl4h+UOv/s4dHbrkXeYVdvF5eXyIPoAT5yFkdS1DbooLG5ryZjOQ9HgnQBRQA8077rijuOGGGwpg/dKXvjQdVICnk3A1RuTLzVNPPbUwj/CrrsPbZ6T9NKt4kx866xuTb8bsx1c/0zQ9IEa+FBUx61vLQwBackg6SdO34Dr8owDH0Oeaa65JKgoIv6SLjv9hlyJV1H3JmKeyRytkz5uf+jjgY0NbvwFN9jspl23FF1j/y7/8S+E5tUcRZMgDfz0GYMef6VIrniubL/PQF1syEJ7G5hE9rHfjkfP4zlubx5d4oMfpqNOhwJkphwA0BQxKFO3Y5JQjedHQupQLJvzStQ7sUrwKXGF2zX8RP7LZuGjNlOfoL0+rANtEZ4WGnH5n+f+0004r4vEHvk899VR6g89X0F3PIj51QsdXbGetmTfGJnu0QLqvvJsnP4/P94AadZMWV/GZv7LbmUMAWlJI+m5FtOPGIRJUwrfjsPousgWDX+iyOsfDOfB3yGDz4Sv6GenLnn60nc2V33zOWOHMXrF8FCACVKdxcb7nnnvSF1uclAE33svei/DROYXrMYaWXsslz15hr7xDVojTrJuHuUzDeUAurBrbNtpuAXSAA8Bow6jrPZGU8WmHrvnX4adYIiiKN3xUZ2/dNWQoRrwVY919q64DTKvymMJ+/kPi01YfuRY8du7cmQDa2CJ+Ttd8+KpXvarwx23f+973pj+eu2zfIp7lOfrICzLkBvu05TXN+3lHUw/wuZs1XBSPpvtXXb8F0MBBMqzKsKv9HIPX2DqRLzD0cRfV0qtLwl9BikEf/Ku6kjHmja+qz6rXigePuuDIfoDndOwTFwrQNR7zSHzIQU7Kd911V+H58hNPPJG+/OJZ9d13313g9cM//MPFb//2b89j1WicXPmB2CdHGjHIi1fygBzBQNy1Q9MWQEvQKRVtPH8e2iGz5AkOMueZpwLX74qiCPEdogAVuhtPV/pPgQ8A85iCD2fpY1yOA1A3Wv1lvn71q1+d/uYlIPYYRA6gKn+yAbY1+o888kjxx3/8x8UrXvGK9POnZFf3NL2OHNHSHU/UlE9eX98DcsVq8deOQQmgI9CSawwl1kGmwkR8BaSBXJd6410uvi55V3kp8OrYul/zHR8CR7aIEzudgJySA5QXxM22Qg3gA2zf9KY3Ffj6aniaXPKPtR6J2YuHxyB+Ve8tb3lLevyxZ8+eJRyWT7ux4s0OtrJz+a68oqkH5A7/jgnOdE4A7SQhuZDBKdCUdAl/KAykKNxd+U0/5ldtveHFbjeALvlW9VLk5FTHN+F67969hUcMAchitMgufhBThejRBYB1bdyYOOChXcSnPGcvHnjh8Qu/8AuFxx+XX355ccIJJ6THIOX1bfpuJG4cgJp+bXjkPbM9wKdewbvRzl4x3GgCaMmnaIcTW08SvVC91cOsisJThE5nSEC7kI6nwmNzX0WHdxe6ToEHW/hJDOKU7MTq5DNLP/5FYgg4AbIidD0v/83Z40RF1iy+88bswxdQk4XXEUcckT6q933f933F29/+9uJjH/tYwY55PBaN4y9fyOCDtnwWydhuc2rZX8eRH1OwPQE0pQR7CgqFDvE8nG4xNpVWUTjtKgz6OU0j/VV1VMRiAQz6Kji/Z9FUz6ms5xO+4W+nZMDkepZ+/MifSMEBY+Ra7GbtmTUm3nzmGfc8WbP2VcfIlTd0caq+/fbbC99W/bmf+7mVgdpNQP65kfBRVXa+Xu4BsZ0SONM4AbSABiAanAIpCnooCu3USPErNKSvOIAG0l9FX0VsP/DRbmeSm/z5/ve//5CvVBsr+0W+AEAEhFF5rAkgl/lG334gKB/FmF4x16SVK8GLjvR96KGHElDHs+q2IMteJG+ATVsdm9izKWvFVGzV81RskgcviSB6njUVxUIPyaYQQ8cYn1Kr2BSawCo++gq2013bIsEnbBekLu2l3xRjHTaKNZsRHyL+9KkIc/wC1BCfe3SAgKcxxH9B+ATvVVs8ydTSiy9X4YkPfemvdar2rJrOTtVnnnlmehzSRAaeoWMG6uWek1Pyyyskflu+o/8VoZNDczpBEymw2ikRp9FHolFaf5J0QKkyUAORA0MFvRWytqn+ChbPtiBP/iyix5RiTR+ApEjiObJrdtOfHxTOvffeWwCyMhDzjzXzKObJmLemzTgdEJ3p2gV/duLpZi9/nn/++fQFmHe9612Fbyp6g7HJDYHt/Ma+Nvln36aTHPOG/NVXX50+vTO2vfJIrOgldmK4BdBjKzdLPgUlq8RUCLPWTG2MzgrNYwpF55rDAbW/qNHEDkFin6AJnv66U8QSuPEJ4hNv7Llx8BmQCnLNh+aa2m6P/OH/pnuXrcdXnPHuMj50xvfOO+8s/Kj/K1/5ysKP/PuIHp8hf3RgmX4xT08AxMdoU/Io7GvT8gE/xic15FcbPl3uERvkUCrng/ekAZqSklWrsDlWfx1IoXE0kAU2ksAnDBR0gFIde/AAXuzvwu6TTjqpCza1edBb4ikIJ2Sta+MetbAvfMRPrvmutoAlC/HyUpHflyxtPA383IjFR0y7lEHv4K8GXFOQ3y688ML0cb2PfvSjhpaS3MPDQidGetbJPes3jdjuhuqmFT4Z00a1oCbEmj5iVdbnJQJeHui+vzpHBSyhJJd2dY7DclBcbABAAkG6wLBHuygG1qMPfvCDrT+ORR6SnP6SiH4fJDZsYZOkKwMyEJN8AJgfPK7gE9fG+9AneOJPNxRjXbViC6TFSOGzvUs5+ONNhgJ2TffHH3+8uOqqq9K3FcmtI5Ov+Z6OdfeQtQkk99nNFnknJ/THILGiixoRT/poZ+nyknkTsxaPNcaZkjQMG0uPVeXytSKJYsNPoBTLohOYPa9//evTM217ViGn1lX2V/eWAZkNko5NADnsBQpIIrLFeJVP39fyh65yqGtZ7AGebAMEbrxdyyGDDZE7aoIdnlWTyff+eIC+8UUkFl5V0FOsutZ1keyh58ScjfwnPnw4tA4hj5/pot7pox6W6fOSKFibg9EUW86VlBKQkVPUsa5OgiMwCkVhiwH/C5xC00qsMj/rgJ658njTPtlN98R6OtKL/wFx9YTMJnFiV5DrVWSG7FVbOsgf+q/Ka95+toqTeXGUq/pdEjv4WXGTxabg748HyI/jjz8+/SJfjM9q6QrsPYe1p0+/zJLf95hcZRc5bC37yVhd6mJd6EKfiJ22Du90ghZ0xV9nw1hr6CghyZf4m5JQAqXYAJpEEkz2AcBykbNfQZlD/NCUFGOTPXRBAcj0oZdr+UJ3Oof+4uOark3kDLWWXnRu6786egICcSJLQfIXH9bZ23QNW8L35MZ+v7AnRuJFh3m1Qkf7vTFlXZ+6hm59t2xlu1Y+lv3St+wyfzGnB5/KN3XB13xeXresn94kjBPcssVjzzOOkYyXUNqxdepKPtsEEVBHYrGPnVFoAYoCb66JbOu9rF20xxrJhL/EIhe5Dtl0FIPQ0/VYRbDIlmVzbF22pu28WPIP3wAKjxK0bfkt20dexARox3o2imfEUhxjrtzaQ198It72ltdMvU9fttKTPUh/aOJj/tbSQVzkAd+20SUBtM1NT1dthHWxBxgAMAGR+Nou+E6Fh1hEYBWN4LJR8gn8F7/4xeLZZ58tTj/99EYqA1i8Y1PwlEj4elyhON0QjFlPNl97Q48u+sbEIPisY0t/NvatO18hcviYTH533QeJrxiJlRwqyyCX/IjxrBuGvQBFrllrT5nHYf0JDNBRzrKHzWLLD0OpUMYJNAAAEABJREFURj5/0YHPHIL4kC+70CMBtJc4hAxl1KpyBELicw7HrMpvqvsFmJ0KTsAl32OPPVY888wzhZexfnBHUkjORTbwk+eTPubHX8AiCtV+YBw+lVwByGQbX8R7Hef4lT+HyHk+JItMvuZ/8ejTb2SRKW/8TcWyLLLZHTlAp/K8HLMPDwcgH+Wzp7xmCn06sQOxdcg8VW/k8qE+f9BBrPnPdVeUABpTAQlhXTHvk4+A0JvOHNWnrLF5iw17gafikQweSz399NPpzSD2A9wLLrgg/eiOolJ4wMA4+vCHP1wAaP7CTzLhF2CMpzE+HdveoeSzVaH1LY8cz6XFkP8Bn7ZvueJ8/fXXF3IGUPsDBGWZQE6eyA+5UtZJLsiJBx54IH16aAg/lXWb16cjXcqHinlruxjnI0QmXyHXYqp+xBR1IWsWjwTQJgj0YyH660CSTwJpBQ1IrYPeq+rIXgnx6U9/unjDG95QHHnkkcWJJ56YPiPtj5v6dTSfjwXITs3+FNPu3buL97znPalQFSu/KUAxX1WfvH+eBw4dF7fwuxn5GsXuuk8iG1D/4z/+Y3HdddcVbu5leQAHANEJWNNLTckPeeJLHcbMW1feO1SfjnTQyn+69SmbneTxg5sBeXyByOfTPuUH7y2AJphSHBCTU285yclEy5GSa+o6t9GPbUGKxPPiT33qUwmgfQ0YSCv+O++8M/19PAl03HHHFQDaqdnvOOzatSv9ULykW7c4t/FZnT3yhq/4o876LtaoM7EiWyycXIeqOTIvu+yy4l//9V8LueK6ahNd6CXP1BPfAHR15vlqzGmre/u4Dn3owXfi1Ycc/IPYFoBMnv4sX/WhR5XnFkBTgCKUrC6a8jW9JY9WMCWVdso6z9ItAJjuYqBwtcaNKRKkuD2W0O7bty/9zTxAzP4dO3akH30x56SMvAzz8ja+4i358OanIGNkkTNLt00fU4TsH8pOdRY5K77ioB1KPjlyRX5ccsklLtMrsdQp/SMf5MbOnTvTozQAHXobp7e2tKWzLn+IiRYwo86YH2DENnVABlI/8gCR5frAstH/3wJomsRLGcq7XhfiTInDuXT3jK+vxFnFJ3STDIh+0eqbC97sALJaxaxlY1Cs05qzRrK5LpP15uIxB7BWlAh/c0CfHvYruDg50emee+5Jj07KPDvqT4oN3/OFdijFxEYcxI9MfhcH/SHJ4y96nHLKKUmsG7m/pZguDv7jjWm60VFtGb7iiivSjzjJE3/Gy1gXBJDJEQu+QV3wxY8NiAyPLdQA/kj8u5DTNY9DAJqSlPUrWl0L6pufhHfnQ4IhcQS6b7lV/mRLAIlABwT86GKMnoie/K1F/O7aXJXnomvrJRq5ZMxaaw4Qm7MekWdfGbT13aTN+dilX1CjewC3PhsQnvhtAvEHOxStdkgSA/GnA//Kl6F9S3bo8bWvfa3wOx9O1qHXy1/+8i2X0E38PTLzJrUJ643rtyF78ZRn8k4eysE2vOzBD+GJ1CPCE6kzZO3U6RCApqygeMksUVyvE0k0+jsR6AuKoK9qi2CjCDZ++lpFBRi1yLi15EsG+kh+SacvMRC/WqNdlfDBm73kV/mFPtXx8jUe9EJ40fcjH/lIeqbt2stb672RzE5+9Sxcnx/IRWRZt27EfjqPoT//IjrwJZ8OrQfZdFA7/ODmTAevTL/61a9u5YGcthZZ570O++LaWF3CP+y1h2y89JuS3EP4adWCXKZvtE15TmH9YQDN0YLCUDQFJefpIMAxpy8oWmN/8id/UjgFuGaH3yeQ+IKHjKHom5tFAb7W4osfsOInrYQCZkAYuY6ksMaeptRmfcik55e+9KVDWND5kIGaF/RHeLOLfWz1DFwx6WOFP7n8B7iDwnd8TCdkrT1TJIU8lo58zL/8TQePEsbwFfnqnz7idvHFF6e/6uI6ckDskTx4+OGH0/sgTeLJPrmBP77ySFuHB58gexE+8o7e4kdHhJ+xOjynvOYwgKYswziNAxSesb6IswVMSx5na43pIzrEtTlrjekHmTeuNfbggw8WJ598cvpY0TnnnJO+2GH8qquuKr7yla+kN9MArKBqBRUpkjLxAzIm6MieIL7qyzdN+NKDjvbwmbZPIo8PyEQKFvEVPyJrxESsFBIK8Na6RvRF1omRGKJyHx/Up014iy/Z+kMTfwJHLVv5SDu0HuImpuj+++9Pn4MWp1V0sVd82RSPMSJH5tlnD5IHiA5io09HsZJv9OQzY/N4rev4TIBmDIMlCwdxKucab0r2I04tk4J0zeHxfJRMzub46LsWyLg2JxDGkOsqlcd9rOiWW25JnwE2/tRTTxVevjmhSBS88NaipvZNaT39I2b8Sze+N67fN5HDlxEPsVNAgDvImDhYYz2iIxIPeaYQERu0SA4uImuQPUF4yTEkz8iIli9ca6tEN+uq40Nc8wef8SN5bB5LF37weXu60KGpLvwrBuKidRCSB+LPtiDrkDgFiSGZrvkE8Qud7KdT7N/kdi5AM5pToqBcCxBnc1oQx4YjY4xzrdOaQxyKOBjhq0XkBJGzkFpO4i+wkSD0ljRsoqfrlqwntY2dfCsW7KOcMe2YRAck3kgs6IkUXpD4eOkc5LpM1pcJH+TnChAQIEfLXs/MAb+WPz70oQ8VvtAj5mIfeapvLMjnx+NPlPGlHEbyBOHdJ/EHP5FBRzroD01qli58zK904cdZPjDGR3Tlx7179xY+FSJe4mHeXmQeL61re9hGHrKH/eS6Rua3Gy0E6HBGOMrpjOMEypzEFxCOd22cI60RVK29yByybkyig6ADAPo5vUsOBSph9MfUrwvZ/M1Gie8TOWzugu8YPOheJvlVJrZWie3GtJGHYo1cX3rppelNr8gB6+Q2ENEH9EcddVRx1AHyuyfyHMADd6+8kHwpk9wBNkHyCKkPFDXSxIf0pY89+Iqn/hBE3zKJwfnnn18cc8wx6TPRb3/729PfTJRfbmQ+aqd973vfWwBmOvLd7bffnp5hu8Yj4sI2sdAidpqzBlmfqShqAXQ4iuOQAuFMjtUGGTcf66fe0luSOKFJEB+zUggKT3FNXf9F+rEH+SwzgFm0djvPydcg+aAvj/kO+Qy5Vq5HrsgXBNSNIx9PtDd8yedAXT4hOeVTL0g/yFwZ3IGw3IvWTcN7KAGM1gP8WWSfcW2Q9foxji+K65gHxtYFqQVr2KPlk7POOqvwuPBVr3pV4eN4N910U/plRfp9/etfL+67777CJz60fBLErwiPso/w3mbU2NxGAN2Y+5pskDSKMApOIklcReSHhyTvmphyiJpseuMb31h8/vOfT6eeQybzxVIPyAuLANSsHDAvV4L4O0BJWwZ0p3UUwB5rAbATu5YsRBYC8lo3CXE0B0B9df/GG28s3ADMI68E6aG1Th+RozUOJF0jY67pqWWLNijmjesDbPp861vfKv7pn/4pvckef26LvEz9eCADdMmvklGCSlqFJDE/85nPFPGSVnGUlq9FV+GfffbZCaCdnNZC6QkpKR+oA6AAof4qJMcQvvJLGyTvgCfSR+ZcA3utvb6nALBj3hrjQdXrGK+jt5uRPEfRtw/Ak09n/Mh2bc5hJucWT3RPGaDn+DSS0Es6J2sJKhGdqiWj5J2zdVLD7ADSCoreXk5PSsE1UAbgef4MpMdUFyAiMRVLtKo+gBjJZy1+QJjN0ZKHzJWJLtYZo4v60G9Led/hHsgAfbhPDhmRmMgJxqlaQkpkyQis9bs4WR0itOML+tOb/kCG3gqyYzEbzU78xXzsWIujm62YAkXURCdr2SH++vgAYoS31ljdYNLF73JYrxbkln6mbjyQAbqBHyWuU4MTNZLMkl1SOplK0AbsBlmqCD2rJIz+oTd9FbfxTPU8wHdiXW91f6vknTwUTzGUd+JclWgMyVFrgLIbNFDFw/5oq3ubXF977bVb3yYMeU3257XzPZABer5v5s5IbCTRnUq1FisEBQz8FIRkNT4mORWV5YfedFbc9FW45TW5P9sDfAcYxXfw2FZUElcxpJM4Ip/YkXf6WmBsm3XWA2NkrGsK/vjKJ2+u62dazQMZoFfzX6FAJKeXwMBaH8sAawCoYCSt8TFoFpjQk74KFuDQdwzd1k0mgBZz/prl16HsIRv99E//dPq8NkD2RxzEk47iq0/XIXQix42ALHr5SQU6uc7U3gMZoNv77rCdklRxBFjre3MRQANBYK2wkeSVyIcxGXAg9FVYbiD0o9eAKqylKP6i+JC+IkseBYkXHT7+8Y8Xn/vc59JBwRpkfAyST24KIZuuY+d46LKubQboniInWQF0gLWilrwSVhEBaYCIgLdrCW1O8VnXhWr08FJ3Hj/zTluer2rpQZ9567vQqXsew3MUT58LFq8upfO7+OMbsZAXZIiPnEL6yLi8oo9YWouMj0GhB9lsYYd+pnYeyADdzm+NdikcxSR5A7C1rhUXZopSYUVRAu741hnAROaskfTWKwB76xCQXrSOjgrfYw/ryPccsYkM+7YL8ZdvD0Y8mtjNp0gMxVJcxZfP8QP8+IuHPNHKH2Pz5Mgj+WQNHvjOW9vnOPl0DRlj6hI6rHObAXqE6EliBSWRFZUiBIzxTTPXyJx11lNTUSveckEHiCtuRa4gghSpPe985zvTt87wWEZkhewHHnggfUkHv2X7tuO82ABP8eDnsg9cIzHgP2tQOUZiaY8487kc0McTb7EwX5fssd8+ssiuu7fLdfSnQ/CkCx/EdW7reyADdH1fDbJSYis0FACu6BRwECBHChqZR74yTEnAoPXxultvvbX4whe+kH7BDTgoFqRgFLBTnPXR2ofIVmj4WucGoDW33Yh/gviJH4KM+yo2/5xxxhnpt5P1w7985YtC4Usx5FNkjJ+t6YrkDd7ySJzp2RXvJnzoUF4fN6PyWO4v90AG6OU+muwKRYgUJVLsil5xaIGBX2677bbb0h/4vOaaawogDjAYpWiAuK+yK2bAggLIgYx5n3P1S2bWAKGPfexjtq8VAVIKAyx9FGDLLuOIza7DB/rGkfX24YP4ni992/Tcc89Nf8uP3+OmqS8mYmOtPUMQeXLg2GOPTTcMug8htyyDDuyPMX6Kfm7reyADdH1fre1K4KBg/P04LdBQPIoYARTkVO7NQiCOwmA/GekHclzv37+/uPLKK4tXvOIVhT8jVgYy4AYMAFm0+kCtSsWB/6pjrq2fR3gGhay4BqTG7DXmWuu6PM4Xxg6IL8jjD77QIn0+cXPTImOI38pkPcJz3759WCZAxDddjPgPvS666KKkAV/wQboY8B8+40ekP6DojRG17QF6YyK5xBAnGIC1ZFn6uBYQUuDAKUiRAXBAfueddxannHJK8X//93/p1Pj4448ntnEi97sVTt6AAYA7lTula4PKz86NmUf2lAmfoDLwAUU6IvoCABTX9Dbu2rg+cq21P1r9oGRIy3/4xpuxwLCsa0t2K29jN8KITkh/SFVUnhcAAAfRSURBVOJvNKTMTZKVAXqTornAFgAEQBcsqTWFz44dO4o77rijuPfee4vTTjst/TawcSBeJoAF1JE+0kf6SB/pzyJAGwRsgGoQmYji0eqPSV6BOKG7yUwFpPmLTwB0nZu0tZmm4YEM0NOIQ+9aKFKnuy4FAUWgCUCBv5MwYJonw/qY00dxvSktm/iDrwHiFOyiD73oIj5uIPqZpu+BxQA9ff2zhg084FuNXZ+gFL6XsEAAOTUC6q7lNDBz9KX84cYFCKcC0l6diBXnAGlx0s80bQ9kgJ52fDrVzht/TrqdMj3ITPEDJiDttA4EADWA2o5gwAeI/eigm0Zt3DTESTzopB1VoSx8qQcyQC910eYsAKBOdX0WJgAABE5sAVDe/NuOgMAPiO1o7EwSD0QPr3CQ/obSRpiVAXojwljPCOAJpOutXm0VWcAJUGuBAaB2sl6N83rtZjsC0HwwtvZ0ERt60KnPmzUZmVbzQAbo1fy3drsV55BAQZ5Tm083AAeAsN0efbCbD9ychvT9vOSkT8zRKfq5nZ4HMkBPLya9agQoxgCJAGrPqBEdALXPSev3avQEmLPZqxeAOLa9cgBxS9+PvMjI1N4DGaDb+24tdwJKQKEwxzAg5Hv0AbToALSAtZfcrjeVfEac/ewdy//hW28YR58+0c/ttDyQAXpa8RhEGyDR16c5mhjgFAe0gLU+gAbUAGNsAGtiR5O1HvXwv1cOY9roJk0PutPDoyf9TNPyQAboacVjEG0UJoCeSlHSx3NRQK2lFwAD1kAbgAzimBDSY8vWAGk3Irb2KG4ha76OBWM/dgk9cnuoBzJAH+qPbXHltOqbbmhKBgMvupVP1YADkG0SWLMTSPM9u8YCab6mCz3cCMfSg/xMsz2QAXq2XzZ+VHE6RU/VUMDhhOdU7Vm1l+T03ZSTNfuAtHZMkObXyIFNeqUSNq17mwF63SPYUn8A7dTUfPvwO4AIkC6frMtg7YTtpD28ZqtJBM7s0vqM+Bgn2PKbhXy6mkV5d9ceyADdtUfXhB9QQOsGbHR2si6DNWAD0k6iWidBY+sQCjcf9tCV7kPrTT6fki8XhpZPbqb5HsgAPd83Gz8DGPzW8roaCljYEGDtNMoWQAesEdAB2ManSl7NIO8JjHGSJjt8M3VfhZ7bpc0A3W2k14qbwgQKm3BqAtZOg0Dac2sEvL1sj+fWgNtjnSnaS1fxoBs9tUMlE7n8R94637Dpv2mUAXrTItrQHsUJtBpum/xygMO2AOx4Qw7wOVkDbXZP6cQIpBGd6EbXIRzNVyGH7KHkhszczvdABuj5vtkWM0DMY4BNLkoAhIBfALZWgJ0YnVjRFPxAR0SXIUGaTP5At956qybTBDwwKEBPwN6sQsUDgMujAYBQmdrYSzYjoASoUXyaASgi/hjrpkWviAk9hgiEG3XIee6556Kb25E9kAF65ABMQfzVV19dAKWxAGkKPgCIQApYa117Pu9kjYb2jTc+3UTEBQ3hIzYPISfLqO+BDND1fbWxKxWmUxsg2lgjGxgGGBG/AGy+8WzWaRZY6jdg13ppPDcnk+zWjGpudEOy1A1Km6nsgXH6GaDH8fvkpCpKBQoMJqfcyAoBa/5BwNppGmACaq3rPlQkN0DazZO8PuTgiT873JTINZZpfA9kgB4/BpPQQFECoD4BZxKGdqAEPyFghvgMeCJ9QNeBmMRCXJzitT550iVvAujrUy1aMsgynmkaHsgAPY04TEILp0N/+dtpahIKrYESQI3fADXfuY5XIl6NAD60CrDi7YbAHV18kYUudHvZy15WiLVr/H12nP7kNKS8vCcPZIDuybHrytYJKgBmXW0YS2/gBkwR0EbG6AMQEUB0EgbarrXI6RsBS60xfaSPzznnnFO4vvDCC4vPfvazqW+tsSqRicrj5JHtxKyP53XXXVcAZnG3PtO0PJABelrxGF0bRQtYgAIaXaE1VwBYO50CQH7Vxic03va2t21ZB0h9Jhvg+vaja/4HpK7Rs88+Wxx11FHF/v37i127dqVP3gDcK6+8snCyBrxBTscorrV4ufnSgw6A+bLLLivEfEuR3JmUBzJATyoc01AGoCCnPYAxDa3WV4tZmgNuxM9BwFsfgAYZCwKqTz75ZALUL3/5ywWA/+Y3v1ns27cvnYL1gW6V7DMW83iTPUuvPDYtD2SAnlY8JqONIkZA2mluMoplRQqA7dTrRFyNjfEqAWNj2XXr54EM0OsXs8E0BtCK28vnKhAMpkQWdJgHxMRJW0xybA5zz0YNZIDeqHB2b4zTGjDoDQi6V3lbcIybJ5D2rHpbGL0NjcwAvQ2D3tTkAIMM0k091+96N0+PLmY96uhXcuY+lAcyQA/l6TWXAwy8tM4gPZ1AAmevbmiU48ILm0cZoCcd02kpB6R9GSO/cTiduMSrm/yoYzox6VKTDNBdenMb8PKRLSe3fGKbTrDdOMUkP+qYTky60iQDdFee3EZ8AILHHfkkPY2gA+d41JHfMJxGTLrSYp0BuisfZD4tPACkAUMG6RbO62GLRx3ikU/RPTh3RJYZoEd0/rqLBtK+zZYfd0wjkvkUPY04dKlFBuguvbkNeTm5edyxZ8+e9OM929AFkzFZLPIpejLhWKxIzdkM0DUdlZfN94CTtB/yyY875vtoqJl8ih7K08PI+X8AAAD//6WoPFIAAAAGSURBVAMAXtb6edM+mtIAAAAASUVORK5CYII=(String), 12(Long), 2(Long), 1(Long)
2025-12-30T11:23:01.784+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.m.E.updateApprovalLine             : <==    Updates: 1
2025-12-30T11:23:01.784+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6758c691]
2025-12-30T11:23:01.784+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6758c691] from current transaction
2025-12-30T11:23:01.785+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-30T11:23:01.786+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 12(Long), 1(Long)
2025-12-30T11:23:01.790+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : <==      Total: 2
2025-12-30T11:23:01.791+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6758c691]
2025-12-30T11:23:01.792+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6758c691]
2025-12-30T11:23:01.794+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6758c691]
2025-12-30T11:23:01.796+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6758c691]
2025-12-30T11:23:01.805+09:00  INFO 42648 --- [http-nio-8080-exec-10] c.i.b.controller.ExpenseController       : 결재 승인 완료 - expenseId: 12
2025-12-30T11:23:01.806+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:23:01.808+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결제 승인 완료, data=null)]
2025-12-30T11:23:01.808+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:23:03.165+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-30T11:23:03.167+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/12
2025-12-30T11:23:03.168+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-30T11:23:03.170+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T11:23:03.172+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/12
2025-12-30T11:23:03.174+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-30T11:23:03.181+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/companies
2025-12-30T11:23:03.181+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/12
2025-12-30T11:23:03.182+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-30T11:23:03.182+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-30T11:23:03.185+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/12", parameters={}
2025-12-30T11:23:03.187+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T11:23:03.189+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-30T11:23:03.187+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-30T11:23:03.189+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:03.190+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:03.192+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56ca556d] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:03.191+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-30T11:23:03.191+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79a6d815] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:03.198+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:03.201+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d35dbf6] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:03.201+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@91222168 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:23:03.203+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-30T11:23:03.203+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1548787968 wrapping com.mysql.cj.jdbc.ConnectionImpl@42f8117d] will not be managed by Spring
2025-12-30T11:23:03.205+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 12(Long), 1(Long)
2025-12-30T11:23:03.205+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T11:23:03.205+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1263044210 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:23:03.207+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-30T11:23:03.205+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-30T11:23:03.208+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 2(Long)
2025-12-30T11:23:03.211+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-30T11:23:03.219+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56ca556d]
2025-12-30T11:23:03.220+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:03.219+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-30T11:23:03.220+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-30T11:23:03.221+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77032508] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:03.221+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79a6d815]
2025-12-30T11:23:03.222+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d35dbf6]
2025-12-30T11:23:03.222+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@86409282 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:23:03.222+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:03.223+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:23:03.223+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-30T11:23:03.224+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6575c465] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:03.224+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-30T11:23:03.224+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 12(Long), 1(Long)
2025-12-30T11:23:03.225+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1450891174 wrapping com.mysql.cj.jdbc.ConnectionImpl@42f8117d] will not be managed by Spring
2025-12-30T11:23:03.226+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:23:03.226+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:23:03.232+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:23:03.236+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-30T11:23:03.237+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:23:03.238+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77032508]
2025-12-30T11:23:03.238+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6575c465]
2025-12-30T11:23:03.239+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:03.239+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:03.239+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fa8ccdb] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:03.240+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43514ce3] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:03.240+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1374524739 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:23:03.241+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-30T11:23:03.241+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@147648000 wrapping com.mysql.cj.jdbc.ConnectionImpl@42f8117d] will not be managed by Spring
2025-12-30T11:23:03.242+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 12(Long), 1(Long)
2025-12-30T11:23:03.242+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:23:03.248+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 2(Long)
2025-12-30T11:23:03.251+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : <==      Total: 2
2025-12-30T11:23:03.252+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fa8ccdb]
2025-12-30T11:23:03.253+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:03.254+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-30T11:23:03.254+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@255061d6] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:03.255+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43514ce3]
2025-12-30T11:23:03.255+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1550303155 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:23:03.255+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:03.256+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-30T11:23:03.257+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e00e7e5] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:03.257+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 12(Long), 1(Long)
2025-12-30T11:23:03.257+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@394235538 wrapping com.mysql.cj.jdbc.ConnectionImpl@42f8117d] will not be managed by Spring
2025-12-30T11:23:03.263+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:23:03.265+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:23:03.274+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-30T11:23:03.277+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@255061d6]
2025-12-30T11:23:03.281+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:03.281+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:23:03.283+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40991c35] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:03.284+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e00e7e5]
2025-12-30T11:23:03.284+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1717672737 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:23:03.285+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:23:03.285+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:23:03.286+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=2, drafterId=2 (truncated)...]
2025-12-30T11:23:03.286+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:23:03.287+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:23:03.292+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-30T11:23:03.298+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:23:03.301+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40991c35]
2025-12-30T11:23:03.302+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T11:23:03.303+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:23:03.304+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-30T11:23:03.305+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=12, drafterId=1, r (truncated)...]
2025-12-30T11:23:03.305+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-30T11:23:03.307+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:23:03.308+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T11:23:03.318+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:03.318+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/12
2025-12-30T11:23:03.319+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13d867f2] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:03.322+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/12
2025-12-30T11:23:03.325+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@189819128 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:23:03.326+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/12
2025-12-30T11:23:03.333+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/12", parameters={}
2025-12-30T11:23:03.328+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T11:23:03.335+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-30T11:23:03.342+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-30T11:23:03.342+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:03.349+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73e4edb7] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:03.350+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@8766458 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:23:03.351+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-30T11:23:03.351+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 12(Long), 1(Long)
2025-12-30T11:23:03.352+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-30T11:23:03.353+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13d867f2]
2025-12-30T11:23:03.355+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:03.356+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4366b270] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:03.356+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@332511769 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:23:03.356+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:23:03.356+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-30T11:23:03.357+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:23:03.357+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73e4edb7]
2025-12-30T11:23:03.358+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:03.358+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61288dd9] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:03.359+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@905268510 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:23:03.360+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:23:03.361+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-30T11:23:03.362+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4366b270]
2025-12-30T11:23:03.362+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 12(Long), 1(Long)
2025-12-30T11:23:03.363+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:03.364+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c6573bd] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:03.365+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1516675443 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:23:03.366+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:23:03.368+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 2(Long)
2025-12-30T11:23:03.369+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-30T11:23:03.369+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61288dd9]
2025-12-30T11:23:03.369+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:03.370+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-30T11:23:03.370+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6336d514] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:03.370+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c6573bd]
2025-12-30T11:23:03.371+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1188416238 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:23:03.371+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:03.371+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-30T11:23:03.372+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fe5a967] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:03.373+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 12(Long), 1(Long)
2025-12-30T11:23:03.373+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@681234365 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:23:03.375+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:23:03.382+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:23:03.388+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : <==      Total: 2
2025-12-30T11:23:03.389+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6336d514]
2025-12-30T11:23:03.391+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:23:03.391+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:03.392+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fe5a967]
2025-12-30T11:23:03.392+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29c47778] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:03.393+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:23:03.396+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@793340135 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:23:03.396+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=2, drafterId=2 (truncated)...]
2025-12-30T11:23:03.396+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-30T11:23:03.399+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:23:03.401+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 12(Long), 1(Long)
2025-12-30T11:23:03.405+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-30T11:23:03.406+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-30T11:23:03.407+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29c47778]
2025-12-30T11:23:03.414+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T11:23:03.414+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:03.415+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-30T11:23:03.415+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ef9896c] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:03.416+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-30T11:23:03.416+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@881612412 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:23:03.417+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T11:23:03.417+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:23:03.417+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:03.417+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:23:03.418+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d569376] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:03.419+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@18098956 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:23:03.420+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T11:23:03.421+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:23:03.422+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-30T11:23:03.422+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ef9896c]
2025-12-30T11:23:03.424+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:23:03.425+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 1
2025-12-30T11:23:03.425+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=12, drafterId=1, r (truncated)...]
2025-12-30T11:23:03.430+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d569376]
2025-12-30T11:23:03.432+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:23:03.433+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:03.435+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66da4ee5] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:03.440+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1070509163 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:23:03.441+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:23:03.442+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:23:03.450+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/12
2025-12-30T11:23:03.452+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:23:03.455+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66da4ee5]
2025-12-30T11:23:03.455+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/12
2025-12-30T11:23:03.456+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:03.457+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68e8859b] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:03.456+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/12
2025-12-30T11:23:03.458+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1559315205 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:23:03.459+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/12", parameters={}
2025-12-30T11:23:03.459+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:23:03.464+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-30T11:23:03.464+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 2(Long)
2025-12-30T11:23:03.465+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:03.466+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b4735d6] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:03.467+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2031088677 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:23:03.468+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-30T11:23:03.468+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-30T11:23:03.469+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68e8859b]
2025-12-30T11:23:03.470+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 12(Long), 1(Long)
2025-12-30T11:23:03.471+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:03.473+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c585317] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:03.473+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@816896346 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:23:03.475+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:23:03.477+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-30T11:23:03.480+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:23:03.482+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b4735d6]
2025-12-30T11:23:03.483+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:03.484+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a7280b] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:03.485+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:23:03.486+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@939283692 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:23:03.486+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c585317]
2025-12-30T11:23:03.487+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-30T11:23:03.487+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:23:03.488+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 12(Long), 1(Long)
2025-12-30T11:23:03.489+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=2, drafterId=2 (truncated)...]
2025-12-30T11:23:03.490+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:23:03.492+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-30T11:23:03.492+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a7280b]
2025-12-30T11:23:03.493+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:03.498+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53c316c3] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:03.500+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1872272320 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:23:03.500+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-30T11:23:03.501+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 12(Long), 1(Long)
2025-12-30T11:23:03.505+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectApprovalLines            : <==      Total: 2
2025-12-30T11:23:03.505+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53c316c3]
2025-12-30T11:23:03.506+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:03.506+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ad5cd33] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:03.507+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1634448292 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:23:03.507+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-30T11:23:03.508+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 12(Long), 1(Long)
2025-12-30T11:23:03.512+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-30T11:23:03.514+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ad5cd33]
2025-12-30T11:23:03.515+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:03.515+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@475203c8] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:03.516+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1131078212 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:23:03.517+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:23:03.517+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:23:03.522+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:23:03.524+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@475203c8]
2025-12-30T11:23:03.525+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:23:03.533+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=12, drafterId=1, r (truncated)...]
2025-12-30T11:23:03.535+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:23:05.190+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/12/cancel-approval
2025-12-30T11:23:05.206+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/expenses/12/cancel-approval
2025-12-30T11:23:05.208+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/12/cancel-approval
2025-12-30T11:23:05.211+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/expenses/12/cancel-approval
2025-12-30T11:23:05.212+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/expenses/12/cancel-approval", parameters={}
2025-12-30T11:23:05.214+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#cancelApproval(Long)
2025-12-30T11:23:05.215+09:00  INFO 42648 --- [http-nio-8080-exec-6] c.i.b.controller.ExpenseController       : 결재 취소 요청 - expenseId: 12, approverId: 2
2025-12-30T11:23:05.224+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:05.225+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5aa7a30e]
2025-12-30T11:23:05.226+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@983816085 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will be managed by Spring
2025-12-30T11:23:05.226+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-30T11:23:05.230+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 12(Long), 1(Long)
2025-12-30T11:23:05.236+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : <==      Total: 2
2025-12-30T11:23:05.239+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5aa7a30e]
2025-12-30T11:23:05.240+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5aa7a30e] from current transaction
2025-12-30T11:23:05.241+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-30T11:23:05.241+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 12(Long), 1(Long)
2025-12-30T11:23:05.249+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-30T11:23:05.251+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5aa7a30e]
2025-12-30T11:23:05.251+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5aa7a30e] from current transaction
2025-12-30T11:23:05.252+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.m.E.cancelApprovalLine             : ==>  Preparing: UPDATE approval_line_tb SET status = 'WAIT', signature_data = NULL, approval_date = NULL WHERE expense_report_id = ? AND approver_id = ? AND company_id = ?
2025-12-30T11:23:05.253+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.m.E.cancelApprovalLine             : ==> Parameters: 12(Long), 2(Long), 1(Long)
2025-12-30T11:23:05.262+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.m.E.cancelApprovalLine             : <==    Updates: 1
2025-12-30T11:23:05.264+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5aa7a30e]
2025-12-30T11:23:05.264+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5aa7a30e] from current transaction
2025-12-30T11:23:05.266+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-30T11:23:05.267+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 12(Long), 1(Long)
2025-12-30T11:23:05.271+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : <==      Total: 2
2025-12-30T11:23:05.271+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5aa7a30e]
2025-12-30T11:23:05.272+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5aa7a30e] from current transaction
2025-12-30T11:23:05.273+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.m.E.updateExpenseReportStatus      : ==>  Preparing: UPDATE expense_report_tb SET status = ? WHERE expense_report_id = ? AND company_id = ?
2025-12-30T11:23:05.273+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.m.E.updateExpenseReportStatus      : ==> Parameters: WAIT(String), 12(Long), 1(Long)
2025-12-30T11:23:05.281+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.m.E.updateExpenseReportStatus      : <==    Updates: 1
2025-12-30T11:23:05.282+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5aa7a30e]
2025-12-30T11:23:05.283+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5aa7a30e]
2025-12-30T11:23:05.284+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5aa7a30e]
2025-12-30T11:23:05.284+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5aa7a30e]
2025-12-30T11:23:05.290+09:00  INFO 42648 --- [http-nio-8080-exec-6] c.i.b.controller.ExpenseController       : 결재 취소 완료 - expenseId: 12
2025-12-30T11:23:05.291+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:23:05.292+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재 취소 완료, data=null)]
2025-12-30T11:23:05.296+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:23:06.632+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-30T11:23:06.632+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-30T11:23:06.633+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/12
2025-12-30T11:23:06.635+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T11:23:06.635+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-30T11:23:06.635+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/companies
2025-12-30T11:23:06.636+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-30T11:23:06.637+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-30T11:23:06.639+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-30T11:23:06.639+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-30T11:23:06.638+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/12
2025-12-30T11:23:06.638+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T11:23:06.641+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:06.642+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c802011] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:06.640+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:06.641+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/12
2025-12-30T11:23:06.646+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5300cd45] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:06.650+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1480646888 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:23:06.648+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/12", parameters={}
2025-12-30T11:23:06.652+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T11:23:06.653+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-30T11:23:06.653+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-30T11:23:06.654+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:06.655+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1308026960 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:23:06.655+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2001e63a] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:06.657+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-30T11:23:06.658+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T11:23:06.659+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 2(Long)
2025-12-30T11:23:06.659+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@880235966 wrapping com.mysql.cj.jdbc.ConnectionImpl@42f8117d] will not be managed by Spring
2025-12-30T11:23:06.659+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c802011]
2025-12-30T11:23:06.663+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-30T11:23:06.665+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-30T11:23:06.665+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5300cd45]
2025-12-30T11:23:06.663+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:06.665+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 12(Long), 1(Long)
2025-12-30T11:23:06.667+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:23:06.668+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@153ef44] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:06.669+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-30T11:23:06.670+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@745429197 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:23:06.670+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:23:06.671+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:23:06.671+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:23:06.672+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-30T11:23:06.676+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2001e63a]
2025-12-30T11:23:06.680+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:06.680+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:23:06.685+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e9ac3c1] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:06.686+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@153ef44]
2025-12-30T11:23:06.687+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2030261591 wrapping com.mysql.cj.jdbc.ConnectionImpl@42f8117d] will not be managed by Spring
2025-12-30T11:23:06.687+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:06.687+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-30T11:23:06.687+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29c11b56] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:06.688+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 12(Long), 1(Long)
2025-12-30T11:23:06.689+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@930539749 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:23:06.691+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:23:06.692+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 2(Long)
2025-12-30T11:23:06.694+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-30T11:23:06.699+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-30T11:23:06.699+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e9ac3c1]
2025-12-30T11:23:06.700+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29c11b56]
2025-12-30T11:23:06.700+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:06.701+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:06.701+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8d2764c] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:06.701+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f60a734] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:06.701+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@545138780 wrapping com.mysql.cj.jdbc.ConnectionImpl@42f8117d] will not be managed by Spring
2025-12-30T11:23:06.702+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@249168421 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:23:06.702+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-30T11:23:06.702+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:23:06.702+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 12(Long), 1(Long)
2025-12-30T11:23:06.702+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:23:06.704+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:23:06.704+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : <==      Total: 2
2025-12-30T11:23:06.705+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8d2764c]
2025-12-30T11:23:06.705+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f60a734]
2025-12-30T11:23:06.706+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:06.707+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d06d9b6] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:06.707+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:23:06.707+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@377339468 wrapping com.mysql.cj.jdbc.ConnectionImpl@42f8117d] will not be managed by Spring
2025-12-30T11:23:06.708+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T11:23:06.708+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-30T11:23:06.710+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:23:06.715+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 12(Long), 1(Long)
2025-12-30T11:23:06.717+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-30T11:23:06.722+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T11:23:06.723+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-30T11:23:06.723+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-30T11:23:06.724+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d06d9b6]
2025-12-30T11:23:06.724+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-30T11:23:06.725+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:06.725+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T11:23:06.725+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2703832c] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:06.725+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:06.726+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@477308179 wrapping com.mysql.cj.jdbc.ConnectionImpl@42f8117d] will not be managed by Spring
2025-12-30T11:23:06.726+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:23:06.727+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e8b2fd1] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:06.729+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:23:06.730+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2012072490 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:23:06.732+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T11:23:06.732+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-30T11:23:06.733+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:23:06.733+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2703832c]
2025-12-30T11:23:06.735+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:23:06.736+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T11:23:06.736+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=12, drafterId=1, r (truncated)...]
2025-12-30T11:23:06.737+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e8b2fd1]
2025-12-30T11:23:06.737+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:06.738+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24bdc0f] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:06.738+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1967754800 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:23:06.739+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:23:06.739+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:23:06.740+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:23:06.750+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/12
2025-12-30T11:23:06.754+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:23:06.754+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24bdc0f]
2025-12-30T11:23:06.755+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:06.756+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e19a5e6] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:06.756+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/12
2025-12-30T11:23:06.758+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1122937230 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:23:06.759+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/12
2025-12-30T11:23:06.759+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:23:06.759+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/12", parameters={}
2025-12-30T11:23:06.762+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 2(Long)
2025-12-30T11:23:06.766+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-30T11:23:06.768+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:06.769+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d7a368d] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:06.769+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-30T11:23:06.769+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@92990371 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:23:06.769+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e19a5e6]
2025-12-30T11:23:06.770+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-30T11:23:06.770+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:06.773+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72bbab57] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:06.771+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 12(Long), 1(Long)
2025-12-30T11:23:06.774+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@559814259 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:23:06.775+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:23:06.777+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:23:06.783+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-30T11:23:06.783+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d7a368d]
2025-12-30T11:23:06.783+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:06.784+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:23:06.784+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39c7e6d0] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:06.785+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72bbab57]
2025-12-30T11:23:06.785+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1700098363 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:23:06.785+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-30T11:23:06.785+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:23:06.786+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 12(Long), 1(Long)
2025-12-30T11:23:06.787+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T11:23:06.789+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:23:06.789+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-30T11:23:06.791+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39c7e6d0]
2025-12-30T11:23:06.791+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-30T11:23:06.792+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:06.799+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e24425b] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:06.800+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T11:23:06.801+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@416536105 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:23:06.802+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-30T11:23:06.801+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-30T11:23:06.803+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 12(Long), 1(Long)
2025-12-30T11:23:06.804+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-30T11:23:06.805+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T11:23:06.807+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:06.808+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c8faab2] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:06.808+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : <==      Total: 2
2025-12-30T11:23:06.808+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@715514269 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:23:06.808+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e24425b]
2025-12-30T11:23:06.809+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T11:23:06.811+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:06.812+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-30T11:23:06.812+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@636af5e9] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:06.813+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1600148805 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:23:06.813+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-30T11:23:06.814+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 12(Long), 1(Long)
2025-12-30T11:23:06.815+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T11:23:06.816+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c8faab2]
2025-12-30T11:23:06.817+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:06.817+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29ad8192] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:06.818+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2024174639 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:23:06.818+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-30T11:23:06.818+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:23:06.818+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@636af5e9]
2025-12-30T11:23:06.819+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:23:06.819+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:06.819+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29bd527] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:06.820+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@912960800 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:23:06.821+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:23:06.821+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:23:06.822+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:23:06.822+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29ad8192]
2025-12-30T11:23:06.822+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:06.822+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@328f9ad7] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:06.823+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2011900933 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:23:06.823+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:23:06.823+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:23:06.824+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 2(Long)
2025-12-30T11:23:06.824+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29bd527]
2025-12-30T11:23:06.825+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:23:06.826+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=12, drafterId=1, r (truncated)...]
2025-12-30T11:23:06.826+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-30T11:23:06.829+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@328f9ad7]
2025-12-30T11:23:06.829+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:23:06.832+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:06.834+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@175bda43] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:06.834+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/12
2025-12-30T11:23:06.835+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1498194781 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:23:06.838+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:23:06.838+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/12
2025-12-30T11:23:06.840+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:23:06.840+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/12
2025-12-30T11:23:06.841+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/12", parameters={}
2025-12-30T11:23:06.847+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2025-12-30T11:23:06.848+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:23:06.848+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:06.848+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@175bda43]
2025-12-30T11:23:06.848+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61c230bf] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:06.850+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:23:06.850+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@318924546 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:23:06.851+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T11:23:06.851+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2025-12-30T11:23:06.853+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 12(Long), 1(Long)
2025-12-30T11:23:06.854+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:23:06.858+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2025-12-30T11:23:06.859+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61c230bf]
2025-12-30T11:23:06.863+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:06.864+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@251fae81] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:06.865+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1428698453 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:23:06.865+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2025-12-30T11:23:06.865+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 12(Long), 1(Long)
2025-12-30T11:23:06.867+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2025-12-30T11:23:06.867+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@251fae81]
2025-12-30T11:23:06.867+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:06.867+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f065a23] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:06.869+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@389390052 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:23:06.869+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2025-12-30T11:23:06.870+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 12(Long), 1(Long)
2025-12-30T11:23:06.872+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : <==      Total: 2
2025-12-30T11:23:06.873+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f065a23]
2025-12-30T11:23:06.874+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:06.874+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4563df61] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:06.874+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@952717996 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:23:06.875+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2025-12-30T11:23:06.875+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 12(Long), 1(Long)
2025-12-30T11:23:06.878+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2025-12-30T11:23:06.879+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4563df61]
2025-12-30T11:23:06.881+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:06.881+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c12d780] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:06.882+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1196526516 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:23:06.882+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:23:06.883+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:23:06.885+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:23:06.885+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c12d780]
2025-12-30T11:23:06.886+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:23:06.887+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=12, drafterId=1, r (truncated)...]
2025-12-30T11:23:06.888+09:00 DEBUG 42648 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:23:07.629+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-30T11:23:07.630+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T11:23:07.632+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T11:23:07.632+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-30T11:23:07.633+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-30T11:23:07.633+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T11:23:07.633+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-30T11:23:07.633+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T11:23:07.633+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T11:23:07.634+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T11:23:07.634+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:07.635+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28e5bdba] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:07.635+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:07.637+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64962ca] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:07.637+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1268845122 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:23:07.638+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T11:23:07.642+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-30T11:23:07.642+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1161743668 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:23:07.643+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T11:23:07.648+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T11:23:07.649+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T11:23:07.649+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28e5bdba]
2025-12-30T11:23:07.650+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:07.651+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e3c8896] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:07.651+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T11:23:07.651+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1450557891 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:23:07.652+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64962ca]
2025-12-30T11:23:07.652+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:23:07.652+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:07.653+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:23:07.653+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@738f18c9] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:07.654+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@829654301 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:23:07.654+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:23:07.655+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:23:07.655+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:23:07.656+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e3c8896]
2025-12-30T11:23:07.656+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:07.657+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@111b61c] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:07.657+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:23:07.657+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2073290384 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:23:07.658+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@738f18c9]
2025-12-30T11:23:07.658+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:23:07.658+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:07.659+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 2(Long)
2025-12-30T11:23:07.659+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5748c1b8] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:07.660+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1544213192 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:23:07.664+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:23:07.665+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T11:23:07.665+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-30T11:23:07.666+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@111b61c]
2025-12-30T11:23:07.666+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:07.667+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ffb0645] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:07.667+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T11:23:07.667+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@861333232 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:23:07.668+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5748c1b8]
2025-12-30T11:23:07.669+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:23:07.669+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:07.669+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:23:07.670+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e9f4485] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:07.670+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1607145967 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:23:07.670+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T11:23:07.671+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T11:23:07.671+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:23:07.672+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ffb0645]
2025-12-30T11:23:07.673+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:23:07.673+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T11:23:07.674+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T11:23:07.675+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:23:07.677+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e9f4485]
2025-12-30T11:23:07.681+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:07.683+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-30T11:23:07.684+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43ceb4f9] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:07.687+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2000780137 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:23:07.687+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T11:23:07.687+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:23:07.688+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-30T11:23:07.688+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:23:07.688+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-30T11:23:07.690+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T11:23:07.690+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:07.690+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@665c809f] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:07.691+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@959679227 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:23:07.692+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:23:07.692+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T11:23:07.692+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43ceb4f9]
2025-12-30T11:23:07.696+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-30T11:23:07.696+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:07.697+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4dc05d37] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:07.699+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2065645834 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:23:07.701+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T11:23:07.703+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:23:07.703+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@665c809f]
2025-12-30T11:23:07.703+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T11:23:07.703+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:07.705+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ae39093] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:07.705+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2017050408 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:23:07.706+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:23:07.706+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:23:07.707+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T11:23:07.708+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4dc05d37]
2025-12-30T11:23:07.709+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:07.710+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67db4dab] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:07.713+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:23:07.713+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@683511170 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:23:07.714+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ae39093]
2025-12-30T11:23:07.717+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:23:07.718+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:07.718+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:23:07.718+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62ddd52] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:07.719+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1613537804 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:23:07.720+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:23:07.720+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:23:07.720+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 2(Long)
2025-12-30T11:23:07.721+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67db4dab]
2025-12-30T11:23:07.722+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:23:07.724+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T11:23:07.725+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-30T11:23:07.725+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62ddd52]
2025-12-30T11:23:07.725+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:23:07.725+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:07.731+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c0c7145] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:07.732+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@606335707 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:23:07.733+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:23:07.733+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T11:23:07.733+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:23:07.735+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-30T11:23:07.741+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T11:23:07.742+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T11:23:07.743+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:23:07.752+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T11:23:07.752+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c0c7145]
2025-12-30T11:23:07.753+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:07.754+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:23:07.754+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42cc155b] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:07.756+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T11:23:07.758+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@351488347 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:23:07.759+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:23:07.762+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T11:23:07.766+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T11:23:07.770+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-30T11:23:07.771+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T11:23:07.778+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42cc155b]
2025-12-30T11:23:07.774+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T11:23:07.779+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:07.779+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-30T11:23:07.781+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6505191f] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:07.782+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-30T11:23:07.783+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1203879465 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:23:07.784+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T11:23:07.784+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:23:07.784+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:07.785+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:23:07.785+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64369226] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:07.786+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1321582739 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:23:07.787+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T11:23:07.788+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:23:07.790+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-30T11:23:07.790+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6505191f]
2025-12-30T11:23:07.790+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:07.791+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b76faa7] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:07.792+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T11:23:07.799+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64369226]
2025-12-30T11:23:07.793+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@116838199 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:23:07.801+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:07.801+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:23:07.802+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41fcedaf] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:07.802+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T11:23:07.803+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@294383636 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:23:07.806+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:23:07.807+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:23:07.808+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T11:23:07.808+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b76faa7]
2025-12-30T11:23:07.809+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:23:07.810+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:07.815+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41fcedaf]
2025-12-30T11:23:07.816+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@317740fa] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:07.816+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:07.816+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1302865841 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:23:07.817+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60297f87] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:07.817+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T11:23:07.817+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1184790456 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:23:07.818+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T11:23:07.818+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:23:07.818+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 2(Long)
2025-12-30T11:23:07.822+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-30T11:23:07.822+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T11:23:07.823+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60297f87]
2025-12-30T11:23:07.823+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@317740fa]
2025-12-30T11:23:07.824+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:07.824+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:07.824+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a8ccbc1] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:07.824+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51feb579] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:07.830+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@24267856 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:23:07.831+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1510301484 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:23:07.833+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:23:07.833+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:23:07.835+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:23:07.835+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:23:07.837+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:23:07.837+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:23:07.838+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a8ccbc1]
2025-12-30T11:23:07.840+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51feb579]
2025-12-30T11:23:07.840+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:23:07.841+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:07.841+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T11:23:07.842+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15fa3713] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:07.846+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:23:07.849+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@822812072 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:23:07.851+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:23:07.852+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T11:23:07.854+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T11:23:07.855+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15fa3713]
2025-12-30T11:23:07.856+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:23:07.856+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@745d4126] was not registered for synchronization because synchronization is not active
2025-12-30T11:23:07.856+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@819700241 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:23:07.857+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:23:07.857+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:23:07.860+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:23:07.864+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@745d4126]
2025-12-30T11:23:07.865+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:23:07.866+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T11:23:07.867+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:28:51.001+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-30T11:28:51.013+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/logout
2025-12-30T11:28:51.016+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-30T11:28:51.031+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-30T11:28:51.048+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-30T11:28:51.049+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIyIiwidXNlcm5hbWUiOiJ (truncated)...]
2025-12-30T11:28:51.057+09:00  INFO 42648 --- [http-nio-8080-exec-3] SECURITY                                 : LOGOUT userId=2
2025-12-30T11:28:51.061+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:28:51.062+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-30T11:28:51.064+09:00 DEBUG 42648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:28:54.640+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-30T11:28:54.641+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-30T11:28:54.641+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-30T11:28:54.642+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-30T11:28:54.642+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-30T11:28:54.643+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_user1, password=1234)]
2025-12-30T11:28:54.644+09:00  INFO 42648 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 로그인 시도 - username: test_user1
2025-12-30T11:28:54.644+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:28:54.644+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61a324e7] was not registered for synchronization because synchronization is not active
2025-12-30T11:28:54.647+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@415096039 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:28:54.647+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-30T11:28:54.650+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user1(String)
2025-12-30T11:28:54.662+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-30T11:28:54.663+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61a324e7]
2025-12-30T11:28:54.745+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:28:54.745+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@156b6bd9] was not registered for synchronization because synchronization is not active
2025-12-30T11:28:54.746+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@218163690 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:28:54.746+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-30T11:28:54.746+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 2(Long)
2025-12-30T11:28:54.749+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-30T11:28:54.749+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@156b6bd9]
2025-12-30T11:28:54.751+09:00  INFO 42648 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 로그인 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1
2025-12-30T11:28:54.751+09:00  INFO 42648 --- [http-nio-8080-exec-5] SECURITY                                 : LOGIN_SUCCESS userId=2 username=test_user1 role=TAX_ACCOUNTANT
2025-12-30T11:28:54.752+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:28:54.753+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=2, username=test_user1, password (truncated)...]
2025-12-30T11:28:54.754+09:00 DEBUG 42648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:28:55.105+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-30T11:28:55.117+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/companies
2025-12-30T11:28:55.132+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-30T11:28:55.132+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T11:28:55.132+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-30T11:28:55.138+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-30T11:28:55.137+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T11:28:55.140+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-30T11:28:55.140+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-30T11:28:55.141+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-30T11:28:55.141+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T11:28:55.141+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:28:55.143+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-30T11:28:55.145+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T11:28:55.145+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3854ba0d] was not registered for synchronization because synchronization is not active
2025-12-30T11:28:55.146+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T11:28:55.147+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T11:28:55.153+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:28:55.154+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:28:55.157+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65cf689e] was not registered for synchronization because synchronization is not active
2025-12-30T11:28:55.158+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26e85f47] was not registered for synchronization because synchronization is not active
2025-12-30T11:28:55.159+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@701588773 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:28:55.160+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@754188053 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:28:55.161+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T11:28:55.161+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-30T11:28:55.162+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-30T11:28:55.164+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 2(Long)
2025-12-30T11:28:55.165+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1434749170 wrapping com.mysql.cj.jdbc.ConnectionImpl@42f8117d] will not be managed by Spring
2025-12-30T11:28:55.166+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T11:28:55.173+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T11:28:55.174+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-30T11:28:55.175+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3854ba0d]
2025-12-30T11:28:55.177+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:28:55.180+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T11:28:55.181+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-30T11:28:55.182+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65cf689e]
2025-12-30T11:28:55.183+09:00 DEBUG 42648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:28:55.187+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:28:55.191+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28675ce8] was not registered for synchronization because synchronization is not active
2025-12-30T11:28:55.194+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@913459938 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:28:55.195+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:28:55.196+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:28:55.201+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:28:55.202+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T11:28:55.211+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28675ce8]
2025-12-30T11:28:55.211+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26e85f47]
2025-12-30T11:28:55.212+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:28:55.213+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:28:55.213+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bb179e6] was not registered for synchronization because synchronization is not active
2025-12-30T11:28:55.213+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48a0bef0] was not registered for synchronization because synchronization is not active
2025-12-30T11:28:55.215+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@690221668 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:28:55.215+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1675588927 wrapping com.mysql.cj.jdbc.ConnectionImpl@42f8117d] will not be managed by Spring
2025-12-30T11:28:55.216+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:28:55.216+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:28:55.217+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 2(Long)
2025-12-30T11:28:55.219+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:28:55.224+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:28:55.226+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-30T11:28:55.227+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48a0bef0]
2025-12-30T11:28:55.227+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bb179e6]
2025-12-30T11:28:55.228+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:28:55.229+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:28:55.230+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8d38a27] was not registered for synchronization because synchronization is not active
2025-12-30T11:28:55.230+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e1322d1] was not registered for synchronization because synchronization is not active
2025-12-30T11:28:55.230+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1851592380 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:28:55.230+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1170862835 wrapping com.mysql.cj.jdbc.ConnectionImpl@42f8117d] will not be managed by Spring
2025-12-30T11:28:55.231+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:28:55.231+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:28:55.231+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:28:55.232+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T11:28:55.237+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:28:55.238+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T11:28:55.238+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e1322d1]
2025-12-30T11:28:55.239+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8d38a27]
2025-12-30T11:28:55.241+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:28:55.242+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:28:55.243+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T11:28:55.243+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22a0b020] was not registered for synchronization because synchronization is not active
2025-12-30T11:28:55.244+09:00 DEBUG 42648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:28:55.247+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@909546721 wrapping com.mysql.cj.jdbc.ConnectionImpl@42f8117d] will not be managed by Spring
2025-12-30T11:28:55.248+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-30T11:28:55.249+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T11:28:55.254+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T11:28:55.258+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T11:28:55.259+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-30T11:28:55.260+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-30T11:28:55.260+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T11:28:55.262+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:28:55.263+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c44d110] was not registered for synchronization because synchronization is not active
2025-12-30T11:28:55.263+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T11:28:55.264+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@373461583 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:28:55.266+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22a0b020]
2025-12-30T11:28:55.275+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T11:28:55.276+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:28:55.276+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-30T11:28:55.277+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@592f480b] was not registered for synchronization because synchronization is not active
2025-12-30T11:28:55.278+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2125054654 wrapping com.mysql.cj.jdbc.ConnectionImpl@42f8117d] will not be managed by Spring
2025-12-30T11:28:55.280+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:28:55.281+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:28:55.283+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T11:28:55.292+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c44d110]
2025-12-30T11:28:55.294+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:28:55.294+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2241e141] was not registered for synchronization because synchronization is not active
2025-12-30T11:28:55.295+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:28:55.295+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2018998344 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:28:55.296+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@592f480b]
2025-12-30T11:28:55.296+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:28:55.297+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:28:55.297+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:28:55.298+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5544de69] was not registered for synchronization because synchronization is not active
2025-12-30T11:28:55.299+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1988668378 wrapping com.mysql.cj.jdbc.ConnectionImpl@42f8117d] will not be managed by Spring
2025-12-30T11:28:55.300+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:28:55.306+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T11:28:55.308+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:28:55.309+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2241e141]
2025-12-30T11:28:55.310+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:28:55.311+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c3c4936] was not registered for synchronization because synchronization is not active
2025-12-30T11:28:55.312+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@559606297 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:28:55.314+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:28:55.314+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T11:28:55.315+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 2(Long)
2025-12-30T11:28:55.316+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5544de69]
2025-12-30T11:28:55.321+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:28:55.323+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c946921] was not registered for synchronization because synchronization is not active
2025-12-30T11:28:55.325+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-30T11:28:55.326+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@525354316 wrapping com.mysql.cj.jdbc.ConnectionImpl@42f8117d] will not be managed by Spring
2025-12-30T11:28:55.326+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c3c4936]
2025-12-30T11:28:55.328+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:28:55.329+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:28:55.329+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:28:55.329+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32364091] was not registered for synchronization because synchronization is not active
2025-12-30T11:28:55.330+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1554897432 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:28:55.331+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:28:55.339+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:28:55.350+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:28:55.354+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:28:55.354+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c946921]
2025-12-30T11:28:55.354+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32364091]
2025-12-30T11:28:55.355+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:28:55.355+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:28:55.358+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T11:28:55.359+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T11:28:55.360+09:00 DEBUG 42648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:28:55.361+09:00 DEBUG 42648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:28:55.372+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-30T11:28:55.374+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-30T11:28:55.377+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T11:28:55.380+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2025-12-30T11:28:55.382+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-30T11:28:55.382+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-30T11:28:55.390+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-30T11:28:55.383+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-30T11:28:55.392+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T11:28:55.394+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-30T11:28:55.397+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:28:55.398+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:28:55.399+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1795d7e6] was not registered for synchronization because synchronization is not active
2025-12-30T11:28:55.399+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f6ed084] was not registered for synchronization because synchronization is not active
2025-12-30T11:28:55.400+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1266359006 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:28:55.404+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@580931447 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:28:55.405+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T11:28:55.406+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T11:28:55.407+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-30T11:28:55.407+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T11:28:55.411+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T11:28:55.413+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f6ed084]
2025-12-30T11:28:55.414+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:28:55.414+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a35d421] was not registered for synchronization because synchronization is not active
2025-12-30T11:28:55.415+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1673969939 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:28:55.416+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T11:28:55.418+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:28:55.426+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1795d7e6]
2025-12-30T11:28:55.426+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:28:55.428+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:28:55.428+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b83175e] was not registered for synchronization because synchronization is not active
2025-12-30T11:28:55.429+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@311480111 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:28:55.429+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:28:55.430+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:28:55.438+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:28:55.438+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:28:55.440+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b83175e]
2025-12-30T11:28:55.442+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a35d421]
2025-12-30T11:28:55.443+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:28:55.443+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:28:55.443+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74a9351d] was not registered for synchronization because synchronization is not active
2025-12-30T11:28:55.444+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ee5a182] was not registered for synchronization because synchronization is not active
2025-12-30T11:28:55.446+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1193538865 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:28:55.446+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:28:55.446+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@178643619 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:28:55.447+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 2(Long)
2025-12-30T11:28:55.447+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:28:55.448+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T11:28:55.451+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-30T11:28:55.456+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74a9351d]
2025-12-30T11:28:55.457+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T11:28:55.462+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:28:55.463+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ee5a182]
2025-12-30T11:28:55.463+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26d707ad] was not registered for synchronization because synchronization is not active
2025-12-30T11:28:55.464+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:28:55.464+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@460054455 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:28:55.465+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73a0f408] was not registered for synchronization because synchronization is not active
2025-12-30T11:28:55.465+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:28:55.466+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@3842639 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:28:55.466+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:28:55.466+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-30T11:28:55.472+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-30T11:28:55.482+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:28:55.482+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 9
2025-12-30T11:28:55.489+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26d707ad]
2025-12-30T11:28:55.492+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73a0f408]
2025-12-30T11:28:55.494+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:28:55.498+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:28:55.499+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T11:28:55.500+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9186b85] was not registered for synchronization because synchronization is not active
2025-12-30T11:28:55.508+09:00 DEBUG 42648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:28:55.508+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2104282650 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:28:55.509+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:28:55.511+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:28:55.524+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=2
2025-12-30T11:28:55.542+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-30T11:28:55.543+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:28:55.548+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9186b85]
2025-12-30T11:28:55.554+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:28:55.555+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72242941] was not registered for synchronization because synchronization is not active
2025-12-30T11:28:55.546+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=2
2025-12-30T11:28:55.559+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@942289091 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:28:55.562+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:28:55.560+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=2", parameters={masked}
2025-12-30T11:28:55.564+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2025-12-30T11:28:55.564+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-30T11:28:55.566+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:28:55.582+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7285b1a2] was not registered for synchronization because synchronization is not active
2025-12-30T11:28:55.590+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1002828915 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:28:55.591+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 10
2025-12-30T11:28:55.592+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-30T11:28:55.593+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72242941]
2025-12-30T11:28:55.594+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2025-12-30T11:28:55.595+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:28:55.596+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2849aa6] was not registered for synchronization because synchronization is not active
2025-12-30T11:28:55.599+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1362740630 wrapping com.mysql.cj.jdbc.ConnectionImpl@6a086c3a] will not be managed by Spring
2025-12-30T11:28:55.604+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:28:55.605+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2025-12-30T11:28:55.609+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:28:55.610+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7285b1a2]
2025-12-30T11:28:55.615+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:28:55.616+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39433312] was not registered for synchronization because synchronization is not active
2025-12-30T11:28:55.621+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1712627001 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:28:55.622+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:28:55.623+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:28:55.627+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:28:55.627+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:28:55.629+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2849aa6]
2025-12-30T11:28:55.630+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39433312]
2025-12-30T11:28:55.632+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:28:55.632+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:28:55.633+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-30T11:28:55.634+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a41ccb3] was not registered for synchronization because synchronization is not active
2025-12-30T11:28:55.638+09:00 DEBUG 42648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-30T11:28:55.641+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@716879178 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:28:55.644+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-30T11:28:55.645+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 2(Long)
2025-12-30T11:28:55.648+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-30T11:28:55.648+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a41ccb3]
2025-12-30T11:28:55.649+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-30T11:28:55.651+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e7a873e] was not registered for synchronization because synchronization is not active
2025-12-30T11:28:55.653+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@710603286 wrapping com.mysql.cj.jdbc.ConnectionImpl@32f7561e] will not be managed by Spring
2025-12-30T11:28:55.654+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-30T11:28:55.655+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-30T11:28:55.658+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-30T11:28:55.659+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e7a873e]
2025-12-30T11:28:55.659+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-30T11:28:55.661+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2025-12-30T11:28:55.661+09:00 DEBUG 42648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
