2026-01-08T16:47:54.978+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T16:47:54.978+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1945104770 wrapping com.mysql.cj.jdbc.ConnectionImpl@722e25d8] will not be managed by Spring
2026-01-08T16:47:54.987+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T16:47:54.993+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T16:47:54.995+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 24
2026-01-08T16:47:55.026+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d91cfbb]
2026-01-08T16:47:55.026+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:47:55.027+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@728a2f5] was not registered for synchronization because synchronization is not active
2026-01-08T16:47:55.030+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1685981326 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:47:55.039+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 24
2026-01-08T16:47:55.043+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:47:55.043+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@761b4f32]
2026-01-08T16:47:55.045+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:47:55.046+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:47:55.052+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73f24962] was not registered for synchronization because synchronization is not active
2026-01-08T16:47:55.053+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1606220529 wrapping com.mysql.cj.jdbc.ConnectionImpl@722e25d8] will not be managed by Spring
2026-01-08T16:47:55.054+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:47:55.054+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:47:55.055+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@728a2f5]
2026-01-08T16:47:55.055+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:47:55.056+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:47:55.056+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b264690] was not registered for synchronization because synchronization is not active
2026-01-08T16:47:55.057+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@702250507 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:47:55.058+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T16:47:55.058+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:47:55.061+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T16:47:55.062+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73f24962]
2026-01-08T16:47:55.069+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:47:55.072+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b83e1bf] was not registered for synchronization because synchronization is not active
2026-01-08T16:47:55.074+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2061173492 wrapping com.mysql.cj.jdbc.ConnectionImpl@722e25d8] will not be managed by Spring
2026-01-08T16:47:55.076+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 24
2026-01-08T16:47:55.091+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T16:47:55.093+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b264690]
2026-01-08T16:47:55.097+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T16:47:55.111+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:47:55.112+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53529e99] was not registered for synchronization because synchronization is not active
2026-01-08T16:47:55.129+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@169427109 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:47:55.155+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 24
2026-01-08T16:47:55.156+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:47:55.157+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b83e1bf]
2026-01-08T16:47:55.157+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:47:55.157+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:47:55.158+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a881f53] was not registered for synchronization because synchronization is not active
2026-01-08T16:47:55.162+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@235051428 wrapping com.mysql.cj.jdbc.ConnectionImpl@722e25d8] will not be managed by Spring
2026-01-08T16:47:55.169+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:47:55.184+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:47:55.187+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:47:55.188+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53529e99]
2026-01-08T16:47:55.189+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:47:55.191+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cef611c] was not registered for synchronization because synchronization is not active
2026-01-08T16:47:55.195+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@730762318 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:47:55.196+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:47:55.202+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:47:55.203+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:47:55.202+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a881f53]
2026-01-08T16:47:55.209+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:47:55.218+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ec7bee7] was not registered for synchronization because synchronization is not active
2026-01-08T16:47:55.219+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1686068971 wrapping com.mysql.cj.jdbc.ConnectionImpl@722e25d8] will not be managed by Spring
2026-01-08T16:47:55.219+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:47:55.225+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:47:55.241+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:47:55.243+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cef611c]
2026-01-08T16:47:55.244+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:47:55.246+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T16:47:55.253+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:47:55.259+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:47:55.261+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ec7bee7]
2026-01-08T16:47:55.290+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:47:55.291+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T16:47:55.294+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:47:55.369+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:47:55.369+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:47:55.389+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:47:55.393+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:47:55.397+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:47:55.398+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:47:55.398+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:47:55.399+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:47:55.400+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:47:55.400+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:47:55.401+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:47:55.401+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:47:55.403+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:47:55.403+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@221e39d4] was not registered for synchronization because synchronization is not active
2026-01-08T16:47:55.403+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:47:55.403+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@243800426 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:47:55.403+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3712f867] was not registered for synchronization because synchronization is not active
2026-01-08T16:47:55.404+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:47:55.406+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:47:55.404+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1231541268 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:47:55.407+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:47:55.421+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:47:55.443+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T16:47:55.456+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@221e39d4]
2026-01-08T16:47:55.457+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:47:55.458+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T16:47:55.461+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T16:47:55.461+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3712f867]
2026-01-08T16:47:55.462+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:47:55.464+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:47:55.467+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T16:47:55.471+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:48:02.653+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/status
2026-01-08T16:48:02.654+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/pending
2026-01-08T16:48:02.655+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/summary/by-category?status%5B%5D=PAID
2026-01-08T16:48:02.665+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/monthly-summary
2026-01-08T16:48:02.656+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/monthly-summary
2026-01-08T16:48:02.656+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/status
2026-01-08T16:48:02.657+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/pending
2026-01-08T16:48:02.662+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/summary/by-category?status%5B%5D=PAID
2026-01-08T16:48:02.679+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/pending
2026-01-08T16:48:02.679+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/status
2026-01-08T16:48:02.682+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/summary/by-category?status%5B%5D=PAID
2026-01-08T16:48:02.687+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/monthly-summary
2026-01-08T16:48:02.687+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/status
2026-01-08T16:48:02.704+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/status
2026-01-08T16:48:02.705+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/status", parameters={}
2026-01-08T16:48:02.706+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxStatus(String, String)
2026-01-08T16:48:02.688+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/pending
2026-01-08T16:48:02.694+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/status
2026-01-08T16:48:02.696+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/pending
2026-01-08T16:48:02.702+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/summary/by-category
2026-01-08T16:48:02.704+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/monthly-summary
2026-01-08T16:48:02.709+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxStatus(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:48:02.709+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/pending
2026-01-08T16:48:02.712+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/status
2026-01-08T16:48:02.712+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/summary/by-category?status%5B%5D=PAID
2026-01-08T16:48:02.713+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/monthly-summary
2026-01-08T16:48:02.713+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/pending
2026-01-08T16:48:02.716+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxStatus(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:48:02.721+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/pending", parameters={}
2026-01-08T16:48:02.721+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/status
2026-01-08T16:48:02.722+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/summary/by-category?status%5B%5D=PAID", parameters={masked}
2026-01-08T16:48:02.722+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/monthly-summary", parameters={}
2026-01-08T16:48:02.723+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/pending
2026-01-08T16:48:02.723+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:48:02.724+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxPendingReports(String, String)
2026-01-08T16:48:02.725+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/status", parameters={}
2026-01-08T16:48:02.726+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategorySummary(String, String, String[], Boolean, Boolean)
2026-01-08T16:48:02.726+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTaxSummary(String, String)
2026-01-08T16:48:02.728+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategorySummary(java.lang.String,java.lang.String,java.lang.String[],java.lang.Boolean,java.lang.Boolean); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:48:02.727+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/pending", parameters={}
2026-01-08T16:48:02.727+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ec7fc5a] was not registered for synchronization because synchronization is not active
2026-01-08T16:48:02.727+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxPendingReports(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:48:02.728+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxStatus(String, String)
2026-01-08T16:48:02.736+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxStatus(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:48:02.728+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTaxSummary(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:48:02.729+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategorySummary(java.lang.String,java.lang.String,java.lang.String[],java.lang.Boolean,java.lang.Boolean); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:48:02.729+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxPendingReports(String, String)
2026-01-08T16:48:02.734+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxPendingReports(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:48:02.740+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxStatus(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:48:02.741+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTaxSummary(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:48:02.741+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:48:02.742+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxPendingReports(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:48:02.751+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxPendingReports(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:48:02.744+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:48:02.755+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bd9b44c] was not registered for synchronization because synchronization is not active
2026-01-08T16:48:02.745+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:48:02.756+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@162231da] was not registered for synchronization because synchronization is not active
2026-01-08T16:48:02.746+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:48:02.746+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bc3e898] was not registered for synchronization because synchronization is not active
2026-01-08T16:48:02.754+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:48:02.757+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@142b7f4c] was not registered for synchronization because synchronization is not active
2026-01-08T16:48:02.758+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1137288532 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:48:02.762+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@213418361 wrapping com.mysql.cj.jdbc.ConnectionImpl@722e25d8] will not be managed by Spring
2026-01-08T16:48:02.763+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@715d3b32] was not registered for synchronization because synchronization is not active
2026-01-08T16:48:02.763+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1008206469 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:48:02.767+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.ExpenseMapper.selectTaxStatus    : ==>  Preparing: SELECT COUNT(*) AS totalCount, SUM(CASE WHEN (tax_processed = 0 OR tax_processed IS NULL) THEN 1 ELSE 0 END) AS pendingCount, SUM(CASE WHEN tax_processed = 1 THEN 1 ELSE 0 END) AS completedCount, CASE WHEN COUNT(*) > 0 THEN CAST(SUM(CASE WHEN tax_processed = 1 THEN 1 ELSE 0 END) AS DECIMAL) / COUNT(*) ELSE 0.0 END AS completionRate, COALESCE(SUM(COALESCE(actual_paid_amount, total_amount)), 0) AS totalAmount, COALESCE(SUM(CASE WHEN (tax_processed = 0 OR tax_processed IS NULL) THEN COALESCE(actual_paid_amount, total_amount) ELSE 0 END), 0) AS pendingAmount, COALESCE(SUM(CASE WHEN tax_processed = 1 THEN COALESCE(actual_paid_amount, total_amount) ELSE 0 END), 0) AS completedAmount FROM expense_report_tb WHERE status = 'PAID' AND company_id = ?
2026-01-08T16:48:02.767+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.ExpenseMapper.selectTaxStatus    : ==>  Preparing: SELECT COUNT(*) AS totalCount, SUM(CASE WHEN (tax_processed = 0 OR tax_processed IS NULL) THEN 1 ELSE 0 END) AS pendingCount, SUM(CASE WHEN tax_processed = 1 THEN 1 ELSE 0 END) AS completedCount, CASE WHEN COUNT(*) > 0 THEN CAST(SUM(CASE WHEN tax_processed = 1 THEN 1 ELSE 0 END) AS DECIMAL) / COUNT(*) ELSE 0.0 END AS completionRate, COALESCE(SUM(COALESCE(actual_paid_amount, total_amount)), 0) AS totalAmount, COALESCE(SUM(CASE WHEN (tax_processed = 0 OR tax_processed IS NULL) THEN COALESCE(actual_paid_amount, total_amount) ELSE 0 END), 0) AS pendingAmount, COALESCE(SUM(CASE WHEN tax_processed = 1 THEN COALESCE(actual_paid_amount, total_amount) ELSE 0 END), 0) AS completedAmount FROM expense_report_tb WHERE status = 'PAID' AND company_id = ?
2026-01-08T16:48:02.768+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectTaxPendingReports        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.status = 'PAID' AND (r.tax_processed = 0 OR r.tax_processed IS NULL) AND r.company_id = ? ORDER BY r.report_date DESC, r.expense_report_id DESC
2026-01-08T16:48:02.769+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1211679862 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:48:02.769+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.ExpenseMapper.selectTaxStatus    : ==> Parameters: 1(Long)
2026-01-08T16:48:02.774+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.ExpenseMapper.selectTaxStatus    : ==> Parameters: 1(Long)
2026-01-08T16:48:02.775+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectTaxPendingReports        : ==> Parameters: 1(Long)
2026-01-08T16:48:02.775+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1689270048 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:48:02.775+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T16:48:02.776+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1252147936 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:48:02.776+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectTaxPendingReports        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.status = 'PAID' AND (r.tax_processed = 0 OR r.tax_processed IS NULL) AND r.company_id = ? ORDER BY r.report_date DESC, r.expense_report_id DESC
2026-01-08T16:48:02.777+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 12(Long)
2026-01-08T16:48:02.777+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectMonthlyTaxSummary        : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, SUM(CASE WHEN tax_processed = 1 THEN 1 ELSE 0 END) AS completedCount, COALESCE(SUM(COALESCE(actual_paid_amount, total_amount)), 0) AS totalAmount, COALESCE(SUM(CASE WHEN tax_processed = 1 THEN COALESCE(actual_paid_amount, total_amount) ELSE 0 END), 0) AS completedAmount FROM expense_report_tb WHERE status = 'PAID' AND company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2026-01-08T16:48:02.778+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectTaxPendingReports        : ==> Parameters: 1(Long)
2026-01-08T16:48:02.780+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectMonthlyTaxSummary        : ==> Parameters: 1(Long)
2026-01-08T16:48:02.787+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.ExpenseMapper.selectTaxStatus    : <==      Total: 1
2026-01-08T16:48:02.788+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.ExpenseMapper.selectTaxStatus    : <==      Total: 1
2026-01-08T16:48:02.793+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ec7fc5a]
2026-01-08T16:48:02.793+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@162231da]
2026-01-08T16:48:02.794+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:48:02.794+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectMonthlyTaxSummary        : <==      Total: 2
2026-01-08T16:48:02.794+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2026-01-08T16:48:02.795+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectTaxPendingReports        : <==      Total: 17
2026-01-08T16:48:02.795+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectTaxPendingReports        : <==      Total: 17
2026-01-08T16:48:02.796+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:48:02.801+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 자료 수집 현황 통계 조회 성공, data=TaxStatusDto(totalCount=17, pendingCoun (truncated)...]
2026-01-08T16:48:02.801+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@142b7f4c]
2026-01-08T16:48:02.802+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bc3e898]
2026-01-08T16:48:02.802+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@715d3b32]
2026-01-08T16:48:02.805+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bd9b44c]
2026-01-08T16:48:02.806+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 자료 수집 현황 통계 조회 성공, data=TaxStatusDto(totalCount=17, pendingCoun (truncated)...]
2026-01-08T16:48:02.824+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:48:02.807+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:48:02.807+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:48:02.808+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:48:02.824+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:48:02.825+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무처리 대기 건 조회 성공, data=[ExpenseReportDto(expenseReportId=34, drafte (truncated)...]
2026-01-08T16:48:02.825+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:48:02.828+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/summary/by-category?status%5B%5D=PAID
2026-01-08T16:48:02.829+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 집계 조회 성공, data=[MonthlyTaxSummaryDto(yearMonth=2025-12, complet (truncated)...]
2026-01-08T16:48:02.830+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b7dfbab] was not registered for synchronization because synchronization is not active
2026-01-08T16:48:02.838+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무처리 대기 건 조회 성공, data=[ExpenseReportDto(expenseReportId=34, drafte (truncated)...]
2026-01-08T16:48:02.839+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:48:02.841+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/monthly-summary
2026-01-08T16:48:02.843+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:48:02.843+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/summary/by-category
2026-01-08T16:48:02.844+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@598523284 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:48:02.845+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:48:02.855+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectCategorySummary          : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(COALESCE(d.actual_paid_amount, d.amount)), 0) AS totalAmount, COUNT(*) AS itemCount, COUNT(DISTINCT d.expense_report_id) AS reportCount FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? AND r.status IN ( ? ) GROUP BY d.category ORDER BY totalAmount DESC
2026-01-08T16:48:02.854+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/monthly-summary
2026-01-08T16:48:02.854+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/summary/by-category?status%5B%5D=PAID
2026-01-08T16:48:02.856+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectCategorySummary          : ==> Parameters: 1(Long), PAID(String)
2026-01-08T16:48:02.857+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/monthly-summary
2026-01-08T16:48:02.857+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/summary/by-category?status%5B%5D=PAID", parameters={masked}
2026-01-08T16:48:02.858+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/monthly-summary", parameters={}
2026-01-08T16:48:02.858+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategorySummary(String, String, String[], Boolean, Boolean)
2026-01-08T16:48:02.859+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTaxSummary(String, String)
2026-01-08T16:48:02.859+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategorySummary(java.lang.String,java.lang.String,java.lang.String[],java.lang.Boolean,java.lang.Boolean); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:48:02.860+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTaxSummary(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:48:02.860+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategorySummary(java.lang.String,java.lang.String,java.lang.String[],java.lang.Boolean,java.lang.Boolean); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:48:02.861+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTaxSummary(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:48:02.870+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:48:02.862+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:48:02.871+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@110ed247] was not registered for synchronization because synchronization is not active
2026-01-08T16:48:02.871+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8392cc8] was not registered for synchronization because synchronization is not active
2026-01-08T16:48:02.872+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@108963579 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:48:02.873+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@798437004 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:48:02.874+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.E.selectMonthlyTaxSummary        : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, SUM(CASE WHEN tax_processed = 1 THEN 1 ELSE 0 END) AS completedCount, COALESCE(SUM(COALESCE(actual_paid_amount, total_amount)), 0) AS totalAmount, COALESCE(SUM(CASE WHEN tax_processed = 1 THEN COALESCE(actual_paid_amount, total_amount) ELSE 0 END), 0) AS completedAmount FROM expense_report_tb WHERE status = 'PAID' AND company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2026-01-08T16:48:02.875+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T16:48:02.875+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.E.selectMonthlyTaxSummary        : ==> Parameters: 1(Long)
2026-01-08T16:48:02.877+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 12(Long)
2026-01-08T16:48:02.884+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectCategorySummary          : <==      Total: 6
2026-01-08T16:48:02.884+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.E.selectMonthlyTaxSummary        : <==      Total: 2
2026-01-08T16:48:02.884+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2026-01-08T16:48:02.885+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b7dfbab]
2026-01-08T16:48:02.886+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@110ed247]
2026-01-08T16:48:02.886+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8392cc8]
2026-01-08T16:48:02.887+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:48:02.887+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:48:02.888+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:48:02.888+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 요약 조회 성공, data=[CategorySummaryDto(category=식대, totalAmount= (truncated)...]
2026-01-08T16:48:02.889+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 집계 조회 성공, data=[MonthlyTaxSummaryDto(yearMonth=2025-12, complet (truncated)...]
2026-01-08T16:48:02.889+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1800ab51] was not registered for synchronization because synchronization is not active
2026-01-08T16:48:02.890+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:48:02.891+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:48:02.893+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1503566837 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:48:02.894+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectCategorySummary          : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(COALESCE(d.actual_paid_amount, d.amount)), 0) AS totalAmount, COUNT(*) AS itemCount, COUNT(DISTINCT d.expense_report_id) AS reportCount FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? AND r.status IN ( ? ) GROUP BY d.category ORDER BY totalAmount DESC
2026-01-08T16:48:02.901+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectCategorySummary          : ==> Parameters: 1(Long), PAID(String)
2026-01-08T16:48:02.925+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectCategorySummary          : <==      Total: 6
2026-01-08T16:48:02.926+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1800ab51]
2026-01-08T16:48:02.926+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:48:02.927+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 요약 조회 성공, data=[CategorySummaryDto(category=식대, totalAmount= (truncated)...]
2026-01-08T16:48:02.928+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:48:03.161+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/status
2026-01-08T16:48:03.167+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/summary/by-category?status%5B%5D=PAID
2026-01-08T16:48:03.167+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/pending
2026-01-08T16:48:03.169+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/monthly-summary
2026-01-08T16:48:03.191+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/status
2026-01-08T16:48:03.194+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/pending
2026-01-08T16:48:03.194+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/summary/by-category?status%5B%5D=PAID
2026-01-08T16:48:03.200+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/monthly-summary
2026-01-08T16:48:03.202+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/pending
2026-01-08T16:48:03.203+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/pending
2026-01-08T16:48:03.200+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/status
2026-01-08T16:48:03.203+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/summary/by-category
2026-01-08T16:48:03.203+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/monthly-summary
2026-01-08T16:48:03.204+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/pending", parameters={}
2026-01-08T16:48:03.205+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/status
2026-01-08T16:48:03.206+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/summary/by-category?status%5B%5D=PAID
2026-01-08T16:48:03.207+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/monthly-summary
2026-01-08T16:48:03.207+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxPendingReports(String, String)
2026-01-08T16:48:03.207+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/status", parameters={}
2026-01-08T16:48:03.207+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/summary/by-category?status%5B%5D=PAID", parameters={masked}
2026-01-08T16:48:03.208+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/monthly-summary", parameters={}
2026-01-08T16:48:03.208+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxPendingReports(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:48:03.208+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxStatus(String, String)
2026-01-08T16:48:03.208+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategorySummary(String, String, String[], Boolean, Boolean)
2026-01-08T16:48:03.209+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTaxSummary(String, String)
2026-01-08T16:48:03.209+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxPendingReports(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:48:03.209+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxStatus(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:48:03.210+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategorySummary(java.lang.String,java.lang.String,java.lang.String[],java.lang.Boolean,java.lang.Boolean); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:48:03.210+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTaxSummary(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:48:03.210+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:48:03.210+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxStatus(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:48:03.212+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategorySummary(java.lang.String,java.lang.String,java.lang.String[],java.lang.Boolean,java.lang.Boolean); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:48:03.216+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTaxSummary(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:48:03.217+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c6007bf] was not registered for synchronization because synchronization is not active
2026-01-08T16:48:03.218+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:48:03.218+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:48:03.219+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:48:03.220+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@152655677 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:48:03.220+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14c8e081] was not registered for synchronization because synchronization is not active
2026-01-08T16:48:03.220+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@774c287f] was not registered for synchronization because synchronization is not active
2026-01-08T16:48:03.220+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10052f5f] was not registered for synchronization because synchronization is not active
2026-01-08T16:48:03.221+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectTaxPendingReports        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.status = 'PAID' AND (r.tax_processed = 0 OR r.tax_processed IS NULL) AND r.company_id = ? ORDER BY r.report_date DESC, r.expense_report_id DESC
2026-01-08T16:48:03.221+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@447391408 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:48:03.223+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectTaxPendingReports        : ==> Parameters: 1(Long)
2026-01-08T16:48:03.222+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1128157124 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:48:03.222+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@605109847 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:48:03.224+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectMonthlyTaxSummary        : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, SUM(CASE WHEN tax_processed = 1 THEN 1 ELSE 0 END) AS completedCount, COALESCE(SUM(COALESCE(actual_paid_amount, total_amount)), 0) AS totalAmount, COALESCE(SUM(CASE WHEN tax_processed = 1 THEN COALESCE(actual_paid_amount, total_amount) ELSE 0 END), 0) AS completedAmount FROM expense_report_tb WHERE status = 'PAID' AND company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2026-01-08T16:48:03.223+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.ExpenseMapper.selectTaxStatus    : ==>  Preparing: SELECT COUNT(*) AS totalCount, SUM(CASE WHEN (tax_processed = 0 OR tax_processed IS NULL) THEN 1 ELSE 0 END) AS pendingCount, SUM(CASE WHEN tax_processed = 1 THEN 1 ELSE 0 END) AS completedCount, CASE WHEN COUNT(*) > 0 THEN CAST(SUM(CASE WHEN tax_processed = 1 THEN 1 ELSE 0 END) AS DECIMAL) / COUNT(*) ELSE 0.0 END AS completionRate, COALESCE(SUM(COALESCE(actual_paid_amount, total_amount)), 0) AS totalAmount, COALESCE(SUM(CASE WHEN (tax_processed = 0 OR tax_processed IS NULL) THEN COALESCE(actual_paid_amount, total_amount) ELSE 0 END), 0) AS pendingAmount, COALESCE(SUM(CASE WHEN tax_processed = 1 THEN COALESCE(actual_paid_amount, total_amount) ELSE 0 END), 0) AS completedAmount FROM expense_report_tb WHERE status = 'PAID' AND company_id = ?
2026-01-08T16:48:03.224+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T16:48:03.225+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectMonthlyTaxSummary        : ==> Parameters: 1(Long)
2026-01-08T16:48:03.226+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.ExpenseMapper.selectTaxStatus    : ==> Parameters: 1(Long)
2026-01-08T16:48:03.226+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectTaxPendingReports        : <==      Total: 17
2026-01-08T16:48:03.227+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 12(Long)
2026-01-08T16:48:03.228+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c6007bf]
2026-01-08T16:48:03.232+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:48:03.230+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectMonthlyTaxSummary        : <==      Total: 2
2026-01-08T16:48:03.233+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무처리 대기 건 조회 성공, data=[ExpenseReportDto(expenseReportId=34, drafte (truncated)...]
2026-01-08T16:48:03.232+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.ExpenseMapper.selectTaxStatus    : <==      Total: 1
2026-01-08T16:48:03.234+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10052f5f]
2026-01-08T16:48:03.234+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14c8e081]
2026-01-08T16:48:03.234+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:48:03.235+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:48:03.235+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:48:03.246+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 집계 조회 성공, data=[MonthlyTaxSummaryDto(yearMonth=2025-12, complet (truncated)...]
2026-01-08T16:48:03.246+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2026-01-08T16:48:03.252+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@774c287f]
2026-01-08T16:48:03.251+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 자료 수집 현황 통계 조회 성공, data=TaxStatusDto(totalCount=17, pendingCoun (truncated)...]
2026-01-08T16:48:03.252+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:48:03.253+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:48:03.254+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:48:03.255+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34a7391c] was not registered for synchronization because synchronization is not active
2026-01-08T16:48:03.257+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@582938663 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:48:03.258+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectCategorySummary          : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(COALESCE(d.actual_paid_amount, d.amount)), 0) AS totalAmount, COUNT(*) AS itemCount, COUNT(DISTINCT d.expense_report_id) AS reportCount FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? AND r.status IN ( ? ) GROUP BY d.category ORDER BY totalAmount DESC
2026-01-08T16:48:03.258+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectCategorySummary          : ==> Parameters: 1(Long), PAID(String)
2026-01-08T16:48:03.260+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectCategorySummary          : <==      Total: 6
2026-01-08T16:48:03.260+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34a7391c]
2026-01-08T16:48:03.261+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:48:03.262+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 요약 조회 성공, data=[CategorySummaryDto(category=식대, totalAmount= (truncated)...]
2026-01-08T16:48:03.263+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:48:03.918+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:48:03.921+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T16:48:03.922+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/status
2026-01-08T16:48:03.922+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/pending
2026-01-08T16:48:03.922+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/summary/by-category?status%5B%5D=PAID
2026-01-08T16:48:03.922+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/monthly-summary
2026-01-08T16:48:03.925+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/status
2026-01-08T16:48:03.926+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/pending
2026-01-08T16:48:03.928+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/summary/by-category?status%5B%5D=PAID
2026-01-08T16:48:03.932+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/monthly-summary
2026-01-08T16:48:03.934+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:48:03.935+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/status
2026-01-08T16:48:03.936+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T16:48:03.941+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/status
2026-01-08T16:48:03.939+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:48:03.942+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T16:48:03.942+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/status
2026-01-08T16:48:03.944+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/status", parameters={}
2026-01-08T16:48:03.945+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxStatus(String, String)
2026-01-08T16:48:03.947+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxStatus(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:48:03.942+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:48:03.942+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T16:48:03.952+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxStatus(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:48:03.954+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:48:03.969+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T16:48:03.970+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:48:03.970+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:48:03.970+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T16:48:03.971+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:48:03.977+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/status
2026-01-08T16:48:03.979+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@353c90f8] was not registered for synchronization because synchronization is not active
2026-01-08T16:48:03.983+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:48:03.987+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/pending
2026-01-08T16:48:03.987+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/summary/by-category?status%5B%5D=PAID
2026-01-08T16:48:03.987+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74f4089b] was not registered for synchronization because synchronization is not active
2026-01-08T16:48:04.002+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/summary/by-category
2026-01-08T16:48:03.993+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/status
2026-01-08T16:48:04.003+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/status
2026-01-08T16:48:03.996+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25fa328c] was not registered for synchronization because synchronization is not active
2026-01-08T16:48:04.001+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/pending
2026-01-08T16:48:04.002+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/summary/by-category?status%5B%5D=PAID
2026-01-08T16:48:04.003+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@948550144 wrapping com.mysql.cj.jdbc.ConnectionImpl@722e25d8] will not be managed by Spring
2026-01-08T16:48:04.003+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/status", parameters={}
2026-01-08T16:48:04.003+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1059861881 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:48:04.004+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/pending
2026-01-08T16:48:04.004+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/summary/by-category?status%5B%5D=PAID", parameters={masked}
2026-01-08T16:48:04.004+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@366033552 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:48:04.004+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.ExpenseMapper.selectTaxStatus    : ==>  Preparing: SELECT COUNT(*) AS totalCount, SUM(CASE WHEN (tax_processed = 0 OR tax_processed IS NULL) THEN 1 ELSE 0 END) AS pendingCount, SUM(CASE WHEN tax_processed = 1 THEN 1 ELSE 0 END) AS completedCount, CASE WHEN COUNT(*) > 0 THEN CAST(SUM(CASE WHEN tax_processed = 1 THEN 1 ELSE 0 END) AS DECIMAL) / COUNT(*) ELSE 0.0 END AS completionRate, COALESCE(SUM(COALESCE(actual_paid_amount, total_amount)), 0) AS totalAmount, COALESCE(SUM(CASE WHEN (tax_processed = 0 OR tax_processed IS NULL) THEN COALESCE(actual_paid_amount, total_amount) ELSE 0 END), 0) AS pendingAmount, COALESCE(SUM(CASE WHEN tax_processed = 1 THEN COALESCE(actual_paid_amount, total_amount) ELSE 0 END), 0) AS completedAmount FROM expense_report_tb WHERE status = 'PAID' AND company_id = ?
2026-01-08T16:48:04.005+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxStatus(String, String)
2026-01-08T16:48:04.005+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:48:04.005+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/pending", parameters={}
2026-01-08T16:48:04.005+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategorySummary(String, String, String[], Boolean, Boolean)
2026-01-08T16:48:04.005+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T16:48:04.007+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.ExpenseMapper.selectTaxStatus    : ==> Parameters: 1(Long)
2026-01-08T16:48:04.008+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxStatus(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:48:04.011+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:48:04.011+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxPendingReports(String, String)
2026-01-08T16:48:04.011+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategorySummary(java.lang.String,java.lang.String,java.lang.String[],java.lang.Boolean,java.lang.Boolean); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:48:04.011+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 12(Long)
2026-01-08T16:48:04.012+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxStatus(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:48:04.013+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxPendingReports(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:48:04.019+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategorySummary(java.lang.String,java.lang.String,java.lang.String[],java.lang.Boolean,java.lang.Boolean); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:48:04.020+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.ExpenseMapper.selectTaxStatus    : <==      Total: 1
2026-01-08T16:48:04.020+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T16:48:04.021+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:48:04.021+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxPendingReports(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:48:04.022+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:48:04.023+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@353c90f8]
2026-01-08T16:48:04.023+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74f4089b]
2026-01-08T16:48:04.024+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c06f25b] was not registered for synchronization because synchronization is not active
2026-01-08T16:48:04.024+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:48:04.025+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T16:48:04.025+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29a9184a] was not registered for synchronization because synchronization is not active
2026-01-08T16:48:04.026+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:48:04.026+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:48:04.028+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 자료 수집 현황 통계 조회 성공, data=TaxStatusDto(totalCount=17, pendingCoun (truncated)...]
2026-01-08T16:48:04.026+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1151114178 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:48:04.031+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.ExpenseMapper.selectTaxStatus    : ==>  Preparing: SELECT COUNT(*) AS totalCount, SUM(CASE WHEN (tax_processed = 0 OR tax_processed IS NULL) THEN 1 ELSE 0 END) AS pendingCount, SUM(CASE WHEN tax_processed = 1 THEN 1 ELSE 0 END) AS completedCount, CASE WHEN COUNT(*) > 0 THEN CAST(SUM(CASE WHEN tax_processed = 1 THEN 1 ELSE 0 END) AS DECIMAL) / COUNT(*) ELSE 0.0 END AS completionRate, COALESCE(SUM(COALESCE(actual_paid_amount, total_amount)), 0) AS totalAmount, COALESCE(SUM(CASE WHEN (tax_processed = 0 OR tax_processed IS NULL) THEN COALESCE(actual_paid_amount, total_amount) ELSE 0 END), 0) AS pendingAmount, COALESCE(SUM(CASE WHEN tax_processed = 1 THEN COALESCE(actual_paid_amount, total_amount) ELSE 0 END), 0) AS completedAmount FROM expense_report_tb WHERE status = 'PAID' AND company_id = ?
2026-01-08T16:48:04.027+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65cf6ccb] was not registered for synchronization because synchronization is not active
2026-01-08T16:48:04.027+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25fa328c]
2026-01-08T16:48:04.029+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T16:48:04.030+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:48:04.034+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.ExpenseMapper.selectTaxStatus    : ==> Parameters: 1(Long)
2026-01-08T16:48:04.035+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:48:04.036+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:48:04.037+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T16:48:04.039+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:48:04.042+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/monthly-summary
2026-01-08T16:48:04.042+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/pending
2026-01-08T16:48:04.046+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1454092820 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:48:04.049+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1437223876 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:48:04.050+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.ExpenseMapper.selectTaxStatus    : <==      Total: 1
2026-01-08T16:48:04.055+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/monthly-summary
2026-01-08T16:48:04.055+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/pending
2026-01-08T16:48:04.055+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T16:48:04.056+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectTaxPendingReports        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.status = 'PAID' AND (r.tax_processed = 0 OR r.tax_processed IS NULL) AND r.company_id = ? ORDER BY r.report_date DESC, r.expense_report_id DESC
2026-01-08T16:48:04.057+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c06f25b]
2026-01-08T16:48:04.057+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/monthly-summary
2026-01-08T16:48:04.059+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/pending
2026-01-08T16:48:04.072+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/monthly-summary", parameters={}
2026-01-08T16:48:04.061+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/summary/by-category?status%5B%5D=PAID
2026-01-08T16:48:04.062+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 12(Long)
2026-01-08T16:48:04.070+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectTaxPendingReports        : ==> Parameters: 1(Long)
2026-01-08T16:48:04.070+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:48:04.072+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/pending", parameters={}
2026-01-08T16:48:04.072+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTaxSummary(String, String)
2026-01-08T16:48:04.073+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 자료 수집 현황 통계 조회 성공, data=TaxStatusDto(totalCount=17, pendingCoun (truncated)...]
2026-01-08T16:48:04.074+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/summary/by-category
2026-01-08T16:48:04.074+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxPendingReports(String, String)
2026-01-08T16:48:04.075+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTaxSummary(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:48:04.077+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:48:04.078+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2026-01-08T16:48:04.078+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectTaxPendingReports        : <==      Total: 17
2026-01-08T16:48:04.088+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65cf6ccb]
2026-01-08T16:48:04.078+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/summary/by-category?status%5B%5D=PAID
2026-01-08T16:48:04.079+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxPendingReports(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:48:04.082+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTaxSummary(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:48:04.086+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/monthly-summary
2026-01-08T16:48:04.087+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29a9184a]
2026-01-08T16:48:04.089+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:48:04.089+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/summary/by-category?status%5B%5D=PAID", parameters={masked}
2026-01-08T16:48:04.090+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxPendingReports(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:48:04.090+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:48:04.091+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:48:04.095+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70531cd1] was not registered for synchronization because synchronization is not active
2026-01-08T16:48:04.092+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/monthly-summary
2026-01-08T16:48:04.094+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무처리 대기 건 조회 성공, data=[ExpenseReportDto(expenseReportId=34, drafte (truncated)...]
2026-01-08T16:48:04.094+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategorySummary(String, String, String[], Boolean, Boolean)
2026-01-08T16:48:04.102+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:48:04.095+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:48:04.095+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@250c6d20] was not registered for synchronization because synchronization is not active
2026-01-08T16:48:04.096+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@540210339 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:48:04.097+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/monthly-summary
2026-01-08T16:48:04.103+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategorySummary(java.lang.String,java.lang.String,java.lang.String[],java.lang.Boolean,java.lang.Boolean); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:48:04.107+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1faab33] was not registered for synchronization because synchronization is not active
2026-01-08T16:48:04.107+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1115103020 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:48:04.107+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectCategorySummary          : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(COALESCE(d.actual_paid_amount, d.amount)), 0) AS totalAmount, COUNT(*) AS itemCount, COUNT(DISTINCT d.expense_report_id) AS reportCount FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? AND r.status IN ( ? ) GROUP BY d.category ORDER BY totalAmount DESC
2026-01-08T16:48:04.108+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/monthly-summary", parameters={}
2026-01-08T16:48:04.108+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategorySummary(java.lang.String,java.lang.String,java.lang.String[],java.lang.Boolean,java.lang.Boolean); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:48:04.109+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.E.selectMonthlyTaxSummary        : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, SUM(CASE WHEN tax_processed = 1 THEN 1 ELSE 0 END) AS completedCount, COALESCE(SUM(COALESCE(actual_paid_amount, total_amount)), 0) AS totalAmount, COALESCE(SUM(CASE WHEN tax_processed = 1 THEN COALESCE(actual_paid_amount, total_amount) ELSE 0 END), 0) AS completedAmount FROM expense_report_tb WHERE status = 'PAID' AND company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2026-01-08T16:48:04.109+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@943461252 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:48:04.109+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectCategorySummary          : ==> Parameters: 1(Long), PAID(String)
2026-01-08T16:48:04.109+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTaxSummary(String, String)
2026-01-08T16:48:04.109+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:48:04.111+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTaxSummary(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:48:04.114+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTaxSummary(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:48:04.110+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.E.selectMonthlyTaxSummary        : ==> Parameters: 1(Long)
2026-01-08T16:48:04.110+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectTaxPendingReports        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.status = 'PAID' AND (r.tax_processed = 0 OR r.tax_processed IS NULL) AND r.company_id = ? ORDER BY r.report_date DESC, r.expense_report_id DESC
2026-01-08T16:48:04.111+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e1dc1cb] was not registered for synchronization because synchronization is not active
2026-01-08T16:48:04.117+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:48:04.119+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectTaxPendingReports        : ==> Parameters: 1(Long)
2026-01-08T16:48:04.123+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@755165793 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:48:04.123+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@159a220b] was not registered for synchronization because synchronization is not active
2026-01-08T16:48:04.125+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T16:48:04.126+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectCategorySummary          : <==      Total: 6
2026-01-08T16:48:04.126+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.E.selectMonthlyTaxSummary        : <==      Total: 2
2026-01-08T16:48:04.127+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 12(Long)
2026-01-08T16:48:04.127+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70531cd1]
2026-01-08T16:48:04.127+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@250c6d20]
2026-01-08T16:48:04.128+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:48:04.128+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1293054621 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:48:04.129+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:48:04.129+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 요약 조회 성공, data=[CategorySummaryDto(category=식대, totalAmount= (truncated)...]
2026-01-08T16:48:04.130+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectTaxPendingReports        : <==      Total: 17
2026-01-08T16:48:04.134+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectMonthlyTaxSummary        : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, SUM(CASE WHEN tax_processed = 1 THEN 1 ELSE 0 END) AS completedCount, COALESCE(SUM(COALESCE(actual_paid_amount, total_amount)), 0) AS totalAmount, COALESCE(SUM(CASE WHEN tax_processed = 1 THEN COALESCE(actual_paid_amount, total_amount) ELSE 0 END), 0) AS completedAmount FROM expense_report_tb WHERE status = 'PAID' AND company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2026-01-08T16:48:04.135+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 집계 조회 성공, data=[MonthlyTaxSummaryDto(yearMonth=2025-12, complet (truncated)...]
2026-01-08T16:48:04.136+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:48:04.138+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1faab33]
2026-01-08T16:48:04.139+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2026-01-08T16:48:04.139+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectMonthlyTaxSummary        : ==> Parameters: 1(Long)
2026-01-08T16:48:04.140+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:48:04.143+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e1dc1cb]
2026-01-08T16:48:04.143+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:48:04.151+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:48:04.151+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무처리 대기 건 조회 성공, data=[ExpenseReportDto(expenseReportId=34, drafte (truncated)...]
2026-01-08T16:48:04.152+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50204994] was not registered for synchronization because synchronization is not active
2026-01-08T16:48:04.153+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:48:04.158+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1084479938 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:48:04.159+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectCategorySummary          : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(COALESCE(d.actual_paid_amount, d.amount)), 0) AS totalAmount, COUNT(*) AS itemCount, COUNT(DISTINCT d.expense_report_id) AS reportCount FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? AND r.status IN ( ? ) GROUP BY d.category ORDER BY totalAmount DESC
2026-01-08T16:48:04.160+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectCategorySummary          : ==> Parameters: 1(Long), PAID(String)
2026-01-08T16:48:04.176+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectMonthlyTaxSummary        : <==      Total: 2
2026-01-08T16:48:04.186+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@159a220b]
2026-01-08T16:48:04.187+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:48:04.189+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 집계 조회 성공, data=[MonthlyTaxSummaryDto(yearMonth=2025-12, complet (truncated)...]
2026-01-08T16:48:04.190+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:48:04.191+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectCategorySummary          : <==      Total: 6
2026-01-08T16:48:04.194+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50204994]
2026-01-08T16:48:04.195+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:48:04.200+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 요약 조회 성공, data=[CategorySummaryDto(category=식대, totalAmount= (truncated)...]
2026-01-08T16:48:04.201+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:48:04.533+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/status
2026-01-08T16:48:04.533+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/pending
2026-01-08T16:48:04.534+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/summary/by-category?status%5B%5D=PAID
2026-01-08T16:48:04.534+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/monthly-summary
2026-01-08T16:48:04.539+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/status
2026-01-08T16:48:04.540+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/pending
2026-01-08T16:48:04.541+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/status
2026-01-08T16:48:04.540+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/summary/by-category?status%5B%5D=PAID
2026-01-08T16:48:04.540+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/monthly-summary
2026-01-08T16:48:04.542+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/status
2026-01-08T16:48:04.543+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/status", parameters={}
2026-01-08T16:48:04.544+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/monthly-summary
2026-01-08T16:48:04.542+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/pending
2026-01-08T16:48:04.544+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/summary/by-category
2026-01-08T16:48:04.544+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxStatus(String, String)
2026-01-08T16:48:04.544+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/monthly-summary
2026-01-08T16:48:04.549+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/monthly-summary", parameters={}
2026-01-08T16:48:04.551+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTaxSummary(String, String)
2026-01-08T16:48:04.552+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTaxSummary(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:48:04.557+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTaxSummary(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:48:04.545+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/pending
2026-01-08T16:48:04.545+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/summary/by-category?status%5B%5D=PAID
2026-01-08T16:48:04.546+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxStatus(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:48:04.558+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:48:04.558+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/pending", parameters={}
2026-01-08T16:48:04.558+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/summary/by-category?status%5B%5D=PAID", parameters={masked}
2026-01-08T16:48:04.559+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxStatus(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:48:04.559+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c86c927] was not registered for synchronization because synchronization is not active
2026-01-08T16:48:04.560+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxPendingReports(String, String)
2026-01-08T16:48:04.560+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategorySummary(String, String, String[], Boolean, Boolean)
2026-01-08T16:48:04.560+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:48:04.568+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12d63ad6] was not registered for synchronization because synchronization is not active
2026-01-08T16:48:04.561+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@410079415 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:48:04.562+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxPendingReports(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:48:04.568+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategorySummary(java.lang.String,java.lang.String,java.lang.String[],java.lang.Boolean,java.lang.Boolean); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:48:04.569+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1777880869 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:48:04.569+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectMonthlyTaxSummary        : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, SUM(CASE WHEN tax_processed = 1 THEN 1 ELSE 0 END) AS completedCount, COALESCE(SUM(COALESCE(actual_paid_amount, total_amount)), 0) AS totalAmount, COALESCE(SUM(CASE WHEN tax_processed = 1 THEN COALESCE(actual_paid_amount, total_amount) ELSE 0 END), 0) AS completedAmount FROM expense_report_tb WHERE status = 'PAID' AND company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2026-01-08T16:48:04.572+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxPendingReports(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:48:04.574+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategorySummary(java.lang.String,java.lang.String,java.lang.String[],java.lang.Boolean,java.lang.Boolean); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:48:04.574+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.ExpenseMapper.selectTaxStatus    : ==>  Preparing: SELECT COUNT(*) AS totalCount, SUM(CASE WHEN (tax_processed = 0 OR tax_processed IS NULL) THEN 1 ELSE 0 END) AS pendingCount, SUM(CASE WHEN tax_processed = 1 THEN 1 ELSE 0 END) AS completedCount, CASE WHEN COUNT(*) > 0 THEN CAST(SUM(CASE WHEN tax_processed = 1 THEN 1 ELSE 0 END) AS DECIMAL) / COUNT(*) ELSE 0.0 END AS completionRate, COALESCE(SUM(COALESCE(actual_paid_amount, total_amount)), 0) AS totalAmount, COALESCE(SUM(CASE WHEN (tax_processed = 0 OR tax_processed IS NULL) THEN COALESCE(actual_paid_amount, total_amount) ELSE 0 END), 0) AS pendingAmount, COALESCE(SUM(CASE WHEN tax_processed = 1 THEN COALESCE(actual_paid_amount, total_amount) ELSE 0 END), 0) AS completedAmount FROM expense_report_tb WHERE status = 'PAID' AND company_id = ?
2026-01-08T16:48:04.575+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectMonthlyTaxSummary        : ==> Parameters: 1(Long)
2026-01-08T16:48:04.575+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:48:04.595+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73ec17c6] was not registered for synchronization because synchronization is not active
2026-01-08T16:48:04.575+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:48:04.577+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.ExpenseMapper.selectTaxStatus    : ==> Parameters: 1(Long)
2026-01-08T16:48:04.599+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@456206590 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:48:04.602+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@580c9de] was not registered for synchronization because synchronization is not active
2026-01-08T16:48:04.603+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectTaxPendingReports        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.status = 'PAID' AND (r.tax_processed = 0 OR r.tax_processed IS NULL) AND r.company_id = ? ORDER BY r.report_date DESC, r.expense_report_id DESC
2026-01-08T16:48:04.603+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectMonthlyTaxSummary        : <==      Total: 2
2026-01-08T16:48:04.604+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1134805283 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:48:04.605+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c86c927]
2026-01-08T16:48:04.605+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectTaxPendingReports        : ==> Parameters: 1(Long)
2026-01-08T16:48:04.605+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.ExpenseMapper.selectTaxStatus    : <==      Total: 1
2026-01-08T16:48:04.605+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T16:48:04.605+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:48:04.605+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12d63ad6]
2026-01-08T16:48:04.606+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 12(Long)
2026-01-08T16:48:04.606+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 집계 조회 성공, data=[MonthlyTaxSummaryDto(yearMonth=2025-12, complet (truncated)...]
2026-01-08T16:48:04.607+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:48:04.608+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:48:04.608+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectTaxPendingReports        : <==      Total: 17
2026-01-08T16:48:04.609+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 자료 수집 현황 통계 조회 성공, data=TaxStatusDto(totalCount=17, pendingCoun (truncated)...]
2026-01-08T16:48:04.611+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73ec17c6]
2026-01-08T16:48:04.612+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:48:04.612+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:48:04.617+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2026-01-08T16:48:04.618+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무처리 대기 건 조회 성공, data=[ExpenseReportDto(expenseReportId=34, drafte (truncated)...]
2026-01-08T16:48:04.618+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@580c9de]
2026-01-08T16:48:04.620+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:48:04.621+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:48:04.621+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61457dc1] was not registered for synchronization because synchronization is not active
2026-01-08T16:48:04.623+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1653114382 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:48:04.623+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.E.selectCategorySummary          : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(COALESCE(d.actual_paid_amount, d.amount)), 0) AS totalAmount, COUNT(*) AS itemCount, COUNT(DISTINCT d.expense_report_id) AS reportCount FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? AND r.status IN ( ? ) GROUP BY d.category ORDER BY totalAmount DESC
2026-01-08T16:48:04.624+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.E.selectCategorySummary          : ==> Parameters: 1(Long), PAID(String)
2026-01-08T16:48:04.627+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.E.selectCategorySummary          : <==      Total: 6
2026-01-08T16:48:04.627+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61457dc1]
2026-01-08T16:48:04.628+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:48:04.630+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 요약 조회 성공, data=[CategorySummaryDto(category=식대, totalAmount= (truncated)...]
2026-01-08T16:48:04.633+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:06.255+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:49:06.256+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T16:49:06.256+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/status
2026-01-08T16:49:06.257+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/summary/by-category?status%5B%5D=PAID
2026-01-08T16:49:06.257+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/pending
2026-01-08T16:49:06.356+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/status
2026-01-08T16:49:06.258+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/monthly-summary
2026-01-08T16:49:06.322+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2026-01-08T16:49:06.340+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:49:06.350+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T16:49:06.359+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/pending
2026-01-08T16:49:06.362+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/summary/by-category?status%5B%5D=PAID
2026-01-08T16:49:06.373+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/monthly-summary
2026-01-08T16:49:06.373+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:49:06.373+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T16:49:06.376+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/status
2026-01-08T16:49:06.379+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/summary/by-category?status%5B%5D=PAID
2026-01-08T16:49:06.383+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/pending
2026-01-08T16:49:06.385+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:49:06.386+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/status
2026-01-08T16:49:06.386+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T16:49:06.410+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/status
2026-01-08T16:49:06.387+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/status
2026-01-08T16:49:06.408+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/pending
2026-01-08T16:49:06.408+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/summary/by-category
2026-01-08T16:49:06.409+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:49:06.410+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T16:49:06.411+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/status
2026-01-08T16:49:06.411+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/status
2026-01-08T16:49:06.413+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/pending
2026-01-08T16:49:06.415+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/summary/by-category?status%5B%5D=PAID
2026-01-08T16:49:06.415+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:49:06.416+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T16:49:06.416+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/status", parameters={}
2026-01-08T16:49:06.416+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/status", parameters={}
2026-01-08T16:49:06.421+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/pending", parameters={}
2026-01-08T16:49:06.422+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/summary/by-category?status%5B%5D=PAID", parameters={masked}
2026-01-08T16:49:06.422+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:49:06.422+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T16:49:06.423+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxStatus(String, String)
2026-01-08T16:49:06.423+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxStatus(String, String)
2026-01-08T16:49:06.423+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxPendingReports(String, String)
2026-01-08T16:49:06.423+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategorySummary(String, String, String[], Boolean, Boolean)
2026-01-08T16:49:06.424+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:06.424+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:06.424+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxStatus(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:49:06.424+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxStatus(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:49:06.425+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxPendingReports(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:49:06.425+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4645a1c9] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:06.425+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategorySummary(java.lang.String,java.lang.String,java.lang.String[],java.lang.Boolean,java.lang.Boolean); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:49:06.425+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ad8e3b5] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:06.425+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxStatus(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:49:06.426+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxStatus(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:49:06.426+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxPendingReports(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:49:06.436+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategorySummary(java.lang.String,java.lang.String,java.lang.String[],java.lang.Boolean,java.lang.Boolean); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:49:06.437+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1822951269 wrapping com.mysql.cj.jdbc.ConnectionImpl@722e25d8] will not be managed by Spring
2026-01-08T16:49:06.437+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:06.440+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77de8a95] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:06.438+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:06.438+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:06.440+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:06.440+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:49:06.441+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@106289300 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:49:06.441+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b50d4d8] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:06.441+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6240d64b] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:06.441+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64a08d8b] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:06.443+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:49:06.443+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T16:49:06.443+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@961720315 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:06.460+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1464613239 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:49:06.460+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1963636247 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:49:06.461+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 12(Long)
2026-01-08T16:49:06.464+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.ExpenseMapper.selectTaxStatus    : ==>  Preparing: SELECT COUNT(*) AS totalCount, SUM(CASE WHEN (tax_processed = 0 OR tax_processed IS NULL) THEN 1 ELSE 0 END) AS pendingCount, SUM(CASE WHEN tax_processed = 1 THEN 1 ELSE 0 END) AS completedCount, CASE WHEN COUNT(*) > 0 THEN CAST(SUM(CASE WHEN tax_processed = 1 THEN 1 ELSE 0 END) AS DECIMAL) / COUNT(*) ELSE 0.0 END AS completionRate, COALESCE(SUM(COALESCE(actual_paid_amount, total_amount)), 0) AS totalAmount, COALESCE(SUM(CASE WHEN (tax_processed = 0 OR tax_processed IS NULL) THEN COALESCE(actual_paid_amount, total_amount) ELSE 0 END), 0) AS pendingAmount, COALESCE(SUM(CASE WHEN tax_processed = 1 THEN COALESCE(actual_paid_amount, total_amount) ELSE 0 END), 0) AS completedAmount FROM expense_report_tb WHERE status = 'PAID' AND company_id = ?
2026-01-08T16:49:06.464+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.ExpenseMapper.selectTaxStatus    : ==>  Preparing: SELECT COUNT(*) AS totalCount, SUM(CASE WHEN (tax_processed = 0 OR tax_processed IS NULL) THEN 1 ELSE 0 END) AS pendingCount, SUM(CASE WHEN tax_processed = 1 THEN 1 ELSE 0 END) AS completedCount, CASE WHEN COUNT(*) > 0 THEN CAST(SUM(CASE WHEN tax_processed = 1 THEN 1 ELSE 0 END) AS DECIMAL) / COUNT(*) ELSE 0.0 END AS completionRate, COALESCE(SUM(COALESCE(actual_paid_amount, total_amount)), 0) AS totalAmount, COALESCE(SUM(CASE WHEN (tax_processed = 0 OR tax_processed IS NULL) THEN COALESCE(actual_paid_amount, total_amount) ELSE 0 END), 0) AS pendingAmount, COALESCE(SUM(CASE WHEN tax_processed = 1 THEN COALESCE(actual_paid_amount, total_amount) ELSE 0 END), 0) AS completedAmount FROM expense_report_tb WHERE status = 'PAID' AND company_id = ?
2026-01-08T16:49:06.464+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectTaxPendingReports        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.status = 'PAID' AND (r.tax_processed = 0 OR r.tax_processed IS NULL) AND r.company_id = ? ORDER BY r.report_date DESC, r.expense_report_id DESC
2026-01-08T16:49:06.465+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.ExpenseMapper.selectTaxStatus    : ==> Parameters: 1(Long)
2026-01-08T16:49:06.467+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.ExpenseMapper.selectTaxStatus    : ==> Parameters: 1(Long)
2026-01-08T16:49:06.469+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1718595341 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:49:06.469+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectTaxPendingReports        : ==> Parameters: 1(Long)
2026-01-08T16:49:06.469+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T16:49:06.470+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T16:49:06.472+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T16:49:06.473+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ad8e3b5]
2026-01-08T16:49:06.474+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.ExpenseMapper.selectTaxStatus    : <==      Total: 1
2026-01-08T16:49:06.475+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.ExpenseMapper.selectTaxStatus    : <==      Total: 1
2026-01-08T16:49:06.475+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4645a1c9]
2026-01-08T16:49:06.476+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 12(Long)
2026-01-08T16:49:06.477+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:06.477+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b50d4d8]
2026-01-08T16:49:06.477+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77de8a95]
2026-01-08T16:49:06.480+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:06.484+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectTaxPendingReports        : <==      Total: 17
2026-01-08T16:49:06.485+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T16:49:06.485+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:06.486+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:06.489+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T16:49:06.489+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6240d64b]
2026-01-08T16:49:06.490+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:06.491+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 자료 수집 현황 통계 조회 성공, data=TaxStatusDto(totalCount=17, pendingCoun (truncated)...]
2026-01-08T16:49:06.492+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2026-01-08T16:49:06.493+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 자료 수집 현황 통계 조회 성공, data=TaxStatusDto(totalCount=17, pendingCoun (truncated)...]
2026-01-08T16:49:06.494+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:06.498+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:06.502+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/monthly-summary
2026-01-08T16:49:06.503+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:06.504+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64a08d8b]
2026-01-08T16:49:06.506+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:06.511+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2026-01-08T16:49:06.523+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무처리 대기 건 조회 성공, data=[ExpenseReportDto(expenseReportId=34, drafte (truncated)...]
2026-01-08T16:49:06.525+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/monthly-summary
2026-01-08T16:49:06.532+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:06.525+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:49:06.525+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:06.527+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T16:49:06.530+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/companies
2026-01-08T16:49:06.533+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/monthly-summary
2026-01-08T16:49:06.535+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/pending
2026-01-08T16:49:06.538+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5531dc1b] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:06.539+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:49:06.539+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T16:49:06.541+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2026-01-08T16:49:06.541+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/monthly-summary", parameters={}
2026-01-08T16:49:06.542+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/pending
2026-01-08T16:49:06.543+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1344472437 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:49:06.543+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:49:06.543+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T16:49:06.544+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2026-01-08T16:49:06.546+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTaxSummary(String, String)
2026-01-08T16:49:06.548+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/pending
2026-01-08T16:49:06.548+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectCategorySummary          : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(COALESCE(d.actual_paid_amount, d.amount)), 0) AS totalAmount, COUNT(*) AS itemCount, COUNT(DISTINCT d.expense_report_id) AS reportCount FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? AND r.status IN ( ? ) GROUP BY d.category ORDER BY totalAmount DESC
2026-01-08T16:49:06.549+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:49:06.552+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectCategorySummary          : ==> Parameters: 1(Long), PAID(String)
2026-01-08T16:49:06.549+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T16:49:06.550+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2026-01-08T16:49:06.550+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/pending", parameters={}
2026-01-08T16:49:06.550+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTaxSummary(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:49:06.552+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:49:06.552+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T16:49:06.553+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:06.558+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxPendingReports(String, String)
2026-01-08T16:49:06.559+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTaxSummary(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:49:06.560+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:06.560+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:06.560+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46f7c1bc] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:06.560+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectCategorySummary          : <==      Total: 6
2026-01-08T16:49:06.561+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxPendingReports(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:49:06.568+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxPendingReports(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:49:06.563+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:06.572+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:06.565+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f5e1adf] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:06.566+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11e3cb37] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:06.567+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1011017652 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:06.567+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5531dc1b]
2026-01-08T16:49:06.572+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f687156] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:06.572+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31b6803f] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:06.576+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1011590808 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:49:06.576+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectTaxPendingReports        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.status = 'PAID' AND (r.tax_processed = 0 OR r.tax_processed IS NULL) AND r.company_id = ? ORDER BY r.report_date DESC, r.expense_report_id DESC
2026-01-08T16:49:06.574+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1283300712 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:49:06.574+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@35826922 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:49:06.574+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2026-01-08T16:49:06.575+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:06.575+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1971959823 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:49:06.581+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectTaxPendingReports        : ==> Parameters: 1(Long)
2026-01-08T16:49:06.581+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:49:06.583+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T16:49:06.584+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 12(Long)
2026-01-08T16:49:06.584+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 요약 조회 성공, data=[CategorySummaryDto(category=식대, totalAmount= (truncated)...]
2026-01-08T16:49:06.584+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.E.selectMonthlyTaxSummary        : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, SUM(CASE WHEN tax_processed = 1 THEN 1 ELSE 0 END) AS completedCount, COALESCE(SUM(COALESCE(actual_paid_amount, total_amount)), 0) AS totalAmount, COALESCE(SUM(CASE WHEN tax_processed = 1 THEN COALESCE(actual_paid_amount, total_amount) ELSE 0 END), 0) AS completedAmount FROM expense_report_tb WHERE status = 'PAID' AND company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2026-01-08T16:49:06.586+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:49:06.587+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 12(Long)
2026-01-08T16:49:06.588+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectTaxPendingReports        : <==      Total: 17
2026-01-08T16:49:06.590+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:06.592+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.E.selectMonthlyTaxSummary        : ==> Parameters: 1(Long)
2026-01-08T16:49:06.593+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2026-01-08T16:49:06.593+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31b6803f]
2026-01-08T16:49:06.594+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T16:49:06.594+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T16:49:06.599+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/summary/by-category?status%5B%5D=PAID
2026-01-08T16:49:06.600+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46f7c1bc]
2026-01-08T16:49:06.601+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:06.601+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11e3cb37]
2026-01-08T16:49:06.601+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f5e1adf]
2026-01-08T16:49:06.603+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:06.602+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:06.603+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무처리 대기 건 조회 성공, data=[ExpenseReportDto(expenseReportId=34, drafte (truncated)...]
2026-01-08T16:49:06.603+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/summary/by-category
2026-01-08T16:49:06.603+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.E.selectMonthlyTaxSummary        : <==      Total: 2
2026-01-08T16:49:06.603+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:06.603+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T16:49:06.604+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2026-01-08T16:49:06.604+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/summary/by-category?status%5B%5D=PAID
2026-01-08T16:49:06.605+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:06.607+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f687156]
2026-01-08T16:49:06.607+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T16:49:06.608+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:06.608+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:06.611+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:06.608+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/summary/by-category?status%5B%5D=PAID", parameters={masked}
2026-01-08T16:49:06.610+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:06.610+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/monthly-summary
2026-01-08T16:49:06.618+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategorySummary(String, String, String[], Boolean, Boolean)
2026-01-08T16:49:06.618+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 집계 조회 성공, data=[MonthlyTaxSummaryDto(yearMonth=2025-12, complet (truncated)...]
2026-01-08T16:49:06.619+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategorySummary(java.lang.String,java.lang.String,java.lang.String[],java.lang.Boolean,java.lang.Boolean); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:49:06.620+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/monthly-summary
2026-01-08T16:49:06.621+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:06.623+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategorySummary(java.lang.String,java.lang.String,java.lang.String[],java.lang.Boolean,java.lang.Boolean); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:49:06.623+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/monthly-summary
2026-01-08T16:49:06.625+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/monthly-summary", parameters={}
2026-01-08T16:49:06.625+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:06.625+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTaxSummary(String, String)
2026-01-08T16:49:06.625+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78b4b4f3] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:06.626+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTaxSummary(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:49:06.626+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@220673040 wrapping com.mysql.cj.jdbc.ConnectionImpl@722e25d8] will not be managed by Spring
2026-01-08T16:49:06.626+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTaxSummary(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:49:06.626+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T16:49:06.627+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:06.631+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 12(Long)
2026-01-08T16:49:06.631+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ee7c944] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:06.632+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@615382143 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:49:06.634+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectMonthlyTaxSummary        : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, SUM(CASE WHEN tax_processed = 1 THEN 1 ELSE 0 END) AS completedCount, COALESCE(SUM(COALESCE(actual_paid_amount, total_amount)), 0) AS totalAmount, COALESCE(SUM(CASE WHEN tax_processed = 1 THEN COALESCE(actual_paid_amount, total_amount) ELSE 0 END), 0) AS completedAmount FROM expense_report_tb WHERE status = 'PAID' AND company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2026-01-08T16:49:06.634+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2026-01-08T16:49:06.636+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78b4b4f3]
2026-01-08T16:49:06.635+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectMonthlyTaxSummary        : ==> Parameters: 1(Long)
2026-01-08T16:49:06.638+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:06.639+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a7c5a69] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:06.640+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@892292085 wrapping com.mysql.cj.jdbc.ConnectionImpl@722e25d8] will not be managed by Spring
2026-01-08T16:49:06.640+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectMonthlyTaxSummary        : <==      Total: 2
2026-01-08T16:49:06.640+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectCategorySummary          : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(COALESCE(d.actual_paid_amount, d.amount)), 0) AS totalAmount, COUNT(*) AS itemCount, COUNT(DISTINCT d.expense_report_id) AS reportCount FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? AND r.status IN ( ? ) GROUP BY d.category ORDER BY totalAmount DESC
2026-01-08T16:49:06.640+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ee7c944]
2026-01-08T16:49:06.641+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectCategorySummary          : ==> Parameters: 1(Long), PAID(String)
2026-01-08T16:49:06.641+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:06.642+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 집계 조회 성공, data=[MonthlyTaxSummaryDto(yearMonth=2025-12, complet (truncated)...]
2026-01-08T16:49:06.644+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:06.645+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectCategorySummary          : <==      Total: 6
2026-01-08T16:49:06.650+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a7c5a69]
2026-01-08T16:49:06.651+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:06.652+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 요약 조회 성공, data=[CategorySummaryDto(category=식대, totalAmount= (truncated)...]
2026-01-08T16:49:06.653+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:06.706+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:49:06.707+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T16:49:06.707+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/status
2026-01-08T16:49:06.708+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/pending
2026-01-08T16:49:06.708+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/summary/by-category?status%5B%5D=PAID
2026-01-08T16:49:06.709+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/monthly-summary
2026-01-08T16:49:06.719+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:49:06.720+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T16:49:06.721+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/status
2026-01-08T16:49:06.721+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:49:06.722+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T16:49:06.722+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:49:06.722+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/status
2026-01-08T16:49:06.722+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T16:49:06.723+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:49:06.725+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/pending
2026-01-08T16:49:06.725+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/status
2026-01-08T16:49:06.726+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/summary/by-category?status%5B%5D=PAID
2026-01-08T16:49:06.726+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/monthly-summary
2026-01-08T16:49:06.726+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T16:49:06.726+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:49:06.732+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:06.732+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5701fd8f] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:06.733+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1209441618 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:49:06.733+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:49:06.736+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:49:06.727+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/status", parameters={}
2026-01-08T16:49:06.728+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/pending
2026-01-08T16:49:06.730+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/monthly-summary
2026-01-08T16:49:06.730+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/summary/by-category
2026-01-08T16:49:06.731+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T16:49:06.738+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxStatus(String, String)
2026-01-08T16:49:06.744+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxStatus(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:49:06.739+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/pending
2026-01-08T16:49:06.743+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/monthly-summary
2026-01-08T16:49:06.743+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/summary/by-category?status%5B%5D=PAID
2026-01-08T16:49:06.743+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:06.750+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxStatus(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:49:06.751+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/pending", parameters={}
2026-01-08T16:49:06.758+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/monthly-summary", parameters={}
2026-01-08T16:49:06.758+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/summary/by-category?status%5B%5D=PAID", parameters={masked}
2026-01-08T16:49:06.758+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13659150] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:06.759+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:06.760+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxPendingReports(String, String)
2026-01-08T16:49:06.775+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxPendingReports(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:49:06.776+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxPendingReports(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:49:06.760+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTaxSummary(String, String)
2026-01-08T16:49:06.760+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategorySummary(String, String, String[], Boolean, Boolean)
2026-01-08T16:49:06.761+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T16:49:06.777+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategorySummary(java.lang.String,java.lang.String,java.lang.String[],java.lang.Boolean,java.lang.Boolean); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:49:06.779+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategorySummary(java.lang.String,java.lang.String,java.lang.String[],java.lang.Boolean,java.lang.Boolean); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:49:06.783+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:06.763+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1870377131 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:49:06.767+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7209bcf6] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:06.777+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:06.777+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTaxSummary(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:49:06.777+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5701fd8f]
2026-01-08T16:49:06.784+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cc8b9e4] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:06.784+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T16:49:06.785+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@853866010 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:06.787+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 12(Long)
2026-01-08T16:49:06.785+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19a942d3] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:06.786+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTaxSummary(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:49:06.787+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:06.787+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1878076669 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:49:06.787+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.ExpenseMapper.selectTaxStatus    : ==>  Preparing: SELECT COUNT(*) AS totalCount, SUM(CASE WHEN (tax_processed = 0 OR tax_processed IS NULL) THEN 1 ELSE 0 END) AS pendingCount, SUM(CASE WHEN tax_processed = 1 THEN 1 ELSE 0 END) AS completedCount, CASE WHEN COUNT(*) > 0 THEN CAST(SUM(CASE WHEN tax_processed = 1 THEN 1 ELSE 0 END) AS DECIMAL) / COUNT(*) ELSE 0.0 END AS completionRate, COALESCE(SUM(COALESCE(actual_paid_amount, total_amount)), 0) AS totalAmount, COALESCE(SUM(CASE WHEN (tax_processed = 0 OR tax_processed IS NULL) THEN COALESCE(actual_paid_amount, total_amount) ELSE 0 END), 0) AS pendingAmount, COALESCE(SUM(CASE WHEN tax_processed = 1 THEN COALESCE(actual_paid_amount, total_amount) ELSE 0 END), 0) AS completedAmount FROM expense_report_tb WHERE status = 'PAID' AND company_id = ?
2026-01-08T16:49:06.788+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1622980824 wrapping com.mysql.cj.jdbc.ConnectionImpl@722e25d8] will not be managed by Spring
2026-01-08T16:49:06.789+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:06.789+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T16:49:06.789+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T16:49:06.790+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T16:49:06.790+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.ExpenseMapper.selectTaxStatus    : ==> Parameters: 1(Long)
2026-01-08T16:49:06.790+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectTaxPendingReports        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.status = 'PAID' AND (r.tax_processed = 0 OR r.tax_processed IS NULL) AND r.company_id = ? ORDER BY r.report_date DESC, r.expense_report_id DESC
2026-01-08T16:49:06.790+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1076275b] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:06.792+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:06.793+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 12(Long)
2026-01-08T16:49:06.793+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13659150]
2026-01-08T16:49:06.794+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectTaxPendingReports        : ==> Parameters: 1(Long)
2026-01-08T16:49:06.794+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1266475082 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:49:06.800+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/status
2026-01-08T16:49:06.801+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.ExpenseMapper.selectTaxStatus    : <==      Total: 1
2026-01-08T16:49:06.806+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:06.816+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T16:49:06.806+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectMonthlyTaxSummary        : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, SUM(CASE WHEN tax_processed = 1 THEN 1 ELSE 0 END) AS completedCount, COALESCE(SUM(COALESCE(actual_paid_amount, total_amount)), 0) AS totalAmount, COALESCE(SUM(CASE WHEN tax_processed = 1 THEN COALESCE(actual_paid_amount, total_amount) ELSE 0 END), 0) AS completedAmount FROM expense_report_tb WHERE status = 'PAID' AND company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2026-01-08T16:49:06.807+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7209bcf6]
2026-01-08T16:49:06.808+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/pending
2026-01-08T16:49:06.816+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2026-01-08T16:49:06.854+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:06.857+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectMonthlyTaxSummary        : ==> Parameters: 1(Long)
2026-01-08T16:49:06.858+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:06.875+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/summary/by-category?status%5B%5D=PAID
2026-01-08T16:49:06.876+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cc8b9e4]
2026-01-08T16:49:06.889+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:06.891+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/status
2026-01-08T16:49:06.881+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/monthly-summary
2026-01-08T16:49:06.885+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectTaxPendingReports        : <==      Total: 17
2026-01-08T16:49:06.888+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 자료 수집 현황 통계 조회 성공, data=TaxStatusDto(totalCount=17, pendingCoun (truncated)...]
2026-01-08T16:49:06.891+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56c978df] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:06.893+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/status
2026-01-08T16:49:06.896+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/pending
2026-01-08T16:49:06.897+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19a942d3]
2026-01-08T16:49:06.898+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:06.900+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1331162235 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:49:06.901+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/status
2026-01-08T16:49:06.901+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:06.902+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/pending
2026-01-08T16:49:06.903+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectCategorySummary          : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(COALESCE(d.actual_paid_amount, d.amount)), 0) AS totalAmount, COUNT(*) AS itemCount, COUNT(DISTINCT d.expense_report_id) AS reportCount FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? AND r.status IN ( ? ) GROUP BY d.category ORDER BY totalAmount DESC
2026-01-08T16:49:06.904+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/status", parameters={}
2026-01-08T16:49:06.904+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무처리 대기 건 조회 성공, data=[ExpenseReportDto(expenseReportId=34, drafte (truncated)...]
2026-01-08T16:49:06.905+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/pending
2026-01-08T16:49:06.908+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/summary/by-category?status%5B%5D=PAID
2026-01-08T16:49:06.909+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectMonthlyTaxSummary        : <==      Total: 2
2026-01-08T16:49:06.910+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectCategorySummary          : ==> Parameters: 1(Long), PAID(String)
2026-01-08T16:49:06.912+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxStatus(String, String)
2026-01-08T16:49:06.914+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:06.919+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/pending", parameters={}
2026-01-08T16:49:06.921+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1076275b]
2026-01-08T16:49:06.922+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/summary/by-category
2026-01-08T16:49:06.927+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxStatus(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:49:06.940+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/monthly-summary
2026-01-08T16:49:06.940+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxPendingReports(String, String)
2026-01-08T16:49:07.016+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxPendingReports(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:49:06.941+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:07.031+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 집계 조회 성공, data=[MonthlyTaxSummaryDto(yearMonth=2025-12, complet (truncated)...]
2026-01-08T16:49:06.988+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectCategorySummary          : <==      Total: 6
2026-01-08T16:49:07.033+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56c978df]
2026-01-08T16:49:06.993+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/summary/by-category?status%5B%5D=PAID
2026-01-08T16:49:07.035+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/summary/by-category?status%5B%5D=PAID", parameters={masked}
2026-01-08T16:49:07.009+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxStatus(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:49:07.016+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/monthly-summary
2026-01-08T16:49:07.028+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxPendingReports(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:49:07.033+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:07.038+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:07.035+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:07.036+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategorySummary(String, String, String[], Boolean, Boolean)
2026-01-08T16:49:07.036+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:07.037+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/monthly-summary
2026-01-08T16:49:07.038+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22d7ae0] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:07.040+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 요약 조회 성공, data=[CategorySummaryDto(category=식대, totalAmount= (truncated)...]
2026-01-08T16:49:07.053+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategorySummary(java.lang.String,java.lang.String,java.lang.String[],java.lang.Boolean,java.lang.Boolean); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:49:07.054+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34beda1e] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:07.054+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/monthly-summary", parameters={}
2026-01-08T16:49:07.054+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@931424093 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:49:07.055+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:07.055+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategorySummary(java.lang.String,java.lang.String,java.lang.String[],java.lang.Boolean,java.lang.Boolean); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:49:07.056+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1812702339 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:49:07.057+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTaxSummary(String, String)
2026-01-08T16:49:07.057+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectTaxPendingReports        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.status = 'PAID' AND (r.tax_processed = 0 OR r.tax_processed IS NULL) AND r.company_id = ? ORDER BY r.report_date DESC, r.expense_report_id DESC
2026-01-08T16:49:07.060+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:07.060+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.ExpenseMapper.selectTaxStatus    : ==>  Preparing: SELECT COUNT(*) AS totalCount, SUM(CASE WHEN (tax_processed = 0 OR tax_processed IS NULL) THEN 1 ELSE 0 END) AS pendingCount, SUM(CASE WHEN tax_processed = 1 THEN 1 ELSE 0 END) AS completedCount, CASE WHEN COUNT(*) > 0 THEN CAST(SUM(CASE WHEN tax_processed = 1 THEN 1 ELSE 0 END) AS DECIMAL) / COUNT(*) ELSE 0.0 END AS completionRate, COALESCE(SUM(COALESCE(actual_paid_amount, total_amount)), 0) AS totalAmount, COALESCE(SUM(CASE WHEN (tax_processed = 0 OR tax_processed IS NULL) THEN COALESCE(actual_paid_amount, total_amount) ELSE 0 END), 0) AS pendingAmount, COALESCE(SUM(CASE WHEN tax_processed = 1 THEN COALESCE(actual_paid_amount, total_amount) ELSE 0 END), 0) AS completedAmount FROM expense_report_tb WHERE status = 'PAID' AND company_id = ?
2026-01-08T16:49:07.063+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTaxSummary(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:49:07.068+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectTaxPendingReports        : ==> Parameters: 1(Long)
2026-01-08T16:49:07.068+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a45ad46] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:07.091+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1601665353 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:49:07.092+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T16:49:07.071+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.ExpenseMapper.selectTaxStatus    : ==> Parameters: 1(Long)
2026-01-08T16:49:07.093+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 12(Long)
2026-01-08T16:49:07.090+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTaxSummary(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:49:07.098+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:07.098+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bb3a3e4] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:07.099+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@73620179 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:49:07.105+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.E.selectMonthlyTaxSummary        : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, SUM(CASE WHEN tax_processed = 1 THEN 1 ELSE 0 END) AS completedCount, COALESCE(SUM(COALESCE(actual_paid_amount, total_amount)), 0) AS totalAmount, COALESCE(SUM(CASE WHEN tax_processed = 1 THEN COALESCE(actual_paid_amount, total_amount) ELSE 0 END), 0) AS completedAmount FROM expense_report_tb WHERE status = 'PAID' AND company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2026-01-08T16:49:07.120+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.ExpenseMapper.selectTaxStatus    : <==      Total: 1
2026-01-08T16:49:07.120+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2026-01-08T16:49:07.130+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a45ad46]
2026-01-08T16:49:07.134+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:07.135+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e14d1d5] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:07.135+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@164396236 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:49:07.120+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.E.selectMonthlyTaxSummary        : ==> Parameters: 1(Long)
2026-01-08T16:49:07.120+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34beda1e]
2026-01-08T16:49:07.122+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectTaxPendingReports        : <==      Total: 17
2026-01-08T16:49:07.137+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectCategorySummary          : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(COALESCE(d.actual_paid_amount, d.amount)), 0) AS totalAmount, COUNT(*) AS itemCount, COUNT(DISTINCT d.expense_report_id) AS reportCount FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? AND r.status IN ( ? ) GROUP BY d.category ORDER BY totalAmount DESC
2026-01-08T16:49:07.138+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:07.138+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22d7ae0]
2026-01-08T16:49:07.139+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectCategorySummary          : ==> Parameters: 1(Long), PAID(String)
2026-01-08T16:49:07.139+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 자료 수집 현황 통계 조회 성공, data=TaxStatusDto(totalCount=17, pendingCoun (truncated)...]
2026-01-08T16:49:07.140+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:07.142+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:07.142+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무처리 대기 건 조회 성공, data=[ExpenseReportDto(expenseReportId=34, drafte (truncated)...]
2026-01-08T16:49:07.145+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:07.173+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectCategorySummary          : <==      Total: 6
2026-01-08T16:49:07.175+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.E.selectMonthlyTaxSummary        : <==      Total: 2
2026-01-08T16:49:07.180+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e14d1d5]
2026-01-08T16:49:07.180+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bb3a3e4]
2026-01-08T16:49:07.181+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:07.182+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:07.184+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 요약 조회 성공, data=[CategorySummaryDto(category=식대, totalAmount= (truncated)...]
2026-01-08T16:49:07.185+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 집계 조회 성공, data=[MonthlyTaxSummaryDto(yearMonth=2025-12, complet (truncated)...]
2026-01-08T16:49:07.187+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:07.222+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:27.273+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/pending
2026-01-08T16:49:27.273+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/status
2026-01-08T16:49:27.274+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/summary/by-category?status%5B%5D=PAID&taxProcessed=true
2026-01-08T16:49:27.274+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/monthly-summary
2026-01-08T16:49:27.280+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/status
2026-01-08T16:49:27.280+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/pending
2026-01-08T16:49:27.282+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/status
2026-01-08T16:49:27.283+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/status
2026-01-08T16:49:27.283+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/pending
2026-01-08T16:49:27.283+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/status", parameters={}
2026-01-08T16:49:27.283+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/pending
2026-01-08T16:49:27.284+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxStatus(String, String)
2026-01-08T16:49:27.284+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/pending", parameters={}
2026-01-08T16:49:27.285+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxStatus(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:49:27.285+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxPendingReports(String, String)
2026-01-08T16:49:27.287+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/summary/by-category?status%5B%5D=PAID&taxProcessed=true
2026-01-08T16:49:27.288+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxStatus(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:49:27.288+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxPendingReports(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:49:27.290+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/summary/by-category
2026-01-08T16:49:27.290+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:27.291+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxPendingReports(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:49:27.293+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/monthly-summary
2026-01-08T16:49:27.293+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/summary/by-category?status%5B%5D=PAID&taxProcessed=true
2026-01-08T16:49:27.297+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/summary/by-category?status%5B%5D=PAID&taxProcessed=true", parameters={masked}
2026-01-08T16:49:27.300+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategorySummary(String, String, String[], Boolean, Boolean)
2026-01-08T16:49:27.293+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@156bdd68] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:27.296+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:27.298+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/monthly-summary
2026-01-08T16:49:27.302+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategorySummary(java.lang.String,java.lang.String,java.lang.String[],java.lang.Boolean,java.lang.Boolean); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:49:27.313+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36db9926] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:27.314+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/monthly-summary
2026-01-08T16:49:27.315+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategorySummary(java.lang.String,java.lang.String,java.lang.String[],java.lang.Boolean,java.lang.Boolean); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:49:27.316+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2017284570 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:49:27.316+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/monthly-summary", parameters={}
2026-01-08T16:49:27.317+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:27.317+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.ExpenseMapper.selectTaxStatus    : ==>  Preparing: SELECT COUNT(*) AS totalCount, SUM(CASE WHEN (tax_processed = 0 OR tax_processed IS NULL) THEN 1 ELSE 0 END) AS pendingCount, SUM(CASE WHEN tax_processed = 1 THEN 1 ELSE 0 END) AS completedCount, CASE WHEN COUNT(*) > 0 THEN CAST(SUM(CASE WHEN tax_processed = 1 THEN 1 ELSE 0 END) AS DECIMAL) / COUNT(*) ELSE 0.0 END AS completionRate, COALESCE(SUM(COALESCE(actual_paid_amount, total_amount)), 0) AS totalAmount, COALESCE(SUM(CASE WHEN (tax_processed = 0 OR tax_processed IS NULL) THEN COALESCE(actual_paid_amount, total_amount) ELSE 0 END), 0) AS pendingAmount, COALESCE(SUM(CASE WHEN tax_processed = 1 THEN COALESCE(actual_paid_amount, total_amount) ELSE 0 END), 0) AS completedAmount FROM expense_report_tb WHERE status = 'PAID' AND company_id = ?
2026-01-08T16:49:27.318+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTaxSummary(String, String)
2026-01-08T16:49:27.321+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ebae24e] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:27.322+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@996466773 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:49:27.323+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.ExpenseMapper.selectTaxStatus    : ==> Parameters: 1(Long)
2026-01-08T16:49:27.323+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTaxSummary(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:49:27.325+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectTaxPendingReports        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.status = 'PAID' AND (r.tax_processed = 0 OR r.tax_processed IS NULL) AND r.company_id = ? ORDER BY r.report_date DESC, r.expense_report_id DESC
2026-01-08T16:49:27.326+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTaxSummary(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:49:27.332+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@218643712 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:49:27.333+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.ExpenseMapper.selectTaxStatus    : <==      Total: 1
2026-01-08T16:49:27.333+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectTaxPendingReports        : ==> Parameters: 1(Long)
2026-01-08T16:49:27.333+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:27.333+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T16:49:27.333+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@156bdd68]
2026-01-08T16:49:27.335+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 12(Long)
2026-01-08T16:49:27.333+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29ccb12f] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:27.335+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:27.336+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1079977100 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:49:27.336+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 자료 수집 현황 통계 조회 성공, data=TaxStatusDto(totalCount=17, pendingCoun (truncated)...]
2026-01-08T16:49:27.337+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectTaxPendingReports        : <==      Total: 17
2026-01-08T16:49:27.338+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectMonthlyTaxSummary        : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, SUM(CASE WHEN tax_processed = 1 THEN 1 ELSE 0 END) AS completedCount, COALESCE(SUM(COALESCE(actual_paid_amount, total_amount)), 0) AS totalAmount, COALESCE(SUM(CASE WHEN tax_processed = 1 THEN COALESCE(actual_paid_amount, total_amount) ELSE 0 END), 0) AS completedAmount FROM expense_report_tb WHERE status = 'PAID' AND company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2026-01-08T16:49:27.339+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2026-01-08T16:49:27.339+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:27.341+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36db9926]
2026-01-08T16:49:27.342+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectMonthlyTaxSummary        : ==> Parameters: 1(Long)
2026-01-08T16:49:27.342+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ebae24e]
2026-01-08T16:49:27.347+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:27.349+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:27.350+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무처리 대기 건 조회 성공, data=[ExpenseReportDto(expenseReportId=34, drafte (truncated)...]
2026-01-08T16:49:27.350+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e8a7761] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:27.352+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:27.352+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1742266572 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:49:27.357+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectCategorySummary          : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(COALESCE(d.actual_paid_amount, d.amount)), 0) AS totalAmount, COUNT(*) AS itemCount, COUNT(DISTINCT d.expense_report_id) AS reportCount FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? AND r.status IN ( ? ) AND r.tax_processed = ? GROUP BY d.category ORDER BY totalAmount DESC
2026-01-08T16:49:27.358+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectCategorySummary          : ==> Parameters: 1(Long), PAID(String), true(Boolean)
2026-01-08T16:49:27.358+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectMonthlyTaxSummary        : <==      Total: 2
2026-01-08T16:49:27.360+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29ccb12f]
2026-01-08T16:49:27.360+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:27.367+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 집계 조회 성공, data=[MonthlyTaxSummaryDto(yearMonth=2025-12, complet (truncated)...]
2026-01-08T16:49:27.368+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:27.369+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectCategorySummary          : <==      Total: 0
2026-01-08T16:49:27.370+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e8a7761]
2026-01-08T16:49:27.372+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:27.373+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 요약 조회 성공, data=[])]
2026-01-08T16:49:27.374+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:30.736+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/pending
2026-01-08T16:49:30.736+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/summary/by-category?status%5B%5D=PAID&taxProcessed=false
2026-01-08T16:49:30.736+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/status
2026-01-08T16:49:30.737+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/monthly-summary
2026-01-08T16:49:30.746+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/pending
2026-01-08T16:49:30.747+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/status
2026-01-08T16:49:30.756+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/status
2026-01-08T16:49:30.759+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/status
2026-01-08T16:49:30.760+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/status", parameters={}
2026-01-08T16:49:30.748+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/summary/by-category?status%5B%5D=PAID&taxProcessed=false
2026-01-08T16:49:30.751+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/pending
2026-01-08T16:49:30.768+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/pending
2026-01-08T16:49:30.768+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/summary/by-category
2026-01-08T16:49:30.769+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/summary/by-category?status%5B%5D=PAID&taxProcessed=false
2026-01-08T16:49:30.770+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/summary/by-category?status%5B%5D=PAID&taxProcessed=false", parameters={masked}
2026-01-08T16:49:30.770+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategorySummary(String, String, String[], Boolean, Boolean)
2026-01-08T16:49:30.771+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategorySummary(java.lang.String,java.lang.String,java.lang.String[],java.lang.Boolean,java.lang.Boolean); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:49:30.767+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxStatus(String, String)
2026-01-08T16:49:30.768+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/pending", parameters={}
2026-01-08T16:49:30.774+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxPendingReports(String, String)
2026-01-08T16:49:30.781+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxPendingReports(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:49:30.772+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategorySummary(java.lang.String,java.lang.String,java.lang.String[],java.lang.Boolean,java.lang.Boolean); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:49:30.773+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxStatus(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:49:30.776+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/monthly-summary
2026-01-08T16:49:30.789+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxPendingReports(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:49:30.791+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:30.792+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getTaxStatus(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:49:30.796+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/monthly-summary
2026-01-08T16:49:30.798+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:30.804+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/monthly-summary
2026-01-08T16:49:30.798+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25f0f3aa] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:30.803+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:30.805+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36f7efaf] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:30.805+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/monthly-summary", parameters={}
2026-01-08T16:49:30.806+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27f823e1] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:30.807+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTaxSummary(String, String)
2026-01-08T16:49:30.808+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTaxSummary(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:49:30.809+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTaxSummary(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:49:30.810+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1944292974 wrapping com.mysql.cj.jdbc.ConnectionImpl@722e25d8] will not be managed by Spring
2026-01-08T16:49:30.810+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@781225499 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:49:30.814+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectTaxPendingReports        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.status = 'PAID' AND (r.tax_processed = 0 OR r.tax_processed IS NULL) AND r.company_id = ? ORDER BY r.report_date DESC, r.expense_report_id DESC
2026-01-08T16:49:30.813+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:30.814+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T16:49:30.815+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2011591911 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:49:30.815+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectTaxPendingReports        : ==> Parameters: 1(Long)
2026-01-08T16:49:30.816+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3026b8b4] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:30.816+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 12(Long)
2026-01-08T16:49:30.816+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.ExpenseMapper.selectTaxStatus    : ==>  Preparing: SELECT COUNT(*) AS totalCount, SUM(CASE WHEN (tax_processed = 0 OR tax_processed IS NULL) THEN 1 ELSE 0 END) AS pendingCount, SUM(CASE WHEN tax_processed = 1 THEN 1 ELSE 0 END) AS completedCount, CASE WHEN COUNT(*) > 0 THEN CAST(SUM(CASE WHEN tax_processed = 1 THEN 1 ELSE 0 END) AS DECIMAL) / COUNT(*) ELSE 0.0 END AS completionRate, COALESCE(SUM(COALESCE(actual_paid_amount, total_amount)), 0) AS totalAmount, COALESCE(SUM(CASE WHEN (tax_processed = 0 OR tax_processed IS NULL) THEN COALESCE(actual_paid_amount, total_amount) ELSE 0 END), 0) AS pendingAmount, COALESCE(SUM(CASE WHEN tax_processed = 1 THEN COALESCE(actual_paid_amount, total_amount) ELSE 0 END), 0) AS completedAmount FROM expense_report_tb WHERE status = 'PAID' AND company_id = ?
2026-01-08T16:49:30.821+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.ExpenseMapper.selectTaxStatus    : ==> Parameters: 1(Long)
2026-01-08T16:49:30.823+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2026-01-08T16:49:30.823+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@179221210 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:49:30.824+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25f0f3aa]
2026-01-08T16:49:30.824+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.ExpenseMapper.selectTaxStatus    : <==      Total: 1
2026-01-08T16:49:30.824+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectTaxPendingReports        : <==      Total: 17
2026-01-08T16:49:30.825+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27f823e1]
2026-01-08T16:49:30.825+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectMonthlyTaxSummary        : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, SUM(CASE WHEN tax_processed = 1 THEN 1 ELSE 0 END) AS completedCount, COALESCE(SUM(COALESCE(actual_paid_amount, total_amount)), 0) AS totalAmount, COALESCE(SUM(CASE WHEN tax_processed = 1 THEN COALESCE(actual_paid_amount, total_amount) ELSE 0 END), 0) AS completedAmount FROM expense_report_tb WHERE status = 'PAID' AND company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2026-01-08T16:49:30.825+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:30.826+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectMonthlyTaxSummary        : ==> Parameters: 1(Long)
2026-01-08T16:49:30.826+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36f7efaf]
2026-01-08T16:49:30.826+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:30.827+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 자료 수집 현황 통계 조회 성공, data=TaxStatusDto(totalCount=17, pendingCoun (truncated)...]
2026-01-08T16:49:30.826+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67270490] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:30.827+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:30.830+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:30.831+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1966730755 wrapping com.mysql.cj.jdbc.ConnectionImpl@722e25d8] will not be managed by Spring
2026-01-08T16:49:30.833+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectMonthlyTaxSummary        : <==      Total: 2
2026-01-08T16:49:30.833+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무처리 대기 건 조회 성공, data=[ExpenseReportDto(expenseReportId=34, drafte (truncated)...]
2026-01-08T16:49:30.835+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectCategorySummary          : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(COALESCE(d.actual_paid_amount, d.amount)), 0) AS totalAmount, COUNT(*) AS itemCount, COUNT(DISTINCT d.expense_report_id) AS reportCount FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? AND r.status IN ( ? ) AND r.tax_processed = ? GROUP BY d.category ORDER BY totalAmount DESC
2026-01-08T16:49:30.835+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3026b8b4]
2026-01-08T16:49:30.836+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectCategorySummary          : ==> Parameters: 1(Long), PAID(String), false(Boolean)
2026-01-08T16:49:30.836+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:30.838+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:30.839+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 집계 조회 성공, data=[MonthlyTaxSummaryDto(yearMonth=2025-12, complet (truncated)...]
2026-01-08T16:49:30.840+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:30.843+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectCategorySummary          : <==      Total: 6
2026-01-08T16:49:30.848+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67270490]
2026-01-08T16:49:30.849+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:30.849+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 요약 조회 성공, data=[CategorySummaryDto(category=식대, totalAmount= (truncated)...]
2026-01-08T16:49:30.850+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:38.262+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:49:38.262+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T16:49:38.264+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-08T16:49:38.265+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:49:38.267+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T16:49:38.267+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/my-approvals
2026-01-08T16:49:38.279+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T16:49:38.273+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-08T16:49:38.273+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:49:38.274+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/my-approvals
2026-01-08T16:49:38.283+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:49:38.290+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T16:49:38.285+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T16:49:38.287+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-08T16:49:38.293+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T16:49:38.288+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/my-approvals
2026-01-08T16:49:38.289+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:49:38.299+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/my-approvals
2026-01-08T16:49:38.291+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T16:49:38.291+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:49:38.297+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-08T16:49:38.298+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T16:49:38.299+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:49:38.300+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/my-approvals
2026-01-08T16:49:38.300+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T16:49:38.300+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:49:38.301+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-08T16:49:38.301+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T16:49:38.309+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T16:49:38.315+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:38.316+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40ec7bb5] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:38.301+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:49:38.317+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:49:38.318+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:49:38.302+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/my-approvals", parameters={}
2026-01-08T16:49:38.304+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T16:49:38.306+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:49:38.308+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-08T16:49:38.320+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:38.321+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMyApprovals()
2026-01-08T16:49:38.321+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T16:49:38.321+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:49:38.321+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T16:49:38.322+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5799eb43] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:38.322+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:38.322+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:38.323+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:38.323+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:38.330+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20a35019] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:38.330+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18d3fcc5] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:38.331+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@214c3f72] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:38.331+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25ffc958] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:38.332+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2097773695 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:38.332+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@925626450 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:49:38.333+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@709960353 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:49:38.333+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1945484391 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:49:38.334+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2119764914 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:49:38.334+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:49:38.335+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T16:49:38.335+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T16:49:38.336+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] .i.b.m.E.selectMyApprovedReportsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status IN ('APPROVED', 'REJECTED') AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:49:38.336+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1747900249 wrapping com.mysql.cj.jdbc.ConnectionImpl@722e25d8] will not be managed by Spring
2026-01-08T16:49:38.336+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:49:38.337+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:49:38.337+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 12(Long)
2026-01-08T16:49:38.337+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 12(Long)
2026-01-08T16:49:38.338+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] .i.b.m.E.selectMyApprovedReportsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:49:38.338+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:49:38.338+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:49:38.342+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:49:38.342+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T16:49:38.346+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40ec7bb5]
2026-01-08T16:49:38.347+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T16:49:38.349+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:49:38.347+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:38.348+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] .i.b.m.E.selectMyApprovedReportsByUserId : <==      Total: 0
2026-01-08T16:49:38.350+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T16:49:38.348+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T16:49:38.348+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T16:49:38.349+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5799eb43]
2026-01-08T16:49:38.349+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25ffc958]
2026-01-08T16:49:38.350+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20a35019]
2026-01-08T16:49:38.350+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@214c3f72]
2026-01-08T16:49:38.352+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:38.350+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18d3fcc5]
2026-01-08T16:49:38.350+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:38.351+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:38.351+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:38.352+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:38.352+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=내 결재 문서 조회 성공, data=[])]
2026-01-08T16:49:38.352+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:38.355+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-08T16:49:38.355+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T16:49:38.355+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a0756d9] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:38.356+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T16:49:38.357+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:38.358+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T16:49:38.359+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:38.359+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-08T16:49:38.365+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@30254058 wrapping com.mysql.cj.jdbc.ConnectionImpl@722e25d8] will not be managed by Spring
2026-01-08T16:49:38.366+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:38.370+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/my-approvals
2026-01-08T16:49:38.371+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:38.377+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T16:49:38.375+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-08T16:49:38.375+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:49:38.375+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:49:38.377+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/my-approvals
2026-01-08T16:49:38.383+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T16:49:38.383+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-08T16:49:38.390+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:49:38.391+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/my-approvals
2026-01-08T16:49:38.391+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:49:38.392+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T16:49:38.399+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T16:49:38.400+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/my-approvals", parameters={}
2026-01-08T16:49:38.400+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:49:38.401+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T16:49:38.406+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:38.406+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMyApprovals()
2026-01-08T16:49:38.407+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:49:38.408+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:49:38.409+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T16:49:38.409+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c93a530] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:38.409+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:38.413+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:49:38.414+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a0756d9]
2026-01-08T16:49:38.415+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:38.415+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1376433064 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:49:38.416+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@643d2aa7] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:38.417+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:38.417+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:38.417+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3007983e] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:38.422+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:49:38.422+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76187e7] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:38.422+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1005964110 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:38.422+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5135c59a] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:38.423+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@369996121 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:49:38.423+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:49:38.424+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@789208230 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:49:38.425+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] .i.b.m.E.selectMyApprovedReportsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status IN ('APPROVED', 'REJECTED') AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:49:38.426+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@837087483 wrapping com.mysql.cj.jdbc.ConnectionImpl@722e25d8] will not be managed by Spring
2026-01-08T16:49:38.432+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T16:49:38.426+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T16:49:38.435+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 12(Long)
2026-01-08T16:49:38.430+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:49:38.432+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] .i.b.m.E.selectMyApprovedReportsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:49:38.434+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T16:49:38.438+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:49:38.443+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T16:49:38.445+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 24
2026-01-08T16:49:38.445+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:49:38.450+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c93a530]
2026-01-08T16:49:38.445+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T16:49:38.447+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] .i.b.m.E.selectMyApprovedReportsByUserId : <==      Total: 0
2026-01-08T16:49:38.451+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3007983e]
2026-01-08T16:49:38.450+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76187e7]
2026-01-08T16:49:38.450+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5135c59a]
2026-01-08T16:49:38.451+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:38.451+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@643d2aa7]
2026-01-08T16:49:38.452+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:38.454+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:38.453+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:38.453+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:38.453+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@694ccda9] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:38.454+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T16:49:38.455+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=내 결재 문서 조회 성공, data=[])]
2026-01-08T16:49:38.455+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T16:49:38.455+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b7fdf60] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:38.455+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@144134037 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:49:38.455+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:38.455+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:38.456+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:38.458+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@68803712 wrapping com.mysql.cj.jdbc.ConnectionImpl@722e25d8] will not be managed by Spring
2026-01-08T16:49:38.458+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:49:38.459+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:49:38.469+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:49:38.470+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:49:38.477+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:49:38.479+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:49:38.481+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b7fdf60]
2026-01-08T16:49:38.481+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@694ccda9]
2026-01-08T16:49:38.482+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:38.482+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:38.482+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1983d664] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:38.483+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77119ff3] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:38.483+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@478322411 wrapping com.mysql.cj.jdbc.ConnectionImpl@722e25d8] will not be managed by Spring
2026-01-08T16:49:38.483+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2025796925 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:49:38.484+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T16:49:38.484+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T16:49:38.487+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T16:49:38.489+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T16:49:38.494+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 24
2026-01-08T16:49:38.494+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 24
2026-01-08T16:49:38.503+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1983d664]
2026-01-08T16:49:38.503+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77119ff3]
2026-01-08T16:49:38.504+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:38.504+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:38.504+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2011e336] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:38.505+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c013412] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:38.505+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@665199014 wrapping com.mysql.cj.jdbc.ConnectionImpl@722e25d8] will not be managed by Spring
2026-01-08T16:49:38.505+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@118805094 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:49:38.506+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:49:38.506+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:49:38.506+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:49:38.507+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:49:38.515+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:49:38.516+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:49:38.517+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c013412]
2026-01-08T16:49:38.517+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2011e336]
2026-01-08T16:49:38.519+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:38.520+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:38.520+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7dacab1a] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:38.520+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54f44327] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:38.521+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@142123289 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:49:38.521+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2069037788 wrapping com.mysql.cj.jdbc.ConnectionImpl@722e25d8] will not be managed by Spring
2026-01-08T16:49:38.521+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T16:49:38.521+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:49:38.523+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T16:49:38.523+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:49:38.525+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:49:38.526+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54f44327]
2026-01-08T16:49:38.530+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:38.531+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T16:49:38.532+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 24
2026-01-08T16:49:38.532+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:38.534+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7dacab1a]
2026-01-08T16:49:38.537+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:38.538+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3708a1e4] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:38.538+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@803485796 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:49:38.538+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:49:38.539+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:49:38.540+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:49:38.541+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3708a1e4]
2026-01-08T16:49:38.541+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:38.542+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d749f64] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:38.543+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1333857967 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:49:38.546+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:49:38.547+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:49:38.549+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:49:38.549+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d749f64]
2026-01-08T16:49:38.550+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:38.551+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T16:49:38.556+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:38.967+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:49:38.967+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:49:38.981+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:49:38.983+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:49:38.990+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:49:38.991+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:49:38.991+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:49:38.992+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:49:38.992+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:49:38.993+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:49:38.993+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:49:38.997+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:38.998+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1116b028] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:38.993+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:49:39.000+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:39.003+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44554a19] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:39.024+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@263248581 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:39.025+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:49:39.034+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:49:39.053+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@495127709 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:49:39.058+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:49:39.059+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T16:49:39.070+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:49:39.070+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1116b028]
2026-01-08T16:49:39.071+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:39.073+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T16:49:39.074+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T16:49:39.074+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:39.075+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44554a19]
2026-01-08T16:49:39.080+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:39.082+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T16:49:39.083+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:40.810+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:49:40.815+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T16:49:40.816+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/26
2026-01-08T16:49:40.816+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me/signatures
2026-01-08T16:49:40.816+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/26
2026-01-08T16:49:40.816+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me/signatures
2026-01-08T16:49:40.837+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:49:40.837+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T16:49:40.838+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/26
2026-01-08T16:49:40.842+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:49:40.838+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me/signatures
2026-01-08T16:49:40.839+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/26
2026-01-08T16:49:40.840+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me/signatures
2026-01-08T16:49:40.842+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T16:49:40.853+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/26
2026-01-08T16:49:40.842+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/26
2026-01-08T16:49:40.842+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:49:40.851+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/users/me/signatures
2026-01-08T16:49:40.853+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/users/me/signatures
2026-01-08T16:49:40.853+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T16:49:40.854+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/26
2026-01-08T16:49:40.854+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/26
2026-01-08T16:49:40.854+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:49:40.854+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me/signatures
2026-01-08T16:49:40.854+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me/signatures
2026-01-08T16:49:40.855+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T16:49:40.855+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/26", parameters={}
2026-01-08T16:49:40.865+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/26", parameters={}
2026-01-08T16:49:40.866+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:49:40.866+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me/signatures", parameters={}
2026-01-08T16:49:40.866+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me/signatures", parameters={}
2026-01-08T16:49:40.867+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T16:49:40.869+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-08T16:49:40.869+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-08T16:49:40.870+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:40.870+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getMySignatures()
2026-01-08T16:49:40.871+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getMySignatures()
2026-01-08T16:49:40.873+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:40.874+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fc6ec08] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:40.874+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:40.874+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:40.883+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@278220ef] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:40.874+09:00  INFO 23448 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 내 서명/도장 목록 조회 요청 - userId: 12, companyId: 1
2026-01-08T16:49:40.874+09:00  INFO 23448 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 내 서명/도장 목록 조회 요청 - userId: 12, companyId: 1
2026-01-08T16:49:40.875+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4022b558] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:40.882+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1be1388b] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:40.885+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@897610043 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:49:40.886+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:40.889+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@654e6bc0] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:40.887+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:40.888+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:49:40.889+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@963457208 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:49:40.891+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:49:40.890+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a18f569] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:40.891+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-08T16:49:40.894+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1256456117 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:49:40.893+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@607780211 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:40.894+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 26(Long), 1(Long)
2026-01-08T16:49:40.898+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T16:49:40.899+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-08T16:49:40.901+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 12(Long)
2026-01-08T16:49:40.902+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@46635653 wrapping com.mysql.cj.jdbc.ConnectionImpl@722e25d8] will not be managed by Spring
2026-01-08T16:49:40.902+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1200389529 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:49:40.902+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T16:49:40.903+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 26(Long), 1(Long)
2026-01-08T16:49:40.904+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.U.findByUserId                   : ==>  Preparing: SELECT * FROM user_signature_tb WHERE user_id = ? AND company_id = ? ORDER BY is_default DESC, created_at DESC
2026-01-08T16:49:40.905+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-08T16:49:40.909+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.U.findByUserId                   : ==>  Preparing: SELECT * FROM user_signature_tb WHERE user_id = ? AND company_id = ? ORDER BY is_default DESC, created_at DESC
2026-01-08T16:49:40.909+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fc6ec08]
2026-01-08T16:49:40.914+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.U.findByUserId                   : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:49:40.914+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@278220ef]
2026-01-08T16:49:40.915+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.U.findByUserId                   : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:49:40.916+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:40.917+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:40.920+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T16:49:40.923+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T16:49:40.924+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22143c6a] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:40.925+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4022b558]
2026-01-08T16:49:40.925+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:40.931+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@210498390 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:49:40.931+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:40.935+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-08T16:49:40.937+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T16:49:40.938+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 26(Long), 1(Long)
2026-01-08T16:49:40.941+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:40.955+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-08T16:49:40.955+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.U.findByUserId                   : <==      Total: 0
2026-01-08T16:49:40.955+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.U.findByUserId                   : <==      Total: 0
2026-01-08T16:49:40.958+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1be1388b]
2026-01-08T16:49:40.959+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@654e6bc0]
2026-01-08T16:49:40.959+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a18f569]
2026-01-08T16:49:40.960+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:40.966+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:40.967+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:40.967+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51908bc0] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:40.968+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=서명/도장 목록 조회 성공, data=[])]
2026-01-08T16:49:40.969+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=서명/도장 목록 조회 성공, data=[])]
2026-01-08T16:49:40.970+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-08T16:49:40.970+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@469624452 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:40.971+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:40.971+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:40.971+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22143c6a]
2026-01-08T16:49:40.974+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-08T16:49:40.975+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:40.976+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 26(Long), 1(Long)
2026-01-08T16:49:40.976+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@772577eb] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:40.976+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1959911945 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:49:40.983+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-08T16:49:40.984+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-08T16:49:40.984+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 26(Long), 1(Long)
2026-01-08T16:49:40.985+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51908bc0]
2026-01-08T16:49:40.986+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:40.986+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d2c6704] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:40.987+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1480008682 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:40.988+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-08T16:49:40.989+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 26(Long), 1(Long)
2026-01-08T16:49:40.996+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2026-01-08T16:49:40.997+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2026-01-08T16:49:40.999+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d2c6704]
2026-01-08T16:49:40.999+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@772577eb]
2026-01-08T16:49:41.000+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:41.000+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:41.000+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e0b5bf8] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:41.000+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45706926] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:41.001+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@275842938 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:41.001+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1730932692 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:49:41.001+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-08T16:49:41.001+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-08T16:49:41.002+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 26(Long), 1(Long)
2026-01-08T16:49:41.002+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 26(Long), 1(Long)
2026-01-08T16:49:41.004+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-08T16:49:41.004+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-08T16:49:41.005+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45706926]
2026-01-08T16:49:41.005+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e0b5bf8]
2026-01-08T16:49:41.006+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:41.006+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:41.006+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59a8e48b] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:41.006+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@cf22023] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:41.007+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@525832129 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:49:41.007+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@671252190 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:41.007+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:49:41.007+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:49:41.008+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:49:41.008+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:49:41.012+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:49:41.012+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:49:41.017+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@cf22023]
2026-01-08T16:49:41.018+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59a8e48b]
2026-01-08T16:49:41.018+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:41.019+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:41.033+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=26, drafterId=2, r (truncated)...]
2026-01-08T16:49:41.033+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=26, drafterId=2, r (truncated)...]
2026-01-08T16:49:41.040+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:41.041+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:41.973+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T16:49:41.973+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:49:41.973+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-08T16:49:41.973+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:49:41.973+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/my-approvals
2026-01-08T16:49:41.974+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T16:49:41.986+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-08T16:49:41.987+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:49:41.987+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/my-approvals
2026-01-08T16:49:41.991+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T16:49:42.013+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T16:49:42.017+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:49:42.017+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-08T16:49:42.018+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T16:49:42.020+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:49:42.022+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-08T16:49:42.071+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:49:42.053+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T16:49:42.086+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T16:49:42.057+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:49:42.065+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-08T16:49:42.070+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T16:49:42.092+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T16:49:42.072+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-08T16:49:42.085+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:49:42.087+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T16:49:42.088+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:49:42.090+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-08T16:49:42.093+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T16:49:42.110+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-08T16:49:42.117+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:49:42.119+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T16:49:42.122+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:49:42.122+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-08T16:49:42.123+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T16:49:42.125+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-08T16:49:42.133+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T16:49:42.125+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:49:42.126+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:42.126+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:49:42.126+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T16:49:42.132+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:42.133+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:42.134+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:42.134+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67822602] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:42.135+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:42.137+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:42.138+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ef53cad] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:42.138+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26ac7ee3] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:42.139+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1095a42] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:42.140+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4425a62d] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:42.141+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f604622] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:42.159+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1772561882 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:49:42.160+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@197657372 wrapping com.mysql.cj.jdbc.ConnectionImpl@722e25d8] will not be managed by Spring
2026-01-08T16:49:42.160+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2109154684 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:49:42.160+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@865335234 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:49:42.161+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1731860427 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:49:42.163+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1667476803 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:42.168+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:49:42.169+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T16:49:42.169+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T16:49:42.169+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:49:42.169+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:49:42.170+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:49:42.170+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:49:42.175+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 12(Long)
2026-01-08T16:49:42.175+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 12(Long)
2026-01-08T16:49:42.177+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:49:42.183+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:49:42.184+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:49:42.223+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T16:49:42.223+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:49:42.223+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:49:42.223+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T16:49:42.224+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T16:49:42.224+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T16:49:42.231+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ef53cad]
2026-01-08T16:49:42.237+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26ac7ee3]
2026-01-08T16:49:42.239+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f604622]
2026-01-08T16:49:42.239+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1095a42]
2026-01-08T16:49:42.239+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67822602]
2026-01-08T16:49:42.240+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4425a62d]
2026-01-08T16:49:42.240+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:42.240+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:42.240+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:42.241+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:42.242+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:42.242+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:42.242+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T16:49:42.243+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e2d2294] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:42.249+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76d1b54c] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:42.250+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T16:49:42.251+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T16:49:42.251+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T16:49:42.252+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:42.253+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1668293747 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:42.254+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1333345796 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:49:42.254+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:42.257+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:42.264+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:42.273+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:49:42.267+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/my-approvals
2026-01-08T16:49:42.269+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:49:42.342+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:49:42.270+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:49:42.343+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:49:42.272+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T16:49:42.274+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/my-approvals
2026-01-08T16:49:42.350+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/my-approvals
2026-01-08T16:49:42.351+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/my-approvals
2026-01-08T16:49:42.351+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/my-approvals", parameters={}
2026-01-08T16:49:42.352+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMyApprovals()
2026-01-08T16:49:42.352+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:42.353+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@606f3d90] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:42.353+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@298980332 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:49:42.354+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectMyApprovedReportsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status IN ('APPROVED', 'REJECTED') AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:49:42.355+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectMyApprovedReportsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:49:42.276+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:49:42.359+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:49:42.359+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:49:42.360+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:49:42.367+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:42.367+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14b8d955] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:42.282+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/my-approvals
2026-01-08T16:49:42.349+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T16:49:42.369+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@414081805 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:49:42.369+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/my-approvals
2026-01-08T16:49:42.370+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T16:49:42.371+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T16:49:42.370+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:49:42.371+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/my-approvals", parameters={}
2026-01-08T16:49:42.371+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T16:49:42.374+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:49:42.374+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMyApprovals()
2026-01-08T16:49:42.375+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:42.434+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:49:42.435+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:49:42.435+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectMyApprovedReportsByUserId : <==      Total: 0
2026-01-08T16:49:42.496+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T16:49:42.497+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:42.503+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75e25b95] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:42.505+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76d1b54c]
2026-01-08T16:49:42.506+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e2d2294]
2026-01-08T16:49:42.506+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@606f3d90]
2026-01-08T16:49:42.506+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14b8d955]
2026-01-08T16:49:42.507+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dabd025] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:42.508+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1141411994 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:49:42.515+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:42.516+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:42.517+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:42.517+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:42.517+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1924228532 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:49:42.517+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T16:49:42.518+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1941d81c] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:42.519+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ed4e18a] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:42.522+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=내 결재 문서 조회 성공, data=[])]
2026-01-08T16:49:42.522+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T16:49:42.522+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] .i.b.m.E.selectMyApprovedReportsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status IN ('APPROVED', 'REJECTED') AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:49:42.523+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 12(Long)
2026-01-08T16:49:42.524+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1648453037 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:49:42.524+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@701123398 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:42.525+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:42.526+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:42.530+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] .i.b.m.E.selectMyApprovedReportsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:49:42.531+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T16:49:42.531+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T16:49:42.538+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T16:49:42.540+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T16:49:42.541+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T16:49:42.549+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75e25b95]
2026-01-08T16:49:42.550+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:42.552+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T16:49:42.555+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:42.567+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] .i.b.m.E.selectMyApprovedReportsByUserId : <==      Total: 0
2026-01-08T16:49:42.568+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 24
2026-01-08T16:49:42.573+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dabd025]
2026-01-08T16:49:42.575+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ed4e18a]
2026-01-08T16:49:42.576+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:42.579+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:42.582+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=내 결재 문서 조회 성공, data=[])]
2026-01-08T16:49:42.582+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a7ad4f8] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:42.583+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:42.584+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1133224076 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:42.585+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:49:42.586+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:49:42.616+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 24
2026-01-08T16:49:42.625+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:49:42.666+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1941d81c]
2026-01-08T16:49:42.666+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a7ad4f8]
2026-01-08T16:49:42.667+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:42.669+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@792d77d9] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:42.668+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:42.669+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1849414104 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:49:42.669+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e80135d] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:42.670+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:49:42.670+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@308404065 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:42.671+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:49:42.671+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T16:49:42.673+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T16:49:42.708+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:49:42.718+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@792d77d9]
2026-01-08T16:49:42.721+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:42.722+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 24
2026-01-08T16:49:42.725+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@149402a1] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:42.731+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e80135d]
2026-01-08T16:49:42.732+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@110439509 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:49:42.733+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:42.734+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T16:49:42.734+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3634ae7c] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:42.735+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T16:49:42.736+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@402675996 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:42.737+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:49:42.738+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:49:42.743+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 24
2026-01-08T16:49:42.749+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@149402a1]
2026-01-08T16:49:42.750+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:42.750+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:49:42.751+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44b18866] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:42.751+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3634ae7c]
2026-01-08T16:49:42.751+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1887701851 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:49:42.752+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:42.752+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:49:42.752+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c6d6ec1] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:42.752+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:49:42.752+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@523859582 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:42.753+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:49:42.755+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:49:42.758+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:49:42.758+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44b18866]
2026-01-08T16:49:42.760+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:42.760+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:49:42.760+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6dbcc7d7] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:42.764+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c6d6ec1]
2026-01-08T16:49:42.765+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@629571774 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:49:42.765+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:42.765+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:49:42.766+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T16:49:42.766+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:49:42.767+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:42.770+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:49:42.773+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6dbcc7d7]
2026-01-08T16:49:42.774+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:42.774+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T16:49:42.775+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:43.068+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:49:43.069+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:49:43.072+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:49:43.074+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:49:43.074+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:49:43.075+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:49:43.079+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:49:43.082+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:49:43.083+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:43.083+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f904897] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:43.079+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:49:43.088+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:49:43.090+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:49:43.090+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1957795613 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:49:43.091+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:49:43.091+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:49:43.095+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:49:43.092+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:43.099+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64d2a4e3] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:43.101+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T16:49:43.101+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2022439114 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:49:43.101+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f904897]
2026-01-08T16:49:43.102+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:49:43.102+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:43.103+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:49:43.103+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T16:49:43.104+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:43.107+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T16:49:43.107+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64d2a4e3]
2026-01-08T16:49:43.107+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:43.108+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T16:49:43.108+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:45.885+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:49:45.887+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T16:49:45.888+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2026-01-08T16:49:45.888+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2026-01-08T16:49:45.889+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2026-01-08T16:49:45.890+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2026-01-08T16:49:45.913+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:49:45.913+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T16:49:45.914+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2026-01-08T16:49:45.914+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2026-01-08T16:49:45.915+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2026-01-08T16:49:45.931+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:49:45.941+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2026-01-08T16:49:46.046+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T16:49:46.074+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/users/me
2026-01-08T16:49:46.082+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/users/companies/pending
2026-01-08T16:49:46.106+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2026-01-08T16:49:46.106+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2026-01-08T16:49:46.106+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2026-01-08T16:49:46.084+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/users/companies
2026-01-08T16:49:46.085+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:49:46.086+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/users/me
2026-01-08T16:49:46.111+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2026-01-08T16:49:46.112+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2026-01-08T16:49:46.105+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T16:49:46.105+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2026-01-08T16:49:46.108+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:46.109+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2026-01-08T16:49:46.109+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:49:46.112+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2026-01-08T16:49:46.113+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T16:49:46.116+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2026-01-08T16:49:46.119+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f2bbaa3] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:46.122+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2026-01-08T16:49:46.129+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2026-01-08T16:49:46.122+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:49:46.125+09:00  INFO 23448 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 12, companyId: 1
2026-01-08T16:49:46.125+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T16:49:46.125+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2026-01-08T16:49:46.130+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:46.131+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:46.133+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:46.133+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:46.134+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1569545806 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:49:46.135+09:00  INFO 23448 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 12, companyId: 1
2026-01-08T16:49:46.135+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f348054] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:46.135+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24a13d52] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:46.136+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@421b3929] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:46.136+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@420294a6] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:46.137+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T16:49:46.137+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:46.153+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b122a13] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:46.153+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 12(Long), PENDING(String)
2026-01-08T16:49:46.165+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2026-01-08T16:49:46.165+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1337530750 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:46.165+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1912634340 wrapping com.mysql.cj.jdbc.ConnectionImpl@722e25d8] will not be managed by Spring
2026-01-08T16:49:46.165+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@937591765 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:49:46.169+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T16:49:46.166+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@311947194 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:49:46.168+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2070322527 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:49:46.168+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f2bbaa3]
2026-01-08T16:49:46.168+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T16:49:46.168+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:49:46.169+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 12(Long)
2026-01-08T16:49:46.170+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:49:46.170+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:49:46.170+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:46.171+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 12(Long)
2026-01-08T16:49:46.175+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:49:46.175+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:49:46.176+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:49:46.176+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-01-08T16:49:46.184+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:46.191+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:49:46.191+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:49:46.192+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T16:49:46.192+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2026-01-08T16:49:46.192+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T16:49:46.193+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@421b3929]
2026-01-08T16:49:46.193+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b122a13]
2026-01-08T16:49:46.201+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@420294a6]
2026-01-08T16:49:46.201+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f348054]
2026-01-08T16:49:46.202+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24a13d52]
2026-01-08T16:49:46.203+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:46.203+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:46.204+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:46.204+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:46.206+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:46.207+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24a90be0] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:46.207+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@662fdcac] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:46.207+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T16:49:46.208+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=21, userId=12, companyId (truncated)...]
2026-01-08T16:49:46.208+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T16:49:46.209+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1841947753 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:49:46.209+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@951264969 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:49:46.209+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:46.212+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:46.216+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:46.217+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T16:49:46.241+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 12(Long)
2026-01-08T16:49:46.218+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T16:49:46.242+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 12(Long)
2026-01-08T16:49:46.270+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2026-01-08T16:49:46.272+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2026-01-08T16:49:46.272+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24a90be0]
2026-01-08T16:49:46.272+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@662fdcac]
2026-01-08T16:49:46.273+09:00  INFO 23448 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 12, companyId: 1, role: TAX_ACCOUNTANT
2026-01-08T16:49:46.281+09:00  INFO 23448 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 12, companyId: 1, role: TAX_ACCOUNTANT
2026-01-08T16:49:46.282+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:46.282+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:46.283+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=12, username=test_tax, passwo (truncated)...]
2026-01-08T16:49:46.283+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=12, username=test_tax, passwo (truncated)...]
2026-01-08T16:49:46.284+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:46.286+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:46.433+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:49:46.435+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:49:46.442+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:49:46.447+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:49:46.450+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:49:46.454+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:49:46.455+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:49:46.457+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:49:46.458+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:49:46.458+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:49:46.458+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:49:46.459+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:49:46.475+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:46.486+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49dc491b] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:46.487+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1121303944 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:49:46.459+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:46.489+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:49:46.489+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e555069] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:46.500+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:49:46.503+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@496803198 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:49:46.504+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:49:46.505+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:49:46.507+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T16:49:46.507+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49dc491b]
2026-01-08T16:49:46.508+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:46.508+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T16:49:46.509+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:46.525+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T16:49:46.526+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e555069]
2026-01-08T16:49:46.526+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:46.529+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T16:49:46.530+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:50.716+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:49:50.717+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T16:49:50.718+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-08T16:49:50.718+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/my-approvals
2026-01-08T16:49:50.718+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:49:50.719+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T16:49:50.729+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-08T16:49:50.733+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:49:50.734+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/my-approvals
2026-01-08T16:49:50.737+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T16:49:50.753+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:49:50.758+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T16:49:50.760+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-08T16:49:50.767+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/my-approvals
2026-01-08T16:49:50.768+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:49:50.769+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T16:49:50.803+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:49:50.824+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T16:49:50.830+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-08T16:49:50.831+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/my-approvals
2026-01-08T16:49:50.832+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:49:50.832+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:49:50.832+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T16:49:50.832+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T16:49:50.833+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-08T16:49:50.833+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/my-approvals
2026-01-08T16:49:50.833+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:49:50.833+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:49:50.834+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T16:49:50.834+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T16:49:50.834+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-08T16:49:50.835+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/my-approvals", parameters={}
2026-01-08T16:49:50.835+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:49:50.835+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:49:50.835+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T16:49:50.835+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T16:49:50.836+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T16:49:50.836+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMyApprovals()
2026-01-08T16:49:50.836+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:50.836+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:49:50.837+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:50.837+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:50.837+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T16:49:50.837+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:50.838+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:50.837+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:50.837+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2288fb40] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:50.837+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dbaaaae] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:50.838+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f9ee27c] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:50.838+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@606a907c] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:50.838+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74306f0e] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:50.838+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3164f86c] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:50.841+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@455230502 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:50.841+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1163785751 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:49:50.841+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1831966596 wrapping com.mysql.cj.jdbc.ConnectionImpl@722e25d8] will not be managed by Spring
2026-01-08T16:49:50.842+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1503399633 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:49:50.842+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@612855848 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:49:50.842+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T16:49:50.842+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:49:50.843+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:49:50.843+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@38180300 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:49:50.843+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] .i.b.m.E.selectMyApprovedReportsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status IN ('APPROVED', 'REJECTED') AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:49:50.843+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T16:49:50.848+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 12(Long)
2026-01-08T16:49:50.849+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:49:50.849+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:49:50.849+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:49:50.850+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] .i.b.m.E.selectMyApprovedReportsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:49:50.850+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 12(Long)
2026-01-08T16:49:50.851+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:49:50.853+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T16:49:50.853+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T16:49:50.854+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T16:49:50.855+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f9ee27c]
2026-01-08T16:49:50.854+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dbaaaae]
2026-01-08T16:49:50.855+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:50.854+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] .i.b.m.E.selectMyApprovedReportsByUserId : <==      Total: 0
2026-01-08T16:49:50.854+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T16:49:50.855+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2288fb40]
2026-01-08T16:49:50.855+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:49:50.855+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:50.856+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T16:49:50.856+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@606a907c]
2026-01-08T16:49:50.856+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74306f0e]
2026-01-08T16:49:50.856+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:50.856+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3164f86c]
2026-01-08T16:49:50.857+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T16:49:50.857+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:50.857+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:50.858+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:50.860+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T16:49:50.860+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:50.861+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:50.866+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-08T16:49:50.866+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=내 결재 문서 조회 성공, data=[])]
2026-01-08T16:49:50.866+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T16:49:50.867+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49e09f42] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:50.867+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:50.868+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/my-approvals
2026-01-08T16:49:50.869+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:50.870+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-08T16:49:50.871+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:50.872+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1534405170 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:49:50.882+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:49:50.875+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:49:50.878+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/my-approvals
2026-01-08T16:49:50.879+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T16:49:50.880+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-08T16:49:50.883+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:49:50.885+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:49:50.887+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/my-approvals
2026-01-08T16:49:50.887+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-08T16:49:50.888+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T16:49:50.889+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:49:50.890+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/my-approvals", parameters={}
2026-01-08T16:49:50.890+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:49:50.890+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T16:49:50.891+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T16:49:50.891+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:49:50.891+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMyApprovals()
2026-01-08T16:49:50.892+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49e09f42]
2026-01-08T16:49:50.894+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:50.897+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T16:49:50.897+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:49:50.898+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:50.898+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:50.899+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ff27157] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:50.898+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e9e0865] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:50.899+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T16:49:50.899+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:50.899+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@587f2bec] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:50.900+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1915089764 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:49:50.901+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1235085794 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:49:50.902+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:50.902+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62b2b14b] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:50.902+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@458133807 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:50.902+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T16:49:50.903+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:49:50.903+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12651301] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:50.903+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1234024599 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:49:50.903+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectMyApprovedReportsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status IN ('APPROVED', 'REJECTED') AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:49:50.904+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T16:49:50.904+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:49:50.905+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1189596988 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:49:50.905+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:49:50.906+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectMyApprovedReportsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:49:50.907+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T16:49:50.909+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:49:50.913+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 12(Long)
2026-01-08T16:49:50.916+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectMyApprovedReportsByUserId : <==      Total: 0
2026-01-08T16:49:50.917+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@587f2bec]
2026-01-08T16:49:50.916+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:49:50.917+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 24
2026-01-08T16:49:50.917+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T16:49:50.918+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e9e0865]
2026-01-08T16:49:50.918+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:50.918+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T16:49:50.918+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ff27157]
2026-01-08T16:49:50.918+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12651301]
2026-01-08T16:49:50.918+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:50.919+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40a652a6] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:50.918+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=내 결재 문서 조회 성공, data=[])]
2026-01-08T16:49:50.919+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62b2b14b]
2026-01-08T16:49:50.919+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:50.919+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:50.919+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1048946679 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:49:50.920+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:50.921+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:50.922+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@348f2fc7] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:50.922+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T16:49:50.922+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:49:50.924+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T16:49:50.926+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@417040584 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:49:50.935+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:49:50.930+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:50.933+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:49:50.934+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:50.936+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:49:50.941+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:49:50.941+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@348f2fc7]
2026-01-08T16:49:50.943+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:50.949+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ecd2348] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:50.949+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:49:50.950+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@334618177 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:49:50.950+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40a652a6]
2026-01-08T16:49:50.950+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T16:49:50.951+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:50.952+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T16:49:50.952+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bfaf9aa] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:50.953+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@968597777 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:49:50.953+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T16:49:50.955+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T16:49:50.956+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 24
2026-01-08T16:49:50.957+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ecd2348]
2026-01-08T16:49:50.957+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:50.957+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55a1de68] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:50.958+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1656840439 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:49:50.958+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:49:50.958+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:49:50.959+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:49:50.960+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 24
2026-01-08T16:49:50.960+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55a1de68]
2026-01-08T16:49:50.964+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:50.964+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bfaf9aa]
2026-01-08T16:49:50.965+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c2db69d] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:50.966+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:50.966+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@925136878 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:49:50.966+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:49:50.966+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e2ec5db] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:50.966+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:49:50.967+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@579161117 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:49:50.968+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:49:50.970+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:49:50.973+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:49:50.974+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c2db69d]
2026-01-08T16:49:50.975+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:49:50.976+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:50.977+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e2ec5db]
2026-01-08T16:49:50.982+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T16:49:50.983+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:50.983+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c643512] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:50.985+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@883701592 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:49:50.983+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:50.987+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T16:49:50.992+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T16:49:51.022+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 24
2026-01-08T16:49:51.023+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c643512]
2026-01-08T16:49:51.023+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:51.023+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c504cf3] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:51.023+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@826353870 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:49:51.024+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:49:51.024+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:49:51.026+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:49:51.026+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c504cf3]
2026-01-08T16:49:51.027+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:51.030+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53f7d16d] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:51.031+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1026435124 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:49:51.031+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:49:51.032+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:49:51.033+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:49:51.034+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53f7d16d]
2026-01-08T16:49:51.034+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:51.035+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T16:49:51.036+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:51.285+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:49:51.286+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:49:51.290+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:49:51.290+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:49:51.291+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:49:51.292+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:49:51.292+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:49:51.292+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:49:51.292+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:49:51.294+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:49:51.293+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:49:51.295+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:49:51.295+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:51.296+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:51.297+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@224d8f2a] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:51.297+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f2573ef] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:51.298+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1858290590 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:49:51.298+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1618047368 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:49:51.298+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:49:51.298+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:49:51.299+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:49:51.300+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:49:51.302+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T16:49:51.302+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T16:49:51.303+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@224d8f2a]
2026-01-08T16:49:51.303+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f2573ef]
2026-01-08T16:49:51.303+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:51.304+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:49:51.304+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T16:49:51.305+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T16:49:51.305+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:51.306+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:49:57.145+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/export/tax-review?format=full
2026-01-08T16:49:57.150+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/export/tax-review?format=full
2026-01-08T16:49:57.151+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/export/tax-review
2026-01-08T16:49:57.151+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/export/tax-review?format=full
2026-01-08T16:49:57.152+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/export/tax-review?format=full", parameters={masked}
2026-01-08T16:49:57.152+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#exportTaxReview(String, String, String)
2026-01-08T16:49:57.153+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseController.exportTaxReview(java.lang.String,java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:49:57.154+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseController.exportTaxReview(java.lang.String,java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T16:49:57.155+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.155+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7aae88ed] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.160+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@872925612 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.165+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T16:49:57.170+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), PAID(String), 2147483647(Integer), 0(Integer)
2026-01-08T16:49:57.174+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 17
2026-01-08T16:49:57.176+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7aae88ed]
2026-01-08T16:49:57.182+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.183+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8ee7fdd] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.183+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@738567627 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.184+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:49:57.184+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:49:57.187+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:49:57.189+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8ee7fdd]
2026-01-08T16:49:57.191+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.191+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bb10069] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.191+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@282757717 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.193+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T16:49:57.194+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long), 6(Long), 8(Long), 13(Long), 14(Long), 16(Long), 17(Long), 18(Long), 19(Long), 20(Long), 24(Long), 25(Long), 27(Long), 31(Long), 32(Long), 33(Long), 34(Long)
2026-01-08T16:49:57.202+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 25
2026-01-08T16:49:57.205+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bb10069]
2026-01-08T16:49:57.206+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.206+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1da3303b] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.207+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2129840558 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.208+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-08T16:49:57.208+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 1(Long), 1(Long)
2026-01-08T16:49:57.209+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-08T16:49:57.210+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1da3303b]
2026-01-08T16:49:57.214+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.214+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@292ee6b6] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.215+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@755513664 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.215+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-08T16:49:57.216+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 6(Long), 1(Long)
2026-01-08T16:49:57.217+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-08T16:49:57.217+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@292ee6b6]
2026-01-08T16:49:57.218+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.218+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c48280e] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.219+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1384997991 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.219+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-08T16:49:57.219+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 8(Long), 1(Long)
2026-01-08T16:49:57.221+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-08T16:49:57.222+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c48280e]
2026-01-08T16:49:57.222+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.222+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21790f7] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.222+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1330823395 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.223+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-08T16:49:57.224+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 13(Long), 1(Long)
2026-01-08T16:49:57.225+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-08T16:49:57.225+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21790f7]
2026-01-08T16:49:57.226+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.226+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54ee5148] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.226+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1791030026 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.226+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-08T16:49:57.230+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 14(Long), 1(Long)
2026-01-08T16:49:57.232+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-08T16:49:57.232+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54ee5148]
2026-01-08T16:49:57.232+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.232+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c0f5299] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.233+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1254959681 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.233+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-08T16:49:57.233+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 16(Long), 1(Long)
2026-01-08T16:49:57.236+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-08T16:49:57.236+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c0f5299]
2026-01-08T16:49:57.236+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.236+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77ff301c] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.237+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1634877408 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.237+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-08T16:49:57.237+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 17(Long), 1(Long)
2026-01-08T16:49:57.239+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-08T16:49:57.239+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77ff301c]
2026-01-08T16:49:57.240+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.240+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23926b15] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.240+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@761516203 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.240+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-08T16:49:57.241+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 18(Long), 1(Long)
2026-01-08T16:49:57.242+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-08T16:49:57.242+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23926b15]
2026-01-08T16:49:57.242+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.243+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b93a130] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.243+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1533650324 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.245+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-08T16:49:57.246+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 19(Long), 1(Long)
2026-01-08T16:49:57.248+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-08T16:49:57.249+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b93a130]
2026-01-08T16:49:57.249+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.249+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46b24ab2] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.250+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@819919221 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.252+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-08T16:49:57.253+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 20(Long), 1(Long)
2026-01-08T16:49:57.254+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-08T16:49:57.254+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46b24ab2]
2026-01-08T16:49:57.255+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.255+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28b911e4] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.255+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2089429403 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.256+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-08T16:49:57.256+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 24(Long), 1(Long)
2026-01-08T16:49:57.258+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 2
2026-01-08T16:49:57.259+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28b911e4]
2026-01-08T16:49:57.259+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.259+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70e1c0fd] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.260+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@272091444 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.262+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-08T16:49:57.264+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 25(Long), 1(Long)
2026-01-08T16:49:57.267+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-08T16:49:57.267+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70e1c0fd]
2026-01-08T16:49:57.267+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.267+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@456da0df] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.268+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1005938343 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.268+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-08T16:49:57.268+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 27(Long), 1(Long)
2026-01-08T16:49:57.270+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-08T16:49:57.270+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@456da0df]
2026-01-08T16:49:57.270+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.270+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f416644] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.271+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1728203819 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.271+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-08T16:49:57.272+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 31(Long), 1(Long)
2026-01-08T16:49:57.275+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-08T16:49:57.275+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f416644]
2026-01-08T16:49:57.275+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.275+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48342509] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.276+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@567311473 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.276+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-08T16:49:57.276+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 32(Long), 1(Long)
2026-01-08T16:49:57.280+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-08T16:49:57.281+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48342509]
2026-01-08T16:49:57.282+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.282+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50759064] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.282+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@964750094 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.283+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-08T16:49:57.283+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 33(Long), 1(Long)
2026-01-08T16:49:57.285+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-08T16:49:57.285+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50759064]
2026-01-08T16:49:57.285+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.285+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12f50022] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.286+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1862227112 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.286+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-08T16:49:57.287+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 34(Long), 1(Long)
2026-01-08T16:49:57.288+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-08T16:49:57.289+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12f50022]
2026-01-08T16:49:57.293+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.293+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42c72fa9] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.296+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2013905859 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.299+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.300+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-08T16:49:57.302+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:57.303+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42c72fa9]
2026-01-08T16:49:57.304+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.backend.service.ExpenseService       : 하이퍼링크 삽입 완료: 영수증이미지.jpg -> file:///C:/InnerSignature/backend/uploads/receipts/1/deeb94b7-3a0a-4084-a5b7-5d932145b9fa/receipt_20251224165335_영수증이미지.jpg
2026-01-08T16:49:57.305+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.305+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7491db0e] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.306+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@256907346 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.306+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.306+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-08T16:49:57.308+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:57.308+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7491db0e]
2026-01-08T16:49:57.311+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.backend.service.ExpenseService       : 하이퍼링크 삽입 완료: 영수증이미지.jpg -> file:///C:/InnerSignature/backend/uploads/receipts/6/9ec8d455-2013-4265-ad6f-1cb61dbd8891/receipt_20251229144842_영수증이미지.jpg
2026-01-08T16:49:57.313+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.313+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69757482] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.314+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@323394313 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.315+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.315+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-08T16:49:57.318+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:57.319+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69757482]
2026-01-08T16:49:57.321+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.321+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bb01945] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.321+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1772333525 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.322+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.322+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-08T16:49:57.324+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:57.325+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bb01945]
2026-01-08T16:49:57.326+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.326+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e1c7d18] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.327+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@634206127 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.330+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.331+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-08T16:49:57.333+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:57.334+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e1c7d18]
2026-01-08T16:49:57.336+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.337+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@481e37e2] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.337+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@621246276 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.337+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.338+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-08T16:49:57.339+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:57.340+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@481e37e2]
2026-01-08T16:49:57.341+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.342+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ee6242e] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.342+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@671002935 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.342+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.343+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-08T16:49:57.349+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:57.350+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ee6242e]
2026-01-08T16:49:57.351+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.351+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a356f98] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.351+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@626916772 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.352+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.353+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-08T16:49:57.355+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:57.358+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a356f98]
2026-01-08T16:49:57.360+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.366+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24883d92] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.367+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@90234676 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.368+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.369+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), null, 1(Long)
2026-01-08T16:49:57.373+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:57.374+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24883d92]
2026-01-08T16:49:57.381+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.384+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c68e53c] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.386+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@426320782 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.386+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.386+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-08T16:49:57.389+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:57.389+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c68e53c]
2026-01-08T16:49:57.390+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.392+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e4f2ed] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.393+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1000253128 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.393+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.396+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-08T16:49:57.399+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:57.400+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e4f2ed]
2026-01-08T16:49:57.401+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.402+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ffb487f] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.403+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1211088119 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.404+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.404+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-08T16:49:57.407+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:57.409+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ffb487f]
2026-01-08T16:49:57.414+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.416+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31fe5cc4] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.417+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@74666548 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.418+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.419+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-08T16:49:57.421+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:57.421+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31fe5cc4]
2026-01-08T16:49:57.423+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.423+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78d094bf] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.424+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@990641949 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.425+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.426+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-08T16:49:57.433+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:57.433+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78d094bf]
2026-01-08T16:49:57.434+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.435+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@604e568b] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.436+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@482820945 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.437+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.439+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), null, 1(Long)
2026-01-08T16:49:57.441+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:57.441+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@604e568b]
2026-01-08T16:49:57.442+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.443+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62f8214b] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.448+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1880148369 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.449+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.450+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-08T16:49:57.453+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:57.453+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62f8214b]
2026-01-08T16:49:57.455+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.backend.service.ExpenseService       : 하이퍼링크 삽입 완료: innersign_logo.png -> file:///C:/InnerSignature/backend/uploads/receipts/24/e80c6378-aeb5-4d04-a9d7-223cce401ba9/receipt_20260106105553_innersign_logo.png
2026-01-08T16:49:57.456+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.backend.service.ExpenseService       : 하이퍼링크 삽입 완료: 영수증이미지.jpg -> file:///C:/InnerSignature/backend/uploads/receipts/24/3f25f205-b742-46a3-9a35-7d5b09247b63/receipt_20260106105554_영수증이미지.jpg
2026-01-08T16:49:57.457+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.457+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2be011ab] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.457+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@137465829 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.458+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.458+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 버거킹(String), 1(Long)
2026-01-08T16:49:57.464+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:57.466+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2be011ab]
2026-01-08T16:49:57.470+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.backend.service.ExpenseService       : 하이퍼링크 삽입 완료: 영수증이미지.jpg -> file:///C:/InnerSignature/backend/uploads/receipts/25/1fa40027-cba6-4c79-a196-914b910dc76b/receipt_20260106112533_영수증이미지.jpg
2026-01-08T16:49:57.471+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.471+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76707670] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.472+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1572228188 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.472+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.472+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), 다이소(String), 1(Long)
2026-01-08T16:49:57.475+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:57.476+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76707670]
2026-01-08T16:49:57.479+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.483+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bdcbcbf] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.484+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@241862210 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.485+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.485+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-08T16:49:57.487+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:57.488+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bdcbcbf]
2026-01-08T16:49:57.490+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.backend.service.ExpenseService       : 하이퍼링크 삽입 완료: innersign_logo.png -> file:///C:/InnerSignature/backend/uploads/receipts/27/2d548442-a85c-4c57-bb41-9f25447cdb4e/receipt_20260106161341_innersign_logo.png
2026-01-08T16:49:57.491+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.491+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d648413] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.492+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1136915012 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.492+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.493+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-08T16:49:57.501+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:57.502+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d648413]
2026-01-08T16:49:57.503+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.backend.service.ExpenseService       : 하이퍼링크 삽입 완료: innersign_logo.png -> file:///C:/InnerSignature/backend/uploads/receipts/31/db5c6970-67aa-40ad-8884-a207fafae6b8/receipt_20260107140701_innersign_logo.png
2026-01-08T16:49:57.504+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.504+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77059aa8] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.506+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@238607431 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.506+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.507+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-08T16:49:57.509+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:57.509+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77059aa8]
2026-01-08T16:49:57.511+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.517+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42c3c6cc] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.519+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@432592102 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.519+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.520+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), 123(String), 1(Long)
2026-01-08T16:49:57.522+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:57.522+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42c3c6cc]
2026-01-08T16:49:57.524+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.backend.service.ExpenseService       : 하이퍼링크 삽입 완료: innersign_logo.png -> file:///C:/InnerSignature/backend/uploads/receipts/33/14701aae-b2a4-496e-8839-4d8633de7e40/receipt_20260107144205_innersign_logo.png
2026-01-08T16:49:57.525+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.525+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2967d8bf] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.526+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1968086777 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.529+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.532+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식비/회식(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-08T16:49:57.536+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-08T16:49:57.536+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2967d8bf]
2026-01-08T16:49:57.539+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.backend.service.ExpenseService       : 하이퍼링크 삽입 완료: 영수증이미지.jpg -> file:///C:/InnerSignature/backend/uploads/receipts/34/5dd648c1-e13c-4d51-87cf-f627fcd92a45/receipt_20260108131158_영수증이미지.jpg
2026-01-08T16:49:57.540+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.541+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@424d106] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.541+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1538017065 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.542+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.543+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 거래처 접대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-08T16:49:57.551+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-08T16:49:57.552+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@424d106]
2026-01-08T16:49:57.555+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.558+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70bdfe0a] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.559+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1379118586 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.560+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.566+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 출장/교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-08T16:49:57.588+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-08T16:49:57.603+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70bdfe0a]
2026-01-08T16:49:57.664+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.664+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ac1fbb6] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.665+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1435701578 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.666+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.667+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-08T16:49:57.668+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:57.669+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ac1fbb6]
2026-01-08T16:49:57.671+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.671+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@861b748] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.672+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1295577529 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.673+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.673+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-08T16:49:57.675+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:57.675+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@861b748]
2026-01-08T16:49:57.677+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.681+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ba421b5] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.682+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@519704190 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.683+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.684+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-08T16:49:57.686+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:57.687+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ba421b5]
2026-01-08T16:49:57.687+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.688+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@714cf7a4] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.688+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1272957361 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.689+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.689+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-08T16:49:57.691+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:57.692+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@714cf7a4]
2026-01-08T16:49:57.692+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.696+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d6ce251] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.698+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@722191247 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.699+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.700+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-08T16:49:57.703+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:57.703+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d6ce251]
2026-01-08T16:49:57.705+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.705+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ecec376] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.706+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@82496660 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.706+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.707+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-08T16:49:57.708+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:57.709+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ecec376]
2026-01-08T16:49:57.710+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.710+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f720ff7] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.712+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@655341596 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.713+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.713+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-08T16:49:57.715+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:57.715+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f720ff7]
2026-01-08T16:49:57.716+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.718+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47e8510a] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.720+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1492841399 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.720+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.721+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-08T16:49:57.722+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:57.722+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47e8510a]
2026-01-08T16:49:57.723+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.723+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6da3bad2] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.723+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1749468781 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.724+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.724+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), null, 1(Long)
2026-01-08T16:49:57.726+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:57.726+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6da3bad2]
2026-01-08T16:49:57.727+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.729+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e47648f] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.729+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1858218175 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.730+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.732+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-08T16:49:57.734+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:57.735+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e47648f]
2026-01-08T16:49:57.735+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.736+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20ebc50f] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.736+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@86883969 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.736+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.737+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-08T16:49:57.739+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:57.739+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20ebc50f]
2026-01-08T16:49:57.740+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.740+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b6246b] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.741+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2064337519 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.741+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.741+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-08T16:49:57.743+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:57.746+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b6246b]
2026-01-08T16:49:57.746+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.748+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@467086b4] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.749+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1926326125 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.749+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.749+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-08T16:49:57.752+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:57.752+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@467086b4]
2026-01-08T16:49:57.753+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.753+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@110100c4] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.753+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1401315702 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.754+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.755+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-08T16:49:57.757+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:57.757+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@110100c4]
2026-01-08T16:49:57.758+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.758+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3935fb0f] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.759+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@539741133 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.762+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.764+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), null, 1(Long)
2026-01-08T16:49:57.765+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:57.766+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3935fb0f]
2026-01-08T16:49:57.768+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.769+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46a653bd] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.770+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1348281829 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.770+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.771+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-08T16:49:57.774+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:57.774+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46a653bd]
2026-01-08T16:49:57.776+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.780+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5aff4ace] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.786+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@774947223 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.786+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.786+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 버거킹(String), 1(Long)
2026-01-08T16:49:57.789+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:57.789+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5aff4ace]
2026-01-08T16:49:57.789+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.790+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e78ca3f] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.791+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@779180036 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.791+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.792+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), 다이소(String), 1(Long)
2026-01-08T16:49:57.797+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:57.797+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e78ca3f]
2026-01-08T16:49:57.799+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.799+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c095d32] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.799+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@82337726 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.799+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.800+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-08T16:49:57.802+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:57.803+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c095d32]
2026-01-08T16:49:57.803+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.803+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ef79e5c] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.804+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@143762045 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.804+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.805+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-08T16:49:57.807+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:57.807+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ef79e5c]
2026-01-08T16:49:57.808+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.808+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c1b197] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.815+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@821484269 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.816+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.816+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-08T16:49:57.818+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:57.818+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c1b197]
2026-01-08T16:49:57.819+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.820+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ba6e2ed] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.820+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1684318983 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.820+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.821+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), 123(String), 1(Long)
2026-01-08T16:49:57.822+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:57.822+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ba6e2ed]
2026-01-08T16:49:57.823+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.824+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f29cb7c] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.824+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@63241214 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.824+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.824+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식비/회식(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-08T16:49:57.828+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-08T16:49:57.829+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f29cb7c]
2026-01-08T16:49:57.830+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.830+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@291c8d25] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.830+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@982295417 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.831+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.831+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 거래처 접대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-08T16:49:57.833+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-08T16:49:57.834+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@291c8d25]
2026-01-08T16:49:57.837+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.837+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61d7ab05] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.837+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@753891263 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.837+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.837+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 출장/교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-08T16:49:57.841+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-08T16:49:57.841+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61d7ab05]
2026-01-08T16:49:57.873+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.882+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@493b570] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.891+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1489021284 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.892+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.893+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 거래처 접대(String), 1(Long), null, 1(Long)
2026-01-08T16:49:57.905+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-08T16:49:57.907+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@493b570]
2026-01-08T16:49:57.908+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.909+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40dca68a] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.910+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1509798868 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.914+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.916+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), null, 1(Long)
2026-01-08T16:49:57.920+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:57.920+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40dca68a]
2026-01-08T16:49:57.922+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.923+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20309ad0] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.923+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@100503722 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.923+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.924+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 출장/교통비(String), 1(Long), null, 1(Long)
2026-01-08T16:49:57.926+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-08T16:49:57.926+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20309ad0]
2026-01-08T16:49:57.930+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.931+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6808077b] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.931+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1288369840 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.932+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.933+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식비/회식(String), 1(Long), null, 1(Long)
2026-01-08T16:49:57.936+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-08T16:49:57.936+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6808077b]
2026-01-08T16:49:57.937+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.937+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43110f4a] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.937+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1795881868 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.937+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.938+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-08T16:49:57.940+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:57.941+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43110f4a]
2026-01-08T16:49:57.941+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.941+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f704f3a] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.942+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1146124993 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.942+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.943+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-08T16:49:57.947+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:57.949+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f704f3a]
2026-01-08T16:49:57.958+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:57.968+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7faa80c7] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:57.973+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1915623831 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:57.974+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:57.975+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-08T16:49:57.999+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:58.001+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7faa80c7]
2026-01-08T16:49:58.002+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:58.003+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c86ea4f] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:58.004+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@922877344 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:58.004+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:58.005+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-08T16:49:58.007+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:58.008+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c86ea4f]
2026-01-08T16:49:58.009+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:58.014+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fdfa140] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:58.014+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1411446886 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:58.015+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:58.016+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-08T16:49:58.018+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:58.019+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fdfa140]
2026-01-08T16:49:58.020+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:58.020+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54ee445f] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:58.021+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1446591011 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:58.022+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:58.022+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-08T16:49:58.025+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:58.025+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54ee445f]
2026-01-08T16:49:58.027+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:58.029+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e2b695f] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:58.030+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1757479033 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:58.031+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:58.032+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-08T16:49:58.034+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:58.035+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e2b695f]
2026-01-08T16:49:58.036+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:58.036+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3aa84197] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:58.036+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@794600972 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:58.037+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:58.037+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-08T16:49:58.041+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:58.041+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3aa84197]
2026-01-08T16:49:58.042+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:58.043+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@eb26a0e] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:58.048+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1995323062 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:58.048+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:58.049+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-08T16:49:58.051+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:58.052+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@eb26a0e]
2026-01-08T16:49:58.052+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:58.052+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@646a867] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:58.054+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@456741051 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:58.055+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:58.056+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-08T16:49:58.058+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:58.064+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@646a867]
2026-01-08T16:49:58.066+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:58.067+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64c04a5b] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:58.070+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1475793716 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:58.072+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:58.073+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), null, 1(Long)
2026-01-08T16:49:58.075+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:58.076+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64c04a5b]
2026-01-08T16:49:58.076+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:58.080+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36390128] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:58.081+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1355613990 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:58.081+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:58.082+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-08T16:49:58.087+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:58.088+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36390128]
2026-01-08T16:49:58.088+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:58.088+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68ee568c] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:58.089+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@371206904 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:58.089+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:58.090+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-08T16:49:58.092+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:58.092+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68ee568c]
2026-01-08T16:49:58.093+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:58.096+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78df759] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:58.097+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@500013842 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:58.098+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:58.098+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-08T16:49:58.102+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:58.103+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78df759]
2026-01-08T16:49:58.103+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:58.103+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43d1b242] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:58.104+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@730772062 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:58.104+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:58.104+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-08T16:49:58.106+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:58.107+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43d1b242]
2026-01-08T16:49:58.107+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:58.107+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38086f1f] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:58.108+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1988467198 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:58.108+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:58.109+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-08T16:49:58.120+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:58.135+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38086f1f]
2026-01-08T16:49:58.138+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:58.138+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@276b7605] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:58.139+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1558222176 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:58.139+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:58.140+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), null, 1(Long)
2026-01-08T16:49:58.149+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:58.156+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@276b7605]
2026-01-08T16:49:58.158+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:58.158+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10686ade] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:58.160+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1825570184 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:58.166+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:58.170+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-08T16:49:58.198+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:58.199+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10686ade]
2026-01-08T16:49:58.200+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:58.205+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37c456f1] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:58.207+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1680471117 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:58.209+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:58.210+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 버거킹(String), 1(Long)
2026-01-08T16:49:58.220+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:58.223+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37c456f1]
2026-01-08T16:49:58.224+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:58.225+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22e7cdf4] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:58.226+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@931230855 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:58.226+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:58.231+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), 다이소(String), 1(Long)
2026-01-08T16:49:58.233+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:58.234+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22e7cdf4]
2026-01-08T16:49:58.235+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:58.235+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2033c651] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:58.238+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1009203150 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:58.240+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:58.241+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-08T16:49:58.254+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:58.255+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2033c651]
2026-01-08T16:49:58.256+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:58.256+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17a50075] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:58.257+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@697982366 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:58.257+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:58.259+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-08T16:49:58.265+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:58.267+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17a50075]
2026-01-08T16:49:58.269+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:58.270+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e06a074] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:58.271+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1629468009 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:58.271+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:58.272+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-08T16:49:58.274+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:58.275+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e06a074]
2026-01-08T16:49:58.276+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:58.276+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23d60a9] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:58.276+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1775465882 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:58.278+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:58.279+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), 123(String), 1(Long)
2026-01-08T16:49:58.281+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T16:49:58.282+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23d60a9]
2026-01-08T16:49:58.282+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:58.283+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c738458] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:58.286+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@354589527 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:58.287+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:58.288+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식비/회식(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-08T16:49:58.290+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-08T16:49:58.290+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c738458]
2026-01-08T16:49:58.292+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:58.292+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bf1bc9c] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:58.293+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@725659902 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:58.293+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:58.296+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 거래처 접대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-08T16:49:58.299+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-08T16:49:58.300+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bf1bc9c]
2026-01-08T16:49:58.301+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:49:58.302+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3795f95a] was not registered for synchronization because synchronization is not active
2026-01-08T16:49:58.303+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1908844136 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:49:58.303+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T16:49:58.304+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 출장/교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-08T16:49:58.306+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-08T16:49:58.306+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3795f95a]
2026-01-08T16:49:58.384+09:00  INFO 23448 --- [http-nio-8080-exec-1] c.i.backend.service.ExpenseService       : 세무 검토 자료 생성 완료 - 파일명: tax_review_923740386184641246.xlsx, 건수: 17
2026-01-08T16:49:58.398+09:00  INFO 23448 --- [http-nio-8080-exec-1] c.i.b.controller.ExpenseController       : 세무 검토 자료 다운로드 요청 - userId: 12, startDate: null, endDate: null, format: full
2026-01-08T16:49:58.399+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Found 'Content-Type:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' in response
2026-01-08T16:49:58.400+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [file [C:\Users\owner\AppData\Local\Temp\tax_review_923740386184641246.xlsx]]
2026-01-08T16:49:58.404+09:00  WARN 23448 --- [http-nio-8080-exec-1] o.apache.coyote.http11.Http11Processor   : The HTTP response header [Content-Disposition] with value [attachment; filename="세무검토_전체_전체.xlsx"] has been removed from the response because it is invalid

java.lang.IllegalArgumentException: The Unicode character [세] at code point [49,464] cannot be encoded as it is outside the permitted range of 0 to 255
	at org.apache.tomcat.util.buf.MessageBytes.toBytesSimple(MessageBytes.java:306) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.buf.MessageBytes.toBytes(MessageBytes.java:279) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11OutputBuffer.write(Http11OutputBuffer.java:400) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11OutputBuffer.sendHeader(Http11OutputBuffer.java:379) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.writeHeaders(Http11Processor.java:1067) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.prepareResponse(Http11Processor.java:1054) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessor.action(AbstractProcessor.java:377) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.Response.action(Response.java:201) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11OutputBuffer.doWrite(Http11OutputBuffer.java:187) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.Response.doWrite(Response.java:621) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:328) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.flushByteBuffer(OutputBuffer.java:775) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.append(OutputBuffer.java:672) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.writeBytes(OutputBuffer.java:375) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.write(OutputBuffer.java:353) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteOutputStream.write(CoyoteOutputStream.java:99) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.security.web.util.OnCommittedResponseWrapper$SaveContextServletOutputStream.write(OnCommittedResponseWrapper.java:639) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.context.request.async.StandardServletAsyncWebRequest$LifecycleServletOutputStream.write(StandardServletAsyncWebRequest.java:401) ~[spring-web-6.2.14.jar:6.2.14]
	at java.base/java.io.InputStream.transferTo(InputStream.java:783) ~[na:na]
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeContent(ResourceHttpMessageConverter.java:160) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:115) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:46) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.http.converter.AbstractHttpMessageConverter.write(AbstractHttpMessageConverter.java:235) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:344) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:263) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ResponseEntityReturnValueHandler.handleReturnValue(ResponseEntityReturnValueHandler.java:79) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:87) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2026-01-08T16:49:58.438+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:51:38.044+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:51:38.044+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T16:51:38.045+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/26
2026-01-08T16:51:38.045+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me/signatures
2026-01-08T16:51:38.048+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me/signatures
2026-01-08T16:51:38.048+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/26
2026-01-08T16:51:38.070+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:51:38.071+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T16:51:38.084+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:51:38.073+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/26
2026-01-08T16:51:38.075+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me/signatures
2026-01-08T16:51:38.085+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/26
2026-01-08T16:51:38.078+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/26
2026-01-08T16:51:38.081+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me/signatures
2026-01-08T16:51:38.087+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/26
2026-01-08T16:51:38.084+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T16:51:38.084+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:51:38.086+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/users/me/signatures
2026-01-08T16:51:38.086+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/26
2026-01-08T16:51:38.087+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/users/me/signatures
2026-01-08T16:51:38.087+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/26
2026-01-08T16:51:38.088+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T16:51:38.088+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:51:38.095+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:51:38.098+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:38.099+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1587a985] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:38.089+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me/signatures
2026-01-08T16:51:38.089+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/26", parameters={}
2026-01-08T16:51:38.089+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me/signatures
2026-01-08T16:51:38.090+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/26", parameters={}
2026-01-08T16:51:38.090+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T16:51:38.101+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me/signatures", parameters={}
2026-01-08T16:51:38.119+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getMySignatures()
2026-01-08T16:51:38.103+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-08T16:51:38.105+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me/signatures", parameters={}
2026-01-08T16:51:38.117+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-08T16:51:38.118+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T16:51:38.120+09:00  INFO 23448 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 내 서명/도장 목록 조회 요청 - userId: 12, companyId: 1
2026-01-08T16:51:38.120+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:38.122+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1470556612 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:51:38.128+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:51:38.123+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getMySignatures()
2026-01-08T16:51:38.125+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:38.134+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@521b222f] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:38.127+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:38.127+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:38.127+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@455eb654] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:38.132+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:51:38.133+09:00  INFO 23448 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 내 서명/도장 목록 조회 요청 - userId: 12, companyId: 1
2026-01-08T16:51:38.137+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:38.134+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77a8ea1b] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:38.135+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fc5b0a2] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:38.137+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75cad97e] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:38.140+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1749724216 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:51:38.140+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-08T16:51:38.140+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T16:51:38.140+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1858135915 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:51:38.146+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 26(Long), 1(Long)
2026-01-08T16:51:38.146+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1587a985]
2026-01-08T16:51:38.146+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-08T16:51:38.148+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:51:38.148+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 26(Long), 1(Long)
2026-01-08T16:51:38.148+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T16:51:38.149+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:51:38.154+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1787996858 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:51:38.154+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@484914798 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:51:38.154+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1924793951 wrapping com.mysql.cj.jdbc.ConnectionImpl@722e25d8] will not be managed by Spring
2026-01-08T16:51:38.155+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-08T16:51:38.155+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-08T16:51:38.163+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.U.findByUserId                   : ==>  Preparing: SELECT * FROM user_signature_tb WHERE user_id = ? AND company_id = ? ORDER BY is_default DESC, created_at DESC
2026-01-08T16:51:38.164+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.U.findByUserId                   : ==>  Preparing: SELECT * FROM user_signature_tb WHERE user_id = ? AND company_id = ? ORDER BY is_default DESC, created_at DESC
2026-01-08T16:51:38.164+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T16:51:38.164+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@521b222f]
2026-01-08T16:51:38.165+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@455eb654]
2026-01-08T16:51:38.165+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.U.findByUserId                   : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:51:38.165+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.U.findByUserId                   : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:51:38.167+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 12(Long)
2026-01-08T16:51:38.167+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:38.168+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:38.169+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@449936] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:38.169+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f3012f9] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:38.170+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@304840636 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:51:38.171+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@749679043 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:51:38.174+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-08T16:51:38.176+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-08T16:51:38.177+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 26(Long), 1(Long)
2026-01-08T16:51:38.178+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 26(Long), 1(Long)
2026-01-08T16:51:38.178+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.U.findByUserId                   : <==      Total: 0
2026-01-08T16:51:38.179+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T16:51:38.179+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.U.findByUserId                   : <==      Total: 0
2026-01-08T16:51:38.183+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75cad97e]
2026-01-08T16:51:38.184+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77a8ea1b]
2026-01-08T16:51:38.185+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fc5b0a2]
2026-01-08T16:51:38.185+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-08T16:51:38.186+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-08T16:51:38.186+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:51:38.187+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:51:38.189+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:51:38.189+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f3012f9]
2026-01-08T16:51:38.189+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@449936]
2026-01-08T16:51:38.190+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=서명/도장 목록 조회 성공, data=[])]
2026-01-08T16:51:38.190+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T16:51:38.196+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=서명/도장 목록 조회 성공, data=[])]
2026-01-08T16:51:38.197+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:38.198+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:38.199+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:51:38.204+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:51:38.205+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:51:38.206+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@df323be] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:38.207+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a1cabf1] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:38.216+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@315313955 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:51:38.217+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@783621805 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:51:38.217+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-08T16:51:38.217+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-08T16:51:38.219+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 26(Long), 1(Long)
2026-01-08T16:51:38.221+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 26(Long), 1(Long)
2026-01-08T16:51:38.237+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2026-01-08T16:51:38.238+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@df323be]
2026-01-08T16:51:38.238+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectApprovalLines            : <==      Total: 3
2026-01-08T16:51:38.238+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:38.239+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a1cabf1]
2026-01-08T16:51:38.239+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69281485] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:38.239+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:38.239+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2110928077 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:51:38.239+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21846442] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:38.240+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-08T16:51:38.240+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1319633056 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:51:38.245+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 26(Long), 1(Long)
2026-01-08T16:51:38.246+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-08T16:51:38.246+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 26(Long), 1(Long)
2026-01-08T16:51:38.248+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-08T16:51:38.248+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69281485]
2026-01-08T16:51:38.248+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:38.250+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8060ef3] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:38.250+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@555986762 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:51:38.252+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:51:38.252+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:51:38.254+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-08T16:51:38.257+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21846442]
2026-01-08T16:51:38.257+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:51:38.262+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:38.262+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8060ef3]
2026-01-08T16:51:38.263+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d630c69] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:38.263+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:51:38.264+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2143801843 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:51:38.264+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=26, drafterId=2, r (truncated)...]
2026-01-08T16:51:38.264+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:51:38.267+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:51:38.271+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:51:38.351+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:51:38.364+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d630c69]
2026-01-08T16:51:38.365+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:51:38.366+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=26, drafterId=2, r (truncated)...]
2026-01-08T16:51:38.367+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:51:39.596+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:51:39.598+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T16:51:39.601+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-08T16:51:39.602+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:51:39.603+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/my-approvals
2026-01-08T16:51:39.604+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T16:51:39.606+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-08T16:51:39.611+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/my-approvals
2026-01-08T16:51:39.611+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:51:39.615+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T16:51:39.622+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:51:39.622+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T16:51:39.623+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:51:39.622+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:51:39.626+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T16:51:39.630+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T16:51:39.631+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T16:51:39.629+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:51:39.631+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:51:39.631+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T16:51:39.631+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:51:39.632+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:51:39.632+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:39.632+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:51:39.633+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:51:39.633+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29369c50] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:39.634+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:39.634+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:51:39.635+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fd19ac5] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:39.635+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:39.636+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e90048d] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:39.638+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-08T16:51:39.639+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-08T16:51:39.642+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-08T16:51:39.643+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/my-approvals
2026-01-08T16:51:39.644+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-08T16:51:39.647+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T16:51:39.647+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/my-approvals
2026-01-08T16:51:39.648+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:39.648+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/my-approvals
2026-01-08T16:51:39.648+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c9f0bb5] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:39.648+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/my-approvals", parameters={}
2026-01-08T16:51:39.649+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMyApprovals()
2026-01-08T16:51:39.649+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:39.649+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@eb2fe48] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:39.652+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1233670316 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:51:39.652+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@977031748 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:51:39.653+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:51:39.652+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T16:51:39.652+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:51:39.653+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@396178229 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:51:39.654+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:51:39.654+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1914014722 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:51:39.654+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:51:39.655+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:51:39.655+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T16:51:39.655+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T16:51:39.655+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1136580335 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:51:39.656+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:51:39.656+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T16:51:39.657+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 12(Long)
2026-01-08T16:51:39.657+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] .i.b.m.E.selectMyApprovedReportsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status IN ('APPROVED', 'REJECTED') AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:51:39.661+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T16:51:39.662+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] .i.b.m.E.selectMyApprovedReportsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:51:39.662+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T16:51:39.663+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:39.663+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d5be99] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:39.667+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T16:51:39.667+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1576684614 wrapping com.mysql.cj.jdbc.ConnectionImpl@722e25d8] will not be managed by Spring
2026-01-08T16:51:39.667+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:51:39.667+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e90048d]
2026-01-08T16:51:39.667+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T16:51:39.667+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c9f0bb5]
2026-01-08T16:51:39.668+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:51:39.668+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 12(Long)
2026-01-08T16:51:39.669+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:39.669+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T16:51:39.669+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68191466] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:39.670+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:51:39.670+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@188927599 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:51:39.671+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:51:39.673+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:51:39.673+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:51:39.680+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T16:51:39.680+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:51:39.680+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fd19ac5]
2026-01-08T16:51:39.681+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:51:39.681+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:51:39.681+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:51:39.681+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] .i.b.m.E.selectMyApprovedReportsByUserId : <==      Total: 0
2026-01-08T16:51:39.681+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T16:51:39.681+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T16:51:39.681+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:51:39.682+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@eb2fe48]
2026-01-08T16:51:39.682+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29369c50]
2026-01-08T16:51:39.682+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:51:39.683+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:51:39.684+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=내 결재 문서 조회 성공, data=[])]
2026-01-08T16:51:39.685+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:51:39.687+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-08T16:51:39.688+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/my-approvals
2026-01-08T16:51:39.683+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:39.684+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:51:39.689+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-08T16:51:39.696+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/my-approvals
2026-01-08T16:51:39.699+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-08T16:51:39.697+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@569f5d81] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:39.699+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T16:51:39.700+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/my-approvals
2026-01-08T16:51:39.700+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-08T16:51:39.700+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1956376410 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:51:39.700+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/my-approvals", parameters={}
2026-01-08T16:51:39.701+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:51:39.701+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T16:51:39.702+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:51:39.706+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:51:39.702+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMyApprovals()
2026-01-08T16:51:39.704+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:39.705+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T16:51:39.707+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cdd1f3] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:39.710+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:39.711+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T16:51:39.713+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1751885002 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:51:39.713+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c22685d] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:39.713+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T16:51:39.713+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:51:39.714+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T16:51:39.714+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1049212761 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:51:39.714+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:51:39.714+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T16:51:39.714+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] .i.b.m.E.selectMyApprovedReportsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status IN ('APPROVED', 'REJECTED') AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:51:39.715+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:39.715+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] .i.b.m.E.selectMyApprovedReportsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:51:39.715+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@779b0f6b] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:39.715+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@445301836 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:51:39.716+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T16:51:39.716+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 12(Long)
2026-01-08T16:51:39.722+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:51:39.722+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68191466]
2026-01-08T16:51:39.722+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:39.723+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@376b7ef8] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:39.724+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@393340503 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:51:39.728+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T16:51:39.730+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T16:51:39.730+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T16:51:39.730+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] .i.b.m.E.selectMyApprovedReportsByUserId : <==      Total: 0
2026-01-08T16:51:39.730+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:51:39.730+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T16:51:39.731+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d5be99]
2026-01-08T16:51:39.731+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c22685d]
2026-01-08T16:51:39.731+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:51:39.731+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cdd1f3]
2026-01-08T16:51:39.731+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@779b0f6b]
2026-01-08T16:51:39.732+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:51:39.732+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T16:51:39.732+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:39.732+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:51:39.732+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=내 결재 문서 조회 성공, data=[])]
2026-01-08T16:51:39.733+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55036e4d] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:39.733+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:51:39.733+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T16:51:39.734+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@942436183 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:51:39.738+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:51:39.734+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:51:39.735+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:51:39.738+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:51:39.745+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T16:51:39.746+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@569f5d81]
2026-01-08T16:51:39.746+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:51:39.747+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T16:51:39.749+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:51:39.764+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:51:39.764+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 24
2026-01-08T16:51:39.764+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55036e4d]
2026-01-08T16:51:39.764+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@376b7ef8]
2026-01-08T16:51:39.764+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:39.765+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@150956ea] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:39.764+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:39.765+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1530274560 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:51:39.765+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2daa989a] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:39.765+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T16:51:39.766+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1096462185 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:51:39.766+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T16:51:39.766+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:51:39.766+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:51:39.768+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:51:39.768+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2daa989a]
2026-01-08T16:51:39.768+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:39.769+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38a60478] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:39.769+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1093744062 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:51:39.770+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T16:51:39.771+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T16:51:39.772+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 24
2026-01-08T16:51:39.773+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@150956ea]
2026-01-08T16:51:39.777+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:39.778+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b4fc73c] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:39.779+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1957587641 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:51:39.780+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:51:39.780+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:51:39.784+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:51:39.784+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b4fc73c]
2026-01-08T16:51:39.784+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 24
2026-01-08T16:51:39.784+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:39.785+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38a60478]
2026-01-08T16:51:39.786+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43c397bd] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:39.786+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:39.787+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@375447262 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:51:39.787+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@183500f] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:39.788+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T16:51:39.789+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@160301443 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:51:39.793+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T16:51:39.793+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:51:39.799+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:51:39.803+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 24
2026-01-08T16:51:39.816+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43c397bd]
2026-01-08T16:51:39.817+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:39.837+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cf33424] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:39.838+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@55717496 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:51:39.817+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:51:39.839+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:51:39.839+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@183500f]
2026-01-08T16:51:39.840+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:51:39.846+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:39.848+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3374d6af] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:39.849+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@686615526 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:51:39.850+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:51:39.850+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cf33424]
2026-01-08T16:51:39.850+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:51:39.851+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:39.853+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:51:39.853+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66956d5c] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:39.854+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@595732414 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:51:39.855+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:51:39.856+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:51:39.867+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:51:39.869+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3374d6af]
2026-01-08T16:51:39.870+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:51:39.870+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:51:39.870+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66956d5c]
2026-01-08T16:51:39.871+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T16:51:39.871+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:51:39.872+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:51:39.886+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T16:51:39.888+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:51:40.550+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:51:40.554+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:51:40.575+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:51:40.577+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:51:40.579+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:51:40.579+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:51:40.585+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:51:40.585+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:51:40.586+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:51:40.586+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:51:40.586+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:51:40.587+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:51:40.587+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:40.588+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7199e8e0] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:40.587+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:40.590+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b18e8f3] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:40.638+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1541288698 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:51:40.638+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1343956209 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:51:40.646+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:51:40.646+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:51:40.647+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:51:40.653+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:51:40.686+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T16:51:40.687+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T16:51:40.689+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7199e8e0]
2026-01-08T16:51:40.689+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b18e8f3]
2026-01-08T16:51:40.691+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:51:40.696+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:51:40.702+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T16:51:40.702+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T16:51:40.705+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:51:40.710+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:51:42.699+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:51:42.700+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T16:51:42.701+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me/signatures
2026-01-08T16:51:42.701+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/27
2026-01-08T16:51:42.702+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me/signatures
2026-01-08T16:51:42.702+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/27
2026-01-08T16:51:42.714+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:51:42.714+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T16:51:42.714+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me/signatures
2026-01-08T16:51:42.715+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/27
2026-01-08T16:51:42.715+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me/signatures
2026-01-08T16:51:42.715+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/27
2026-01-08T16:51:42.827+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:51:42.952+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:51:42.914+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T16:51:42.948+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/users/me/signatures
2026-01-08T16:51:42.951+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/27
2026-01-08T16:51:42.951+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/users/me/signatures
2026-01-08T16:51:42.953+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/27
2026-01-08T16:51:42.953+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:51:42.954+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T16:51:42.954+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me/signatures
2026-01-08T16:51:42.955+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/27
2026-01-08T16:51:42.956+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me/signatures
2026-01-08T16:51:42.966+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/27
2026-01-08T16:51:42.967+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:51:42.968+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T16:51:42.968+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me/signatures", parameters={}
2026-01-08T16:51:42.968+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/27", parameters={}
2026-01-08T16:51:42.968+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me/signatures", parameters={}
2026-01-08T16:51:42.970+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/27", parameters={}
2026-01-08T16:51:42.970+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:42.971+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T16:51:42.971+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getMySignatures()
2026-01-08T16:51:42.971+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-08T16:51:42.972+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getMySignatures()
2026-01-08T16:51:42.973+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-08T16:51:42.973+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1503c717] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:42.973+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:42.976+09:00  INFO 23448 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 내 서명/도장 목록 조회 요청 - userId: 12, companyId: 1
2026-01-08T16:51:42.977+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:42.978+09:00  INFO 23448 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 내 서명/도장 목록 조회 요청 - userId: 12, companyId: 1
2026-01-08T16:51:42.978+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:42.979+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a7f654d] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:42.979+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:42.979+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8a0766b] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:42.979+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:42.979+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71cad13f] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:42.981+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68bec02] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:42.983+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f0bf8e4] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:42.987+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@71622169 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:51:42.987+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1430647742 wrapping com.mysql.cj.jdbc.ConnectionImpl@722e25d8] will not be managed by Spring
2026-01-08T16:51:42.987+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1283995187 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:51:42.987+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1454933844 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:51:42.987+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2106946087 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:51:42.987+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@155412546 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:51:42.988+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:51:42.989+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.U.findByUserId                   : ==>  Preparing: SELECT * FROM user_signature_tb WHERE user_id = ? AND company_id = ? ORDER BY is_default DESC, created_at DESC
2026-01-08T16:51:42.989+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T16:51:42.990+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.U.findByUserId                   : ==>  Preparing: SELECT * FROM user_signature_tb WHERE user_id = ? AND company_id = ? ORDER BY is_default DESC, created_at DESC
2026-01-08T16:51:42.990+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-08T16:51:42.993+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-08T16:51:42.994+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:51:42.994+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.U.findByUserId                   : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:51:42.994+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 12(Long)
2026-01-08T16:51:42.995+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.U.findByUserId                   : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:51:42.995+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 27(Long), 1(Long)
2026-01-08T16:51:42.995+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 27(Long), 1(Long)
2026-01-08T16:51:43.000+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.U.findByUserId                   : <==      Total: 0
2026-01-08T16:51:43.000+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-08T16:51:43.000+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-08T16:51:43.001+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f0bf8e4]
2026-01-08T16:51:43.001+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T16:51:43.001+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1503c717]
2026-01-08T16:51:43.001+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71cad13f]
2026-01-08T16:51:43.001+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8a0766b]
2026-01-08T16:51:43.002+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:51:43.002+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:51:43.002+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:43.002+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:43.003+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=서명/도장 목록 조회 성공, data=[])]
2026-01-08T16:51:43.003+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T16:51:43.003+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@728bc3dd] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:43.003+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c0df7a2] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:43.003+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.U.findByUserId                   : <==      Total: 0
2026-01-08T16:51:43.004+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:51:43.004+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:51:43.004+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1426526640 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:51:43.004+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1236358314 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:51:43.005+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68bec02]
2026-01-08T16:51:43.006+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-08T16:51:43.007+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-08T16:51:43.011+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:51:43.011+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 27(Long), 1(Long)
2026-01-08T16:51:43.012+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 27(Long), 1(Long)
2026-01-08T16:51:43.013+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=서명/도장 목록 조회 성공, data=[])]
2026-01-08T16:51:43.013+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:51:43.016+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T16:51:43.016+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a7f654d]
2026-01-08T16:51:43.016+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:51:43.017+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T16:51:43.017+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:51:43.030+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-08T16:51:43.030+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-08T16:51:43.030+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c0df7a2]
2026-01-08T16:51:43.030+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@728bc3dd]
2026-01-08T16:51:43.031+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:43.031+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:43.031+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12cee4a9] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:43.032+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b093272] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:43.032+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@301834677 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:51:43.032+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@120621541 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:51:43.032+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-08T16:51:43.032+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-08T16:51:43.033+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 27(Long), 1(Long)
2026-01-08T16:51:43.033+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 27(Long), 1(Long)
2026-01-08T16:51:43.035+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-08T16:51:43.035+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-08T16:51:43.035+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b093272]
2026-01-08T16:51:43.035+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12cee4a9]
2026-01-08T16:51:43.035+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:43.036+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:43.036+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43805cb8] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:43.036+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18e73ad3] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:43.037+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@561544216 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:51:43.037+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2112450250 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:51:43.037+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-08T16:51:43.037+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-08T16:51:43.038+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 27(Long), 1(Long)
2026-01-08T16:51:43.038+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 27(Long), 1(Long)
2026-01-08T16:51:43.040+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-08T16:51:43.041+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43805cb8]
2026-01-08T16:51:43.040+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-08T16:51:43.043+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:43.043+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18e73ad3]
2026-01-08T16:51:43.043+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7494f683] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:43.043+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:43.045+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d1a840] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:43.045+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@892342581 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:51:43.046+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@658586603 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:51:43.046+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:51:43.046+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:51:43.047+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:51:43.047+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:51:43.049+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:51:43.049+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:51:43.049+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7494f683]
2026-01-08T16:51:43.049+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d1a840]
2026-01-08T16:51:43.049+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:51:43.049+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:51:43.054+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=27, drafterId=2, r (truncated)...]
2026-01-08T16:51:43.054+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=27, drafterId=2, r (truncated)...]
2026-01-08T16:51:43.056+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:51:43.057+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:51:52.046+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:51:52.046+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T16:51:52.050+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-08T16:51:52.050+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/my-approvals
2026-01-08T16:51:52.050+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:51:52.050+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T16:51:52.057+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-08T16:51:52.060+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:51:52.064+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/my-approvals
2026-01-08T16:51:52.070+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T16:51:52.065+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T16:51:52.067+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:51:52.071+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-08T16:51:52.071+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/my-approvals
2026-01-08T16:51:52.073+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:51:52.076+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T16:51:52.090+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T16:51:52.114+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:51:52.131+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:51:52.123+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-08T16:51:52.124+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/my-approvals
2026-01-08T16:51:52.127+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:51:52.127+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T16:51:52.131+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T16:51:52.132+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:51:52.132+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-08T16:51:52.133+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/my-approvals
2026-01-08T16:51:52.133+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:51:52.133+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T16:51:52.134+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T16:51:52.135+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:51:52.142+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:52.137+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-08T16:51:52.137+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/my-approvals", parameters={}
2026-01-08T16:51:52.138+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:51:52.149+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:51:52.138+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T16:51:52.150+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:52.139+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T16:51:52.145+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ce71a47] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:52.146+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T16:51:52.148+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMyApprovals()
2026-01-08T16:51:52.149+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:52.151+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58b6733b] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:52.151+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T16:51:52.153+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:52.153+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:52.154+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42107a9b] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:52.180+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@991812870 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:51:52.180+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:52.180+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@200468349 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:51:52.182+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2283199f] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:52.182+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1afb2ade] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:52.182+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T16:51:52.182+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cca69a3] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:52.183+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:51:52.184+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@406355741 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:51:52.185+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 12(Long)
2026-01-08T16:51:52.187+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@707244190 wrapping com.mysql.cj.jdbc.ConnectionImpl@722e25d8] will not be managed by Spring
2026-01-08T16:51:52.187+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@370893946 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:51:52.187+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:51:52.187+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@40889554 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:51:52.188+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:51:52.188+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] .i.b.m.E.selectMyApprovedReportsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status IN ('APPROVED', 'REJECTED') AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:51:52.190+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:51:52.197+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T16:51:52.199+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:51:52.200+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] .i.b.m.E.selectMyApprovedReportsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:51:52.201+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T16:51:52.201+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:51:52.202+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 12(Long)
2026-01-08T16:51:52.205+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58b6733b]
2026-01-08T16:51:52.212+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T16:51:52.212+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T16:51:52.214+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42107a9b]
2026-01-08T16:51:52.214+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:51:52.215+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ce71a47]
2026-01-08T16:51:52.215+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:51:52.215+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T16:51:52.216+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:51:52.216+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T16:51:52.217+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:51:52.217+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:51:52.218+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] .i.b.m.E.selectMyApprovedReportsByUserId : <==      Total: 0
2026-01-08T16:51:52.218+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T16:51:52.220+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:51:52.228+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-08T16:51:52.230+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T16:51:52.231+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2283199f]
2026-01-08T16:51:52.232+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1afb2ade]
2026-01-08T16:51:52.233+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:51:52.235+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:51:52.236+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-08T16:51:52.236+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cca69a3]
2026-01-08T16:51:52.236+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:52.240+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:51:52.245+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/my-approvals
2026-01-08T16:51:52.250+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-08T16:51:52.250+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:51:52.251+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:51:52.251+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6884f39a] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:52.252+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=내 결재 문서 조회 성공, data=[])]
2026-01-08T16:51:52.252+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-08T16:51:52.253+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:51:52.262+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:51:52.253+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/my-approvals
2026-01-08T16:51:52.253+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T16:51:52.254+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2117566108 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:51:52.256+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:51:52.261+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T16:51:52.263+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:51:52.273+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:52.263+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/my-approvals
2026-01-08T16:51:52.284+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/my-approvals", parameters={}
2026-01-08T16:51:52.264+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:51:52.264+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:51:52.265+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T16:51:52.272+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:52.288+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69effa14] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:52.283+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a88ee7b] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:52.285+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMyApprovals()
2026-01-08T16:51:52.296+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:52.286+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:51:52.289+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T16:51:52.289+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1588744461 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:51:52.289+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1571019358 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:51:52.296+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e51f1a] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:52.298+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T16:51:52.298+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:51:52.299+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:51:52.301+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1272409367 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:51:52.302+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T16:51:52.302+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:51:52.304+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:51:52.304+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] .i.b.m.E.selectMyApprovedReportsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status IN ('APPROVED', 'REJECTED') AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:51:52.305+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T16:51:52.306+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] .i.b.m.E.selectMyApprovedReportsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:51:52.306+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:52.313+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68061971] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:52.313+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@194415224 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:51:52.317+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:51:52.321+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T16:51:52.321+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6884f39a]
2026-01-08T16:51:52.323+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:52.322+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 12(Long)
2026-01-08T16:51:52.330+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b56b0c1] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:52.334+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@612468242 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:51:52.336+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T16:51:52.336+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:51:52.337+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] .i.b.m.E.selectMyApprovedReportsByUserId : <==      Total: 0
2026-01-08T16:51:52.337+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T16:51:52.338+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a88ee7b]
2026-01-08T16:51:52.339+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69effa14]
2026-01-08T16:51:52.339+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e51f1a]
2026-01-08T16:51:52.339+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T16:51:52.351+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T16:51:52.352+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:51:52.352+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:52.352+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:51:52.353+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68061971]
2026-01-08T16:51:52.354+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T16:51:52.356+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13ff07ae] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:52.356+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=내 결재 문서 조회 성공, data=[])]
2026-01-08T16:51:52.360+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:51:52.362+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:51:52.362+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@89551007 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:51:52.362+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:51:52.367+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T16:51:52.370+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:51:52.372+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 24
2026-01-08T16:51:52.382+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:51:52.384+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:51:52.385+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b56b0c1]
2026-01-08T16:51:52.388+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:52.390+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@458d3079] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:52.391+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@461586609 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:51:52.394+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:51:52.401+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:51:52.401+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13ff07ae]
2026-01-08T16:51:52.402+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:51:52.402+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:52.403+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12a40a22] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:52.417+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2030943663 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:51:52.419+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T16:51:52.430+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T16:51:52.467+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:51:52.495+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@458d3079]
2026-01-08T16:51:52.496+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 24
2026-01-08T16:51:52.513+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:52.513+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12a40a22]
2026-01-08T16:51:52.513+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c3e46f9] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:52.514+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:52.529+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59b320e] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:52.529+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1084014079 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:51:52.529+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@928828805 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:51:52.529+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T16:51:52.530+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:51:52.531+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T16:51:52.537+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:51:52.551+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:51:52.552+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 24
2026-01-08T16:51:52.554+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59b320e]
2026-01-08T16:51:52.554+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c3e46f9]
2026-01-08T16:51:52.555+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:52.555+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:52.555+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2305e7c8] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:52.555+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25c383bf] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:52.556+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2136124132 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:51:52.556+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@995364976 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:51:52.556+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T16:51:52.562+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:51:52.567+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:51:52.566+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T16:51:52.585+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 24
2026-01-08T16:51:52.585+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:51:52.587+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2305e7c8]
2026-01-08T16:51:52.589+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25c383bf]
2026-01-08T16:51:52.594+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:52.595+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:52.595+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a8ff372] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:52.595+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b26b6] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:52.597+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1186494028 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:51:52.597+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@960267129 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:51:52.598+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:51:52.598+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:51:52.599+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:51:52.599+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:51:52.604+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:51:52.604+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:51:52.605+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b26b6]
2026-01-08T16:51:52.605+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a8ff372]
2026-01-08T16:51:52.606+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:51:52.606+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:52.607+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T16:51:52.609+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19525411] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:52.612+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:51:52.613+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@754135082 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:51:52.614+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:51:52.615+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:51:52.617+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:51:52.632+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19525411]
2026-01-08T16:51:52.633+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:51:52.637+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T16:51:52.639+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:51:53.210+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:51:53.211+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:51:53.259+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:51:53.260+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:51:53.263+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:51:53.263+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:51:53.263+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:51:53.264+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:51:53.264+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:51:53.264+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:51:53.264+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:51:53.264+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:51:53.265+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:53.265+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:53.265+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@652326ed] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:53.265+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a80346a] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:53.267+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@415721971 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:51:53.267+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@381922560 wrapping com.mysql.cj.jdbc.ConnectionImpl@722e25d8] will not be managed by Spring
2026-01-08T16:51:53.267+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:51:53.268+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:51:53.269+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:51:53.270+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:51:53.271+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T16:51:53.271+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T16:51:53.271+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@652326ed]
2026-01-08T16:51:53.272+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a80346a]
2026-01-08T16:51:53.272+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:51:53.272+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:51:53.272+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T16:51:53.272+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T16:51:53.273+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:51:53.278+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:51:56.530+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=2&size=10
2026-01-08T16:51:56.536+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=2&size=10
2026-01-08T16:51:56.537+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-08T16:51:56.538+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=2&size=10
2026-01-08T16:51:56.538+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=2&size=10", parameters={masked}
2026-01-08T16:51:56.545+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T16:51:56.548+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:56.548+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e7f8ffc] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:56.556+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1342905981 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:51:56.560+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:51:56.560+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:51:56.563+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:51:56.563+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e7f8ffc]
2026-01-08T16:51:56.564+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:56.567+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6897b63e] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:56.568+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@835489509 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:51:56.569+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:51:56.572+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:51:56.582+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:51:56.585+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6897b63e]
2026-01-08T16:51:56.586+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:56.588+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d1a4563] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:56.588+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2028548280 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:51:56.590+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T16:51:56.595+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T16:51:56.598+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 24
2026-01-08T16:51:56.599+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d1a4563]
2026-01-08T16:51:56.600+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:56.600+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7054172f] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:56.601+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@253392155 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:51:56.601+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:51:56.603+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:51:56.604+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:51:56.604+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7054172f]
2026-01-08T16:51:56.604+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:56.605+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a436d8c] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:56.605+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2055142020 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:51:56.609+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T16:51:56.610+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T16:51:56.618+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 24
2026-01-08T16:51:56.619+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a436d8c]
2026-01-08T16:51:56.619+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:56.619+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27139467] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:56.620+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@378380804 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:51:56.620+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:51:56.621+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:51:56.623+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:51:56.627+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27139467]
2026-01-08T16:51:56.628+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:56.628+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ac88281] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:56.629+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@21203219 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:51:56.629+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:51:56.630+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:51:56.635+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:51:56.635+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ac88281]
2026-01-08T16:51:56.636+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:51:56.637+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T16:51:56.637+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:51:56.937+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:51:56.937+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:51:56.950+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:51:56.951+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:51:56.953+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:51:56.954+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:51:56.954+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:51:56.954+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:51:56.955+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:51:56.955+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:51:56.956+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:51:56.955+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:51:56.961+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:56.962+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d70f971] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:56.961+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:51:56.964+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a373d6d] was not registered for synchronization because synchronization is not active
2026-01-08T16:51:56.970+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@67698837 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:51:56.970+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@700282453 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:51:56.971+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:51:56.972+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:51:56.978+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:51:56.979+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:51:56.985+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T16:51:56.985+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T16:51:56.986+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a373d6d]
2026-01-08T16:51:56.986+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d70f971]
2026-01-08T16:51:56.987+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:51:56.987+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:51:56.987+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T16:51:56.989+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T16:51:56.990+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:51:56.995+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:01.667+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=3&size=10
2026-01-08T16:52:01.670+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=3&size=10
2026-01-08T16:52:01.671+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-08T16:52:01.671+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=3&size=10
2026-01-08T16:52:01.671+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=3&size=10", parameters={masked}
2026-01-08T16:52:01.671+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T16:52:01.672+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:01.672+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@336bc572] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:01.675+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@523070230 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:52:01.678+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:01.679+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:52:01.681+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:01.681+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@336bc572]
2026-01-08T16:52:01.681+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:01.681+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7501655a] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:01.682+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@6428932 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:52:01.682+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:01.682+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:52:01.684+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:01.684+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7501655a]
2026-01-08T16:52:01.684+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:01.685+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f2fad92] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:01.685+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1903833752 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:52:01.685+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T16:52:01.687+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T16:52:01.690+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 24
2026-01-08T16:52:01.695+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f2fad92]
2026-01-08T16:52:01.696+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:01.697+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8f4e1e8] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:01.697+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2059767385 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:52:01.697+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:01.698+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:52:01.700+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:01.700+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8f4e1e8]
2026-01-08T16:52:01.701+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:01.701+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e53454f] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:01.702+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@294062284 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:52:01.702+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T16:52:01.703+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T16:52:01.706+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 24
2026-01-08T16:52:01.711+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e53454f]
2026-01-08T16:52:01.711+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:01.711+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4100d6a1] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:01.712+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1700633331 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:52:01.712+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:01.712+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:52:01.714+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:01.714+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4100d6a1]
2026-01-08T16:52:01.715+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:01.715+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cfc6c6a] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:01.715+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2064519306 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:52:01.715+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:01.716+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:52:01.717+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:01.718+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cfc6c6a]
2026-01-08T16:52:01.718+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:01.718+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T16:52:01.719+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:01.862+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:52:01.862+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:52:01.865+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:52:01.866+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:52:01.878+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:52:01.879+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:52:01.879+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:52:01.880+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:52:01.880+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:52:01.881+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:52:01.882+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:52:01.888+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:01.889+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:52:01.889+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b927efd] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:01.890+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:01.895+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37463fea] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:01.902+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@480502531 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:52:01.902+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:52:01.903+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1425173543 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:52:01.904+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:52:01.904+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:52:01.905+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:52:01.906+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T16:52:01.910+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b927efd]
2026-01-08T16:52:01.911+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T16:52:01.912+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:01.912+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37463fea]
2026-01-08T16:52:01.912+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T16:52:01.913+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:01.914+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:01.915+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T16:52:01.920+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:02.803+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-08T16:52:02.806+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-08T16:52:02.811+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-08T16:52:02.811+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-08T16:52:02.812+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-08T16:52:02.812+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T16:52:02.813+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:02.813+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a310664] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:02.815+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1306447540 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:52:02.815+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:02.816+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:52:02.819+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:02.819+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a310664]
2026-01-08T16:52:02.820+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:02.820+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c056df4] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:02.820+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2081422841 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:52:02.822+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:02.822+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:52:02.831+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:02.832+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c056df4]
2026-01-08T16:52:02.832+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:02.832+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@635d117b] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:02.833+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1680914985 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:52:02.833+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T16:52:02.835+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T16:52:02.839+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 24
2026-01-08T16:52:02.847+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@635d117b]
2026-01-08T16:52:02.847+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:02.847+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59cfea1c] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:02.848+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1385361047 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:52:02.848+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:02.848+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:52:02.854+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:02.856+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59cfea1c]
2026-01-08T16:52:02.861+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:02.862+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fa6d274] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:02.864+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1772052118 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:52:02.865+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T16:52:02.866+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T16:52:02.869+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 24
2026-01-08T16:52:02.869+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fa6d274]
2026-01-08T16:52:02.869+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:02.870+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8b2dbea] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:02.871+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1904119290 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:52:02.871+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:02.871+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:52:02.873+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:02.873+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8b2dbea]
2026-01-08T16:52:02.878+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:02.879+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@296a7e5a] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:02.879+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@924421398 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:52:02.879+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:02.880+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:52:02.881+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:02.881+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@296a7e5a]
2026-01-08T16:52:02.882+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:02.882+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T16:52:02.883+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:03.167+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:52:03.168+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:52:03.172+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:52:03.172+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:52:03.175+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:52:03.177+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:52:03.177+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:52:03.177+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:52:03.177+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:52:03.178+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:52:03.178+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:52:03.178+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:52:03.178+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:03.178+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:03.179+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f6adee9] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:03.179+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17a29c78] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:03.179+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1214397914 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:52:03.180+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:52:03.182+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@594675555 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:52:03.182+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:52:03.182+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:52:03.184+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T16:52:03.185+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:52:03.185+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17a29c78]
2026-01-08T16:52:03.186+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:03.186+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T16:52:03.187+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:03.187+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T16:52:03.189+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f6adee9]
2026-01-08T16:52:03.189+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:03.190+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T16:52:03.192+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:10.215+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10&status%5B%5D=PAID
2026-01-08T16:52:10.221+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10&status%5B%5D=PAID
2026-01-08T16:52:10.225+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-08T16:52:10.226+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10&status%5B%5D=PAID
2026-01-08T16:52:10.227+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10&status%5B%5D=PAID", parameters={masked}
2026-01-08T16:52:10.228+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T16:52:10.229+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:10.230+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d27a90c] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:10.233+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1858180997 wrapping com.mysql.cj.jdbc.ConnectionImpl@722e25d8] will not be managed by Spring
2026-01-08T16:52:10.237+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:10.238+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:52:10.255+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:10.256+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d27a90c]
2026-01-08T16:52:10.263+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:10.266+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f4c51f2] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:10.267+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@612410266 wrapping com.mysql.cj.jdbc.ConnectionImpl@722e25d8] will not be managed by Spring
2026-01-08T16:52:10.268+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:10.269+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:52:10.276+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:10.277+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f4c51f2]
2026-01-08T16:52:10.278+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:10.278+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@763a226e] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:10.279+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@454311578 wrapping com.mysql.cj.jdbc.ConnectionImpl@722e25d8] will not be managed by Spring
2026-01-08T16:52:10.279+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T16:52:10.281+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), PAID(String), 2147483647(Integer), 0(Integer)
2026-01-08T16:52:10.284+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 17
2026-01-08T16:52:10.284+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@763a226e]
2026-01-08T16:52:10.285+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:10.286+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a28691] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:10.286+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@548203865 wrapping com.mysql.cj.jdbc.ConnectionImpl@722e25d8] will not be managed by Spring
2026-01-08T16:52:10.287+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:10.288+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:52:10.290+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:10.292+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a28691]
2026-01-08T16:52:10.295+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:10.296+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ebb972d] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:10.297+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2109604453 wrapping com.mysql.cj.jdbc.ConnectionImpl@722e25d8] will not be managed by Spring
2026-01-08T16:52:10.297+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T16:52:10.299+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), PAID(String), 2147483647(Integer), 0(Integer)
2026-01-08T16:52:10.302+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 17
2026-01-08T16:52:10.302+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ebb972d]
2026-01-08T16:52:10.304+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:10.304+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@175d81f6] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:10.305+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@636317391 wrapping com.mysql.cj.jdbc.ConnectionImpl@722e25d8] will not be managed by Spring
2026-01-08T16:52:10.305+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:10.306+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:52:10.313+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:10.314+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@175d81f6]
2026-01-08T16:52:10.315+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:10.315+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6dc22c14] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:10.315+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@384520811 wrapping com.mysql.cj.jdbc.ConnectionImpl@722e25d8] will not be managed by Spring
2026-01-08T16:52:10.316+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:10.317+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:52:10.319+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:10.319+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6dc22c14]
2026-01-08T16:52:10.319+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:10.319+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T16:52:10.320+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:10.629+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:52:10.632+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:52:10.660+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:52:10.663+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:52:10.671+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:52:10.675+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:52:10.677+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:52:10.678+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:52:10.678+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:52:10.677+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:52:10.679+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:10.683+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60ec0cc0] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:10.679+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:52:10.686+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:52:10.687+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:10.687+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47377c5b] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:10.704+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@432783754 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:52:10.705+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1636067667 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:52:10.706+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:52:10.708+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:52:10.709+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:52:10.710+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:52:10.717+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T16:52:10.717+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T16:52:10.720+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47377c5b]
2026-01-08T16:52:10.721+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60ec0cc0]
2026-01-08T16:52:10.721+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:10.721+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:10.722+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T16:52:10.722+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T16:52:10.725+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:10.727+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:18.831+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:52:18.836+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T16:52:18.836+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me/signatures
2026-01-08T16:52:18.836+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/32
2026-01-08T16:52:18.837+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/32
2026-01-08T16:52:18.837+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me/signatures
2026-01-08T16:52:18.847+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:52:18.847+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T16:52:18.848+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me/signatures
2026-01-08T16:52:18.853+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me/signatures
2026-01-08T16:52:18.854+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:52:18.855+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/32
2026-01-08T16:52:18.864+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/32
2026-01-08T16:52:18.865+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T16:52:18.872+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T16:52:18.876+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T16:52:18.866+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/users/me/signatures
2026-01-08T16:52:18.866+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/users/me/signatures
2026-01-08T16:52:18.867+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:52:18.868+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/32
2026-01-08T16:52:18.886+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/32
2026-01-08T16:52:18.870+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/32
2026-01-08T16:52:18.880+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T16:52:18.882+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me/signatures
2026-01-08T16:52:18.883+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me/signatures
2026-01-08T16:52:18.884+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:52:18.900+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:52:18.887+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/32", parameters={}
2026-01-08T16:52:18.887+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/32
2026-01-08T16:52:18.888+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:18.889+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me/signatures", parameters={}
2026-01-08T16:52:18.900+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me/signatures", parameters={}
2026-01-08T16:52:18.900+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:18.901+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-08T16:52:18.902+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/32", parameters={}
2026-01-08T16:52:18.902+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40b5eb9] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:18.903+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getMySignatures()
2026-01-08T16:52:18.916+09:00  INFO 23448 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 내 서명/도장 목록 조회 요청 - userId: 12, companyId: 1
2026-01-08T16:52:18.903+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getMySignatures()
2026-01-08T16:52:18.903+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64619d9b] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:18.917+09:00  INFO 23448 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 내 서명/도장 목록 조회 요청 - userId: 12, companyId: 1
2026-01-08T16:52:18.904+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:18.905+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-08T16:52:18.916+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:18.917+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:18.919+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fad7a15] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:18.920+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:18.925+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27e56641] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:18.921+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cf1337f] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:18.922+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14bd7798] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:18.931+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@698990522 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:52:18.931+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@973596653 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:52:18.931+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1080588096 wrapping com.mysql.cj.jdbc.ConnectionImpl@722e25d8] will not be managed by Spring
2026-01-08T16:52:18.931+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1200242037 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:52:18.931+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1120148191 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:52:18.933+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@696562252 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:52:18.935+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T16:52:18.936+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:52:18.936+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.U.findByUserId                   : ==>  Preparing: SELECT * FROM user_signature_tb WHERE user_id = ? AND company_id = ? ORDER BY is_default DESC, created_at DESC
2026-01-08T16:52:18.936+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.U.findByUserId                   : ==>  Preparing: SELECT * FROM user_signature_tb WHERE user_id = ? AND company_id = ? ORDER BY is_default DESC, created_at DESC
2026-01-08T16:52:18.936+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-08T16:52:18.937+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-08T16:52:18.938+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 12(Long)
2026-01-08T16:52:18.939+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:52:18.944+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.U.findByUserId                   : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:52:18.945+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.U.findByUserId                   : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:52:18.945+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 32(Long), 1(Long)
2026-01-08T16:52:18.946+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 32(Long), 1(Long)
2026-01-08T16:52:18.970+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.U.findByUserId                   : <==      Total: 0
2026-01-08T16:52:18.970+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T16:52:18.988+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64619d9b]
2026-01-08T16:52:18.970+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.U.findByUserId                   : <==      Total: 0
2026-01-08T16:52:18.971+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T16:52:18.971+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-08T16:52:18.977+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cf1337f]
2026-01-08T16:52:18.979+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-08T16:52:18.994+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:18.994+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14bd7798]
2026-01-08T16:52:18.994+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40b5eb9]
2026-01-08T16:52:18.996+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fad7a15]
2026-01-08T16:52:18.997+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:18.998+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27e56641]
2026-01-08T16:52:18.999+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T16:52:18.999+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:19.000+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:19.000+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:19.001+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=서명/도장 목록 조회 성공, data=[])]
2026-01-08T16:52:19.002+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:19.003+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:19.018+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:19.005+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=서명/도장 목록 조회 성공, data=[])]
2026-01-08T16:52:19.006+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T16:52:19.016+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d616b26] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:19.035+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:19.017+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@decd0cf] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:19.037+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@762377042 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:52:19.038+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-08T16:52:19.028+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:19.036+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@506865302 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:52:19.038+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 32(Long), 1(Long)
2026-01-08T16:52:19.063+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-08T16:52:19.078+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 32(Long), 1(Long)
2026-01-08T16:52:19.080+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-08T16:52:19.082+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@decd0cf]
2026-01-08T16:52:19.085+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:19.086+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b298650] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:19.087+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1881687890 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:52:19.088+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-08T16:52:19.089+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-08T16:52:19.089+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d616b26]
2026-01-08T16:52:19.096+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 32(Long), 1(Long)
2026-01-08T16:52:19.096+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:19.097+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@231f2b44] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:19.150+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@361843802 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:52:19.150+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-08T16:52:19.151+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 32(Long), 1(Long)
2026-01-08T16:52:19.202+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : <==      Total: 2
2026-01-08T16:52:19.221+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b298650]
2026-01-08T16:52:19.238+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectApprovalLines            : <==      Total: 2
2026-01-08T16:52:19.239+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:19.241+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@231f2b44]
2026-01-08T16:52:19.242+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f5b6105] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:19.242+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:19.243+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1475407239 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:52:19.243+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@356827a5] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:19.244+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-08T16:52:19.244+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1776242794 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:52:19.245+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 32(Long), 1(Long)
2026-01-08T16:52:19.245+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-08T16:52:19.246+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 32(Long), 1(Long)
2026-01-08T16:52:19.251+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-08T16:52:19.252+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f5b6105]
2026-01-08T16:52:19.253+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:19.253+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7220f281] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:19.254+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@909633161 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:52:19.254+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:19.255+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:52:19.255+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-08T16:52:19.256+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@356827a5]
2026-01-08T16:52:19.256+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:19.259+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4962f80d] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:19.260+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1036237707 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:52:19.261+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:19.261+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:19.263+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7220f281]
2026-01-08T16:52:19.279+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:52:19.280+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:19.293+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=32, drafterId=2, r (truncated)...]
2026-01-08T16:52:19.296+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:19.297+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4962f80d]
2026-01-08T16:52:19.297+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:19.297+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:19.299+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=32, drafterId=2, r (truncated)...]
2026-01-08T16:52:19.301+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:26.784+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T16:52:26.784+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:52:26.787+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-08T16:52:26.784+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-08T16:52:26.794+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/my-approvals
2026-01-08T16:52:26.784+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:52:26.784+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/my-approvals
2026-01-08T16:52:26.785+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T16:52:26.788+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:52:26.796+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T16:52:26.811+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T16:52:26.813+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:52:26.814+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/my-approvals
2026-01-08T16:52:26.826+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:52:26.814+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-08T16:52:26.815+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T16:52:26.816+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:52:26.843+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T16:52:26.824+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T16:52:26.826+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/my-approvals
2026-01-08T16:52:26.829+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:52:26.830+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-08T16:52:26.844+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:52:26.844+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T16:52:26.850+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T16:52:26.844+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T16:52:26.857+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T16:52:26.859+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T16:52:26.845+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/my-approvals
2026-01-08T16:52:26.849+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:52:26.849+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-08T16:52:26.850+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:52:26.869+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-08T16:52:26.851+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T16:52:26.860+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:26.864+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/my-approvals", parameters={}
2026-01-08T16:52:26.868+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:52:26.869+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:52:26.869+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T16:52:26.869+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:26.870+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55b6a443] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:26.871+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMyApprovals()
2026-01-08T16:52:26.872+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:26.881+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:52:26.882+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:26.883+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63ecdebe] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:26.884+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:26.884+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cf9e11f] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:26.886+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:26.887+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d48843d] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:26.888+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24109f30] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:26.889+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@737505657 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:52:26.896+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f5df750] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:26.897+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1435665284 wrapping com.mysql.cj.jdbc.ConnectionImpl@722e25d8] will not be managed by Spring
2026-01-08T16:52:26.898+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@968716903 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:52:26.898+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T16:52:26.901+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T16:52:26.901+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@132118598 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:52:26.902+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:52:26.903+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@381724969 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:52:26.905+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 12(Long)
2026-01-08T16:52:26.911+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 12(Long)
2026-01-08T16:52:26.912+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:26.913+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@800568354 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:52:26.915+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:52:26.915+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] .i.b.m.E.selectMyApprovedReportsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status IN ('APPROVED', 'REJECTED') AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:52:26.917+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:52:26.918+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T16:52:26.918+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:52:26.923+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T16:52:26.918+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T16:52:26.920+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] .i.b.m.E.selectMyApprovedReportsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:52:26.920+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55b6a443]
2026-01-08T16:52:26.923+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:52:26.926+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:26.933+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cf9e11f]
2026-01-08T16:52:26.933+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63ecdebe]
2026-01-08T16:52:26.934+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:26.935+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d48843d]
2026-01-08T16:52:26.936+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:26.936+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:26.937+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T16:52:26.937+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:26.943+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T16:52:26.944+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T16:52:26.945+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42606b9c] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:26.945+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:26.947+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:26.949+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:26.951+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1224044130 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:52:26.951+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] .i.b.m.E.selectMyApprovedReportsByUserId : <==      Total: 0
2026-01-08T16:52:26.951+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T16:52:26.965+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f5df750]
2026-01-08T16:52:26.953+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-08T16:52:26.954+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/my-approvals
2026-01-08T16:52:26.959+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T16:52:26.963+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:26.964+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24109f30]
2026-01-08T16:52:26.966+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:26.967+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-08T16:52:26.968+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/my-approvals
2026-01-08T16:52:26.970+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:52:26.970+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T16:52:26.970+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:26.971+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T16:52:26.977+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-08T16:52:26.977+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/my-approvals
2026-01-08T16:52:26.978+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T16:52:26.978+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=내 결재 문서 조회 성공, data=[])]
2026-01-08T16:52:26.979+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:26.982+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-08T16:52:26.985+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/my-approvals", parameters={}
2026-01-08T16:52:26.986+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:26.986+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T16:52:26.987+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:26.993+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:52:26.998+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T16:52:26.998+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMyApprovals()
2026-01-08T16:52:26.998+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42606b9c]
2026-01-08T16:52:26.998+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T16:52:27.001+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:52:27.003+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:27.003+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:27.003+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:27.005+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:27.005+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:52:27.005+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4dea5258] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:27.006+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@702b6217] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:27.006+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68f594c2] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:27.010+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51d86cfd] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:27.010+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:52:27.011+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@152065511 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:52:27.012+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@598294270 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:52:27.016+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@688406219 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:52:27.017+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1409873429 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:52:27.018+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:52:27.032+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:27.018+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:27.018+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] .i.b.m.E.selectMyApprovedReportsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status IN ('APPROVED', 'REJECTED') AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:52:27.020+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T16:52:27.029+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T16:52:27.033+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bef7017] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:27.034+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:52:27.041+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] .i.b.m.E.selectMyApprovedReportsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:52:27.046+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T16:52:27.047+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 12(Long)
2026-01-08T16:52:27.048+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1689130410 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:52:27.049+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:52:27.051+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:52:27.066+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:27.066+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T16:52:27.066+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] .i.b.m.E.selectMyApprovedReportsByUserId : <==      Total: 0
2026-01-08T16:52:27.067+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 24
2026-01-08T16:52:27.069+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4dea5258]
2026-01-08T16:52:27.071+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51d86cfd]
2026-01-08T16:52:27.082+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T16:52:27.097+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@702b6217]
2026-01-08T16:52:27.097+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68f594c2]
2026-01-08T16:52:27.098+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:27.118+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@558a3a33] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:27.099+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:27.102+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bef7017]
2026-01-08T16:52:27.103+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:27.118+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:27.137+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fdfff6b] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:27.119+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1257097800 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:52:27.119+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T16:52:27.120+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:27.120+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=내 결재 문서 조회 성공, data=[])]
2026-01-08T16:52:27.138+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1002973142 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:52:27.138+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:27.144+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:27.147+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T16:52:27.150+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:27.150+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:52:27.150+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:27.152+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:27.153+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:52:27.169+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:27.170+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@558a3a33]
2026-01-08T16:52:27.171+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:27.175+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@220ae2d8] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:27.177+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:27.179+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@651497224 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:52:27.179+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fdfff6b]
2026-01-08T16:52:27.182+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T16:52:27.182+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:27.184+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T16:52:27.184+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7788b3ec] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:27.187+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1999384273 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:52:27.193+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T16:52:27.198+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T16:52:27.200+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 24
2026-01-08T16:52:27.201+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@220ae2d8]
2026-01-08T16:52:27.204+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:27.205+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b92822f] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:27.206+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2122034599 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:52:27.212+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:27.212+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 24
2026-01-08T16:52:27.215+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:52:27.215+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7788b3ec]
2026-01-08T16:52:27.218+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:27.219+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b98766b] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:27.221+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@423470887 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:52:27.229+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:27.229+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:52:27.230+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:27.235+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b92822f]
2026-01-08T16:52:27.237+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:27.237+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@395de8a] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:27.237+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@470394669 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:52:27.238+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T16:52:27.248+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:27.248+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T16:52:27.248+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b98766b]
2026-01-08T16:52:27.249+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:27.251+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d51b05] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:27.253+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1754668634 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:52:27.254+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:27.254+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:52:27.254+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 24
2026-01-08T16:52:27.256+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@395de8a]
2026-01-08T16:52:27.262+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:27.263+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dd7517e] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:27.263+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:27.264+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@538685376 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:52:27.264+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d51b05]
2026-01-08T16:52:27.265+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:27.265+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:27.266+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:52:27.268+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T16:52:27.271+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:27.287+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:27.289+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dd7517e]
2026-01-08T16:52:27.299+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:27.299+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fa40d47] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:27.300+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@416281964 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:52:27.301+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:27.301+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T16:52:27.303+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:27.305+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fa40d47]
2026-01-08T16:52:27.311+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:27.312+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T16:52:27.313+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:27.827+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:52:27.828+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:52:27.849+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:52:27.850+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:52:27.856+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:52:27.856+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:52:27.857+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:52:27.858+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:52:27.858+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:52:27.859+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:52:27.859+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:52:27.861+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:27.860+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:52:27.862+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:27.865+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@715bc110] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:27.861+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fcb1c8c] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:27.872+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1374416073 wrapping com.mysql.cj.jdbc.ConnectionImpl@722e25d8] will not be managed by Spring
2026-01-08T16:52:27.872+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@510721218 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:52:27.877+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:52:27.879+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:52:27.878+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:52:27.881+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T16:52:27.883+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T16:52:27.883+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fcb1c8c]
2026-01-08T16:52:27.883+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T16:52:27.883+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:27.885+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@715bc110]
2026-01-08T16:52:27.885+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T16:52:27.886+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:27.886+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T16:52:27.886+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:27.886+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:28.735+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2026-01-08T16:52:28.740+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2026-01-08T16:52:28.754+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/logout
2026-01-08T16:52:28.780+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2026-01-08T16:52:28.781+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2026-01-08T16:52:28.781+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2026-01-08T16:52:28.785+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxMiIsInVzZXJuYW1lIjo (truncated)...]
2026-01-08T16:52:28.803+09:00  INFO 23448 --- [http-nio-8080-exec-8] SECURITY                                 : LOGOUT userId=12
2026-01-08T16:52:28.812+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:28.817+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2026-01-08T16:52:28.818+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:37.911+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2026-01-08T16:52:37.913+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2026-01-08T16:52:37.914+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-08T16:52:37.914+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2026-01-08T16:52:37.914+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2026-01-08T16:52:37.915+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2026-01-08T16:52:37.915+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_user3, password=1234)]
2026-01-08T16:52:37.916+09:00  INFO 23448 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 로그인 시도 - username: test_user3
2026-01-08T16:52:37.916+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:37.916+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@277ee1b7] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:37.918+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1666583168 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:52:37.919+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2026-01-08T16:52:37.919+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user3(String)
2026-01-08T16:52:37.921+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2026-01-08T16:52:37.922+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@277ee1b7]
2026-01-08T16:52:38.006+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:38.006+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@528e99fe] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:38.007+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@799456338 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:52:38.007+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T16:52:38.007+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 4(Long)
2026-01-08T16:52:38.010+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2026-01-08T16:52:38.010+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@528e99fe]
2026-01-08T16:52:38.011+09:00  INFO 23448 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 로그인 성공 - userId: 4, role: ACCOUNTANT, companyId: 1
2026-01-08T16:52:38.011+09:00  INFO 23448 --- [http-nio-8080-exec-1] SECURITY                                 : LOGIN_SUCCESS userId=4 username=test_user3 role=ACCOUNTANT
2026-01-08T16:52:38.012+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:38.012+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=4, username=test_user3, password (truncated)...]
2026-01-08T16:52:38.013+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:38.396+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2026-01-08T16:52:38.399+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2026-01-08T16:52:38.400+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/companies
2026-01-08T16:52:38.400+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2026-01-08T16:52:38.401+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2026-01-08T16:52:38.401+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2026-01-08T16:52:38.405+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:38.409+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@462fa7cd] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:38.434+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@787328190 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:52:38.443+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2026-01-08T16:52:38.445+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 4(Long)
2026-01-08T16:52:38.448+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 1
2026-01-08T16:52:38.452+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@462fa7cd]
2026-01-08T16:52:38.452+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:38.462+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2026-01-08T16:52:38.464+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:38.553+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:52:38.553+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T16:52:38.553+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:52:38.553+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-08T16:52:38.553+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:52:38.553+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-08T16:52:38.566+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:52:38.567+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T16:52:38.568+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-08T16:52:38.569+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:52:38.688+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:52:38.688+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:52:38.571+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:52:38.658+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:52:38.672+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:52:38.672+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T16:52:38.686+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-08T16:52:38.689+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:52:38.692+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:52:38.693+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:52:38.694+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T16:52:38.694+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-08T16:52:38.694+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:52:38.695+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:52:38.695+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:52:38.695+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T16:52:38.696+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-08T16:52:38.696+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:38.696+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:52:38.697+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:52:38.697+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T16:52:38.698+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T16:52:38.698+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@492c22d7] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:38.698+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:52:38.698+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:38.699+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:38.705+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T16:52:38.714+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:38.731+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1951c9eb] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:38.714+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1918558732 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:52:38.714+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:38.715+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2661b90e] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:38.730+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13af92fc] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:38.731+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:52:38.731+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@aece7a] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:38.736+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-08T16:52:38.737+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-08T16:52:38.753+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-08T16:52:38.766+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 6
2026-01-08T16:52:38.766+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1766344797 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:52:38.767+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1636596946 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:52:38.767+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@798414553 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:52:38.767+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-08T16:52:38.767+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1732631937 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:52:38.768+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@492c22d7]
2026-01-08T16:52:38.768+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:38.768+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:52:38.769+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T16:52:38.769+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-08T16:52:38.771+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:52:38.772+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:38.784+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T16:52:38.785+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-08T16:52:38.785+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-08T16:52:38.786+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-08T16:52:38.787+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7446f658] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:38.787+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-08T16:52:38.803+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T16:52:38.804+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1549031581 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:52:38.804+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:38.805+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 6
2026-01-08T16:52:38.821+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:38.825+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:38.827+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1951c9eb]
2026-01-08T16:52:38.831+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T16:52:38.833+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@aece7a]
2026-01-08T16:52:38.852+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:38.853+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5509f15a] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:38.853+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1723758972 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:52:38.854+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:38.854+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T16:52:38.846+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@522b07c8] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:38.846+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T16:52:38.847+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:38.847+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13af92fc]
2026-01-08T16:52:38.848+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 6
2026-01-08T16:52:38.866+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2661b90e]
2026-01-08T16:52:38.858+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2089781320 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:52:38.865+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5648fbce] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:38.866+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:38.867+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:38.877+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f298ec6] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:38.878+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@138361368 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:52:38.878+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:38.879+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T16:52:38.867+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:38.867+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1074654908 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:52:38.877+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T16:52:38.882+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T16:52:38.883+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:38.884+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:38.885+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T16:52:38.888+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:38.888+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:38.902+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:52:38.912+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7446f658]
2026-01-08T16:52:38.913+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5509f15a]
2026-01-08T16:52:38.915+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:52:38.915+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:38.915+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:38.916+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:52:38.917+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:38.917+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:38.918+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:38.919+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2026-01-08T16:52:38.920+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2026-01-08T16:52:38.936+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:38.920+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:52:38.922+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f298ec6]
2026-01-08T16:52:38.922+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@522b07c8]
2026-01-08T16:52:38.926+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5648fbce]
2026-01-08T16:52:38.938+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:38.937+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:38.937+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:52:38.938+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:38.938+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:38.942+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2143e8a5] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:38.943+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:38.944+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2026-01-08T16:52:38.945+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2043f5e6] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:38.948+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@818209224 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:52:38.954+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T16:52:38.948+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@281b6ee6] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:38.949+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:38.953+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@710718305 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:52:38.959+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T16:52:38.959+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-08T16:52:38.963+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T16:52:38.963+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1135592085 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:52:38.964+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:38.966+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T16:52:38.965+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T16:52:38.965+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-08T16:52:38.966+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:52:38.967+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T16:52:38.967+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-08T16:52:38.969+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-08T16:52:38.969+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T16:52:38.970+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-08T16:52:38.977+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T16:52:38.978+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T16:52:38.979+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:38.979+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ea03271] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:38.979+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:38.980+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@139780155 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:52:38.983+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T16:52:38.980+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@246f6cf] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:38.982+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:38.982+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 24
2026-01-08T16:52:38.983+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 6
2026-01-08T16:52:38.986+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@281b6ee6]
2026-01-08T16:52:38.986+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:38.984+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-08T16:52:38.985+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1571816243 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:52:38.985+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2043f5e6]
2026-01-08T16:52:38.986+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2143e8a5]
2026-01-08T16:52:38.987+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c35a5ec] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:38.988+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:38.997+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:38.998+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:38.999+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1068142290 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:52:38.999+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T16:52:39.000+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@481c1c4a] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:39.000+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16d4909c] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:39.004+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:39.014+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2001677418 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:52:39.015+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@678183971 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:52:39.015+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T16:52:39.017+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T16:52:39.020+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T16:52:39.030+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T16:52:39.021+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:39.022+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ea03271]
2026-01-08T16:52:39.033+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T16:52:39.034+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:39.038+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:39.043+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T16:52:39.043+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@246f6cf]
2026-01-08T16:52:39.045+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:39.045+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:39.045+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@299b97f8] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:39.045+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@475987082 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:52:39.062+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:39.063+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:39.063+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 24
2026-01-08T16:52:39.064+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:39.065+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16d4909c]
2026-01-08T16:52:39.065+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c35a5ec]
2026-01-08T16:52:39.066+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@481c1c4a]
2026-01-08T16:52:39.066+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T16:52:39.067+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:39.068+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:39.068+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:39.070+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f6c2618] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:39.068+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3caa3452] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:39.070+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2026-01-08T16:52:39.071+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@934975475 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:52:39.079+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@247989035 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:52:39.080+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:39.080+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:39.080+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T16:52:39.081+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T16:52:39.081+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:39.083+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T16:52:39.084+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@299b97f8]
2026-01-08T16:52:39.095+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:39.096+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 33
2026-01-08T16:52:39.096+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:39.096+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a35062e] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:39.097+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3caa3452]
2026-01-08T16:52:39.097+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f6c2618]
2026-01-08T16:52:39.097+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@526678215 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:52:39.098+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:39.098+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:39.098+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T16:52:39.099+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@729a6a41] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:39.100+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3baf65ee] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:39.102+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T16:52:39.103+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@528472292 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:52:39.104+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1166923877 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:52:39.106+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T16:52:39.117+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T16:52:39.119+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T16:52:39.120+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T16:52:39.121+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 24
2026-01-08T16:52:39.132+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a35062e]
2026-01-08T16:52:39.199+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:39.199+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 33
2026-01-08T16:52:39.199+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 24
2026-01-08T16:52:39.280+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6365b1a7] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:39.338+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3baf65ee]
2026-01-08T16:52:39.346+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:39.346+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59040fa6] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:39.347+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@432312701 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:52:39.344+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@729a6a41]
2026-01-08T16:52:39.353+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:39.353+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d0ff3b1] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:39.354+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1290163251 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:52:39.355+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:39.357+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T16:52:39.345+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@564387731 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:52:39.361+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:39.362+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T16:52:39.348+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T16:52:39.365+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T16:52:39.375+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:39.376+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:39.376+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 24
2026-01-08T16:52:39.378+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6365b1a7]
2026-01-08T16:52:39.378+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d0ff3b1]
2026-01-08T16:52:39.379+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59040fa6]
2026-01-08T16:52:39.379+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:39.379+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:39.379+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:39.379+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@423fe28f] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:39.379+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e876af6] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:39.379+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ae30a36] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:39.380+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@203004902 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:52:39.380+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1812434156 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:52:39.381+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T16:52:39.381+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@870536691 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:52:39.381+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T16:52:39.381+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T16:52:39.381+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:39.382+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T16:52:39.382+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T16:52:39.387+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:39.387+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 33
2026-01-08T16:52:39.387+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ae30a36]
2026-01-08T16:52:39.388+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e876af6]
2026-01-08T16:52:39.388+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:39.388+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:39.388+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@356d0f25] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:39.390+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4739dfe2] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:39.391+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@44883241 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:52:39.391+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1728909572 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:52:39.392+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T16:52:39.392+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:39.392+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T16:52:39.392+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T16:52:39.396+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 33
2026-01-08T16:52:39.397+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@423fe28f]
2026-01-08T16:52:39.397+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:39.397+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@477949c7] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:39.398+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2054152253 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:52:39.398+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T16:52:39.399+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T16:52:39.402+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:39.402+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 33
2026-01-08T16:52:39.403+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4739dfe2]
2026-01-08T16:52:39.403+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 24
2026-01-08T16:52:39.403+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@356d0f25]
2026-01-08T16:52:39.403+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@477949c7]
2026-01-08T16:52:39.403+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:39.403+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:39.404+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bd095a0] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:39.403+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:39.404+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T16:52:39.404+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@370786264 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:52:39.404+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45faf3cb] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:39.405+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:39.405+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1220586946 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:52:39.405+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:39.405+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T16:52:39.407+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:39.410+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T16:52:39.417+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:39.417+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:39.417+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45faf3cb]
2026-01-08T16:52:39.418+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bd095a0]
2026-01-08T16:52:39.418+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:39.418+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ba5590d] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:39.418+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:39.419+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@701731097 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:52:39.420+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T16:52:39.421+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T16:52:39.422+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T16:52:39.422+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:39.448+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 33
2026-01-08T16:52:39.448+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ba5590d]
2026-01-08T16:52:39.448+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:39.448+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@771f8d8f] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:39.449+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1717817168 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:52:39.449+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:39.449+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T16:52:39.453+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:39.454+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@771f8d8f]
2026-01-08T16:52:39.454+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:39.456+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T16:52:39.459+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:39.514+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:52:39.514+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:52:39.518+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:52:39.518+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:52:39.519+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:52:39.521+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:52:39.525+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:52:39.528+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:52:39.528+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:52:39.528+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:52:39.529+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:52:39.529+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:52:39.529+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:39.529+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:39.530+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4157c01b] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:39.530+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56f409b3] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:39.530+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@48237151 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:52:39.530+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1282253078 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:52:39.531+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:52:39.531+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:52:39.532+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-08T16:52:39.533+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-08T16:52:39.537+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 6
2026-01-08T16:52:39.537+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 6
2026-01-08T16:52:39.537+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56f409b3]
2026-01-08T16:52:39.538+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4157c01b]
2026-01-08T16:52:39.539+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:39.543+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:39.544+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a14ce81] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:39.545+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59cc0175] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:39.546+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2086402017 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:52:39.546+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@644109647 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:52:39.547+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:39.547+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:39.548+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T16:52:39.550+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T16:52:39.551+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:39.552+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a14ce81]
2026-01-08T16:52:39.553+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:39.553+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:39.554+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59cc0175]
2026-01-08T16:52:39.554+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2026-01-08T16:52:39.555+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:39.561+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:39.561+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2026-01-08T16:52:39.565+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:41.418+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=100&status%5B%5D=PAID
2026-01-08T16:52:41.420+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=100&status%5B%5D=PAID
2026-01-08T16:52:41.421+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-08T16:52:41.423+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=100&status%5B%5D=PAID
2026-01-08T16:52:41.423+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=100&status%5B%5D=PAID", parameters={masked}
2026-01-08T16:52:41.424+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T16:52:41.425+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:41.429+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73263cea] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:41.435+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@588306379 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:52:41.443+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:41.445+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T16:52:41.446+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:41.447+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73263cea]
2026-01-08T16:52:41.448+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:41.448+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32051767] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:41.449+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1810641649 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:52:41.449+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:41.449+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T16:52:41.451+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:41.451+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32051767]
2026-01-08T16:52:41.451+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:41.452+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b831ad9] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:41.452+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@287808225 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:52:41.453+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T16:52:41.454+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), PAID(String), 2147483647(Integer), 0(Integer)
2026-01-08T16:52:41.459+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 17
2026-01-08T16:52:41.460+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b831ad9]
2026-01-08T16:52:41.461+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:41.461+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6db11572] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:41.462+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2121768911 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:52:41.462+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:41.463+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T16:52:41.465+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:41.466+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6db11572]
2026-01-08T16:52:41.467+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:41.467+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a19cba0] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:41.467+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@535190292 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:52:41.468+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T16:52:41.469+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 8(Long), 6(Long), 1(Long)
2026-01-08T16:52:41.471+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 25
2026-01-08T16:52:41.472+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a19cba0]
2026-01-08T16:52:41.476+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:41.476+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59107665] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:41.478+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1843454508 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:52:41.479+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T16:52:41.482+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), PAID(String), 2147483647(Integer), 0(Integer)
2026-01-08T16:52:41.485+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 17
2026-01-08T16:52:41.485+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59107665]
2026-01-08T16:52:41.485+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:41.486+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74dc0f97] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:41.486+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@774241335 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:52:41.487+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:41.487+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T16:52:41.488+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:41.489+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74dc0f97]
2026-01-08T16:52:41.489+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:41.492+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dc77067] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:41.493+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@166946047 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:52:41.493+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T16:52:41.494+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 8(Long), 6(Long), 1(Long)
2026-01-08T16:52:41.496+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 25
2026-01-08T16:52:41.496+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dc77067]
2026-01-08T16:52:41.496+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:41.496+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@386a6a8b] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:41.497+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@503865769 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:52:41.497+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:41.497+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T16:52:41.498+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:41.499+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@386a6a8b]
2026-01-08T16:52:41.499+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:41.499+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T16:52:41.500+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:42.893+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:52:42.893+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T16:52:42.896+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me/signatures
2026-01-08T16:52:42.896+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/32
2026-01-08T16:52:42.896+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/32
2026-01-08T16:52:42.896+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me/signatures
2026-01-08T16:52:42.933+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:52:42.933+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T16:52:42.936+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:52:42.935+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me/signatures
2026-01-08T16:52:42.935+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/32
2026-01-08T16:52:42.937+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me/signatures
2026-01-08T16:52:42.937+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T16:52:42.937+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:52:42.942+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/users/me/signatures
2026-01-08T16:52:42.944+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/32
2026-01-08T16:52:42.946+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/32
2026-01-08T16:52:42.949+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T16:52:42.949+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/users/me/signatures
2026-01-08T16:52:42.949+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:52:42.950+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me/signatures
2026-01-08T16:52:42.951+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/32
2026-01-08T16:52:42.952+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/32
2026-01-08T16:52:42.952+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T16:52:42.953+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me/signatures
2026-01-08T16:52:42.953+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:52:42.953+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me/signatures", parameters={}
2026-01-08T16:52:42.953+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/32
2026-01-08T16:52:42.955+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/32", parameters={}
2026-01-08T16:52:42.955+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T16:52:42.955+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me/signatures", parameters={}
2026-01-08T16:52:42.959+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:42.966+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@298690c0] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:42.963+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getMySignatures()
2026-01-08T16:52:42.963+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/32", parameters={}
2026-01-08T16:52:42.964+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-08T16:52:42.965+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:42.982+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e029d04] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:42.966+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getMySignatures()
2026-01-08T16:52:42.983+09:00  INFO 23448 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 내 서명/도장 목록 조회 요청 - userId: 4, companyId: 1
2026-01-08T16:52:42.984+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:42.984+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3014a32e] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:42.967+09:00  INFO 23448 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 내 서명/도장 목록 조회 요청 - userId: 4, companyId: 1
2026-01-08T16:52:42.986+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:42.986+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a5bea2e] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:42.969+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-08T16:52:42.971+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:43.000+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:43.000+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@567f816] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:43.000+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f759e57] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:43.002+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@338823761 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:52:43.018+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:52:43.019+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1627989460 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:52:43.019+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1568304022 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:52:43.020+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@148440775 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:52:43.034+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-08T16:52:43.035+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T16:52:43.036+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.U.findByUserId                   : ==>  Preparing: SELECT * FROM user_signature_tb WHERE user_id = ? AND company_id = ? ORDER BY is_default DESC, created_at DESC
2026-01-08T16:52:43.036+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.U.findByUserId                   : ==>  Preparing: SELECT * FROM user_signature_tb WHERE user_id = ? AND company_id = ? ORDER BY is_default DESC, created_at DESC
2026-01-08T16:52:43.037+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-08T16:52:43.037+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.U.findByUserId                   : ==> Parameters: 4(Long), 1(Long)
2026-01-08T16:52:43.038+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.U.findByUserId                   : ==> Parameters: 4(Long), 1(Long)
2026-01-08T16:52:43.070+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1975095197 wrapping com.mysql.cj.jdbc.ConnectionImpl@722e25d8] will not be managed by Spring
2026-01-08T16:52:43.070+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@488711787 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:52:43.120+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-08T16:52:43.120+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 32(Long), 1(Long)
2026-01-08T16:52:43.081+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-08T16:52:43.121+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 32(Long), 1(Long)
2026-01-08T16:52:43.090+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 6
2026-01-08T16:52:43.096+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T16:52:43.098+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.U.findByUserId                   : <==      Total: 2
2026-01-08T16:52:43.126+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a5bea2e]
2026-01-08T16:52:43.127+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:43.125+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@298690c0]
2026-01-08T16:52:43.128+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:43.129+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d76b6d5] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:43.125+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e029d04]
2026-01-08T16:52:43.128+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=서명/도장 목록 조회 성공, data=[UserSignatureDto(signatureId=6, userId=4, si (truncated)...]
2026-01-08T16:52:43.130+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1509989852 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:52:43.131+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:43.130+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:43.132+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:43.135+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T16:52:43.135+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T16:52:43.141+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:43.154+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.U.findByUserId                   : <==      Total: 2
2026-01-08T16:52:43.210+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3014a32e]
2026-01-08T16:52:43.211+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:43.211+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-08T16:52:43.211+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-08T16:52:43.213+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:43.214+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d76b6d5]
2026-01-08T16:52:43.214+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@567f816]
2026-01-08T16:52:43.229+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f759e57]
2026-01-08T16:52:43.244+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:43.245+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4667c0bd] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:43.238+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=서명/도장 목록 조회 성공, data=[UserSignatureDto(signatureId=6, userId=4, si (truncated)...]
2026-01-08T16:52:43.243+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:43.243+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:43.246+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@712080431 wrapping com.mysql.cj.jdbc.ConnectionImpl@722e25d8] will not be managed by Spring
2026-01-08T16:52:43.246+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:43.247+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2026-01-08T16:52:43.247+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d9493f] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:43.260+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-08T16:52:43.336+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:43.344+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1503885259 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:52:43.345+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 32(Long), 1(Long)
2026-01-08T16:52:43.347+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-08T16:52:43.349+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 32(Long), 1(Long)
2026-01-08T16:52:43.369+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-08T16:52:43.369+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-08T16:52:43.379+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4667c0bd]
2026-01-08T16:52:43.380+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:43.376+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d9493f]
2026-01-08T16:52:43.382+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dab42b3] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:43.383+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:43.383+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1706105747 wrapping com.mysql.cj.jdbc.ConnectionImpl@722e25d8] will not be managed by Spring
2026-01-08T16:52:43.383+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53f72cae] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:43.384+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-08T16:52:43.384+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@405538654 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:52:43.384+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 32(Long), 1(Long)
2026-01-08T16:52:43.385+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-08T16:52:43.388+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 32(Long), 1(Long)
2026-01-08T16:52:43.397+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : <==      Total: 2
2026-01-08T16:52:43.397+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : <==      Total: 2
2026-01-08T16:52:43.400+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53f72cae]
2026-01-08T16:52:43.400+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dab42b3]
2026-01-08T16:52:43.401+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:43.401+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:43.402+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2da2ed4f] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:43.402+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13d5db90] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:43.403+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1856467082 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:52:43.405+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1401758215 wrapping com.mysql.cj.jdbc.ConnectionImpl@722e25d8] will not be managed by Spring
2026-01-08T16:52:43.410+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-08T16:52:43.412+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-08T16:52:43.413+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 32(Long), 1(Long)
2026-01-08T16:52:43.413+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 32(Long), 1(Long)
2026-01-08T16:52:43.416+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-08T16:52:43.416+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-08T16:52:43.418+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2da2ed4f]
2026-01-08T16:52:43.419+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13d5db90]
2026-01-08T16:52:43.421+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:43.421+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:43.422+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42bbba5d] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:43.428+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f6249af] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:43.429+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2026504144 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:52:43.429+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1658196104 wrapping com.mysql.cj.jdbc.ConnectionImpl@722e25d8] will not be managed by Spring
2026-01-08T16:52:43.429+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:43.437+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:43.441+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T16:52:43.441+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T16:52:43.463+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:43.464+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:43.465+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f6249af]
2026-01-08T16:52:43.465+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42bbba5d]
2026-01-08T16:52:43.466+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:43.466+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:43.466+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=32, drafterId=2, r (truncated)...]
2026-01-08T16:52:43.467+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=32, drafterId=2, r (truncated)...]
2026-01-08T16:52:43.468+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:43.468+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:49.946+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:52:49.946+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T16:52:49.949+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-08T16:52:49.950+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:52:49.953+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/my-approvals
2026-01-08T16:52:49.954+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-08T16:52:49.967+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-08T16:52:49.961+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T16:52:49.963+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-08T16:52:49.964+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:52:49.965+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/my-approvals
2026-01-08T16:52:49.969+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T16:52:49.985+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:52:49.985+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T16:52:49.985+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-08T16:52:49.993+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T16:52:49.987+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/my-approvals
2026-01-08T16:52:49.991+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-08T16:52:49.992+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:52:49.993+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:52:49.995+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-08T16:52:49.995+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T16:52:50.003+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/my-approvals
2026-01-08T16:52:50.010+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-08T16:52:50.025+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:52:50.025+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:52:50.026+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-08T16:52:50.026+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T16:52:50.027+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/my-approvals
2026-01-08T16:52:50.027+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-08T16:52:50.027+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:52:50.028+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:52:50.028+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-08T16:52:50.028+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T16:52:50.029+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/my-approvals", parameters={}
2026-01-08T16:52:50.029+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10&status%5B%5D=APPROVED", parameters={masked}
2026-01-08T16:52:50.066+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T16:52:50.029+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:52:50.031+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:52:50.054+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T16:52:50.065+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:50.066+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMyApprovals()
2026-01-08T16:52:50.067+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:50.068+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:52:50.068+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:50.076+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3575e619] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:50.069+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:50.071+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45767735] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:50.071+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:50.071+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13174083] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:50.071+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:50.084+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56e8eb4c] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:50.085+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ac4fedf] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:50.086+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78c505b2] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:50.099+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@226222428 wrapping com.mysql.cj.jdbc.ConnectionImpl@722e25d8] will not be managed by Spring
2026-01-08T16:52:50.104+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1461838192 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:52:50.104+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@119093751 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:52:50.105+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1511285471 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:52:50.105+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:52:50.110+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:50.111+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@305327041 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:52:50.111+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@553782858 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:52:50.112+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:50.112+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T16:52:50.115+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-08T16:52:50.116+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T16:52:50.116+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:52:50.121+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] .i.b.m.E.selectMyApprovedReportsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status IN ('APPROVED', 'REJECTED') AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:52:50.122+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T16:52:50.125+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-08T16:52:50.127+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-08T16:52:50.128+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] .i.b.m.E.selectMyApprovedReportsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-08T16:52:50.147+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T16:52:50.148+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:50.151+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45767735]
2026-01-08T16:52:50.152+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:50.152+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 6
2026-01-08T16:52:50.152+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] .i.b.m.E.selectMyApprovedReportsByUserId : <==      Total: 16
2026-01-08T16:52:50.153+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 6
2026-01-08T16:52:50.153+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13174083]
2026-01-08T16:52:50.154+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56e8eb4c]
2026-01-08T16:52:50.154+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:50.154+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78c505b2]
2026-01-08T16:52:50.154+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ac4fedf]
2026-01-08T16:52:50.155+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3575e619]
2026-01-08T16:52:50.157+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:50.159+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:50.160+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T16:52:50.160+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:50.161+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:50.161+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:50.161+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f78c150] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:50.163+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e610f1e] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:50.165+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41e31a09] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:50.165+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:50.166+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59173819] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:50.166+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48bbf209] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:50.167+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1585069425 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:52:50.168+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@672819528 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:52:50.180+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:50.169+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@220057031 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:52:50.171+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T16:52:50.179+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1024961132 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:52:50.179+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@231008744 wrapping com.mysql.cj.jdbc.ConnectionImpl@722e25d8] will not be managed by Spring
2026-01-08T16:52:50.180+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:50.181+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T16:52:50.182+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:50.182+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:50.183+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T16:52:50.187+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:50.188+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T16:52:50.194+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T16:52:50.194+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T16:52:50.195+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T16:52:50.195+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T16:52:50.210+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T16:52:50.211+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T16:52:50.212+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:50.212+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:50.212+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:50.216+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:50.217+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f78c150]
2026-01-08T16:52:50.217+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e610f1e]
2026-01-08T16:52:50.217+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41e31a09]
2026-01-08T16:52:50.218+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17ebb9d] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:50.218+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:50.218+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:50.222+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:50.226+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2026-01-08T16:52:50.225+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1896283108 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:52:50.225+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2606105] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:50.226+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e0d27c3] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:50.228+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:50.230+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T16:52:50.231+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1803244120 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:52:50.231+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2027083491 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:52:50.232+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:50.232+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:50.242+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59173819]
2026-01-08T16:52:50.242+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:50.243+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@848242b] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:50.243+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1761546955 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:52:50.244+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T16:52:50.244+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 6(Long), 1(Long)
2026-01-08T16:52:50.235+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-08T16:52:50.246+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-08T16:52:50.246+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-08T16:52:50.247+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-08T16:52:50.239+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-08T16:52:50.239+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T16:52:50.242+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T16:52:50.242+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48bbf209]
2026-01-08T16:52:50.248+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T16:52:50.249+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-08T16:52:50.252+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T16:52:50.263+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:50.264+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T16:52:50.264+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17ebb9d]
2026-01-08T16:52:50.263+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:50.264+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2026-01-08T16:52:50.265+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 22
2026-01-08T16:52:50.265+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:50.268+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T16:52:50.265+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1762d4ff] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:50.266+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@848242b]
2026-01-08T16:52:50.266+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:50.270+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:50.271+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@790239448 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:52:50.275+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:50.282+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50cb17fc] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:50.283+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@426444978 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:52:50.284+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:50.285+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T16:52:50.278+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/my-approvals
2026-01-08T16:52:50.287+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/my-approvals
2026-01-08T16:52:50.292+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/my-approvals
2026-01-08T16:52:50.293+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/my-approvals", parameters={}
2026-01-08T16:52:50.293+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMyApprovals()
2026-01-08T16:52:50.294+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:50.294+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b9982f2] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:50.295+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1156559502 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:52:50.295+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] .i.b.m.E.selectMyApprovedReportsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status IN ('APPROVED', 'REJECTED') AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:52:50.280+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-08T16:52:50.282+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:50.321+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-08T16:52:50.299+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] .i.b.m.E.selectMyApprovedReportsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-08T16:52:50.321+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T16:52:50.321+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-08T16:52:50.325+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:50.325+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-08T16:52:50.326+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 24
2026-01-08T16:52:50.334+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e0d27c3]
2026-01-08T16:52:50.332+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10&status%5B%5D=APPROVED", parameters={masked}
2026-01-08T16:52:50.334+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50cb17fc]
2026-01-08T16:52:50.334+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2606105]
2026-01-08T16:52:50.335+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:50.338+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@321a955a] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:50.336+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T16:52:50.336+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:50.338+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:50.342+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1711185893 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:52:50.342+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:50.344+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:50.347+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=내 결재 문서 조회 성공, data=[ExpenseReportDto(expenseReportId=33, drafterI (truncated)...]
2026-01-08T16:52:50.348+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@678a2a96] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:50.348+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] .i.b.m.E.selectMyApprovedReportsByUserId : <==      Total: 16
2026-01-08T16:52:50.368+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:50.368+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1762d4ff]
2026-01-08T16:52:50.368+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33673696] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:50.369+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:50.369+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1726154539 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:52:50.369+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b9982f2]
2026-01-08T16:52:50.378+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T16:52:50.378+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:50.378+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@941602432 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:52:50.379+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T16:52:50.380+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:52:50.382+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:50.384+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c914aec] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:50.385+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:50.386+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-08T16:52:50.387+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2119b349] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:50.387+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:52:50.388+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@232108717 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:52:50.392+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T16:52:50.394+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@905980810 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:52:50.394+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:52:50.394+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:50.398+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:50.400+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:50.400+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:52:50.401+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T16:52:50.402+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@321a955a]
2026-01-08T16:52:50.402+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T16:52:50.403+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:52:50.403+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-08T16:52:50.404+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:50.415+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:50.416+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@454634e1] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:50.416+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:50.416+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@678a2a96]
2026-01-08T16:52:50.416+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33673696]
2026-01-08T16:52:50.417+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@588302678 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:52:50.426+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78d6a486] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:50.427+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:50.427+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:50.427+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T16:52:50.429+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1398898368 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:52:50.429+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:50.429+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:50.433+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2026-01-08T16:52:50.433+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7dc0cd6e] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:50.434+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T16:52:50.434+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:52:50.435+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2119b349]
2026-01-08T16:52:50.435+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c914aec]
2026-01-08T16:52:50.436+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:50.445+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1998161862 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:52:50.461+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-08T16:52:50.477+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:50.478+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:50.480+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T16:52:50.481+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:50.483+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@334fd40] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:50.483+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@570da98d] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:50.484+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T16:52:50.485+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T16:52:50.485+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1868273044 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:52:50.485+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1372409770 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:52:50.486+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T16:52:50.486+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T16:52:50.486+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T16:52:50.486+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T16:52:50.487+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 6(Long), 1(Long)
2026-01-08T16:52:50.494+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T16:52:50.494+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T16:52:50.495+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:50.495+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 33
2026-01-08T16:52:50.503+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@424dec80] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:50.503+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@454634e1]
2026-01-08T16:52:50.503+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@455579026 wrapping com.mysql.cj.jdbc.ConnectionImpl@722e25d8] will not be managed by Spring
2026-01-08T16:52:50.504+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:50.507+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T16:52:50.509+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1094dbc1] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:50.509+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-08T16:52:50.510+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1677788174 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:52:50.510+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T16:52:50.513+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:50.513+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 24
2026-01-08T16:52:50.514+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 22
2026-01-08T16:52:50.514+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 6
2026-01-08T16:52:50.527+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T16:52:50.528+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7dc0cd6e]
2026-01-08T16:52:50.529+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@570da98d]
2026-01-08T16:52:50.529+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@334fd40]
2026-01-08T16:52:50.537+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78d6a486]
2026-01-08T16:52:50.539+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:50.542+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:50.542+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:50.544+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4349722a] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:50.542+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:50.543+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58247c6] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:50.543+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@362480d9] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:50.546+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@207558225 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:52:50.546+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:50.547+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T16:52:50.544+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1739807230 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:52:50.544+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59ab06a6] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:50.546+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2127712677 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:52:50.549+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:50.550+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T16:52:50.554+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@336882561 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:52:50.559+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T16:52:50.560+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T16:52:50.560+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@424dec80]
2026-01-08T16:52:50.560+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:50.562+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-08T16:52:50.562+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:50.570+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:50.571+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 24
2026-01-08T16:52:50.576+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T16:52:50.577+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T16:52:50.577+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@362480d9]
2026-01-08T16:52:50.577+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1094dbc1]
2026-01-08T16:52:50.577+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:50.580+09:00 DEBUG 23448 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:50.580+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:50.581+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:50.582+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4349722a]
2026-01-08T16:52:50.583+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2899938e] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:50.584+09:00 DEBUG 23448 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:52:50.584+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@709423b3] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:50.585+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:50.586+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@975830028 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:52:50.593+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1181263027 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:52:50.597+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:50.595+09:00 DEBUG 23448 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T16:52:50.596+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=내 결재 문서 조회 성공, data=[ExpenseReportDto(expenseReportId=33, drafterI (truncated)...]
2026-01-08T16:52:50.601+09:00 DEBUG 23448 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:50.597+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T16:52:50.598+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T16:52:50.614+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T16:52:50.617+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:52:50.631+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-08T16:52:50.634+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:50.641+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59ab06a6]
2026-01-08T16:52:50.638+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T16:52:50.640+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:52:50.641+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58247c6]
2026-01-08T16:52:50.642+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:50.644+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:52:50.645+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2026-01-08T16:52:50.644+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T16:52:50.644+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:50.646+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b178db8] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:50.645+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:52:50.646+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T16:52:50.646+09:00 DEBUG 23448 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:50.647+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1555844971 wrapping com.mysql.cj.jdbc.ConnectionImpl@2515c747] will not be managed by Spring
2026-01-08T16:52:50.653+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 33
2026-01-08T16:52:50.654+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:50.683+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@709423b3]
2026-01-08T16:52:50.684+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:50.684+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ab6fcc2] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:50.685+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1265556892 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:52:50.687+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T16:52:50.697+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T16:52:50.660+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:52:50.661+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T16:52:50.662+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T16:52:50.704+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-08T16:52:50.662+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2899938e]
2026-01-08T16:52:50.711+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:50.698+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:50.699+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T16:52:50.711+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c35c6ef] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:50.712+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d96085f] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:50.719+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:50.747+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 33
2026-01-08T16:52:50.767+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ab6fcc2]
2026-01-08T16:52:50.768+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:50.748+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-08T16:52:50.755+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@953432836 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:52:50.767+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@904563942 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:52:50.767+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18ce33da] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:50.768+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4dc898a7] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:50.768+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b178db8]
2026-01-08T16:52:50.768+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T16:52:50.769+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:52:50.776+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-08T16:52:50.769+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@774272207 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:52:50.769+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1622490416 wrapping com.mysql.cj.jdbc.ConnectionImpl@17d9ba3e] will not be managed by Spring
2026-01-08T16:52:50.776+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:50.770+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:50.774+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T16:52:50.776+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T16:52:50.777+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T16:52:50.796+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-08T16:52:50.784+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2026-01-08T16:52:50.796+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 6
2026-01-08T16:52:50.797+09:00 DEBUG 23448 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:50.809+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d96085f]
2026-01-08T16:52:50.812+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:50.816+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:50.816+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 6
2026-01-08T16:52:50.817+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 24
2026-01-08T16:52:50.819+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ccf3827] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:50.820+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4dc898a7]
2026-01-08T16:52:50.832+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18ce33da]
2026-01-08T16:52:50.833+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c35c6ef]
2026-01-08T16:52:50.833+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1637220625 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ffa7e4a] will not be managed by Spring
2026-01-08T16:52:50.834+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:50.835+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:50.835+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:50.835+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:50.836+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T16:52:50.836+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cb45cca] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:50.836+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d6ac1d] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:50.837+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T16:52:50.837+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@898491493 wrapping com.mysql.cj.jdbc.ConnectionImpl@645859cf] will not be managed by Spring
2026-01-08T16:52:50.837+09:00 DEBUG 23448 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:50.838+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1973813430 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:52:50.842+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:50.843+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:50.843+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T16:52:50.844+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T16:52:50.866+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:50.867+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:50.867+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:50.870+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ccf3827]
2026-01-08T16:52:50.870+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d6ac1d]
2026-01-08T16:52:50.873+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cb45cca]
2026-01-08T16:52:50.874+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:50.875+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:50.877+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:50.911+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2026-01-08T16:52:50.911+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6219b90c] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:50.912+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2026-01-08T16:52:50.913+09:00 DEBUG 23448 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:50.915+09:00 DEBUG 23448 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T16:52:50.914+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1352488726 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:52:50.918+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T16:52:50.919+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T16:52:50.931+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 33
2026-01-08T16:52:50.934+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6219b90c]
2026-01-08T16:52:50.935+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T16:52:50.938+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6174c640] was not registered for synchronization because synchronization is not active
2026-01-08T16:52:50.938+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1317720763 wrapping com.mysql.cj.jdbc.ConnectionImpl@60c38f27] will not be managed by Spring
2026-01-08T16:52:50.941+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T16:52:50.942+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T16:52:50.948+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T16:52:50.949+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6174c640]
2026-01-08T16:52:50.951+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T16:52:50.953+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T16:52:50.956+09:00 DEBUG 23448 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
