2026-02-04T10:13:40.173+09:00  INFO 59308 --- [main] c.i.backend.BackendApplication           : Starting BackendApplication using Java 17.0.17 with PID 59308 (C:\InnerSignature\backend\target\classes started by owner in C:\InnerSignature\backend)
2026-02-04T10:13:40.202+09:00 DEBUG 59308 --- [main] c.i.backend.BackendApplication           : Running with Spring Boot v3.5.8, Spring v6.2.14
2026-02-04T10:13:40.222+09:00  INFO 59308 --- [main] c.i.backend.BackendApplication           : The following 1 profile is active: "dev"
2026-02-04T10:13:44.307+09:00 DEBUG 59308 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Searching for mappers annotated with @Mapper
2026-02-04T10:13:44.387+09:00 DEBUG 59308 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Using auto-configuration base package 'com.innersignature.backend'
2026-02-04T10:13:45.634+09:00 DEBUG 59308 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AccountCodeMappingMapper.class]
2026-02-04T10:13:45.694+09:00 DEBUG 59308 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AuditLogMapper.class]
2026-02-04T10:13:45.833+09:00 DEBUG 59308 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AuditRuleMapper.class]
2026-02-04T10:13:45.885+09:00 DEBUG 59308 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\BudgetMapper.class]
2026-02-04T10:13:45.992+09:00 DEBUG 59308 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CompanyCardMapper.class]
2026-02-04T10:13:46.165+09:00 DEBUG 59308 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CompanyMapper.class]
2026-02-04T10:13:46.237+09:00 DEBUG 59308 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CreditMapper.class]
2026-02-04T10:13:46.275+09:00 DEBUG 59308 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\ExpenseCategoryMapper.class]
2026-02-04T10:13:46.336+09:00 DEBUG 59308 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\ExpenseMapper.class]
2026-02-04T10:13:46.420+09:00 DEBUG 59308 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\MonthlyClosingMapper.class]
2026-02-04T10:13:46.464+09:00 DEBUG 59308 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PasswordResetTokenMapper.class]
2026-02-04T10:13:46.516+09:00 DEBUG 59308 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PaymentMapper.class]
2026-02-04T10:13:46.588+09:00 DEBUG 59308 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionMapper.class]
2026-02-04T10:13:46.634+09:00 DEBUG 59308 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionPlanMapper.class]
2026-02-04T10:13:46.662+09:00 DEBUG 59308 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserApproverMapper.class]
2026-02-04T10:13:46.709+09:00 DEBUG 59308 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserCardMapper.class]
2026-02-04T10:13:46.754+09:00 DEBUG 59308 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserMapper.class]
2026-02-04T10:13:46.822+09:00 DEBUG 59308 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserSignatureMapper.class]
2026-02-04T10:13:46.904+09:00 DEBUG 59308 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'accountCodeMappingMapper' and 'com.innersignature.backend.mapper.AccountCodeMappingMapper' mapperInterface
2026-02-04T10:13:46.971+09:00 DEBUG 59308 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'auditLogMapper' and 'com.innersignature.backend.mapper.AuditLogMapper' mapperInterface
2026-02-04T10:13:47.057+09:00 DEBUG 59308 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'auditRuleMapper' and 'com.innersignature.backend.mapper.AuditRuleMapper' mapperInterface
2026-02-04T10:13:47.109+09:00 DEBUG 59308 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'budgetMapper' and 'com.innersignature.backend.mapper.BudgetMapper' mapperInterface
2026-02-04T10:13:47.130+09:00 DEBUG 59308 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'companyCardMapper' and 'com.innersignature.backend.mapper.CompanyCardMapper' mapperInterface
2026-02-04T10:13:47.159+09:00 DEBUG 59308 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'companyMapper' and 'com.innersignature.backend.mapper.CompanyMapper' mapperInterface
2026-02-04T10:13:47.180+09:00 DEBUG 59308 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'creditMapper' and 'com.innersignature.backend.mapper.CreditMapper' mapperInterface
2026-02-04T10:13:47.198+09:00 DEBUG 59308 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'expenseCategoryMapper' and 'com.innersignature.backend.mapper.ExpenseCategoryMapper' mapperInterface
2026-02-04T10:13:47.217+09:00 DEBUG 59308 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'expenseMapper' and 'com.innersignature.backend.mapper.ExpenseMapper' mapperInterface
2026-02-04T10:13:47.226+09:00 DEBUG 59308 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'monthlyClosingMapper' and 'com.innersignature.backend.mapper.MonthlyClosingMapper' mapperInterface
2026-02-04T10:13:47.260+09:00 DEBUG 59308 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'passwordResetTokenMapper' and 'com.innersignature.backend.mapper.PasswordResetTokenMapper' mapperInterface
2026-02-04T10:13:47.281+09:00 DEBUG 59308 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'paymentMapper' and 'com.innersignature.backend.mapper.PaymentMapper' mapperInterface
2026-02-04T10:13:47.293+09:00 DEBUG 59308 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionMapper' and 'com.innersignature.backend.mapper.SubscriptionMapper' mapperInterface
2026-02-04T10:13:47.326+09:00 DEBUG 59308 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionPlanMapper' and 'com.innersignature.backend.mapper.SubscriptionPlanMapper' mapperInterface
2026-02-04T10:13:47.347+09:00 DEBUG 59308 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userApproverMapper' and 'com.innersignature.backend.mapper.UserApproverMapper' mapperInterface
2026-02-04T10:13:47.352+09:00 DEBUG 59308 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userCardMapper' and 'com.innersignature.backend.mapper.UserCardMapper' mapperInterface
2026-02-04T10:13:47.354+09:00 DEBUG 59308 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'com.innersignature.backend.mapper.UserMapper' mapperInterface
2026-02-04T10:13:47.358+09:00 DEBUG 59308 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userSignatureMapper' and 'com.innersignature.backend.mapper.UserSignatureMapper' mapperInterface
2026-02-04T10:13:49.139+09:00  INFO 59308 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2026-02-04T10:13:49.223+09:00  INFO 59308 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-04T10:13:49.283+09:00  INFO 59308 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.49]
2026-02-04T10:13:49.609+09:00  INFO 59308 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-02-04T10:13:49.714+09:00  INFO 59308 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 9329 ms
2026-02-04T10:13:50.085+09:00 DEBUG 59308 --- [main] c.i.b.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2026-02-04T10:13:50.135+09:00 DEBUG 59308 --- [main] c.i.backend.security.RateLimitFilter     : Filter 'rateLimitFilter' configured for use
2026-02-04T10:13:54.728+09:00 DEBUG 59308 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\AccountCodeMappingMapper.xml]'
2026-02-04T10:13:54.760+09:00 DEBUG 59308 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\AuditLogMapper.xml]'
2026-02-04T10:13:54.807+09:00 DEBUG 59308 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\AuditRuleMapper.xml]'
2026-02-04T10:13:54.873+09:00 DEBUG 59308 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\BudgetMapper.xml]'
2026-02-04T10:13:54.905+09:00 DEBUG 59308 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CompanyCardMapper.xml]'
2026-02-04T10:13:54.982+09:00 DEBUG 59308 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CompanyMapper.xml]'
2026-02-04T10:13:55.035+09:00 DEBUG 59308 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CreditMapper.xml]'
2026-02-04T10:13:55.060+09:00 DEBUG 59308 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\ExpenseCategoryMapper.xml]'
2026-02-04T10:13:55.260+09:00 DEBUG 59308 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\ExpenseMapper.xml]'
2026-02-04T10:13:55.351+09:00 DEBUG 59308 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\MonthlyClosingMapper.xml]'
2026-02-04T10:13:55.369+09:00 DEBUG 59308 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PasswordResetTokenMapper.xml]'
2026-02-04T10:13:55.394+09:00 DEBUG 59308 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PaymentMapper.xml]'
2026-02-04T10:13:55.433+09:00 DEBUG 59308 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionMapper.xml]'
2026-02-04T10:13:55.446+09:00 DEBUG 59308 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionPlanMapper.xml]'
2026-02-04T10:13:55.461+09:00 DEBUG 59308 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserApproverMapper.xml]'
2026-02-04T10:13:55.525+09:00 DEBUG 59308 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserCardMapper.xml]'
2026-02-04T10:13:55.557+09:00 DEBUG 59308 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserMappeer.xml]'
2026-02-04T10:13:55.620+09:00 DEBUG 59308 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserSignatureMapper.xml]'
2026-02-04T10:13:59.085+09:00 DEBUG 59308 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 164 mappings in 'requestMappingHandlerMapping'
2026-02-04T10:13:59.384+09:00 DEBUG 59308 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /api/uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2026-02-04T10:13:59.535+09:00  WARN 59308 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 52535b36-842f-4d7b-b5c0-8338254b69b4

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-04T10:13:59.629+09:00  INFO 59308 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2026-02-04T10:13:59.949+09:00 DEBUG 59308 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, RateLimitFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-02-04T10:14:00.244+09:00 DEBUG 59308 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-04T10:14:00.384+09:00 DEBUG 59308 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-04T10:14:00.404+09:00 DEBUG 59308 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2026-02-04T10:14:00.940+09:00  INFO 59308 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2026-02-04T10:14:00.974+09:00  INFO 59308 --- [main] c.i.backend.BackendApplication           : Started BackendApplication in 21.981 seconds (process running for 22.69)
2026-02-04T10:47:52.889+09:00  INFO 59308 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-02-04T10:47:52.890+09:00  INFO 59308 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-02-04T10:47:52.890+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2026-02-04T10:47:52.890+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2026-02-04T10:47:52.891+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2026-02-04T10:47:52.892+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@248d3a
2026-02-04T10:47:52.892+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@fd87c22
2026-02-04T10:47:52.893+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2026-02-04T10:47:52.896+09:00  INFO 59308 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2026-02-04T10:47:52.940+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2026-02-04T10:47:52.997+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2026-02-04T10:47:53.005+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-02-04T10:47:53.009+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2026-02-04T10:47:53.015+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2026-02-04T10:47:53.018+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2026-02-04T10:47:53.099+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_user, password=1234)]
2026-02-04T10:47:53.108+09:00  INFO 59308 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 로그인 시도 - username: test_user
2026-02-04T10:47:53.119+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T10:47:53.136+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3da7f2ba] was not registered for synchronization because synchronization is not active
2026-02-04T10:47:53.152+09:00  INFO 59308 --- [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-02-04T10:47:53.451+09:00  INFO 59308 --- [http-nio-8080-exec-2] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@122c23ef
2026-02-04T10:47:53.456+09:00  INFO 59308 --- [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-02-04T10:47:53.462+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1244967313 wrapping com.mysql.cj.jdbc.ConnectionImpl@122c23ef] will not be managed by Spring
2026-02-04T10:47:53.471+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2026-02-04T10:47:53.549+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user(String)
2026-02-04T10:47:53.785+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2026-02-04T10:47:53.794+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3da7f2ba]
2026-02-04T10:47:53.907+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T10:47:53.916+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@699b5d55] was not registered for synchronization because synchronization is not active
2026-02-04T10:47:53.931+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1956815973 wrapping com.mysql.cj.jdbc.ConnectionImpl@122c23ef] will not be managed by Spring
2026-02-04T10:47:53.949+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-02-04T10:47:53.964+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 6(Long)
2026-02-04T10:47:54.004+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2026-02-04T10:47:54.007+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@699b5d55]
2026-02-04T10:47:54.196+09:00  INFO 59308 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 로그인 성공 - userId: 6, role: USER, companyId: 3
2026-02-04T10:47:54.199+09:00  INFO 59308 --- [http-nio-8080-exec-2] SECURITY                                 : LOGIN_SUCCESS userId=6 username=test_user role=USER
2026-02-04T10:47:54.217+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T10:47:54.229+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=6, username=test_user, password= (truncated)...]
2026-02-04T10:47:54.248+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T10:47:55.192+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2026-02-04T10:47:55.205+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2026-02-04T10:47:55.315+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/companies
2026-02-04T10:47:55.323+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2026-02-04T10:47:55.334+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2026-02-04T10:47:55.338+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2026-02-04T10:47:55.345+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T10:47:55.360+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63553395] was not registered for synchronization because synchronization is not active
2026-02-04T10:47:55.374+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1227936741 wrapping com.mysql.cj.jdbc.ConnectionImpl@122c23ef] will not be managed by Spring
2026-02-04T10:47:55.374+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2026-02-04T10:47:55.378+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 6(Long)
2026-02-04T10:47:55.388+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2026-02-04T10:47:55.390+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63553395]
2026-02-04T10:47:55.395+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T10:47:55.416+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=3, companyCode=DYM7LX, companyNa (truncated)...]
2026-02-04T10:47:55.477+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T10:47:56.643+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-02-04T10:47:56.649+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-02-04T10:47:56.653+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T10:47:56.653+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T10:47:56.657+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-02-04T10:47:56.660+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T10:47:56.690+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T10:47:56.707+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-02-04T10:47:56.720+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T10:47:56.724+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-02-04T10:47:56.757+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses/pending-approvals
2026-02-04T10:47:56.761+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses
2026-02-04T10:47:56.767+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T10:47:56.764+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-02-04T10:47:56.767+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses/pending-approvals
2026-02-04T10:47:56.768+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user", parameters={masked}
2026-02-04T10:47:56.769+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T10:47:56.771+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-02-04T10:47:56.771+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T10:47:56.776+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-02-04T10:47:56.782+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-02-04T10:47:56.783+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-02-04T10:47:56.789+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses
2026-02-04T10:47:56.805+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses/pending-approvals
2026-02-04T10:47:56.806+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-02-04T10:47:56.816+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses
2026-02-04T10:47:56.890+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T10:47:56.817+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-02-04T10:47:56.819+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T10:47:56.851+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T10:47:56.872+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-02-04T10:47:56.943+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-02-04T10:47:56.891+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T10:47:56.891+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3233eb77] was not registered for synchronization because synchronization is not active
2026-02-04T10:47:56.923+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-02-04T10:47:56.932+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user", parameters={masked}
2026-02-04T10:47:56.934+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fe1e093] was not registered for synchronization because synchronization is not active
2026-02-04T10:47:56.946+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-02-04T10:47:56.947+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user", parameters={masked}
2026-02-04T10:47:57.046+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T10:47:57.054+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-02-04T10:47:57.056+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@53424503 wrapping com.mysql.cj.jdbc.ConnectionImpl@122c23ef] will not be managed by Spring
2026-02-04T10:47:57.069+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T10:47:57.069+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-02-04T10:47:57.070+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34cdcaae] was not registered for synchronization because synchronization is not active
2026-02-04T10:47:57.071+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T10:47:57.072+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-02-04T10:47:57.072+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c55d775] was not registered for synchronization because synchronization is not active
2026-02-04T10:47:57.073+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T10:47:57.075+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1404149378 wrapping com.mysql.cj.jdbc.ConnectionImpl@3128907b] will not be managed by Spring
2026-02-04T10:47:57.076+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b5b39d5] was not registered for synchronization because synchronization is not active
2026-02-04T10:47:57.081+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 6(Long), 3(Long)
2026-02-04T10:47:57.092+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d520bc1] was not registered for synchronization because synchronization is not active
2026-02-04T10:47:57.093+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T10:47:57.139+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1672427188 wrapping com.mysql.cj.jdbc.ConnectionImpl@26adbc05] will not be managed by Spring
2026-02-04T10:47:57.139+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2072315164 wrapping com.mysql.cj.jdbc.ConnectionImpl@278d847b] will not be managed by Spring
2026-02-04T10:47:57.208+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1688324341 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a352a5] will not be managed by Spring
2026-02-04T10:47:57.221+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T10:47:57.221+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-02-04T10:47:57.239+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-02-04T10:47:57.254+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T10:47:57.259+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 6(Long), 3(Long)
2026-02-04T10:47:57.271+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 6(Long), 3(Long)
2026-02-04T10:47:57.271+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T10:47:57.275+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-02-04T10:47:57.286+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3233eb77]
2026-02-04T10:47:57.289+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-02-04T10:47:57.290+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T10:47:57.295+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T10:47:57.297+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1768784563 wrapping com.mysql.cj.jdbc.ConnectionImpl@122c23ef] will not be managed by Spring
2026-02-04T10:47:57.323+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c55d775]
2026-02-04T10:47:57.325+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fe1e093]
2026-02-04T10:47:57.406+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T10:47:57.407+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ec9aaba] was not registered for synchronization because synchronization is not active
2026-02-04T10:47:57.408+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1259822672 wrapping com.mysql.cj.jdbc.ConnectionImpl@3128907b] will not be managed by Spring
2026-02-04T10:47:57.409+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T10:47:57.326+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-02-04T10:47:57.326+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T10:47:57.419+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T10:47:57.333+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T10:47:57.351+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-02-04T10:47:57.390+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T10:47:57.429+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34cdcaae]
2026-02-04T10:47:57.417+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T10:47:57.419+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T10:47:57.426+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b5b39d5]
2026-02-04T10:47:57.430+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-02-04T10:47:57.431+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T10:47:57.433+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T10:47:57.434+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T10:47:57.434+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-02-04T10:47:57.435+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48e37ba] was not registered for synchronization because synchronization is not active
2026-02-04T10:47:57.438+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T10:47:57.459+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T10:47:57.459+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T10:47:57.477+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T10:47:57.487+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@619284726 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a352a5] will not be managed by Spring
2026-02-04T10:47:57.488+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d520bc1]
2026-02-04T10:47:57.493+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses
2026-02-04T10:47:57.501+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ec9aaba]
2026-02-04T10:47:57.517+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T10:47:57.521+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T10:47:57.522+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T10:47:57.523+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T10:47:57.530+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18745c90] was not registered for synchronization because synchronization is not active
2026-02-04T10:47:57.530+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T10:47:57.530+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user", parameters={masked}
2026-02-04T10:47:57.531+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c888ec7] was not registered for synchronization because synchronization is not active
2026-02-04T10:47:57.531+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1279327925 wrapping com.mysql.cj.jdbc.ConnectionImpl@122c23ef] will not be managed by Spring
2026-02-04T10:47:57.533+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-02-04T10:47:57.552+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T10:47:57.554+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T10:47:57.554+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T10:47:57.556+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a09453c] was not registered for synchronization because synchronization is not active
2026-02-04T10:47:57.557+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@885959693 wrapping com.mysql.cj.jdbc.ConnectionImpl@3128907b] will not be managed by Spring
2026-02-04T10:47:57.568+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T10:47:57.570+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1143146177 wrapping com.mysql.cj.jdbc.ConnectionImpl@278d847b] will not be managed by Spring
2026-02-04T10:47:57.574+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T10:47:57.572+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T10:47:57.573+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48e37ba]
2026-02-04T10:47:57.591+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T10:47:57.593+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T10:47:57.599+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T10:47:57.603+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T10:47:57.655+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75868570] was not registered for synchronization because synchronization is not active
2026-02-04T10:47:57.656+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18745c90]
2026-02-04T10:47:57.657+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@12603293 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a352a5] will not be managed by Spring
2026-02-04T10:47:57.657+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T10:47:57.657+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T10:47:57.658+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39daeea6] was not registered for synchronization because synchronization is not active
2026-02-04T10:47:57.667+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T10:47:57.688+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@57718225 wrapping com.mysql.cj.jdbc.ConnectionImpl@122c23ef] will not be managed by Spring
2026-02-04T10:47:57.678+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T10:47:57.689+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T10:47:57.689+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a09453c]
2026-02-04T10:47:57.690+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T10:47:57.691+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T10:47:57.701+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15dc5979] was not registered for synchronization because synchronization is not active
2026-02-04T10:47:57.703+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@151758198 wrapping com.mysql.cj.jdbc.ConnectionImpl@3128907b] will not be managed by Spring
2026-02-04T10:47:57.706+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T10:47:57.706+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T10:47:57.706+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c888ec7]
2026-02-04T10:47:57.707+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T10:47:57.708+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T10:47:57.720+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T10:47:57.724+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23efa70d] was not registered for synchronization because synchronization is not active
2026-02-04T10:47:57.733+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75868570]
2026-02-04T10:47:57.735+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@878032998 wrapping com.mysql.cj.jdbc.ConnectionImpl@278d847b] will not be managed by Spring
2026-02-04T10:47:57.737+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T10:47:57.754+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T10:47:57.760+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T10:47:57.764+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T10:47:57.766+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39daeea6]
2026-02-04T10:47:57.769+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T10:47:57.766+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64ab3a54] was not registered for synchronization because synchronization is not active
2026-02-04T10:47:57.766+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15dc5979]
2026-02-04T10:47:57.793+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T10:47:57.771+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T10:47:57.772+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33441e56] was not registered for synchronization because synchronization is not active
2026-02-04T10:47:57.774+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@976874267 wrapping com.mysql.cj.jdbc.ConnectionImpl@21a352a5] will not be managed by Spring
2026-02-04T10:47:57.804+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66f22a3a] was not registered for synchronization because synchronization is not active
2026-02-04T10:47:57.822+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1876691797 wrapping com.mysql.cj.jdbc.ConnectionImpl@122c23ef] will not be managed by Spring
2026-02-04T10:47:57.823+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T10:47:57.826+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@294821900 wrapping com.mysql.cj.jdbc.ConnectionImpl@3128907b] will not be managed by Spring
2026-02-04T10:47:57.827+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T10:47:57.842+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23efa70d]
2026-02-04T10:47:57.835+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T10:47:57.839+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T10:47:57.839+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T10:47:57.845+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T10:47:57.853+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T10:47:57.855+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T10:47:57.859+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=1000, totalE (truncated)...]
2026-02-04T10:47:57.873+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T10:47:57.877+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T10:47:57.885+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T10:47:57.885+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T10:47:57.906+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64ab3a54]
2026-02-04T10:47:57.906+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33441e56]
2026-02-04T10:47:57.907+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66f22a3a]
2026-02-04T10:47:57.907+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T10:47:57.908+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T10:47:57.909+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=1000, totalE (truncated)...]
2026-02-04T10:47:57.909+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T10:47:57.909+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=1000, totalE (truncated)...]
2026-02-04T10:47:57.911+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T10:47:57.915+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3964e5f9] was not registered for synchronization because synchronization is not active
2026-02-04T10:47:57.917+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T10:47:57.918+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1311816469 wrapping com.mysql.cj.jdbc.ConnectionImpl@3128907b] will not be managed by Spring
2026-02-04T10:47:57.918+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T10:47:57.920+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T10:47:57.998+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T10:47:57.998+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T10:47:58.185+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T10:47:58.202+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T10:47:58.205+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T10:47:58.214+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3964e5f9]
2026-02-04T10:47:58.230+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T10:47:58.231+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=1000, totalE (truncated)...]
2026-02-04T10:47:58.233+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T10:47:58.218+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses
2026-02-04T10:47:58.246+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T10:47:58.218+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses
2026-02-04T10:47:58.248+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user", parameters={masked}
2026-02-04T10:47:58.249+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T10:47:58.250+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-02-04T10:47:58.251+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user", parameters={masked}
2026-02-04T10:47:58.254+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T10:47:58.255+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-02-04T10:47:58.255+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22363150] was not registered for synchronization because synchronization is not active
2026-02-04T10:47:58.384+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T10:47:58.406+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2078774666 wrapping com.mysql.cj.jdbc.ConnectionImpl@122c23ef] will not be managed by Spring
2026-02-04T10:47:58.406+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28d7b40] was not registered for synchronization because synchronization is not active
2026-02-04T10:47:58.459+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T10:47:58.463+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@286811543 wrapping com.mysql.cj.jdbc.ConnectionImpl@3128907b] will not be managed by Spring
2026-02-04T10:47:58.465+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T10:47:58.465+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T10:47:58.466+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T10:47:58.474+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T10:47:58.475+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22363150]
2026-02-04T10:47:58.475+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T10:47:58.477+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T10:47:58.488+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5873eb2d] was not registered for synchronization because synchronization is not active
2026-02-04T10:47:58.490+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28d7b40]
2026-02-04T10:47:58.491+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1272774082 wrapping com.mysql.cj.jdbc.ConnectionImpl@122c23ef] will not be managed by Spring
2026-02-04T10:47:58.491+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T10:47:58.491+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T10:47:58.491+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64f9e12] was not registered for synchronization because synchronization is not active
2026-02-04T10:47:58.492+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T10:47:58.500+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1878110944 wrapping com.mysql.cj.jdbc.ConnectionImpl@3128907b] will not be managed by Spring
2026-02-04T10:47:58.501+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T10:47:58.503+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T10:47:58.512+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T10:47:58.518+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5873eb2d]
2026-02-04T10:47:58.519+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T10:47:58.520+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T10:47:58.520+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64f9e12]
2026-02-04T10:47:58.520+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18886195] was not registered for synchronization because synchronization is not active
2026-02-04T10:47:58.521+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T10:47:58.521+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@645a4fa6] was not registered for synchronization because synchronization is not active
2026-02-04T10:47:58.521+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1608899370 wrapping com.mysql.cj.jdbc.ConnectionImpl@122c23ef] will not be managed by Spring
2026-02-04T10:47:58.522+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@513798705 wrapping com.mysql.cj.jdbc.ConnectionImpl@3128907b] will not be managed by Spring
2026-02-04T10:47:58.522+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T10:47:58.523+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T10:47:58.525+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T10:47:58.528+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T10:47:58.548+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T10:47:58.548+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T10:47:58.553+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@645a4fa6]
2026-02-04T10:47:58.553+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18886195]
2026-02-04T10:47:58.554+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T10:47:58.554+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T10:47:58.554+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b396991] was not registered for synchronization because synchronization is not active
2026-02-04T10:47:58.557+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c735caa] was not registered for synchronization because synchronization is not active
2026-02-04T10:47:58.559+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@156517708 wrapping com.mysql.cj.jdbc.ConnectionImpl@3128907b] will not be managed by Spring
2026-02-04T10:47:58.560+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@657198712 wrapping com.mysql.cj.jdbc.ConnectionImpl@122c23ef] will not be managed by Spring
2026-02-04T10:47:58.562+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T10:47:58.563+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T10:47:58.567+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T10:47:58.575+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T10:47:58.590+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T10:47:58.592+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T10:47:58.593+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c735caa]
2026-02-04T10:47:58.593+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b396991]
2026-02-04T10:47:58.593+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T10:47:58.594+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T10:47:58.597+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=1000, totalE (truncated)...]
2026-02-04T10:47:58.599+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=1000, totalE (truncated)...]
2026-02-04T10:47:58.600+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T10:47:58.603+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:01:37.353+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2026-02-04T11:01:37.361+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/companies
2026-02-04T11:01:37.366+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2026-02-04T11:01:37.368+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2026-02-04T11:01:37.369+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2026-02-04T11:01:37.370+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:01:37.395+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64e4adfb] was not registered for synchronization because synchronization is not active
2026-02-04T11:01:37.402+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1847379595 wrapping com.mysql.cj.jdbc.ConnectionImpl@122c23ef] will not be managed by Spring
2026-02-04T11:01:37.422+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2026-02-04T11:01:37.427+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 6(Long)
2026-02-04T11:01:37.433+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2026-02-04T11:01:37.434+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64e4adfb]
2026-02-04T11:01:37.435+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:01:37.437+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=3, companyCode=DYM7LX, companyNa (truncated)...]
2026-02-04T11:01:37.438+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:14:38.205+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2026-02-04T11:14:38.366+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2026-02-04T11:14:38.381+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/companies
2026-02-04T11:14:38.401+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2026-02-04T11:14:38.414+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2026-02-04T11:14:38.431+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2026-02-04T11:14:38.433+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:14:38.446+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3544d84d] was not registered for synchronization because synchronization is not active
2026-02-04T11:14:38.529+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@148800503 wrapping com.mysql.cj.jdbc.ConnectionImpl@3128907b] will not be managed by Spring
2026-02-04T11:14:38.585+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2026-02-04T11:14:38.591+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 6(Long)
2026-02-04T11:14:38.632+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2026-02-04T11:14:38.649+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3544d84d]
2026-02-04T11:14:38.653+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:14:38.657+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=3, companyCode=DYM7LX, companyNa (truncated)...]
2026-02-04T11:14:38.665+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:15:35.488+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2026-02-04T11:15:35.521+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2026-02-04T11:15:35.543+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/companies
2026-02-04T11:15:35.547+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2026-02-04T11:15:35.560+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2026-02-04T11:15:35.564+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2026-02-04T11:15:35.565+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:15:35.566+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52869528] was not registered for synchronization because synchronization is not active
2026-02-04T11:15:35.577+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@58771963 wrapping com.mysql.cj.jdbc.ConnectionImpl@26adbc05] will not be managed by Spring
2026-02-04T11:15:35.578+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2026-02-04T11:15:35.579+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 6(Long)
2026-02-04T11:15:35.581+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2026-02-04T11:15:35.583+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52869528]
2026-02-04T11:15:35.583+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:15:35.585+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=3, companyCode=DYM7LX, companyNa (truncated)...]
2026-02-04T11:15:35.596+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:18:10.571+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2026-02-04T11:18:10.580+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/companies
2026-02-04T11:18:10.587+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2026-02-04T11:18:10.588+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2026-02-04T11:18:10.598+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2026-02-04T11:18:10.610+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:18:10.624+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26705751] was not registered for synchronization because synchronization is not active
2026-02-04T11:18:10.679+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@313753297 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a5c682b] will not be managed by Spring
2026-02-04T11:18:10.688+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2026-02-04T11:18:10.703+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 6(Long)
2026-02-04T11:18:10.726+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2026-02-04T11:18:10.736+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26705751]
2026-02-04T11:18:10.746+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:18:10.759+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=3, companyCode=DYM7LX, companyNa (truncated)...]
2026-02-04T11:18:10.769+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:36:53.262+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2026-02-04T11:36:53.361+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2026-02-04T11:36:53.395+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/companies
2026-02-04T11:36:53.510+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2026-02-04T11:36:53.515+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2026-02-04T11:36:53.519+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2026-02-04T11:36:53.521+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:36:53.522+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a54bec1] was not registered for synchronization because synchronization is not active
2026-02-04T11:36:53.525+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@316647985 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a5c682b] will not be managed by Spring
2026-02-04T11:36:53.530+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2026-02-04T11:36:53.532+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 6(Long)
2026-02-04T11:36:53.574+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2026-02-04T11:36:53.605+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a54bec1]
2026-02-04T11:36:53.616+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:36:53.618+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=3, companyCode=DYM7LX, companyNa (truncated)...]
2026-02-04T11:36:53.631+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:39:02.624+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/find-username
2026-02-04T11:39:02.634+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/find-username
2026-02-04T11:39:02.636+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-02-04T11:39:02.638+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/find-username
2026-02-04T11:39:02.639+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/find-username", parameters={}
2026-02-04T11:39:02.640+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#findUsername(FindUsernameRequest)
2026-02-04T11:39:02.659+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.FindUsernameRequest(email=mhm1404@naver.com, koreanName=김시욱)]
2026-02-04T11:39:02.822+09:00  INFO 59308 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 아이디 찾기 요청 - email: mhm1404@naver.com
2026-02-04T11:39:02.824+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:02.826+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15bec577] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:02.839+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@293676741 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a5c682b] will not be managed by Spring
2026-02-04T11:39:02.840+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.m.U.findByEmailAndKoreanName       : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role FROM user_tb WHERE email = ? AND korean_name = ? LIMIT 1
2026-02-04T11:39:02.841+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.m.U.findByEmailAndKoreanName       : ==> Parameters: mhm1404@naver.com(String), 김시욱(String)
2026-02-04T11:39:02.852+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.m.U.findByEmailAndKoreanName       : <==      Total: 1
2026-02-04T11:39:02.853+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15bec577]
2026-02-04T11:39:02.854+09:00  INFO 59308 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 아이디 찾기 성공 - email: mhm1404@naver.com, username: ksu14044
2026-02-04T11:39:02.855+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:39:02.857+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=아이디를 찾았습니다., data={message=아이디를 찾았습니다., username=ksu14044})]
2026-02-04T11:39:02.861+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:39:11.951+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/request-password-reset
2026-02-04T11:39:11.956+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/request-password-reset
2026-02-04T11:39:11.957+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-02-04T11:39:11.958+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/request-password-reset
2026-02-04T11:39:11.958+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/request-password-reset", parameters={}
2026-02-04T11:39:11.959+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#requestPasswordReset(PasswordResetRequest)
2026-02-04T11:39:11.961+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.PasswordResetRequest(email=mhm1404@naver.com)]
2026-02-04T11:39:11.970+09:00  INFO 59308 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 비밀번호 재설정 요청 - email: mhm1404@naver.com
2026-02-04T11:39:11.972+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:11.973+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f311685] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:11.976+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1423161491 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a5c682b] will not be managed by Spring
2026-02-04T11:39:11.976+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findByEmail      : ==>  Preparing: SELECT * FROM user_tb WHERE email = ? LIMIT 1
2026-02-04T11:39:11.978+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findByEmail      : ==> Parameters: mhm1404@naver.com(String)
2026-02-04T11:39:11.992+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findByEmail      : <==      Total: 1
2026-02-04T11:39:11.994+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f311685]
2026-02-04T11:39:12.016+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:12.019+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@416766d6]
2026-02-04T11:39:12.020+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@526681957 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a5c682b] will be managed by Spring
2026-02-04T11:39:12.021+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.P.deleteByUserId                 : ==>  Preparing: DELETE FROM password_reset_token_tb WHERE user_id = ?
2026-02-04T11:39:12.021+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.P.deleteByUserId                 : ==> Parameters: 10(Long)
2026-02-04T11:39:12.027+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.P.deleteByUserId                 : <==    Updates: 0
2026-02-04T11:39:12.028+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@416766d6]
2026-02-04T11:39:12.029+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@416766d6] from current transaction
2026-02-04T11:39:12.030+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.P.insertToken                    : ==>  Preparing: INSERT INTO password_reset_token_tb (user_id, token, expires_at, company_id) VALUES (?, ?, ?, ?)
2026-02-04T11:39:12.033+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.P.insertToken                    : ==> Parameters: 10(Long), 18e9449d-b0d4-43e8-b31f-cb2e296319f4(String), 2026-02-04T12:39:12.029282300(LocalDateTime), null
2026-02-04T11:39:12.052+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.P.insertToken                    : <==    Updates: 1
2026-02-04T11:39:12.052+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@416766d6]
2026-02-04T11:39:12.053+09:00  INFO 59308 --- [http-nio-8080-exec-4] c.i.b.service.PasswordResetService       : 비밀번호 재설정 토큰 생성 완료 - userId: 10, token: 18e9449d-b0d4-43e8-b31f-cb2e296319f4
2026-02-04T11:39:12.055+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@416766d6]
2026-02-04T11:39:12.056+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@416766d6]
2026-02-04T11:39:12.057+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@416766d6]
2026-02-04T11:39:16.497+09:00 ERROR 59308 --- [http-nio-8080-exec-4] c.i.backend.service.EmailService         : 비밀번호 재설정 이메일 발송 실패 - to: mhm1404@naver.com, error: Authentication failed
2026-02-04T11:39:16.500+09:00 ERROR 59308 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 비밀번호 재설정 요청 중 오류 발생 - email: mhm1404@naver.com, error: 이메일 발송에 실패했습니다.
2026-02-04T11:39:16.503+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:39:16.504+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=false, message=비밀번호 재설정 요청 중 오류가 발생했습니다., data=null)]
2026-02-04T11:39:16.510+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:39:24.956+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2026-02-04T11:39:24.957+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-02-04T11:39:24.957+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2026-02-04T11:39:24.957+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2026-02-04T11:39:24.958+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2026-02-04T11:39:24.959+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=ksu14044, password=khs1704!)]
2026-02-04T11:39:24.961+09:00  INFO 59308 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 로그인 시도 - username: ksu14044
2026-02-04T11:39:24.962+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:24.963+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1928d2b2] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:24.970+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@780543203 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a5c682b] will not be managed by Spring
2026-02-04T11:39:24.974+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2026-02-04T11:39:24.975+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: ksu14044(String)
2026-02-04T11:39:24.980+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2026-02-04T11:39:24.984+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1928d2b2]
2026-02-04T11:39:25.071+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:25.071+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34756323] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:25.072+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@239358414 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a5c682b] will not be managed by Spring
2026-02-04T11:39:25.072+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-02-04T11:39:25.073+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 10(Long)
2026-02-04T11:39:25.076+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 0
2026-02-04T11:39:25.076+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34756323]
2026-02-04T11:39:25.078+09:00  INFO 59308 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 로그인 성공 - userId: 10, role: SUPERADMIN, companyId: null
2026-02-04T11:39:25.078+09:00  INFO 59308 --- [http-nio-8080-exec-5] SECURITY                                 : LOGIN_SUCCESS userId=10 username=ksu14044 role=SUPERADMIN
2026-02-04T11:39:25.079+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:39:25.079+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=10, username=ksu14044, password= (truncated)...]
2026-02-04T11:39:25.080+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:39:26.305+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2026-02-04T11:39:26.311+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: SUPERADMIN, companyId: null, uri: /api/companies
2026-02-04T11:39:26.321+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2026-02-04T11:39:26.322+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2026-02-04T11:39:26.324+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2026-02-04T11:39:26.328+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:26.342+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f4d2829] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:26.357+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@41155130 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a5c682b] will not be managed by Spring
2026-02-04T11:39:26.368+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2026-02-04T11:39:26.372+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 10(Long)
2026-02-04T11:39:26.375+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 0
2026-02-04T11:39:26.376+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f4d2829]
2026-02-04T11:39:26.378+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:39:26.387+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-02-04T11:39:26.388+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:39:26.652+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/reports/summary
2026-02-04T11:39:26.666+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/users
2026-02-04T11:39:26.668+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-02-04T11:39:26.674+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/reports/summary
2026-02-04T11:39:26.669+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/companies
2026-02-04T11:39:26.669+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/subscriptions
2026-02-04T11:39:26.669+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/payments
2026-02-04T11:39:26.669+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/expenses?page=1&size=1
2026-02-04T11:39:26.676+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: SUPERADMIN, companyId: null, uri: /api/expenses/pending-approvals
2026-02-04T11:39:26.677+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/users
2026-02-04T11:39:26.681+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/companies
2026-02-04T11:39:26.683+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/subscriptions
2026-02-04T11:39:26.688+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-02-04T11:39:26.689+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/payments
2026-02-04T11:39:26.689+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/expenses?page=1&size=1
2026-02-04T11:39:26.695+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/reports/summary
2026-02-04T11:39:26.702+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/users
2026-02-04T11:39:26.711+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: SUPERADMIN, companyId: null, uri: /api/superadmin/reports/summary
2026-02-04T11:39:26.713+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/reports/summary
2026-02-04T11:39:26.718+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/reports/summary", parameters={}
2026-02-04T11:39:26.705+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/companies
2026-02-04T11:39:26.705+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-02-04T11:39:26.708+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/subscriptions
2026-02-04T11:39:26.709+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/payments
2026-02-04T11:39:26.723+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: SUPERADMIN, companyId: null, uri: /api/superadmin/users
2026-02-04T11:39:26.742+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/users
2026-02-04T11:39:26.724+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getDashboardSummary()
2026-02-04T11:39:26.726+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: SUPERADMIN, companyId: null, uri: /api/superadmin/companies
2026-02-04T11:39:26.733+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-02-04T11:39:26.740+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: SUPERADMIN, companyId: null, uri: /api/superadmin/subscriptions
2026-02-04T11:39:26.744+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: SUPERADMIN, companyId: null, uri: /api/superadmin/payments
2026-02-04T11:39:26.745+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/users", parameters={}
2026-02-04T11:39:26.761+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllUsers()
2026-02-04T11:39:26.751+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getDashboardSummary(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-02-04T11:39:26.754+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:26.755+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/subscriptions
2026-02-04T11:39:26.807+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/subscriptions", parameters={}
2026-02-04T11:39:26.755+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/payments
2026-02-04T11:39:26.763+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllUsers(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-02-04T11:39:26.795+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getDashboardSummary(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-02-04T11:39:26.807+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c7ce7de] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:26.753+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/companies
2026-02-04T11:39:26.811+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1387991585 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a5c682b] will not be managed by Spring
2026-02-04T11:39:26.809+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllSubscriptions()
2026-02-04T11:39:26.809+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/payments", parameters={}
2026-02-04T11:39:26.812+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllPayments()
2026-02-04T11:39:26.810+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllUsers(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-02-04T11:39:26.810+09:00  INFO 59308 --- [http-nio-8080-exec-7] c.i.b.controller.SuperAdminController    : 대시보드 요약 통계 조회 요청 - userId: 10
2026-02-04T11:39:26.811+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-02-04T11:39:26.812+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllSubscriptions(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-02-04T11:39:26.813+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllPayments(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-02-04T11:39:26.816+09:00  INFO 59308 --- [http-nio-8080-exec-5] c.i.b.controller.SuperAdminController    : 전체 사용자 목록 조회 요청 - userId: 10
2026-02-04T11:39:26.819+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:26.817+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:26.818+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 10(Long), null
2026-02-04T11:39:26.818+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllSubscriptions(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-02-04T11:39:26.819+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllPayments(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-02-04T11:39:26.819+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/companies", parameters={}
2026-02-04T11:39:26.819+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8841451] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:26.819+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e2ff2eb] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:26.820+09:00  INFO 59308 --- [http-nio-8080-exec-1] c.i.b.controller.SuperAdminController    : 전체 구독 목록 조회 요청 - userId: 10
2026-02-04T11:39:26.826+09:00  INFO 59308 --- [http-nio-8080-exec-9] c.i.b.controller.SuperAdminController    : 전체 결제 내역 조회 요청 - userId: 10
2026-02-04T11:39:26.827+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllCompanies()
2026-02-04T11:39:26.831+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:26.834+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:26.835+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllCompanies(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-02-04T11:39:26.835+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1061836520 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b91fb18] will not be managed by Spring
2026-02-04T11:39:26.835+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1621876974 wrapping com.mysql.cj.jdbc.ConnectionImpl@76f2265c] will not be managed by Spring
2026-02-04T11:39:26.836+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e5609cb] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:26.837+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@769b2fa6] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:26.839+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-02-04T11:39:26.840+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllCompanies(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-02-04T11:39:26.841+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectAllUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status, created_at, updated_at FROM user_tb ORDER BY user_id
2026-02-04T11:39:26.841+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectAllUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status, created_at, updated_at FROM user_tb ORDER BY user_id
2026-02-04T11:39:26.843+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c7ce7de]
2026-02-04T11:39:26.850+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:39:26.844+09:00  INFO 59308 --- [http-nio-8080-exec-6] c.i.b.controller.SuperAdminController    : 전체 회사 목록 조회 요청 - userId: 10
2026-02-04T11:39:26.845+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectAllUsers   : ==> Parameters: 
2026-02-04T11:39:26.849+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectAllUsers   : ==> Parameters: 
2026-02-04T11:39:26.849+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@112086210 wrapping com.mysql.cj.jdbc.ConnectionImpl@2291fc96] will not be managed by Spring
2026-02-04T11:39:26.850+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@716606592 wrapping com.mysql.cj.jdbc.ConnectionImpl@501f03b0] will not be managed by Spring
2026-02-04T11:39:26.853+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-02-04T11:39:26.853+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:26.854+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.PaymentMapper.findAll       : ==>  Preparing: SELECT p.* FROM payment_tb p ORDER BY p.payment_date DESC, p.created_at DESC
2026-02-04T11:39:26.855+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.mapper.SubscriptionMapper.findAll  : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id ORDER BY s.created_at DESC
2026-02-04T11:39:26.855+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@294c02c6] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:26.856+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:39:26.858+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.PaymentMapper.findAll       : ==> Parameters: 
2026-02-04T11:39:26.859+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.mapper.SubscriptionMapper.findAll  : ==> Parameters: 
2026-02-04T11:39:26.859+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1879583476 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a5c682b] will not be managed by Spring
2026-02-04T11:39:26.869+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/expenses?page=1&size=1
2026-02-04T11:39:26.871+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.CompanyMapper.findAll       : ==>  Preparing: SELECT * FROM company_tb ORDER BY created_at DESC
2026-02-04T11:39:26.875+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.CompanyMapper.findAll       : ==> Parameters: 
2026-02-04T11:39:26.875+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: SUPERADMIN, companyId: null, uri: /api/superadmin/expenses
2026-02-04T11:39:26.876+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/expenses?page=1&size=1
2026-02-04T11:39:26.883+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectAllUsers   : <==      Total: 26
2026-02-04T11:39:26.884+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectAllUsers   : <==      Total: 26
2026-02-04T11:39:26.889+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/expenses?page=1&size=1", parameters={masked}
2026-02-04T11:39:26.890+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8841451]
2026-02-04T11:39:26.891+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e2ff2eb]
2026-02-04T11:39:26.891+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getExpenseListForSuperAdmin(int, int, String, String, Long, Long, String[], String, Boolean, String, Long)
2026-02-04T11:39:26.894+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-02-04T11:39:26.895+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.CompanyMapper.findAll       : <==      Total: 10
2026-02-04T11:39:26.899+09:00  INFO 59308 --- [http-nio-8080-exec-5] c.i.b.controller.SuperAdminController    : 전체 사용자 목록 조회 완료 - count: 26
2026-02-04T11:39:26.903+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:26.904+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getExpenseListForSuperAdmin(int,int,java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.lang.String[],java.lang.String,java.lang.Boolean,java.lang.String,java.lang.Long); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-02-04T11:39:26.905+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 5(Long)
2026-02-04T11:39:26.905+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@294c02c6]
2026-02-04T11:39:26.905+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:39:26.906+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d17c372] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:26.907+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getExpenseListForSuperAdmin(int,int,java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.lang.String[],java.lang.String,java.lang.Boolean,java.lang.String,java.lang.Long); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-02-04T11:39:26.907+09:00  INFO 59308 --- [http-nio-8080-exec-6] c.i.b.controller.SuperAdminController    : 전체 회사 목록 조회 완료 - count: 10
2026-02-04T11:39:26.909+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 사용자 목록 조회 성공, data=[UserDto(userId=1, username=sooyoung, passwo (truncated)...]
2026-02-04T11:39:26.910+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2033159171 wrapping com.mysql.cj.jdbc.ConnectionImpl@76f2265c] will not be managed by Spring
2026-02-04T11:39:26.916+09:00  INFO 59308 --- [http-nio-8080-exec-8] c.i.b.controller.SuperAdminController    : 회사별 지출결의서 목록 조회 요청 - userId: 10, companyId: null, page: 1, size: 1
2026-02-04T11:39:26.916+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:39:26.921+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:39:26.924+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.mapper.CompanyMapper.findAll       : ==>  Preparing: SELECT * FROM company_tb ORDER BY created_at DESC
2026-02-04T11:39:26.937+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.mapper.CompanyMapper.findAll       : ==> Parameters: 
2026-02-04T11:39:26.925+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:26.926+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-02-04T11:39:26.926+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 회사 목록 조회 성공, data=[CompanyDto(companyId=10, companyCode=NXXZW0, (truncated)...]
2026-02-04T11:39:26.932+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.mapper.SubscriptionMapper.findAll  : <==      Total: 8
2026-02-04T11:39:26.933+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/users
2026-02-04T11:39:26.940+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e95021e] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:26.942+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-02-04T11:39:26.943+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e5609cb]
2026-02-04T11:39:26.943+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:39:26.945+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@600957442 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a5c682b] will not be managed by Spring
2026-02-04T11:39:26.946+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 3(Long)
2026-02-04T11:39:26.949+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: SUPERADMIN, companyId: null, uri: /api/superadmin/users
2026-02-04T11:39:26.950+09:00  INFO 59308 --- [http-nio-8080-exec-1] c.i.b.controller.SuperAdminController    : 전체 구독 목록 조회 완료 - count: 8
2026-02-04T11:39:26.955+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/companies
2026-02-04T11:39:26.958+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.E.countExpenseListForSuperAdmin  : ==>  Preparing: SELECT COUNT(*) FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id
2026-02-04T11:39:26.961+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/users
2026-02-04T11:39:26.962+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:39:26.974+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: SUPERADMIN, companyId: null, uri: /api/superadmin/companies
2026-02-04T11:39:26.975+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.E.countExpenseListForSuperAdmin  : ==> Parameters: 
2026-02-04T11:39:26.975+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/users", parameters={}
2026-02-04T11:39:26.996+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 구독 목록 조회 성공, data=[SubscriptionDto(subscriptionId=8, companyId= (truncated)...]
2026-02-04T11:39:27.009+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.mapper.CompanyMapper.findAll       : <==      Total: 10
2026-02-04T11:39:27.009+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-02-04T11:39:27.015+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/companies
2026-02-04T11:39:27.017+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllUsers()
2026-02-04T11:39:27.028+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/companies", parameters={}
2026-02-04T11:39:27.023+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d17c372]
2026-02-04T11:39:27.026+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:39:27.027+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-02-04T11:39:27.028+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllUsers(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-02-04T11:39:27.029+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllCompanies()
2026-02-04T11:39:27.030+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:27.034+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 1(Long)
2026-02-04T11:39:27.040+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/subscriptions
2026-02-04T11:39:27.040+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllUsers(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-02-04T11:39:27.041+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllCompanies(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-02-04T11:39:27.042+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51d93430] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:27.045+09:00  INFO 59308 --- [http-nio-8080-exec-3] c.i.b.controller.SuperAdminController    : 전체 사용자 목록 조회 요청 - userId: 10
2026-02-04T11:39:27.046+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: SUPERADMIN, companyId: null, uri: /api/superadmin/subscriptions
2026-02-04T11:39:27.050+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllCompanies(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-02-04T11:39:27.051+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1410594204 wrapping com.mysql.cj.jdbc.ConnectionImpl@76f2265c] will not be managed by Spring
2026-02-04T11:39:27.051+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:27.053+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/subscriptions
2026-02-04T11:39:27.053+09:00  INFO 59308 --- [http-nio-8080-exec-4] c.i.b.controller.SuperAdminController    : 전체 회사 목록 조회 요청 - userId: 10
2026-02-04T11:39:27.053+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-02-04T11:39:27.053+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.mapper.SubscriptionMapper.findAll  : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id ORDER BY s.created_at DESC
2026-02-04T11:39:27.054+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10942b0d] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:27.054+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.E.countExpenseListForSuperAdmin  : <==      Total: 1
2026-02-04T11:39:27.055+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/subscriptions", parameters={}
2026-02-04T11:39:27.055+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:27.055+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.PaymentMapper.findAll       : <==      Total: 6
2026-02-04T11:39:27.056+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.mapper.SubscriptionMapper.findAll  : ==> Parameters: 
2026-02-04T11:39:27.057+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2098973087 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b91fb18] will not be managed by Spring
2026-02-04T11:39:27.057+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e95021e]
2026-02-04T11:39:27.058+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllSubscriptions()
2026-02-04T11:39:27.058+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e1ae738] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:27.059+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@769b2fa6]
2026-02-04T11:39:27.059+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectAllUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status, created_at, updated_at FROM user_tb ORDER BY user_id
2026-02-04T11:39:27.060+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:27.060+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllSubscriptions(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-02-04T11:39:27.061+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1885898957 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a5c682b] will not be managed by Spring
2026-02-04T11:39:27.061+09:00  INFO 59308 --- [http-nio-8080-exec-9] c.i.b.controller.SuperAdminController    : 전체 결제 내역 조회 완료 - count: 6
2026-02-04T11:39:27.061+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectAllUsers   : ==> Parameters: 
2026-02-04T11:39:27.062+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68966939] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:27.065+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllSubscriptions(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-02-04T11:39:27.066+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.mapper.CompanyMapper.findAll       : ==>  Preparing: SELECT * FROM company_tb ORDER BY created_at DESC
2026-02-04T11:39:27.067+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:39:27.071+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1202630770 wrapping com.mysql.cj.jdbc.ConnectionImpl@501f03b0] will not be managed by Spring
2026-02-04T11:39:27.074+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListForSuperAdmin : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, c.company_name AS companyName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id LEFT JOIN company_tb c ON r.company_id = c.company_id ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:39:27.073+09:00  INFO 59308 --- [http-nio-8080-exec-2] c.i.b.controller.SuperAdminController    : 전체 구독 목록 조회 요청 - userId: 10
2026-02-04T11:39:27.073+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.mapper.CompanyMapper.findAll       : ==> Parameters: 
2026-02-04T11:39:27.075+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 결제 내역 조회 성공, data=[PaymentDto(paymentId=5, subscriptionId=5, am (truncated)...]
2026-02-04T11:39:27.077+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.mapper.SubscriptionMapper.findAll  : <==      Total: 8
2026-02-04T11:39:27.117+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51d93430]
2026-02-04T11:39:27.077+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListForSuperAdmin : ==> Parameters: 1(Integer), 0(Integer)
2026-02-04T11:39:27.079+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:27.082+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectAllUsers   : <==      Total: 26
2026-02-04T11:39:27.118+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.mapper.CompanyMapper.findAll       : <==      Total: 10
2026-02-04T11:39:27.120+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:27.120+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:39:27.121+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ced4288] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:27.122+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10942b0d]
2026-02-04T11:39:27.123+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e1ae738]
2026-02-04T11:39:27.124+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47aef7] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:27.127+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/payments
2026-02-04T11:39:27.128+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1375473486 wrapping com.mysql.cj.jdbc.ConnectionImpl@76f2265c] will not be managed by Spring
2026-02-04T11:39:27.129+09:00  INFO 59308 --- [http-nio-8080-exec-3] c.i.b.controller.SuperAdminController    : 전체 사용자 목록 조회 완료 - count: 26
2026-02-04T11:39:27.129+09:00  INFO 59308 --- [http-nio-8080-exec-4] c.i.b.controller.SuperAdminController    : 전체 회사 목록 조회 완료 - count: 10
2026-02-04T11:39:27.132+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@740715709 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a5c682b] will not be managed by Spring
2026-02-04T11:39:27.133+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.mapper.SubscriptionMapper.findAll  : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id ORDER BY s.created_at DESC
2026-02-04T11:39:27.136+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: SUPERADMIN, companyId: null, uri: /api/superadmin/payments
2026-02-04T11:39:27.137+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:39:27.138+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:39:27.138+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.mapper.PaymentMapper.findAll       : ==>  Preparing: SELECT p.* FROM payment_tb p ORDER BY p.payment_date DESC, p.created_at DESC
2026-02-04T11:39:27.139+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.mapper.SubscriptionMapper.findAll  : ==> Parameters: 
2026-02-04T11:39:27.144+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.mapper.PaymentMapper.findAll       : ==> Parameters: 
2026-02-04T11:39:27.139+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/payments
2026-02-04T11:39:27.143+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 사용자 목록 조회 성공, data=[UserDto(userId=1, username=sooyoung, passwo (truncated)...]
2026-02-04T11:39:27.144+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 회사 목록 조회 성공, data=[CompanyDto(companyId=10, companyCode=NXXZW0, (truncated)...]
2026-02-04T11:39:27.152+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:39:27.149+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/payments", parameters={}
2026-02-04T11:39:27.155+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:39:27.160+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllPayments()
2026-02-04T11:39:27.162+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-02-04T11:39:27.166+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.mapper.SubscriptionMapper.findAll  : <==      Total: 8
2026-02-04T11:39:27.173+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllPayments(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-02-04T11:39:27.176+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 5(Long)
2026-02-04T11:39:27.178+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ced4288]
2026-02-04T11:39:27.178+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllPayments(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-02-04T11:39:27.179+09:00  INFO 59308 --- [http-nio-8080-exec-2] c.i.b.controller.SuperAdminController    : 전체 구독 목록 조회 완료 - count: 8
2026-02-04T11:39:27.185+09:00  INFO 59308 --- [http-nio-8080-exec-10] c.i.b.controller.SuperAdminController    : 전체 결제 내역 조회 요청 - userId: 10
2026-02-04T11:39:27.186+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:39:27.187+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:27.188+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 구독 목록 조회 성공, data=[SubscriptionDto(subscriptionId=8, companyId= (truncated)...]
2026-02-04T11:39:27.188+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1386181a] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:27.191+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@679436195 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b91fb18] will not be managed by Spring
2026-02-04T11:39:27.192+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.mapper.PaymentMapper.findAll       : ==>  Preparing: SELECT p.* FROM payment_tb p ORDER BY p.payment_date DESC, p.created_at DESC
2026-02-04T11:39:27.194+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListForSuperAdmin : <==      Total: 1
2026-02-04T11:39:27.196+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:39:27.202+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.mapper.PaymentMapper.findAll       : ==> Parameters: 
2026-02-04T11:39:27.202+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68966939]
2026-02-04T11:39:27.204+09:00  INFO 59308 --- [http-nio-8080-exec-8] c.i.b.controller.SuperAdminController    : 회사별 지출결의서 목록 조회 완료 - totalElements: 55
2026-02-04T11:39:27.206+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:39:27.245+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-02-04T11:39:27.245+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-02-04T11:39:27.248+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-02-04T11:39:27.249+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 5(Long)
2026-02-04T11:39:27.249+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 3(Long)
2026-02-04T11:39:27.256+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=지출결의서 목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expen (truncated)...]
2026-02-04T11:39:27.257+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-02-04T11:39:27.257+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-02-04T11:39:27.259+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-02-04T11:39:27.260+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-02-04T11:39:27.261+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 3(Long)
2026-02-04T11:39:27.262+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 1(Long)
2026-02-04T11:39:27.269+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:39:27.271+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-02-04T11:39:27.272+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-02-04T11:39:27.277+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/expenses?page=1&size=1
2026-02-04T11:39:27.279+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-02-04T11:39:27.279+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.mapper.PaymentMapper.findAll       : <==      Total: 6
2026-02-04T11:39:27.280+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 1(Long)
2026-02-04T11:39:27.282+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: SUPERADMIN, companyId: null, uri: /api/superadmin/expenses
2026-02-04T11:39:27.282+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47aef7]
2026-02-04T11:39:27.284+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/expenses?page=1&size=1
2026-02-04T11:39:27.286+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/expenses?page=1&size=1", parameters={masked}
2026-02-04T11:39:27.287+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:39:27.288+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-02-04T11:39:27.290+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getExpenseListForSuperAdmin(int, int, String, String, Long, Long, String[], String, Boolean, String, Long)
2026-02-04T11:39:27.290+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.mapper.PaymentMapper.findAll       : <==      Total: 6
2026-02-04T11:39:27.290+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1386181a]
2026-02-04T11:39:27.290+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getExpenseListForSuperAdmin(int,int,java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.lang.String[],java.lang.String,java.lang.Boolean,java.lang.String,java.lang.Long); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-02-04T11:39:27.290+09:00  INFO 59308 --- [http-nio-8080-exec-10] c.i.b.controller.SuperAdminController    : 전체 결제 내역 조회 완료 - count: 6
2026-02-04T11:39:27.291+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getExpenseListForSuperAdmin(int,int,java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.lang.String[],java.lang.String,java.lang.Boolean,java.lang.String,java.lang.Long); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-02-04T11:39:27.291+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:39:27.292+09:00  INFO 59308 --- [http-nio-8080-exec-5] c.i.b.controller.SuperAdminController    : 회사별 지출결의서 목록 조회 요청 - userId: 10, companyId: null, page: 1, size: 1
2026-02-04T11:39:27.292+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 결제 내역 조회 성공, data=[PaymentDto(paymentId=5, subscriptionId=5, am (truncated)...]
2026-02-04T11:39:27.292+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:27.293+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 요약 통계 조회 성공, data=AdminReportService.DashboardSummaryDto(tota (truncated)...]
2026-02-04T11:39:27.293+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5691a81f] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:27.294+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:39:27.296+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:39:27.299+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@787488383 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b91fb18] will not be managed by Spring
2026-02-04T11:39:27.300+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.countExpenseListForSuperAdmin  : ==>  Preparing: SELECT COUNT(*) FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id
2026-02-04T11:39:27.303+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.countExpenseListForSuperAdmin  : ==> Parameters: 
2026-02-04T11:39:27.312+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/reports/summary
2026-02-04T11:39:27.317+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.countExpenseListForSuperAdmin  : <==      Total: 1
2026-02-04T11:39:27.319+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5691a81f]
2026-02-04T11:39:27.320+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: SUPERADMIN, companyId: null, uri: /api/superadmin/reports/summary
2026-02-04T11:39:27.320+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:27.321+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16602e97] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:27.321+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/reports/summary
2026-02-04T11:39:27.322+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/reports/summary", parameters={}
2026-02-04T11:39:27.322+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1298836756 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b91fb18] will not be managed by Spring
2026-02-04T11:39:27.323+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getDashboardSummary()
2026-02-04T11:39:27.323+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListForSuperAdmin : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, c.company_name AS companyName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id LEFT JOIN company_tb c ON r.company_id = c.company_id ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:39:27.323+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getDashboardSummary(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-02-04T11:39:27.324+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListForSuperAdmin : ==> Parameters: 1(Integer), 0(Integer)
2026-02-04T11:39:27.324+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getDashboardSummary(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-02-04T11:39:27.325+09:00  INFO 59308 --- [http-nio-8080-exec-6] c.i.b.controller.SuperAdminController    : 대시보드 요약 통계 조회 요청 - userId: 10
2026-02-04T11:39:27.325+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:27.326+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cdde9e0] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:27.327+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@34673480 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a5c682b] will not be managed by Spring
2026-02-04T11:39:27.327+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectAllUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status, created_at, updated_at FROM user_tb ORDER BY user_id
2026-02-04T11:39:27.328+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectAllUsers   : ==> Parameters: 
2026-02-04T11:39:27.332+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectAllUsers   : <==      Total: 26
2026-02-04T11:39:27.334+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cdde9e0]
2026-02-04T11:39:27.337+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:27.337+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@569d375b] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:27.338+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@89933441 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a5c682b] will not be managed by Spring
2026-02-04T11:39:27.339+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.CompanyMapper.findAll       : ==>  Preparing: SELECT * FROM company_tb ORDER BY created_at DESC
2026-02-04T11:39:27.340+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.CompanyMapper.findAll       : ==> Parameters: 
2026-02-04T11:39:27.343+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListForSuperAdmin : <==      Total: 1
2026-02-04T11:39:27.344+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16602e97]
2026-02-04T11:39:27.345+09:00  INFO 59308 --- [http-nio-8080-exec-5] c.i.b.controller.SuperAdminController    : 회사별 지출결의서 목록 조회 완료 - totalElements: 55
2026-02-04T11:39:27.347+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:39:27.349+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=지출결의서 목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expen (truncated)...]
2026-02-04T11:39:27.351+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:39:27.362+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.CompanyMapper.findAll       : <==      Total: 10
2026-02-04T11:39:27.366+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@569d375b]
2026-02-04T11:39:27.366+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:27.368+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2954302] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:27.369+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1633319287 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a5c682b] will not be managed by Spring
2026-02-04T11:39:27.370+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.SubscriptionMapper.findAll  : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id ORDER BY s.created_at DESC
2026-02-04T11:39:27.371+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.SubscriptionMapper.findAll  : ==> Parameters: 
2026-02-04T11:39:27.380+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.SubscriptionMapper.findAll  : <==      Total: 8
2026-02-04T11:39:27.384+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2954302]
2026-02-04T11:39:27.385+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:27.386+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2228f70] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:27.387+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@840449073 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a5c682b] will not be managed by Spring
2026-02-04T11:39:27.388+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.PaymentMapper.findAll       : ==>  Preparing: SELECT p.* FROM payment_tb p ORDER BY p.payment_date DESC, p.created_at DESC
2026-02-04T11:39:27.389+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.PaymentMapper.findAll       : ==> Parameters: 
2026-02-04T11:39:27.393+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-02-04T11:39:27.394+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 5(Long)
2026-02-04T11:39:27.399+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-02-04T11:39:27.400+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-02-04T11:39:27.402+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 3(Long)
2026-02-04T11:39:27.404+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-02-04T11:39:27.405+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-02-04T11:39:27.405+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 1(Long)
2026-02-04T11:39:27.408+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-02-04T11:39:27.409+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.PaymentMapper.findAll       : <==      Total: 6
2026-02-04T11:39:27.410+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2228f70]
2026-02-04T11:39:27.410+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:39:27.411+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 요약 통계 조회 성공, data=AdminReportService.DashboardSummaryDto(tota (truncated)...]
2026-02-04T11:39:27.412+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:39:31.225+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2026-02-04T11:39:31.234+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2026-02-04T11:39:31.238+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 10, role: SUPERADMIN, companyId: null, uri: /api/logout
2026-02-04T11:39:31.243+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2026-02-04T11:39:31.244+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2026-02-04T11:39:31.255+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2026-02-04T11:39:31.257+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxMCIsInVzZXJuYW1lIjo (truncated)...]
2026-02-04T11:39:31.262+09:00  INFO 59308 --- [http-nio-8080-exec-9] SECURITY                                 : LOGOUT userId=10
2026-02-04T11:39:31.266+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:39:31.267+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2026-02-04T11:39:31.268+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:39:36.398+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2026-02-04T11:39:36.400+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-02-04T11:39:36.401+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2026-02-04T11:39:36.402+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2026-02-04T11:39:36.403+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2026-02-04T11:39:36.405+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_user, password=1234)]
2026-02-04T11:39:36.405+09:00  INFO 59308 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 로그인 시도 - username: test_user
2026-02-04T11:39:36.405+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:36.406+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64926132] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:36.408+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1981521661 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b91fb18] will not be managed by Spring
2026-02-04T11:39:36.409+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2026-02-04T11:39:36.410+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user(String)
2026-02-04T11:39:36.421+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2026-02-04T11:39:36.421+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64926132]
2026-02-04T11:39:36.507+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:36.507+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43f462c3] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:36.508+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@343323674 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b91fb18] will not be managed by Spring
2026-02-04T11:39:36.508+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-02-04T11:39:36.509+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 6(Long)
2026-02-04T11:39:36.511+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2026-02-04T11:39:36.512+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43f462c3]
2026-02-04T11:39:36.517+09:00  INFO 59308 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 로그인 성공 - userId: 6, role: USER, companyId: 3
2026-02-04T11:39:36.519+09:00  INFO 59308 --- [http-nio-8080-exec-3] SECURITY                                 : LOGIN_SUCCESS userId=6 username=test_user role=USER
2026-02-04T11:39:36.520+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:39:36.522+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=6, username=test_user, password= (truncated)...]
2026-02-04T11:39:36.523+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:39:37.537+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2026-02-04T11:39:37.541+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/companies
2026-02-04T11:39:37.542+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2026-02-04T11:39:37.543+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2026-02-04T11:39:37.543+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2026-02-04T11:39:37.551+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:37.554+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c180fe3] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:37.595+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2128299059 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a5c682b] will not be managed by Spring
2026-02-04T11:39:37.616+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2026-02-04T11:39:37.635+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 6(Long)
2026-02-04T11:39:37.641+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2026-02-04T11:39:37.738+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c180fe3]
2026-02-04T11:39:37.784+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:39:37.822+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=3, companyCode=DYM7LX, companyNa (truncated)...]
2026-02-04T11:39:37.844+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:39:37.912+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-02-04T11:39:37.915+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:39:37.923+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses/pending-approvals
2026-02-04T11:39:37.924+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses
2026-02-04T11:39:37.924+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-02-04T11:39:37.925+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:39:37.927+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-02-04T11:39:37.928+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user", parameters={masked}
2026-02-04T11:39:37.928+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-02-04T11:39:37.929+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-02-04T11:39:37.931+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:37.932+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17c79ef] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:37.934+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:37.937+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bc7ff5b] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:37.940+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2006194547 wrapping com.mysql.cj.jdbc.ConnectionImpl@76f2265c] will not be managed by Spring
2026-02-04T11:39:37.942+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-02-04T11:39:37.947+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 6(Long), 3(Long)
2026-02-04T11:39:37.955+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@793864494 wrapping com.mysql.cj.jdbc.ConnectionImpl@501f03b0] will not be managed by Spring
2026-02-04T11:39:37.958+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:39:37.970+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:39:37.987+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:39:37.992+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bc7ff5b]
2026-02-04T11:39:37.993+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:37.993+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-02-04T11:39:37.993+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ec475d5] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:37.994+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17c79ef]
2026-02-04T11:39:37.994+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1545401928 wrapping com.mysql.cj.jdbc.ConnectionImpl@501f03b0] will not be managed by Spring
2026-02-04T11:39:37.995+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:39:37.995+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:39:37.995+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-02-04T11:39:37.999+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:39:38.000+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:39:38.007+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-02-04T11:39:38.019+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses/pending-approvals
2026-02-04T11:39:38.021+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:39:38.023+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-02-04T11:39:38.024+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ec475d5]
2026-02-04T11:39:38.024+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-02-04T11:39:38.025+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:38.025+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-02-04T11:39:38.025+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@298b011e] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:38.026+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:38.026+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54daf5c2] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:38.026+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1958523687 wrapping com.mysql.cj.jdbc.ConnectionImpl@501f03b0] will not be managed by Spring
2026-02-04T11:39:38.027+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:39:38.033+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:39:38.035+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1930361154 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b91fb18] will not be managed by Spring
2026-02-04T11:39:38.039+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-02-04T11:39:38.044+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 6(Long), 3(Long)
2026-02-04T11:39:38.049+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:39:38.054+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@298b011e]
2026-02-04T11:39:38.055+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-02-04T11:39:38.055+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:38.056+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54daf5c2]
2026-02-04T11:39:38.056+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3011675b] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:38.057+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:39:38.057+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1105396662 wrapping com.mysql.cj.jdbc.ConnectionImpl@501f03b0] will not be managed by Spring
2026-02-04T11:39:38.058+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-02-04T11:39:38.058+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:39:38.059+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:39:38.062+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:39:38.062+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-02-04T11:39:38.076+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses/pending-approvals
2026-02-04T11:39:38.081+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-02-04T11:39:38.083+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:39:38.084+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-02-04T11:39:38.085+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3011675b]
2026-02-04T11:39:38.086+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-02-04T11:39:38.087+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:39:38.088+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:38.088+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=1000, totalE (truncated)...]
2026-02-04T11:39:38.089+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12505599] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:38.090+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:39:38.092+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2118399522 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a5c682b] will not be managed by Spring
2026-02-04T11:39:38.093+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:39:38.100+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-02-04T11:39:38.106+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses
2026-02-04T11:39:38.106+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 6(Long), 3(Long)
2026-02-04T11:39:38.108+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:39:38.109+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user", parameters={masked}
2026-02-04T11:39:38.126+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-02-04T11:39:38.128+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-02-04T11:39:38.134+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12505599]
2026-02-04T11:39:38.136+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:39:38.138+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-02-04T11:39:38.132+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:38.140+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:39:38.141+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b49e669] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:38.144+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1381955697 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b91fb18] will not be managed by Spring
2026-02-04T11:39:38.152+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-02-04T11:39:38.153+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:39:38.156+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses/pending-approvals
2026-02-04T11:39:38.160+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:39:38.161+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-02-04T11:39:38.162+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-02-04T11:39:38.166+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-02-04T11:39:38.170+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:38.171+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:39:38.172+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@322c68a5] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:38.172+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b49e669]
2026-02-04T11:39:38.173+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1191743333 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a5c682b] will not be managed by Spring
2026-02-04T11:39:38.174+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:38.175+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-02-04T11:39:38.175+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38c41412] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:38.177+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 6(Long), 3(Long)
2026-02-04T11:39:38.178+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1090675615 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b91fb18] will not be managed by Spring
2026-02-04T11:39:38.179+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:39:38.186+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:39:38.189+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-02-04T11:39:38.191+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@322c68a5]
2026-02-04T11:39:38.191+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:39:38.192+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38c41412]
2026-02-04T11:39:38.192+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:39:38.193+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:38.193+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-02-04T11:39:38.193+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73718c53] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:38.194+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:39:38.194+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1804427947 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b91fb18] will not be managed by Spring
2026-02-04T11:39:38.195+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:39:38.199+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:39:38.212+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:39:38.213+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73718c53]
2026-02-04T11:39:38.217+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:38.218+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21098b01] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:38.219+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1592105063 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b91fb18] will not be managed by Spring
2026-02-04T11:39:38.220+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:39:38.222+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:39:38.226+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:39:38.226+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21098b01]
2026-02-04T11:39:38.227+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:39:38.228+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=1000, totalE (truncated)...]
2026-02-04T11:39:38.229+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:39:38.240+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:39:38.242+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses
2026-02-04T11:39:38.245+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:39:38.245+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user", parameters={masked}
2026-02-04T11:39:38.246+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-02-04T11:39:38.250+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:38.254+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@651558cc] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:38.261+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2085689157 wrapping com.mysql.cj.jdbc.ConnectionImpl@501f03b0] will not be managed by Spring
2026-02-04T11:39:38.261+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:39:38.262+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:39:38.274+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:39:38.274+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@651558cc]
2026-02-04T11:39:38.275+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:38.275+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b2fdc81] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:38.276+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1681072656 wrapping com.mysql.cj.jdbc.ConnectionImpl@501f03b0] will not be managed by Spring
2026-02-04T11:39:38.276+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:39:38.276+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:39:38.279+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:39:38.284+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b2fdc81]
2026-02-04T11:39:38.285+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:38.285+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@369ed706] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:38.286+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1669385856 wrapping com.mysql.cj.jdbc.ConnectionImpl@501f03b0] will not be managed by Spring
2026-02-04T11:39:38.290+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:39:38.293+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:39:38.295+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:39:38.296+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@369ed706]
2026-02-04T11:39:38.300+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:38.300+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6952b1ff] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:38.302+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@699694388 wrapping com.mysql.cj.jdbc.ConnectionImpl@501f03b0] will not be managed by Spring
2026-02-04T11:39:38.303+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:39:38.306+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:39:38.309+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:39:38.310+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6952b1ff]
2026-02-04T11:39:38.311+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:39:38.311+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=1000, totalE (truncated)...]
2026-02-04T11:39:38.312+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:39:38.319+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:39:38.323+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses
2026-02-04T11:39:38.324+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:39:38.325+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user", parameters={masked}
2026-02-04T11:39:38.326+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-02-04T11:39:38.327+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:38.328+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c0ed002] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:38.334+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1487322688 wrapping com.mysql.cj.jdbc.ConnectionImpl@2291fc96] will not be managed by Spring
2026-02-04T11:39:38.335+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:39:38.336+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:39:38.338+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:39:38.339+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c0ed002]
2026-02-04T11:39:38.339+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:38.339+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7120058e] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:38.340+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1896858477 wrapping com.mysql.cj.jdbc.ConnectionImpl@2291fc96] will not be managed by Spring
2026-02-04T11:39:38.341+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:39:38.341+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:39:38.343+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:39:38.344+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7120058e]
2026-02-04T11:39:38.346+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:38.357+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@654a9128] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:38.361+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@339207290 wrapping com.mysql.cj.jdbc.ConnectionImpl@2291fc96] will not be managed by Spring
2026-02-04T11:39:38.362+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:39:38.367+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:39:38.375+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:39:38.376+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@654a9128]
2026-02-04T11:39:38.377+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:38.378+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@360a665a] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:38.379+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@133718626 wrapping com.mysql.cj.jdbc.ConnectionImpl@2291fc96] will not be managed by Spring
2026-02-04T11:39:38.383+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:39:38.389+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:39:38.397+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:39:38.398+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@360a665a]
2026-02-04T11:39:38.400+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:39:38.401+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=1000, totalE (truncated)...]
2026-02-04T11:39:38.405+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:39:38.409+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:39:38.427+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses
2026-02-04T11:39:38.433+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:39:38.435+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user", parameters={masked}
2026-02-04T11:39:38.436+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-02-04T11:39:38.437+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:38.439+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29890c8b] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:38.440+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1225490691 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b91fb18] will not be managed by Spring
2026-02-04T11:39:38.441+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:39:38.441+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:39:38.444+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:39:38.444+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29890c8b]
2026-02-04T11:39:38.445+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:38.448+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4be5ef2c] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:38.449+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@719933327 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b91fb18] will not be managed by Spring
2026-02-04T11:39:38.450+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:39:38.451+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:39:38.456+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:39:38.457+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4be5ef2c]
2026-02-04T11:39:38.458+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:38.458+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36d82331] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:38.459+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1386231369 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b91fb18] will not be managed by Spring
2026-02-04T11:39:38.459+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:39:38.461+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:39:38.465+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:39:38.476+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36d82331]
2026-02-04T11:39:38.477+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:38.478+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73e9f537] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:38.485+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@81756624 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b91fb18] will not be managed by Spring
2026-02-04T11:39:38.488+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:39:38.492+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:39:38.495+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:39:38.500+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73e9f537]
2026-02-04T11:39:38.501+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:39:38.508+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=1000, totalE (truncated)...]
2026-02-04T11:39:38.509+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:39:38.511+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:39:38.523+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses
2026-02-04T11:39:38.524+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:39:38.527+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user", parameters={masked}
2026-02-04T11:39:38.528+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-02-04T11:39:38.533+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:38.535+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cca1368] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:38.536+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1009612098 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a5c682b] will not be managed by Spring
2026-02-04T11:39:38.536+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:39:38.537+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:39:38.539+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:39:38.539+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cca1368]
2026-02-04T11:39:38.540+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:38.540+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63a537ff] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:38.541+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@792213936 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a5c682b] will not be managed by Spring
2026-02-04T11:39:38.541+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:39:38.541+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:39:38.543+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:39:38.544+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63a537ff]
2026-02-04T11:39:38.547+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:38.549+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a381751] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:38.550+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@812178726 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a5c682b] will not be managed by Spring
2026-02-04T11:39:38.550+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:39:38.554+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:39:38.558+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:39:38.559+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a381751]
2026-02-04T11:39:38.561+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:38.562+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60d649c2] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:38.563+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1517180950 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a5c682b] will not be managed by Spring
2026-02-04T11:39:38.566+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:39:38.570+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:39:38.575+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:39:38.576+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60d649c2]
2026-02-04T11:39:38.577+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:39:38.578+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=1000, totalE (truncated)...]
2026-02-04T11:39:38.579+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:39:38.585+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:39:38.593+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses
2026-02-04T11:39:38.595+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:39:38.601+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user", parameters={masked}
2026-02-04T11:39:38.602+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-02-04T11:39:38.604+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:38.604+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1620031d] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:38.608+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1022993133 wrapping com.mysql.cj.jdbc.ConnectionImpl@76f2265c] will not be managed by Spring
2026-02-04T11:39:38.608+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:39:38.609+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:39:38.610+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:39:38.611+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1620031d]
2026-02-04T11:39:38.611+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:38.611+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5324b31f] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:38.612+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@868104819 wrapping com.mysql.cj.jdbc.ConnectionImpl@76f2265c] will not be managed by Spring
2026-02-04T11:39:38.613+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:39:38.613+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:39:38.618+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:39:38.618+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5324b31f]
2026-02-04T11:39:38.619+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:38.619+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54ff7097] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:38.620+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@582327644 wrapping com.mysql.cj.jdbc.ConnectionImpl@76f2265c] will not be managed by Spring
2026-02-04T11:39:38.620+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:39:38.622+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:39:38.625+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:39:38.627+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54ff7097]
2026-02-04T11:39:38.628+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:38.628+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a302afb] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:38.628+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@90475746 wrapping com.mysql.cj.jdbc.ConnectionImpl@76f2265c] will not be managed by Spring
2026-02-04T11:39:38.629+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:39:38.632+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:39:38.636+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:39:38.641+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a302afb]
2026-02-04T11:39:38.642+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:39:38.643+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=1000, totalE (truncated)...]
2026-02-04T11:39:38.644+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:39:39.483+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2026-02-04T11:39:39.484+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2026-02-04T11:39:39.484+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2026-02-04T11:39:39.484+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2026-02-04T11:39:39.489+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-02-04T11:39:39.490+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2026-02-04T11:39:39.502+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses/pending-approvals
2026-02-04T11:39:39.504+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-02-04T11:39:39.490+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2026-02-04T11:39:39.490+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2026-02-04T11:39:39.504+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/users/me
2026-02-04T11:39:39.506+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-02-04T11:39:39.510+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/users/companies/pending
2026-02-04T11:39:39.511+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-02-04T11:39:39.510+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/users/companies
2026-02-04T11:39:39.511+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2026-02-04T11:39:39.511+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2026-02-04T11:39:39.511+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:39.512+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2026-02-04T11:39:39.512+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2026-02-04T11:39:39.512+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2026-02-04T11:39:39.512+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@685cb721] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:39.513+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2026-02-04T11:39:39.517+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2026-02-04T11:39:39.518+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2026-02-04T11:39:39.520+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2026-02-04T11:39:39.521+09:00  INFO 59308 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 6, companyId: 3
2026-02-04T11:39:39.522+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:39.536+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@208ddcd9] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:39.524+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:39.525+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:39.540+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2008350419 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b91fb18] will not be managed by Spring
2026-02-04T11:39:39.542+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4920719c] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:39.542+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1459345154 wrapping com.mysql.cj.jdbc.ConnectionImpl@501f03b0] will not be managed by Spring
2026-02-04T11:39:39.544+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55dbbbe8] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:39.544+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-02-04T11:39:39.545+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-02-04T11:39:39.550+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 6(Long), 3(Long)
2026-02-04T11:39:39.557+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 6(Long), PENDING(String)
2026-02-04T11:39:39.561+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1957277871 wrapping com.mysql.cj.jdbc.ConnectionImpl@2291fc96] will not be managed by Spring
2026-02-04T11:39:39.562+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@234208168 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a5c682b] will not be managed by Spring
2026-02-04T11:39:39.570+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:39:39.570+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-02-04T11:39:39.570+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:39:39.571+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 6(Long)
2026-02-04T11:39:39.576+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-02-04T11:39:39.576+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2026-02-04T11:39:39.576+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@685cb721]
2026-02-04T11:39:39.577+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@208ddcd9]
2026-02-04T11:39:39.578+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:39:39.579+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2026-02-04T11:39:39.579+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:39:39.579+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:39:39.584+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55dbbbe8]
2026-02-04T11:39:39.585+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4920719c]
2026-02-04T11:39:39.585+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-02-04T11:39:39.586+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-02-04T11:39:39.586+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:39.587+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:39:39.591+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:39:39.592+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:39:39.596+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a62567d] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:39.605+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=4, userId=6, companyId=3 (truncated)...]
2026-02-04T11:39:39.612+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1796798297 wrapping com.mysql.cj.jdbc.ConnectionImpl@2291fc96] will not be managed by Spring
2026-02-04T11:39:39.620+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-02-04T11:39:39.620+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:39:39.626+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 6(Long)
2026-02-04T11:39:39.640+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2026-02-04T11:39:39.643+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a62567d]
2026-02-04T11:39:39.645+09:00  INFO 59308 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 6, companyId: 3, role: USER
2026-02-04T11:39:39.655+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:39:39.657+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=6, username=test_user, passwo (truncated)...]
2026-02-04T11:39:39.659+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:39:39.670+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2026-02-04T11:39:39.686+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/users/me
2026-02-04T11:39:39.688+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2026-02-04T11:39:39.695+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2026-02-04T11:39:39.698+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2026-02-04T11:39:39.711+09:00  INFO 59308 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 6, companyId: 3
2026-02-04T11:39:39.740+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:39.752+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e9177a6] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:39.760+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1021029359 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a5c682b] will not be managed by Spring
2026-02-04T11:39:39.762+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:39:39.773+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:39:39.776+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:39:39.777+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e9177a6]
2026-02-04T11:39:39.778+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:39.779+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71ddb22e] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:39.779+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@345298932 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a5c682b] will not be managed by Spring
2026-02-04T11:39:39.786+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-02-04T11:39:39.787+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 6(Long)
2026-02-04T11:39:39.790+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2026-02-04T11:39:39.791+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71ddb22e]
2026-02-04T11:39:39.793+09:00  INFO 59308 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 6, companyId: 3, role: USER
2026-02-04T11:39:39.794+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:39:39.795+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=6, username=test_user, passwo (truncated)...]
2026-02-04T11:39:39.795+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:39:46.848+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2026-02-04T11:39:46.852+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing PUT /api/users/me
2026-02-04T11:39:46.854+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/users/me
2026-02-04T11:39:46.854+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured PUT /api/users/me
2026-02-04T11:39:46.855+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : PUT "/api/users/me", parameters={}
2026-02-04T11:39:46.858+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#updateCurrentUser(MyProfileUpdateRequest)
2026-02-04T11:39:46.867+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.MyProfileUpdateRequest(koreanName=test_user, email=mhm1404@naver.com, position=사원)]
2026-02-04T11:39:46.882+09:00  INFO 59308 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 현재 사용자 정보 수정 요청 - userId: 6
2026-02-04T11:39:46.884+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:46.887+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@631ac55c] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:46.892+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@714402293 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b91fb18] will not be managed by Spring
2026-02-04T11:39:46.892+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:39:46.895+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:39:46.919+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:39:46.920+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@631ac55c]
2026-02-04T11:39:46.923+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:46.924+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7060c99e] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:46.924+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@466020812 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b91fb18] will not be managed by Spring
2026-02-04T11:39:46.925+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:39:46.926+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:39:46.929+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:39:46.929+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7060c99e]
2026-02-04T11:39:46.933+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:46.934+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d3cb905] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:46.935+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@199664389 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b91fb18] will not be managed by Spring
2026-02-04T11:39:46.936+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findByEmail      : ==>  Preparing: SELECT * FROM user_tb WHERE email = ? LIMIT 1
2026-02-04T11:39:46.936+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findByEmail      : ==> Parameters: mhm1404@naver.com(String)
2026-02-04T11:39:46.938+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findByEmail      : <==      Total: 1
2026-02-04T11:39:46.939+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d3cb905]
2026-02-04T11:39:46.942+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.innersignature.backend.exception.GlobalExceptionHandler#handleBusinessException(BusinessException)
2026-02-04T11:39:46.943+09:00  WARN 59308 --- [http-nio-8080-exec-10] c.i.b.exception.GlobalExceptionHandler   : 비즈니스 예외: 이미 사용 중인 이메일입니다.
2026-02-04T11:39:46.943+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:39:46.944+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, message=이미 사용 중인 이메일입니다., data=null)]
2026-02-04T11:39:46.945+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.innersignature.backend.exception.BusinessException: 이미 사용 중인 이메일입니다.]
2026-02-04T11:39:46.945+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2026-02-04T11:39:54.162+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing PUT /api/users/me
2026-02-04T11:39:54.167+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/users/me
2026-02-04T11:39:54.168+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured PUT /api/users/me
2026-02-04T11:39:54.169+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : PUT "/api/users/me", parameters={}
2026-02-04T11:39:54.171+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#updateCurrentUser(MyProfileUpdateRequest)
2026-02-04T11:39:54.172+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.MyProfileUpdateRequest(koreanName=test_user, email=suyoungd@naver.com, position=사원)]
2026-02-04T11:39:54.173+09:00  INFO 59308 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 현재 사용자 정보 수정 요청 - userId: 6
2026-02-04T11:39:54.176+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:54.203+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69b5ebbc] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:54.240+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@645094305 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a5c682b] will not be managed by Spring
2026-02-04T11:39:54.241+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:39:54.243+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:39:54.245+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:39:54.245+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69b5ebbc]
2026-02-04T11:39:54.245+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:54.246+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78be0eb9] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:54.250+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1299088343 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a5c682b] will not be managed by Spring
2026-02-04T11:39:54.250+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:39:54.250+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:39:54.253+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:39:54.256+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78be0eb9]
2026-02-04T11:39:54.256+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:54.256+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4883b561] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:54.257+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1077977358 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a5c682b] will not be managed by Spring
2026-02-04T11:39:54.257+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findByEmail      : ==>  Preparing: SELECT * FROM user_tb WHERE email = ? LIMIT 1
2026-02-04T11:39:54.257+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findByEmail      : ==> Parameters: suyoungd@naver.com(String)
2026-02-04T11:39:54.259+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findByEmail      : <==      Total: 0
2026-02-04T11:39:54.259+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4883b561]
2026-02-04T11:39:54.260+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:54.261+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bdb9a74] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:54.261+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1042678483 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a5c682b] will not be managed by Spring
2026-02-04T11:39:54.261+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.updateUser       : ==>  Preparing: UPDATE user_tb SET korean_name = ?, email = ?, position = ?, role = ?, is_active = ?, company_id = ?, approval_status = ? WHERE user_id = ?
2026-02-04T11:39:54.264+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.updateUser       : ==> Parameters: test_user(String), suyoungd@naver.com(String), 사원(String), USER(String), true(Boolean), 3(Long), APPROVED(String), 6(Long)
2026-02-04T11:39:54.289+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.updateUser       : <==    Updates: 1
2026-02-04T11:39:54.289+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bdb9a74]
2026-02-04T11:39:54.289+09:00  INFO 59308 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 현재 사용자 정보 수정 완료 - userId: 6
2026-02-04T11:39:54.290+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:39:54.291+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용자 정보 수정 완료, data=null)]
2026-02-04T11:39:54.292+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:39:55.669+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-02-04T11:39:55.670+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2026-02-04T11:39:55.718+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses/pending-approvals
2026-02-04T11:39:55.753+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/companies
2026-02-04T11:39:55.771+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-02-04T11:39:55.776+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2026-02-04T11:39:55.777+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-02-04T11:39:55.782+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2026-02-04T11:39:55.784+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-02-04T11:39:55.784+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2026-02-04T11:39:55.786+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:55.793+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:55.859+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5256e9b7] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:55.998+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2026-02-04T11:39:55.999+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2026-02-04T11:39:56.011+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/users/me
2026-02-04T11:39:55.999+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2026-02-04T11:39:55.999+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54c181c9] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:56.036+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/users/companies
2026-02-04T11:39:56.014+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/users/companies/pending
2026-02-04T11:39:56.015+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2026-02-04T11:39:56.037+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2026-02-04T11:39:56.087+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@101283529 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a5c682b] will not be managed by Spring
2026-02-04T11:39:56.087+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@811677492 wrapping com.mysql.cj.jdbc.ConnectionImpl@501f03b0] will not be managed by Spring
2026-02-04T11:39:56.088+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2026-02-04T11:39:56.102+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2026-02-04T11:39:56.102+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2026-02-04T11:39:56.104+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2026-02-04T11:39:56.111+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-02-04T11:39:56.112+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2026-02-04T11:39:56.112+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2026-02-04T11:39:56.114+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2026-02-04T11:39:56.116+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 6(Long)
2026-02-04T11:39:56.118+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 6(Long), 3(Long)
2026-02-04T11:39:56.126+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2026-02-04T11:39:56.126+09:00  INFO 59308 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 6, companyId: 3
2026-02-04T11:39:56.127+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:56.140+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:56.140+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:56.141+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e0fa17b] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:56.145+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b5615c7] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:56.148+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d1fb7ee] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:56.150+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2026-02-04T11:39:56.150+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-02-04T11:39:56.166+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54c181c9]
2026-02-04T11:39:56.167+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5256e9b7]
2026-02-04T11:39:56.168+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:39:56.169+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:39:56.173+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=3, companyCode=DYM7LX, companyNa (truncated)...]
2026-02-04T11:39:56.174+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-02-04T11:39:56.174+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1219871138 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b91fb18] will not be managed by Spring
2026-02-04T11:39:56.175+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:39:56.176+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@464424463 wrapping com.mysql.cj.jdbc.ConnectionImpl@2291fc96] will not be managed by Spring
2026-02-04T11:39:56.177+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@939136757 wrapping com.mysql.cj.jdbc.ConnectionImpl@76f2265c] will not be managed by Spring
2026-02-04T11:39:56.179+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-02-04T11:39:56.179+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:39:56.182+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:39:56.184+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-02-04T11:39:56.187+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 6(Long)
2026-02-04T11:39:56.205+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:39:56.207+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 6(Long), PENDING(String)
2026-02-04T11:39:56.222+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-02-04T11:39:56.237+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses/pending-approvals
2026-02-04T11:39:56.240+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:39:56.245+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-02-04T11:39:56.241+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2026-02-04T11:39:56.241+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2026-02-04T11:39:56.245+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d1fb7ee]
2026-02-04T11:39:56.247+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-02-04T11:39:56.252+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e0fa17b]
2026-02-04T11:39:56.253+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b5615c7]
2026-02-04T11:39:56.255+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:56.258+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-02-04T11:39:56.259+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:39:56.260+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:39:56.260+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@549dbf39] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:56.261+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:56.262+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=4, userId=6, companyId=3 (truncated)...]
2026-02-04T11:39:56.263+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-02-04T11:39:56.266+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2047986748 wrapping com.mysql.cj.jdbc.ConnectionImpl@2291fc96] will not be managed by Spring
2026-02-04T11:39:56.266+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3df489ea] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:56.269+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:39:56.271+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:39:56.274+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-02-04T11:39:56.277+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@301601586 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a5c682b] will not be managed by Spring
2026-02-04T11:39:56.293+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 6(Long)
2026-02-04T11:39:56.295+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-02-04T11:39:56.304+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 6(Long), 3(Long)
2026-02-04T11:39:56.307+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2026-02-04T11:39:56.309+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@549dbf39]
2026-02-04T11:39:56.309+09:00  INFO 59308 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 6, companyId: 3, role: USER
2026-02-04T11:39:56.310+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:39:56.311+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=6, username=test_user, passwo (truncated)...]
2026-02-04T11:39:56.311+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-02-04T11:39:56.312+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3df489ea]
2026-02-04T11:39:56.312+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:39:56.313+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:39:56.317+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2026-02-04T11:39:56.325+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-02-04T11:39:56.327+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:39:56.328+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/users/me
2026-02-04T11:39:56.332+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-02-04T11:39:56.341+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2026-02-04T11:39:56.344+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2026-02-04T11:39:56.345+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses/pending-approvals
2026-02-04T11:39:56.358+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2026-02-04T11:39:56.358+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-02-04T11:39:56.359+09:00  INFO 59308 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 6, companyId: 3
2026-02-04T11:39:56.362+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-02-04T11:39:56.375+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:56.377+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-02-04T11:39:56.377+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e032fd4] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:56.389+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:56.390+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@315859192 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a5c682b] will not be managed by Spring
2026-02-04T11:39:56.390+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@392b1d4c] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:56.391+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:39:56.392+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@308780896 wrapping com.mysql.cj.jdbc.ConnectionImpl@76f2265c] will not be managed by Spring
2026-02-04T11:39:56.393+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:39:56.394+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-02-04T11:39:56.399+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 6(Long), 3(Long)
2026-02-04T11:39:56.408+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:39:56.411+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e032fd4]
2026-02-04T11:39:56.412+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-02-04T11:39:56.414+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:56.415+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@392b1d4c]
2026-02-04T11:39:56.416+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59d05b20] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:56.417+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:39:56.417+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1320854081 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a5c682b] will not be managed by Spring
2026-02-04T11:39:56.417+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-02-04T11:39:56.418+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-02-04T11:39:56.420+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:39:56.424+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 6(Long)
2026-02-04T11:39:56.425+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-02-04T11:39:56.439+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses/pending-approvals
2026-02-04T11:39:56.442+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-02-04T11:39:56.444+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-02-04T11:39:56.459+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2026-02-04T11:39:56.466+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-02-04T11:39:56.467+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59d05b20]
2026-02-04T11:39:56.467+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:56.470+09:00  INFO 59308 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 6, companyId: 3, role: USER
2026-02-04T11:39:56.476+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dc3a85] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:56.476+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:39:56.478+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1314377071 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b91fb18] will not be managed by Spring
2026-02-04T11:39:56.481+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=6, username=test_user, passwo (truncated)...]
2026-02-04T11:39:56.482+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-02-04T11:39:56.483+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:39:56.489+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 6(Long), 3(Long)
2026-02-04T11:39:56.511+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-02-04T11:39:56.514+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dc3a85]
2026-02-04T11:39:56.517+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:39:56.517+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-02-04T11:39:56.519+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:39:56.528+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-02-04T11:39:56.540+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses/pending-approvals
2026-02-04T11:39:56.541+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-02-04T11:39:56.544+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-02-04T11:39:56.544+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-02-04T11:39:56.546+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:39:56.549+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53682e91] was not registered for synchronization because synchronization is not active
2026-02-04T11:39:56.551+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@63201054 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a5c682b] will not be managed by Spring
2026-02-04T11:39:56.556+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-02-04T11:39:56.557+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 6(Long), 3(Long)
2026-02-04T11:39:56.560+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-02-04T11:39:56.561+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53682e91]
2026-02-04T11:39:56.575+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:39:56.578+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-02-04T11:39:56.581+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:39:56.820+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2026-02-04T11:39:56.822+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/logout
2026-02-04T11:39:56.824+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2026-02-04T11:39:56.825+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2026-02-04T11:39:56.834+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2026-02-04T11:39:56.838+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiI2IiwidXNlcm5hbWUiOiJ (truncated)...]
2026-02-04T11:39:56.842+09:00  INFO 59308 --- [http-nio-8080-exec-6] SECURITY                                 : LOGOUT userId=6
2026-02-04T11:39:56.844+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:39:56.857+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2026-02-04T11:39:56.866+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:40:01.300+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/request-password-reset
2026-02-04T11:40:01.301+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-02-04T11:40:01.301+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/request-password-reset
2026-02-04T11:40:01.302+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/request-password-reset", parameters={}
2026-02-04T11:40:01.302+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#requestPasswordReset(PasswordResetRequest)
2026-02-04T11:40:01.304+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.PasswordResetRequest(email=suyoungd@naver.com)]
2026-02-04T11:40:01.305+09:00  INFO 59308 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 비밀번호 재설정 요청 - email: suyoungd@naver.com
2026-02-04T11:40:01.306+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:40:01.306+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@380c1bd3] was not registered for synchronization because synchronization is not active
2026-02-04T11:40:01.308+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1531551378 wrapping com.mysql.cj.jdbc.ConnectionImpl@501f03b0] will not be managed by Spring
2026-02-04T11:40:01.309+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findByEmail      : ==>  Preparing: SELECT * FROM user_tb WHERE email = ? LIMIT 1
2026-02-04T11:40:01.309+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findByEmail      : ==> Parameters: suyoungd@naver.com(String)
2026-02-04T11:40:01.318+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findByEmail      : <==      Total: 1
2026-02-04T11:40:01.319+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@380c1bd3]
2026-02-04T11:40:01.321+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:40:01.321+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c2a7226]
2026-02-04T11:40:01.321+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2145876911 wrapping com.mysql.cj.jdbc.ConnectionImpl@501f03b0] will be managed by Spring
2026-02-04T11:40:01.322+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.P.deleteByUserId                 : ==>  Preparing: DELETE FROM password_reset_token_tb WHERE user_id = ?
2026-02-04T11:40:01.322+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.P.deleteByUserId                 : ==> Parameters: 6(Long)
2026-02-04T11:40:01.325+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.P.deleteByUserId                 : <==    Updates: 0
2026-02-04T11:40:01.326+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c2a7226]
2026-02-04T11:40:01.327+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c2a7226] from current transaction
2026-02-04T11:40:01.328+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.P.insertToken                    : ==>  Preparing: INSERT INTO password_reset_token_tb (user_id, token, expires_at, company_id) VALUES (?, ?, ?, ?)
2026-02-04T11:40:01.328+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.P.insertToken                    : ==> Parameters: 6(Long), 65ea984a-b2e8-4ef9-ac2a-ffbe83ca50d6(String), 2026-02-04T12:40:01.327266500(LocalDateTime), null
2026-02-04T11:40:01.334+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.P.insertToken                    : <==    Updates: 1
2026-02-04T11:40:01.335+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c2a7226]
2026-02-04T11:40:01.335+09:00  INFO 59308 --- [http-nio-8080-exec-8] c.i.b.service.PasswordResetService       : 비밀번호 재설정 토큰 생성 완료 - userId: 6, token: 65ea984a-b2e8-4ef9-ac2a-ffbe83ca50d6
2026-02-04T11:40:01.335+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c2a7226]
2026-02-04T11:40:01.336+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c2a7226]
2026-02-04T11:40:01.336+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c2a7226]
2026-02-04T11:40:01.620+09:00 ERROR 59308 --- [http-nio-8080-exec-8] c.i.backend.service.EmailService         : 비밀번호 재설정 이메일 발송 실패 - to: suyoungd@naver.com, error: Authentication failed
2026-02-04T11:40:01.620+09:00 ERROR 59308 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 비밀번호 재설정 요청 중 오류 발생 - email: suyoungd@naver.com, error: 이메일 발송에 실패했습니다.
2026-02-04T11:40:01.620+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:40:01.621+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=false, message=비밀번호 재설정 요청 중 오류가 발생했습니다., data=null)]
2026-02-04T11:40:01.622+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:40:21.134+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/request-password-reset
2026-02-04T11:40:21.137+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/request-password-reset
2026-02-04T11:40:21.139+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-02-04T11:40:21.139+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/request-password-reset
2026-02-04T11:40:21.140+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/request-password-reset", parameters={}
2026-02-04T11:40:21.141+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#requestPasswordReset(PasswordResetRequest)
2026-02-04T11:40:21.142+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.PasswordResetRequest(email=suyoungd@naver.com)]
2026-02-04T11:40:21.149+09:00  INFO 59308 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 비밀번호 재설정 요청 - email: suyoungd@naver.com
2026-02-04T11:40:21.150+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:40:21.152+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a1db2a6] was not registered for synchronization because synchronization is not active
2026-02-04T11:40:21.156+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@689027522 wrapping com.mysql.cj.jdbc.ConnectionImpl@76f2265c] will not be managed by Spring
2026-02-04T11:40:21.156+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findByEmail      : ==>  Preparing: SELECT * FROM user_tb WHERE email = ? LIMIT 1
2026-02-04T11:40:21.157+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findByEmail      : ==> Parameters: suyoungd@naver.com(String)
2026-02-04T11:40:21.161+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findByEmail      : <==      Total: 1
2026-02-04T11:40:21.161+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a1db2a6]
2026-02-04T11:40:21.167+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:40:21.167+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c79b728]
2026-02-04T11:40:21.169+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@481804584 wrapping com.mysql.cj.jdbc.ConnectionImpl@76f2265c] will be managed by Spring
2026-02-04T11:40:21.170+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.m.P.deleteByUserId                 : ==>  Preparing: DELETE FROM password_reset_token_tb WHERE user_id = ?
2026-02-04T11:40:21.170+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.m.P.deleteByUserId                 : ==> Parameters: 6(Long)
2026-02-04T11:40:21.175+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.m.P.deleteByUserId                 : <==    Updates: 1
2026-02-04T11:40:21.176+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c79b728]
2026-02-04T11:40:21.177+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c79b728] from current transaction
2026-02-04T11:40:21.177+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.m.P.insertToken                    : ==>  Preparing: INSERT INTO password_reset_token_tb (user_id, token, expires_at, company_id) VALUES (?, ?, ?, ?)
2026-02-04T11:40:21.178+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.m.P.insertToken                    : ==> Parameters: 6(Long), 11946c29-8325-447e-b76b-d135616ae33a(String), 2026-02-04T12:40:21.177035400(LocalDateTime), null
2026-02-04T11:40:21.185+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.m.P.insertToken                    : <==    Updates: 1
2026-02-04T11:40:21.186+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c79b728]
2026-02-04T11:40:21.187+09:00  INFO 59308 --- [http-nio-8080-exec-3] c.i.b.service.PasswordResetService       : 비밀번호 재설정 토큰 생성 완료 - userId: 6, token: 11946c29-8325-447e-b76b-d135616ae33a
2026-02-04T11:40:21.188+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c79b728]
2026-02-04T11:40:21.188+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c79b728]
2026-02-04T11:40:21.189+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c79b728]
2026-02-04T11:40:32.073+09:00 ERROR 59308 --- [http-nio-8080-exec-3] c.i.backend.service.EmailService         : 비밀번호 재설정 이메일 발송 실패 - to: suyoungd@naver.com, error: Authentication failed
2026-02-04T11:40:32.073+09:00 ERROR 59308 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 비밀번호 재설정 요청 중 오류 발생 - email: suyoungd@naver.com, error: 이메일 발송에 실패했습니다.
2026-02-04T11:40:32.074+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:40:32.074+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=false, message=비밀번호 재설정 요청 중 오류가 발생했습니다., data=null)]
2026-02-04T11:40:32.075+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:40:50.804+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2026-02-04T11:40:50.806+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2026-02-04T11:40:50.807+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-02-04T11:40:50.808+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2026-02-04T11:40:50.808+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2026-02-04T11:40:50.809+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2026-02-04T11:40:50.810+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_user, password=1234)]
2026-02-04T11:40:50.810+09:00  INFO 59308 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 로그인 시도 - username: test_user
2026-02-04T11:40:50.811+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:40:50.812+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bccabd] was not registered for synchronization because synchronization is not active
2026-02-04T11:40:50.815+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1505516315 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a5c682b] will not be managed by Spring
2026-02-04T11:40:50.816+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2026-02-04T11:40:50.818+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user(String)
2026-02-04T11:40:50.831+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2026-02-04T11:40:50.832+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bccabd]
2026-02-04T11:40:50.917+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:40:50.917+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d9bd87f] was not registered for synchronization because synchronization is not active
2026-02-04T11:40:50.918+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2977301 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a5c682b] will not be managed by Spring
2026-02-04T11:40:50.918+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-02-04T11:40:50.919+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 6(Long)
2026-02-04T11:40:50.922+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2026-02-04T11:40:50.923+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d9bd87f]
2026-02-04T11:40:50.924+09:00  INFO 59308 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 로그인 성공 - userId: 6, role: USER, companyId: 3
2026-02-04T11:40:50.925+09:00  INFO 59308 --- [http-nio-8080-exec-9] SECURITY                                 : LOGIN_SUCCESS userId=6 username=test_user role=USER
2026-02-04T11:40:50.926+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:40:50.926+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=6, username=test_user, password= (truncated)...]
2026-02-04T11:40:50.927+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:40:51.100+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2026-02-04T11:40:51.106+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2026-02-04T11:40:51.109+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/companies
2026-02-04T11:40:51.116+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2026-02-04T11:40:51.117+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2026-02-04T11:40:51.117+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2026-02-04T11:40:51.118+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:40:51.118+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19bbc6f9] was not registered for synchronization because synchronization is not active
2026-02-04T11:40:51.118+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@923145186 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a5c682b] will not be managed by Spring
2026-02-04T11:40:51.118+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2026-02-04T11:40:51.119+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 6(Long)
2026-02-04T11:40:51.124+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2026-02-04T11:40:51.125+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19bbc6f9]
2026-02-04T11:40:51.125+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:40:51.135+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=3, companyCode=DYM7LX, companyNa (truncated)...]
2026-02-04T11:40:51.138+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:40:51.638+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-02-04T11:40:51.642+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-02-04T11:40:51.647+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:40:51.659+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:40:51.660+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-02-04T11:40:51.669+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:40:51.674+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:40:51.685+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-02-04T11:40:51.692+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-02-04T11:40:51.698+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-02-04T11:40:51.698+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:40:51.703+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:40:51.736+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:40:51.743+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses/pending-approvals
2026-02-04T11:40:51.743+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses/pending-approvals
2026-02-04T11:40:51.758+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-02-04T11:40:51.750+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses/pending-approvals
2026-02-04T11:40:51.755+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses
2026-02-04T11:40:51.763+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:40:51.765+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user", parameters={masked}
2026-02-04T11:40:51.757+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses
2026-02-04T11:40:51.757+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-02-04T11:40:51.758+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses
2026-02-04T11:40:51.758+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-02-04T11:40:51.759+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-02-04T11:40:51.765+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-02-04T11:40:51.768+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:40:51.768+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-02-04T11:40:51.770+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:40:51.770+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-02-04T11:40:51.771+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-02-04T11:40:51.772+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:40:51.773+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user", parameters={masked}
2026-02-04T11:40:51.773+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-02-04T11:40:51.773+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user", parameters={masked}
2026-02-04T11:40:51.773+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:40:51.777+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19d09cc6] was not registered for synchronization because synchronization is not active
2026-02-04T11:40:51.774+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-02-04T11:40:51.783+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:40:51.785+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@623cfaa7] was not registered for synchronization because synchronization is not active
2026-02-04T11:40:51.775+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3881e7e] was not registered for synchronization because synchronization is not active
2026-02-04T11:40:51.776+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-02-04T11:40:51.777+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:40:51.777+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-02-04T11:40:51.791+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:40:51.806+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78290f05] was not registered for synchronization because synchronization is not active
2026-02-04T11:40:51.792+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a373769] was not registered for synchronization because synchronization is not active
2026-02-04T11:40:51.807+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:40:51.808+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fc61faf] was not registered for synchronization because synchronization is not active
2026-02-04T11:40:51.811+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1091397943 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a5c682b] will not be managed by Spring
2026-02-04T11:40:51.812+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1880782263 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b91fb18] will not be managed by Spring
2026-02-04T11:40:51.817+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1138560657 wrapping com.mysql.cj.jdbc.ConnectionImpl@76f2265c] will not be managed by Spring
2026-02-04T11:40:51.839+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:40:51.821+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-02-04T11:40:51.837+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2017717471 wrapping com.mysql.cj.jdbc.ConnectionImpl@2291fc96] will not be managed by Spring
2026-02-04T11:40:51.838+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1270494418 wrapping com.mysql.cj.jdbc.ConnectionImpl@501f03b0] will not be managed by Spring
2026-02-04T11:40:51.839+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-02-04T11:40:51.840+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:40:51.841+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 6(Long), 3(Long)
2026-02-04T11:40:51.842+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-02-04T11:40:51.868+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 6(Long), 3(Long)
2026-02-04T11:40:51.842+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:40:51.845+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 6(Long), 3(Long)
2026-02-04T11:40:51.869+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:40:51.876+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:40:51.876+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-02-04T11:40:51.884+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3881e7e]
2026-02-04T11:40:51.885+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19d09cc6]
2026-02-04T11:40:51.889+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:40:51.889+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1457211265 wrapping com.mysql.cj.jdbc.ConnectionImpl@76f2265c] will not be managed by Spring
2026-02-04T11:40:51.890+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:40:51.890+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@752568c5] was not registered for synchronization because synchronization is not active
2026-02-04T11:40:51.890+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:40:51.891+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-02-04T11:40:51.897+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-02-04T11:40:51.898+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@769236677 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a5c682b] will not be managed by Spring
2026-02-04T11:40:51.899+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:40:51.898+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:40:51.898+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a373769]
2026-02-04T11:40:51.899+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:40:51.902+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:40:51.904+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:40:51.910+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:40:51.971+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:40:51.973+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-02-04T11:40:51.973+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-02-04T11:40:51.975+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78290f05]
2026-02-04T11:40:51.981+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses
2026-02-04T11:40:51.986+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@623cfaa7]
2026-02-04T11:40:51.987+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:40:51.987+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:40:51.987+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:40:51.988+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:40:51.989+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56cdebf4] was not registered for synchronization because synchronization is not active
2026-02-04T11:40:51.989+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user", parameters={masked}
2026-02-04T11:40:51.991+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-02-04T11:40:51.992+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@23893272 wrapping com.mysql.cj.jdbc.ConnectionImpl@501f03b0] will not be managed by Spring
2026-02-04T11:40:51.994+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:40:51.993+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-02-04T11:40:51.994+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:40:52.001+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:40:52.002+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:40:52.003+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9e63408] was not registered for synchronization because synchronization is not active
2026-02-04T11:40:52.034+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:40:52.084+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:40:52.110+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@752568c5]
2026-02-04T11:40:52.085+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:40:52.099+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1103289218 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b91fb18] will not be managed by Spring
2026-02-04T11:40:52.110+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fc61faf]
2026-02-04T11:40:52.123+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:40:52.127+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56cdebf4]
2026-02-04T11:40:52.139+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:40:52.140+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:40:52.141+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fc32e6f] was not registered for synchronization because synchronization is not active
2026-02-04T11:40:52.152+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:40:52.152+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:40:52.153+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49af533a] was not registered for synchronization because synchronization is not active
2026-02-04T11:40:52.154+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@33424914 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a5c682b] will not be managed by Spring
2026-02-04T11:40:52.154+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@194c83a4] was not registered for synchronization because synchronization is not active
2026-02-04T11:40:52.155+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@207958672 wrapping com.mysql.cj.jdbc.ConnectionImpl@76f2265c] will not be managed by Spring
2026-02-04T11:40:52.158+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:40:52.167+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:40:52.160+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:40:52.160+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@552028466 wrapping com.mysql.cj.jdbc.ConnectionImpl@501f03b0] will not be managed by Spring
2026-02-04T11:40:52.170+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:40:52.171+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:40:52.172+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:40:52.174+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:40:52.175+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:40:52.175+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:40:52.175+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9e63408]
2026-02-04T11:40:52.182+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fc32e6f]
2026-02-04T11:40:52.183+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49af533a]
2026-02-04T11:40:52.184+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:40:52.184+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:40:52.187+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b1307cd] was not registered for synchronization because synchronization is not active
2026-02-04T11:40:52.185+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:40:52.187+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54d8fbf5] was not registered for synchronization because synchronization is not active
2026-02-04T11:40:52.189+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2112222870 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a5c682b] will not be managed by Spring
2026-02-04T11:40:52.189+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e72ee2d] was not registered for synchronization because synchronization is not active
2026-02-04T11:40:52.190+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1822872338 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b91fb18] will not be managed by Spring
2026-02-04T11:40:52.190+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:40:52.195+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1836531802 wrapping com.mysql.cj.jdbc.ConnectionImpl@76f2265c] will not be managed by Spring
2026-02-04T11:40:52.197+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:40:52.205+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:40:52.206+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:40:52.207+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:40:52.207+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:40:52.208+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@194c83a4]
2026-02-04T11:40:52.210+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:40:52.219+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:40:52.219+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f8c61bd] was not registered for synchronization because synchronization is not active
2026-02-04T11:40:52.222+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1914733131 wrapping com.mysql.cj.jdbc.ConnectionImpl@501f03b0] will not be managed by Spring
2026-02-04T11:40:52.222+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:40:52.223+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:40:52.224+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:40:52.226+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:40:52.228+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:40:52.234+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54d8fbf5]
2026-02-04T11:40:52.238+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e72ee2d]
2026-02-04T11:40:52.240+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b1307cd]
2026-02-04T11:40:52.241+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:40:52.242+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:40:52.243+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:40:52.245+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=1000, totalE (truncated)...]
2026-02-04T11:40:52.243+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@354394c5] was not registered for synchronization because synchronization is not active
2026-02-04T11:40:52.243+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c07dc1b] was not registered for synchronization because synchronization is not active
2026-02-04T11:40:52.251+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:40:52.252+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@643290827 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b91fb18] will not be managed by Spring
2026-02-04T11:40:52.254+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1968000560 wrapping com.mysql.cj.jdbc.ConnectionImpl@76f2265c] will not be managed by Spring
2026-02-04T11:40:52.255+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:40:52.255+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:40:52.258+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:40:52.260+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:40:52.290+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:40:52.293+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f8c61bd]
2026-02-04T11:40:52.300+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:40:52.302+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:40:52.327+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:40:52.331+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:40:52.332+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@354394c5]
2026-02-04T11:40:52.334+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=1000, totalE (truncated)...]
2026-02-04T11:40:52.334+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:40:52.358+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:40:52.360+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f41626a] was not registered for synchronization because synchronization is not active
2026-02-04T11:40:52.359+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:40:52.359+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c07dc1b]
2026-02-04T11:40:52.375+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@369966331 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b91fb18] will not be managed by Spring
2026-02-04T11:40:52.385+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:40:52.386+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:40:52.389+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:40:52.391+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:40:52.401+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=1000, totalE (truncated)...]
2026-02-04T11:40:52.420+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses
2026-02-04T11:40:52.404+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:40:52.418+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses
2026-02-04T11:40:52.421+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:40:52.422+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:40:52.425+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:40:52.434+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user", parameters={masked}
2026-02-04T11:40:52.436+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user", parameters={masked}
2026-02-04T11:40:52.443+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-02-04T11:40:52.444+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-02-04T11:40:52.451+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:40:52.453+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:40:52.454+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@733711ee] was not registered for synchronization because synchronization is not active
2026-02-04T11:40:52.456+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f030c7e] was not registered for synchronization because synchronization is not active
2026-02-04T11:40:52.456+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@105182932 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a5c682b] will not be managed by Spring
2026-02-04T11:40:52.457+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:40:52.459+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:40:52.460+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:40:52.468+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f41626a]
2026-02-04T11:40:52.471+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1390035979 wrapping com.mysql.cj.jdbc.ConnectionImpl@2291fc96] will not be managed by Spring
2026-02-04T11:40:52.474+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:40:52.474+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:40:52.475+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:40:52.475+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=1000, totalE (truncated)...]
2026-02-04T11:40:52.476+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:40:52.490+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:40:52.491+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@733711ee]
2026-02-04T11:40:52.491+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:40:52.492+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@268ee606] was not registered for synchronization because synchronization is not active
2026-02-04T11:40:52.492+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1836919640 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a5c682b] will not be managed by Spring
2026-02-04T11:40:52.492+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:40:52.493+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:40:52.496+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:40:52.507+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f030c7e]
2026-02-04T11:40:52.508+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:40:52.509+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:40:52.509+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@268ee606]
2026-02-04T11:40:52.510+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47d36580] was not registered for synchronization because synchronization is not active
2026-02-04T11:40:52.511+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:40:52.517+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@297654566 wrapping com.mysql.cj.jdbc.ConnectionImpl@2291fc96] will not be managed by Spring
2026-02-04T11:40:52.518+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33640da9] was not registered for synchronization because synchronization is not active
2026-02-04T11:40:52.518+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:40:52.520+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1644913429 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a5c682b] will not be managed by Spring
2026-02-04T11:40:52.524+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:40:52.526+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:40:52.534+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:40:52.539+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:40:52.539+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:40:52.541+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33640da9]
2026-02-04T11:40:52.542+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47d36580]
2026-02-04T11:40:52.542+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:40:52.543+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:40:52.544+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ead286d] was not registered for synchronization because synchronization is not active
2026-02-04T11:40:52.550+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@769cd2fb] was not registered for synchronization because synchronization is not active
2026-02-04T11:40:52.550+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1303871316 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a5c682b] will not be managed by Spring
2026-02-04T11:40:52.551+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@717182669 wrapping com.mysql.cj.jdbc.ConnectionImpl@2291fc96] will not be managed by Spring
2026-02-04T11:40:52.552+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:40:52.553+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:40:52.556+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:40:52.557+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:40:52.562+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:40:52.567+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:40:52.568+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@769cd2fb]
2026-02-04T11:40:52.568+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ead286d]
2026-02-04T11:40:52.569+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:40:52.569+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:40:52.569+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7db3f6f8] was not registered for synchronization because synchronization is not active
2026-02-04T11:40:52.570+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=1000, totalE (truncated)...]
2026-02-04T11:40:52.570+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1839790271 wrapping com.mysql.cj.jdbc.ConnectionImpl@2291fc96] will not be managed by Spring
2026-02-04T11:40:52.572+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:40:52.576+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:40:52.590+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:40:52.633+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:40:52.634+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7db3f6f8]
2026-02-04T11:40:52.635+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:40:52.636+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=1000, totalE (truncated)...]
2026-02-04T11:40:52.637+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:40:53.112+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-02-04T11:40:53.114+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2026-02-04T11:40:53.116+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2026-02-04T11:40:53.118+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2026-02-04T11:40:53.118+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2026-02-04T11:40:53.126+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-02-04T11:40:53.142+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses/pending-approvals
2026-02-04T11:40:53.143+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2026-02-04T11:40:53.143+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2026-02-04T11:40:53.155+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2026-02-04T11:40:53.155+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2026-02-04T11:40:53.156+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-02-04T11:40:53.169+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-02-04T11:40:53.158+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/users/companies
2026-02-04T11:40:53.159+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/users/me
2026-02-04T11:40:53.165+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/users/me
2026-02-04T11:40:53.170+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/users/companies/pending
2026-02-04T11:40:53.175+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-02-04T11:40:53.176+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2026-02-04T11:40:53.177+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2026-02-04T11:40:53.177+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2026-02-04T11:40:53.177+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2026-02-04T11:40:53.179+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:40:53.181+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2026-02-04T11:40:53.183+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2026-02-04T11:40:53.184+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2026-02-04T11:40:53.184+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2026-02-04T11:40:53.184+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bc29751] was not registered for synchronization because synchronization is not active
2026-02-04T11:40:53.184+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2026-02-04T11:40:53.185+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2026-02-04T11:40:53.186+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:40:53.185+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2026-02-04T11:40:53.185+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2026-02-04T11:40:53.186+09:00  INFO 59308 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 6, companyId: 3
2026-02-04T11:40:53.187+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:40:53.186+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72eada66] was not registered for synchronization because synchronization is not active
2026-02-04T11:40:53.186+09:00  INFO 59308 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 6, companyId: 3
2026-02-04T11:40:53.187+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:40:53.187+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e44f564] was not registered for synchronization because synchronization is not active
2026-02-04T11:40:53.188+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@32205433 wrapping com.mysql.cj.jdbc.ConnectionImpl@501f03b0] will not be managed by Spring
2026-02-04T11:40:53.189+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:40:53.191+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57098cd3] was not registered for synchronization because synchronization is not active
2026-02-04T11:40:53.190+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f5c26ce] was not registered for synchronization because synchronization is not active
2026-02-04T11:40:53.190+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1865210827 wrapping com.mysql.cj.jdbc.ConnectionImpl@76f2265c] will not be managed by Spring
2026-02-04T11:40:53.191+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-02-04T11:40:53.191+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@115717705 wrapping com.mysql.cj.jdbc.ConnectionImpl@2291fc96] will not be managed by Spring
2026-02-04T11:40:53.193+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-02-04T11:40:53.193+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@376153758 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a5c682b] will not be managed by Spring
2026-02-04T11:40:53.194+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@607079941 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b91fb18] will not be managed by Spring
2026-02-04T11:40:53.194+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 6(Long), 3(Long)
2026-02-04T11:40:53.197+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-02-04T11:40:53.200+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:40:53.200+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 6(Long)
2026-02-04T11:40:53.200+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:40:53.203+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 6(Long), PENDING(String)
2026-02-04T11:40:53.203+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:40:53.203+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:40:53.203+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-02-04T11:40:53.205+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bc29751]
2026-02-04T11:40:53.206+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2026-02-04T11:40:53.207+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:40:53.206+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2026-02-04T11:40:53.208+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f5c26ce]
2026-02-04T11:40:53.207+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:40:53.207+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72eada66]
2026-02-04T11:40:53.207+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:40:53.208+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e44f564]
2026-02-04T11:40:53.208+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:40:53.208+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-02-04T11:40:53.209+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:40:53.209+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57098cd3]
2026-02-04T11:40:53.209+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:40:53.209+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61831c1] was not registered for synchronization because synchronization is not active
2026-02-04T11:40:53.210+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=4, userId=6, companyId=3 (truncated)...]
2026-02-04T11:40:53.210+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:40:53.210+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:40:53.211+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-02-04T11:40:53.216+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@267449308 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b91fb18] will not be managed by Spring
2026-02-04T11:40:53.217+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:40:53.224+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14ea7c15] was not registered for synchronization because synchronization is not active
2026-02-04T11:40:53.225+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:40:53.227+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-02-04T11:40:53.241+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1973104215 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a5c682b] will not be managed by Spring
2026-02-04T11:40:53.250+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 6(Long)
2026-02-04T11:40:53.250+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-02-04T11:40:53.256+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 6(Long)
2026-02-04T11:40:53.276+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2026-02-04T11:40:53.277+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61831c1]
2026-02-04T11:40:53.283+09:00  INFO 59308 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 6, companyId: 3, role: USER
2026-02-04T11:40:53.289+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:40:53.289+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2026-02-04T11:40:53.290+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=6, username=test_user, passwo (truncated)...]
2026-02-04T11:40:53.290+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14ea7c15]
2026-02-04T11:40:53.292+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:40:53.293+09:00  INFO 59308 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 6, companyId: 3, role: USER
2026-02-04T11:40:53.305+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:40:53.307+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=6, username=test_user, passwo (truncated)...]
2026-02-04T11:40:53.309+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:40:58.807+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2026-02-04T11:40:58.818+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2026-02-04T11:40:58.822+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/logout
2026-02-04T11:40:58.827+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2026-02-04T11:40:58.827+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2026-02-04T11:40:58.827+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2026-02-04T11:40:58.834+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiI2IiwidXNlcm5hbWUiOiJ (truncated)...]
2026-02-04T11:40:58.845+09:00  INFO 59308 --- [http-nio-8080-exec-4] SECURITY                                 : LOGOUT userId=6
2026-02-04T11:40:58.848+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:40:58.851+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2026-02-04T11:40:58.853+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:41:02.818+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/request-password-reset
2026-02-04T11:41:02.835+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/request-password-reset
2026-02-04T11:41:02.842+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-02-04T11:41:02.857+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/request-password-reset
2026-02-04T11:41:02.872+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/request-password-reset", parameters={}
2026-02-04T11:41:02.876+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#requestPasswordReset(PasswordResetRequest)
2026-02-04T11:41:02.877+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.PasswordResetRequest(email=suyoungd@naver.com)]
2026-02-04T11:41:02.899+09:00  INFO 59308 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 비밀번호 재설정 요청 - email: suyoungd@naver.com
2026-02-04T11:41:02.904+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:41:02.906+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a0371ee] was not registered for synchronization because synchronization is not active
2026-02-04T11:41:02.908+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@513141831 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b91fb18] will not be managed by Spring
2026-02-04T11:41:02.909+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findByEmail      : ==>  Preparing: SELECT * FROM user_tb WHERE email = ? LIMIT 1
2026-02-04T11:41:02.910+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findByEmail      : ==> Parameters: suyoungd@naver.com(String)
2026-02-04T11:41:02.917+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findByEmail      : <==      Total: 1
2026-02-04T11:41:02.919+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a0371ee]
2026-02-04T11:41:02.923+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:41:02.924+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ac9300d]
2026-02-04T11:41:02.924+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2050220493 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b91fb18] will be managed by Spring
2026-02-04T11:41:02.925+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.P.deleteByUserId                 : ==>  Preparing: DELETE FROM password_reset_token_tb WHERE user_id = ?
2026-02-04T11:41:02.926+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.P.deleteByUserId                 : ==> Parameters: 6(Long)
2026-02-04T11:41:02.979+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.P.deleteByUserId                 : <==    Updates: 1
2026-02-04T11:41:02.982+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ac9300d]
2026-02-04T11:41:02.983+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ac9300d] from current transaction
2026-02-04T11:41:02.985+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.P.insertToken                    : ==>  Preparing: INSERT INTO password_reset_token_tb (user_id, token, expires_at, company_id) VALUES (?, ?, ?, ?)
2026-02-04T11:41:02.988+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.P.insertToken                    : ==> Parameters: 6(Long), 942b5915-4cbf-4399-8108-2752323182c0(String), 2026-02-04T12:41:02.983107300(LocalDateTime), null
2026-02-04T11:41:02.997+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.P.insertToken                    : <==    Updates: 1
2026-02-04T11:41:02.998+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ac9300d]
2026-02-04T11:41:03.000+09:00  INFO 59308 --- [http-nio-8080-exec-10] c.i.b.service.PasswordResetService       : 비밀번호 재설정 토큰 생성 완료 - userId: 6, token: 942b5915-4cbf-4399-8108-2752323182c0
2026-02-04T11:41:03.001+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ac9300d]
2026-02-04T11:41:03.002+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ac9300d]
2026-02-04T11:41:03.003+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ac9300d]
2026-02-04T11:41:03.269+09:00 ERROR 59308 --- [http-nio-8080-exec-10] c.i.backend.service.EmailService         : 비밀번호 재설정 이메일 발송 실패 - to: suyoungd@naver.com, error: Authentication failed
2026-02-04T11:41:03.270+09:00 ERROR 59308 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 비밀번호 재설정 요청 중 오류 발생 - email: suyoungd@naver.com, error: 이메일 발송에 실패했습니다.
2026-02-04T11:41:03.270+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:41:03.271+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=false, message=비밀번호 재설정 요청 중 오류가 발생했습니다., data=null)]
2026-02-04T11:41:03.272+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:41:14.373+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/request-password-reset
2026-02-04T11:41:14.453+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/request-password-reset
2026-02-04T11:41:14.493+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-02-04T11:41:14.570+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/request-password-reset
2026-02-04T11:41:14.586+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/request-password-reset", parameters={}
2026-02-04T11:41:14.604+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#requestPasswordReset(PasswordResetRequest)
2026-02-04T11:41:14.648+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.PasswordResetRequest(email=suyoungd@naver.com)]
2026-02-04T11:41:14.667+09:00  INFO 59308 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 비밀번호 재설정 요청 - email: suyoungd@naver.com
2026-02-04T11:41:14.682+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:41:14.691+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14371f57] was not registered for synchronization because synchronization is not active
2026-02-04T11:41:14.700+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@600006275 wrapping com.mysql.cj.jdbc.ConnectionImpl@76f2265c] will not be managed by Spring
2026-02-04T11:41:14.703+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findByEmail      : ==>  Preparing: SELECT * FROM user_tb WHERE email = ? LIMIT 1
2026-02-04T11:41:14.709+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findByEmail      : ==> Parameters: suyoungd@naver.com(String)
2026-02-04T11:41:14.727+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findByEmail      : <==      Total: 1
2026-02-04T11:41:14.733+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14371f57]
2026-02-04T11:41:14.739+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:41:14.740+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40c6ae64]
2026-02-04T11:41:14.740+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@68493149 wrapping com.mysql.cj.jdbc.ConnectionImpl@76f2265c] will be managed by Spring
2026-02-04T11:41:14.741+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.m.P.deleteByUserId                 : ==>  Preparing: DELETE FROM password_reset_token_tb WHERE user_id = ?
2026-02-04T11:41:14.741+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.m.P.deleteByUserId                 : ==> Parameters: 6(Long)
2026-02-04T11:41:14.747+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.m.P.deleteByUserId                 : <==    Updates: 1
2026-02-04T11:41:14.748+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40c6ae64]
2026-02-04T11:41:14.749+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40c6ae64] from current transaction
2026-02-04T11:41:14.755+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.m.P.insertToken                    : ==>  Preparing: INSERT INTO password_reset_token_tb (user_id, token, expires_at, company_id) VALUES (?, ?, ?, ?)
2026-02-04T11:41:14.758+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.m.P.insertToken                    : ==> Parameters: 6(Long), 9ce2fef2-41f4-40ee-8098-2bdfda4cbb2c(String), 2026-02-04T12:41:14.749892300(LocalDateTime), null
2026-02-04T11:41:14.786+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.m.P.insertToken                    : <==    Updates: 1
2026-02-04T11:41:14.798+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40c6ae64]
2026-02-04T11:41:14.803+09:00  INFO 59308 --- [http-nio-8080-exec-3] c.i.b.service.PasswordResetService       : 비밀번호 재설정 토큰 생성 완료 - userId: 6, token: 9ce2fef2-41f4-40ee-8098-2bdfda4cbb2c
2026-02-04T11:41:14.803+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40c6ae64]
2026-02-04T11:41:14.820+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40c6ae64]
2026-02-04T11:41:14.820+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40c6ae64]
2026-02-04T11:41:15.091+09:00 ERROR 59308 --- [http-nio-8080-exec-3] c.i.backend.service.EmailService         : 비밀번호 재설정 이메일 발송 실패 - to: suyoungd@naver.com, error: Authentication failed
2026-02-04T11:41:15.091+09:00 ERROR 59308 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 비밀번호 재설정 요청 중 오류 발생 - email: suyoungd@naver.com, error: 이메일 발송에 실패했습니다.
2026-02-04T11:41:15.092+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:41:15.092+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=false, message=비밀번호 재설정 요청 중 오류가 발생했습니다., data=null)]
2026-02-04T11:41:15.093+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:48:05.509+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2026-02-04T11:48:05.513+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2026-02-04T11:48:05.514+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-02-04T11:48:05.515+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2026-02-04T11:48:05.515+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2026-02-04T11:48:05.519+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2026-02-04T11:48:05.523+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_user, password=1234)]
2026-02-04T11:48:05.524+09:00  INFO 59308 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 로그인 시도 - username: test_user
2026-02-04T11:48:05.525+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:05.525+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b2f0840] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:05.527+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1974847880 wrapping com.mysql.cj.jdbc.ConnectionImpl@2291fc96] will not be managed by Spring
2026-02-04T11:48:05.528+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2026-02-04T11:48:05.530+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user(String)
2026-02-04T11:48:05.537+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2026-02-04T11:48:05.537+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b2f0840]
2026-02-04T11:48:05.626+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:05.627+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77f2e7b] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:05.627+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1011812497 wrapping com.mysql.cj.jdbc.ConnectionImpl@2291fc96] will not be managed by Spring
2026-02-04T11:48:05.627+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-02-04T11:48:05.628+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 6(Long)
2026-02-04T11:48:05.631+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2026-02-04T11:48:05.631+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77f2e7b]
2026-02-04T11:48:05.632+09:00  INFO 59308 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 로그인 성공 - userId: 6, role: USER, companyId: 3
2026-02-04T11:48:05.632+09:00  INFO 59308 --- [http-nio-8080-exec-10] SECURITY                                 : LOGIN_SUCCESS userId=6 username=test_user role=USER
2026-02-04T11:48:05.635+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:48:05.636+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=6, username=test_user, password= (truncated)...]
2026-02-04T11:48:05.638+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:48:05.946+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2026-02-04T11:48:05.962+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2026-02-04T11:48:05.964+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/companies
2026-02-04T11:48:05.965+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2026-02-04T11:48:05.968+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2026-02-04T11:48:05.968+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2026-02-04T11:48:05.972+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:05.972+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@516ffe3b] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:05.973+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1915281188 wrapping com.mysql.cj.jdbc.ConnectionImpl@2291fc96] will not be managed by Spring
2026-02-04T11:48:05.973+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2026-02-04T11:48:05.974+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 6(Long)
2026-02-04T11:48:05.991+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2026-02-04T11:48:06.006+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@516ffe3b]
2026-02-04T11:48:06.009+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:48:06.014+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=3, companyCode=DYM7LX, companyNa (truncated)...]
2026-02-04T11:48:06.015+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:48:06.061+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-02-04T11:48:06.068+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-02-04T11:48:06.072+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:48:06.073+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:48:06.074+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:48:06.074+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-02-04T11:48:06.079+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:48:06.081+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-02-04T11:48:06.087+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-02-04T11:48:06.110+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses/pending-approvals
2026-02-04T11:48:06.114+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-02-04T11:48:06.112+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses/pending-approvals
2026-02-04T11:48:06.129+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-02-04T11:48:06.129+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-02-04T11:48:06.131+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-02-04T11:48:06.130+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:48:06.131+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-02-04T11:48:06.138+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-02-04T11:48:06.133+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:06.140+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-02-04T11:48:06.140+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13d2da04] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:06.143+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:06.144+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@533424832 wrapping com.mysql.cj.jdbc.ConnectionImpl@2291fc96] will not be managed by Spring
2026-02-04T11:48:06.145+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d3b1f02] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:06.145+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-02-04T11:48:06.147+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 6(Long), 3(Long)
2026-02-04T11:48:06.153+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:48:06.154+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-02-04T11:48:06.154+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:48:06.158+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-02-04T11:48:06.164+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses
2026-02-04T11:48:06.172+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses/pending-approvals
2026-02-04T11:48:06.175+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-02-04T11:48:06.164+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses/pending-approvals
2026-02-04T11:48:06.170+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses
2026-02-04T11:48:06.173+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:48:06.176+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-02-04T11:48:06.176+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-02-04T11:48:06.179+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@881699424 wrapping com.mysql.cj.jdbc.ConnectionImpl@79c2f850] will not be managed by Spring
2026-02-04T11:48:06.185+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:48:06.186+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user", parameters={masked}
2026-02-04T11:48:06.186+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-02-04T11:48:06.186+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-02-04T11:48:06.187+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-02-04T11:48:06.187+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user", parameters={masked}
2026-02-04T11:48:06.187+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-02-04T11:48:06.191+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:06.191+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-02-04T11:48:06.193+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 6(Long), 3(Long)
2026-02-04T11:48:06.194+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-02-04T11:48:06.197+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-02-04T11:48:06.202+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:06.213+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f1b34a6] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:06.209+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46244be4] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:06.210+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:06.212+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13d2da04]
2026-02-04T11:48:06.213+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:06.223+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cb6e661] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:06.216+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14abfbda] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:06.223+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:48:06.224+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1725784667 wrapping com.mysql.cj.jdbc.ConnectionImpl@2291fc96] will not be managed by Spring
2026-02-04T11:48:06.230+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-02-04T11:48:06.235+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1201473106 wrapping com.mysql.cj.jdbc.ConnectionImpl@3fcccc04] will not be managed by Spring
2026-02-04T11:48:06.235+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@964036512 wrapping com.mysql.cj.jdbc.ConnectionImpl@324f7915] will not be managed by Spring
2026-02-04T11:48:06.243+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:48:06.242+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:48:06.243+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-02-04T11:48:06.243+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:48:06.244+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:48:06.246+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-02-04T11:48:06.249+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:48:06.258+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 6(Long), 3(Long)
2026-02-04T11:48:06.262+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:48:06.278+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d3b1f02]
2026-02-04T11:48:06.280+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@363516661 wrapping com.mysql.cj.jdbc.ConnectionImpl@146f3a86] will not be managed by Spring
2026-02-04T11:48:06.297+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:48:06.299+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:48:06.308+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:48:06.308+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses
2026-02-04T11:48:06.309+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-02-04T11:48:06.309+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cb6e661]
2026-02-04T11:48:06.310+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f1b34a6]
2026-02-04T11:48:06.312+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-02-04T11:48:06.313+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-02-04T11:48:06.329+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:48:06.324+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:48:06.326+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 6(Long), 3(Long)
2026-02-04T11:48:06.326+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:06.326+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:06.329+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46244be4]
2026-02-04T11:48:06.332+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:48:06.347+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user", parameters={masked}
2026-02-04T11:48:06.354+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e71470f] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:06.355+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@146c47be] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:06.359+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:48:06.362+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses
2026-02-04T11:48:06.377+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-02-04T11:48:06.379+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@362750798 wrapping com.mysql.cj.jdbc.ConnectionImpl@2291fc96] will not be managed by Spring
2026-02-04T11:48:06.379+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1570903031 wrapping com.mysql.cj.jdbc.ConnectionImpl@324f7915] will not be managed by Spring
2026-02-04T11:48:06.379+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-02-04T11:48:06.380+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:48:06.381+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:06.382+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:48:06.385+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-02-04T11:48:06.386+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:48:06.387+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:48:06.392+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user", parameters={masked}
2026-02-04T11:48:06.393+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@415f1f52] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:06.394+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:48:06.394+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14abfbda]
2026-02-04T11:48:06.395+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:48:06.459+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:48:06.462+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-02-04T11:48:06.462+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@101898680 wrapping com.mysql.cj.jdbc.ConnectionImpl@79c2f850] will not be managed by Spring
2026-02-04T11:48:06.464+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:48:06.469+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses
2026-02-04T11:48:06.469+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:06.471+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:48:06.472+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-02-04T11:48:06.472+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:48:06.473+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3907e305] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:06.473+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:48:06.475+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:48:06.492+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user", parameters={masked}
2026-02-04T11:48:06.495+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2119584733 wrapping com.mysql.cj.jdbc.ConnectionImpl@3fcccc04] will not be managed by Spring
2026-02-04T11:48:06.527+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:48:06.499+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:48:06.499+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:48:06.526+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-02-04T11:48:06.529+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:48:06.529+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@146c47be]
2026-02-04T11:48:06.529+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e71470f]
2026-02-04T11:48:06.531+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:06.531+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:06.547+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e35fb9e] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:06.541+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:06.541+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c952486] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:06.549+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@403832913 wrapping com.mysql.cj.jdbc.ConnectionImpl@324f7915] will not be managed by Spring
2026-02-04T11:48:06.555+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:48:06.553+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b86204f] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:06.555+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1432380924 wrapping com.mysql.cj.jdbc.ConnectionImpl@2291fc96] will not be managed by Spring
2026-02-04T11:48:06.561+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:48:06.566+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:48:06.566+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:48:06.605+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@792415503 wrapping com.mysql.cj.jdbc.ConnectionImpl@146f3a86] will not be managed by Spring
2026-02-04T11:48:06.610+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:48:06.657+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:48:06.649+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@415f1f52]
2026-02-04T11:48:06.655+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3907e305]
2026-02-04T11:48:06.656+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:48:06.689+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:48:06.659+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:06.676+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:48:06.680+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:06.690+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d56bc94] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:06.691+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e35fb9e]
2026-02-04T11:48:06.700+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:48:06.710+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29444f8c] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:06.728+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@794664554 wrapping com.mysql.cj.jdbc.ConnectionImpl@3fcccc04] will not be managed by Spring
2026-02-04T11:48:06.711+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1422564323 wrapping com.mysql.cj.jdbc.ConnectionImpl@79c2f850] will not be managed by Spring
2026-02-04T11:48:06.712+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:06.737+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@373ac33] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:06.738+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1121672904 wrapping com.mysql.cj.jdbc.ConnectionImpl@324f7915] will not be managed by Spring
2026-02-04T11:48:06.739+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:48:06.713+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c952486]
2026-02-04T11:48:06.731+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:48:06.734+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:48:06.746+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:48:06.746+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:06.748+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:48:06.756+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:48:06.757+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49205498] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:06.759+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1815406638 wrapping com.mysql.cj.jdbc.ConnectionImpl@2291fc96] will not be managed by Spring
2026-02-04T11:48:06.823+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:48:06.825+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:48:06.825+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:48:06.825+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:48:06.842+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@373ac33]
2026-02-04T11:48:06.844+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:48:06.847+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=1000, totalE (truncated)...]
2026-02-04T11:48:06.850+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:48:06.829+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:48:06.838+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b86204f]
2026-02-04T11:48:06.881+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:06.890+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@315dcf37] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:06.840+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d56bc94]
2026-02-04T11:48:06.841+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29444f8c]
2026-02-04T11:48:06.862+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:48:06.892+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1530074379 wrapping com.mysql.cj.jdbc.ConnectionImpl@146f3a86] will not be managed by Spring
2026-02-04T11:48:06.893+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:06.894+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:06.909+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:48:06.910+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5370538e] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:06.910+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1410abad] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:06.926+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:48:06.928+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@186316648 wrapping com.mysql.cj.jdbc.ConnectionImpl@79c2f850] will not be managed by Spring
2026-02-04T11:48:06.929+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@522436236 wrapping com.mysql.cj.jdbc.ConnectionImpl@3fcccc04] will not be managed by Spring
2026-02-04T11:48:06.932+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:48:06.934+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:48:06.941+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:48:06.944+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:48:07.027+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:48:07.069+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49205498]
2026-02-04T11:48:07.027+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:48:07.073+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:07.074+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@315dcf37]
2026-02-04T11:48:07.074+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42010af6] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:07.075+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:48:07.076+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@156107450 wrapping com.mysql.cj.jdbc.ConnectionImpl@2291fc96] will not be managed by Spring
2026-02-04T11:48:07.077+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=1000, totalE (truncated)...]
2026-02-04T11:48:07.079+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:48:07.080+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:48:07.082+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:48:07.091+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:48:07.119+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5370538e]
2026-02-04T11:48:07.113+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:48:07.120+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:07.121+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1410abad]
2026-02-04T11:48:07.121+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65da555e] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:07.122+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:07.126+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@887588424 wrapping com.mysql.cj.jdbc.ConnectionImpl@79c2f850] will not be managed by Spring
2026-02-04T11:48:07.126+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@767a9072] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:07.127+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:48:07.128+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1738936531 wrapping com.mysql.cj.jdbc.ConnectionImpl@3fcccc04] will not be managed by Spring
2026-02-04T11:48:07.138+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:48:07.146+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:48:07.163+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:48:07.153+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:48:07.155+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:48:07.208+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:48:07.208+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:48:07.208+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:48:07.214+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65da555e]
2026-02-04T11:48:07.215+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42010af6]
2026-02-04T11:48:07.215+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@767a9072]
2026-02-04T11:48:07.217+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:48:07.222+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:07.309+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:48:07.310+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=1000, totalE (truncated)...]
2026-02-04T11:48:07.310+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11f0020d] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:07.312+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:48:07.310+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=1000, totalE (truncated)...]
2026-02-04T11:48:07.312+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1533869183 wrapping com.mysql.cj.jdbc.ConnectionImpl@2291fc96] will not be managed by Spring
2026-02-04T11:48:07.313+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:48:07.313+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:48:07.319+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:48:07.328+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:48:07.560+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:48:07.566+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses
2026-02-04T11:48:07.567+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:48:07.579+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11f0020d]
2026-02-04T11:48:07.579+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses
2026-02-04T11:48:07.579+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:48:07.580+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:48:07.590+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=1000, totalE (truncated)...]
2026-02-04T11:48:07.587+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:48:07.591+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:48:07.589+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user", parameters={masked}
2026-02-04T11:48:07.591+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user", parameters={masked}
2026-02-04T11:48:07.593+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-02-04T11:48:07.593+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-02-04T11:48:07.595+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:07.594+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:07.597+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3acae009] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:07.598+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@762d901c] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:07.645+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1420070776 wrapping com.mysql.cj.jdbc.ConnectionImpl@79c2f850] will not be managed by Spring
2026-02-04T11:48:07.671+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1940551207 wrapping com.mysql.cj.jdbc.ConnectionImpl@2291fc96] will not be managed by Spring
2026-02-04T11:48:07.672+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:48:07.673+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:48:07.676+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:48:07.677+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:48:07.694+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:48:07.696+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:48:07.712+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3acae009]
2026-02-04T11:48:07.712+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@762d901c]
2026-02-04T11:48:07.713+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:07.713+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:07.713+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1705ccfe] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:07.713+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6df8b085] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:07.724+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2049092799 wrapping com.mysql.cj.jdbc.ConnectionImpl@79c2f850] will not be managed by Spring
2026-02-04T11:48:07.725+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2010079318 wrapping com.mysql.cj.jdbc.ConnectionImpl@2291fc96] will not be managed by Spring
2026-02-04T11:48:07.726+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:48:07.730+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:48:07.730+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:48:07.731+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:48:07.744+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:48:07.744+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:48:07.748+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1705ccfe]
2026-02-04T11:48:07.760+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6df8b085]
2026-02-04T11:48:07.761+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:07.761+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:07.761+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18b5597a] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:07.762+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c53728f] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:07.774+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@569246894 wrapping com.mysql.cj.jdbc.ConnectionImpl@79c2f850] will not be managed by Spring
2026-02-04T11:48:07.776+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1418172696 wrapping com.mysql.cj.jdbc.ConnectionImpl@2291fc96] will not be managed by Spring
2026-02-04T11:48:07.789+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:48:07.789+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:48:07.791+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:48:07.793+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:48:07.808+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:48:07.812+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18b5597a]
2026-02-04T11:48:07.822+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:07.824+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:48:07.826+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d365a3f] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:07.827+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c53728f]
2026-02-04T11:48:07.839+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@536524906 wrapping com.mysql.cj.jdbc.ConnectionImpl@79c2f850] will not be managed by Spring
2026-02-04T11:48:07.840+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:07.840+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:48:07.841+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e1a24cb] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:07.844+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:48:07.846+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1228598413 wrapping com.mysql.cj.jdbc.ConnectionImpl@2291fc96] will not be managed by Spring
2026-02-04T11:48:07.849+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:48:07.857+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:48:07.858+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:48:07.858+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d365a3f]
2026-02-04T11:48:07.861+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:48:07.862+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=1000, totalE (truncated)...]
2026-02-04T11:48:07.863+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:48:07.863+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e1a24cb]
2026-02-04T11:48:07.864+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:48:07.864+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:48:07.865+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=1000, totalE (truncated)...]
2026-02-04T11:48:07.871+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:48:17.965+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/find-username
2026-02-04T11:48:17.969+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/find-username
2026-02-04T11:48:17.970+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-02-04T11:48:17.972+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/find-username
2026-02-04T11:48:17.972+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/find-username", parameters={}
2026-02-04T11:48:17.977+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#findUsername(FindUsernameRequest)
2026-02-04T11:48:17.979+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.FindUsernameRequest(email=suyoungd@naver.com, koreanName=test_user)]
2026-02-04T11:48:17.979+09:00  INFO 59308 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 아이디 찾기 요청 - email: suyoungd@naver.com
2026-02-04T11:48:17.981+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:17.981+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b4870e0] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:17.986+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@225535728 wrapping com.mysql.cj.jdbc.ConnectionImpl@324f7915] will not be managed by Spring
2026-02-04T11:48:17.987+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.U.findByEmailAndKoreanName       : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role FROM user_tb WHERE email = ? AND korean_name = ? LIMIT 1
2026-02-04T11:48:17.989+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.U.findByEmailAndKoreanName       : ==> Parameters: suyoungd@naver.com(String), test_user(String)
2026-02-04T11:48:17.991+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.U.findByEmailAndKoreanName       : <==      Total: 1
2026-02-04T11:48:17.992+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b4870e0]
2026-02-04T11:48:17.992+09:00  INFO 59308 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 아이디 찾기 성공 - email: suyoungd@naver.com, username: test_user
2026-02-04T11:48:17.993+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:48:17.993+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=아이디를 찾았습니다., data={message=아이디를 찾았습니다., username=test_user})]
2026-02-04T11:48:17.994+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:48:23.388+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/find-username
2026-02-04T11:48:23.391+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/find-username
2026-02-04T11:48:23.392+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-02-04T11:48:23.393+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/find-username
2026-02-04T11:48:23.394+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/find-username", parameters={}
2026-02-04T11:48:23.396+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#findUsername(FindUsernameRequest)
2026-02-04T11:48:23.405+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.FindUsernameRequest(email=suyoungd@naver.com, koreanName=test)]
2026-02-04T11:48:23.408+09:00  INFO 59308 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 아이디 찾기 요청 - email: suyoungd@naver.com
2026-02-04T11:48:23.410+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:23.410+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fa19be2] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:23.413+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@905189602 wrapping com.mysql.cj.jdbc.ConnectionImpl@2291fc96] will not be managed by Spring
2026-02-04T11:48:23.414+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.m.U.findByEmailAndKoreanName       : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role FROM user_tb WHERE email = ? AND korean_name = ? LIMIT 1
2026-02-04T11:48:23.416+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.m.U.findByEmailAndKoreanName       : ==> Parameters: suyoungd@naver.com(String), test(String)
2026-02-04T11:48:23.423+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.m.U.findByEmailAndKoreanName       : <==      Total: 0
2026-02-04T11:48:23.423+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fa19be2]
2026-02-04T11:48:23.423+09:00  WARN 59308 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 아이디 찾기 실패 - 일치하는 사용자 없음 - email: suyoungd@naver.com
2026-02-04T11:48:23.424+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:48:23.424+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=false, message=입력하신 정보와 일치하는 사용자를 찾을 수 없습니다., data=null)]
2026-02-04T11:48:23.425+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:48:27.628+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2026-02-04T11:48:27.630+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2026-02-04T11:48:27.631+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-02-04T11:48:27.632+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2026-02-04T11:48:27.632+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2026-02-04T11:48:27.632+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2026-02-04T11:48:27.633+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_user, password=1234)]
2026-02-04T11:48:27.634+09:00  INFO 59308 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 로그인 시도 - username: test_user
2026-02-04T11:48:27.635+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:27.635+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18663f4b] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:27.638+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@670891990 wrapping com.mysql.cj.jdbc.ConnectionImpl@79c2f850] will not be managed by Spring
2026-02-04T11:48:27.640+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2026-02-04T11:48:27.643+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user(String)
2026-02-04T11:48:27.645+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2026-02-04T11:48:27.646+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18663f4b]
2026-02-04T11:48:27.732+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:27.734+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32df77bd] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:27.734+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@311661635 wrapping com.mysql.cj.jdbc.ConnectionImpl@79c2f850] will not be managed by Spring
2026-02-04T11:48:27.734+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-02-04T11:48:27.735+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 6(Long)
2026-02-04T11:48:27.738+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2026-02-04T11:48:27.738+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32df77bd]
2026-02-04T11:48:27.739+09:00  INFO 59308 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 로그인 성공 - userId: 6, role: USER, companyId: 3
2026-02-04T11:48:27.739+09:00  INFO 59308 --- [http-nio-8080-exec-9] SECURITY                                 : LOGIN_SUCCESS userId=6 username=test_user role=USER
2026-02-04T11:48:27.740+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:48:27.740+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=6, username=test_user, password= (truncated)...]
2026-02-04T11:48:27.741+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:48:28.013+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2026-02-04T11:48:28.020+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2026-02-04T11:48:28.023+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/companies
2026-02-04T11:48:28.024+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2026-02-04T11:48:28.024+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2026-02-04T11:48:28.025+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2026-02-04T11:48:28.026+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:28.026+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@678a3dd0] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:28.028+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1254637298 wrapping com.mysql.cj.jdbc.ConnectionImpl@2291fc96] will not be managed by Spring
2026-02-04T11:48:28.030+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2026-02-04T11:48:28.031+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 6(Long)
2026-02-04T11:48:28.034+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2026-02-04T11:48:28.036+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@678a3dd0]
2026-02-04T11:48:28.038+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:48:28.039+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=3, companyCode=DYM7LX, companyNa (truncated)...]
2026-02-04T11:48:28.040+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:48:28.154+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-02-04T11:48:28.155+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:48:28.155+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-02-04T11:48:28.162+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:48:28.181+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:48:28.168+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-02-04T11:48:28.172+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:48:28.178+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:48:28.181+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-02-04T11:48:28.189+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-02-04T11:48:28.189+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:48:28.190+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-02-04T11:48:28.206+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses/pending-approvals
2026-02-04T11:48:28.194+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:48:28.198+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-02-04T11:48:28.198+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses/pending-approvals
2026-02-04T11:48:28.201+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:48:28.208+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses
2026-02-04T11:48:28.231+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:48:28.231+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses
2026-02-04T11:48:28.208+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-02-04T11:48:28.229+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses
2026-02-04T11:48:28.229+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses/pending-approvals
2026-02-04T11:48:28.230+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-02-04T11:48:28.231+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user", parameters={masked}
2026-02-04T11:48:28.235+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:48:28.238+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-02-04T11:48:28.239+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:48:28.239+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-02-04T11:48:28.240+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-02-04T11:48:28.240+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-02-04T11:48:28.241+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user", parameters={masked}
2026-02-04T11:48:28.241+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-02-04T11:48:28.242+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user", parameters={masked}
2026-02-04T11:48:28.242+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-02-04T11:48:28.242+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-02-04T11:48:28.244+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:28.244+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-02-04T11:48:28.245+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:28.258+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-02-04T11:48:28.259+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-02-04T11:48:28.259+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:28.260+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61fc7a27] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:28.263+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:28.264+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30430328] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:28.270+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:28.272+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:28.272+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d76fe76] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:28.273+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d0babd1] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:28.274+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11137c38] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:28.274+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f7904aa] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:28.277+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@108843285 wrapping com.mysql.cj.jdbc.ConnectionImpl@2291fc96] will not be managed by Spring
2026-02-04T11:48:28.280+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1339326878 wrapping com.mysql.cj.jdbc.ConnectionImpl@146f3a86] will not be managed by Spring
2026-02-04T11:48:28.280+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1699255496 wrapping com.mysql.cj.jdbc.ConnectionImpl@79c2f850] will not be managed by Spring
2026-02-04T11:48:28.281+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-02-04T11:48:28.288+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:48:28.288+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-02-04T11:48:28.288+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@538707326 wrapping com.mysql.cj.jdbc.ConnectionImpl@3fcccc04] will not be managed by Spring
2026-02-04T11:48:28.289+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1520427545 wrapping com.mysql.cj.jdbc.ConnectionImpl@324f7915] will not be managed by Spring
2026-02-04T11:48:28.290+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 6(Long), 3(Long)
2026-02-04T11:48:28.290+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:48:28.291+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 6(Long), 3(Long)
2026-02-04T11:48:28.291+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-02-04T11:48:28.292+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:48:28.298+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 6(Long), 3(Long)
2026-02-04T11:48:28.299+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:48:28.304+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:48:28.305+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-02-04T11:48:28.307+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61fc7a27]
2026-02-04T11:48:28.309+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d76fe76]
2026-02-04T11:48:28.309+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:28.312+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3760061f] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:28.309+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@987054536 wrapping com.mysql.cj.jdbc.ConnectionImpl@146f3a86] will not be managed by Spring
2026-02-04T11:48:28.310+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:48:28.310+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-02-04T11:48:28.314+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1831624960 wrapping com.mysql.cj.jdbc.ConnectionImpl@2291fc96] will not be managed by Spring
2026-02-04T11:48:28.314+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:48:28.314+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-02-04T11:48:28.315+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30430328]
2026-02-04T11:48:28.315+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-02-04T11:48:28.316+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:48:28.322+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:48:28.322+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:48:28.324+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:48:28.325+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:48:28.325+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11137c38]
2026-02-04T11:48:28.326+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d0babd1]
2026-02-04T11:48:28.326+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:48:28.328+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-02-04T11:48:28.329+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:48:28.329+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:28.335+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:48:28.346+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-02-04T11:48:28.346+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:48:28.346+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@465b1962] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:28.347+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:48:28.348+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses
2026-02-04T11:48:28.355+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:48:28.357+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@277306942 wrapping com.mysql.cj.jdbc.ConnectionImpl@324f7915] will not be managed by Spring
2026-02-04T11:48:28.357+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:48:28.358+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-02-04T11:48:28.358+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:48:28.373+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f7904aa]
2026-02-04T11:48:28.374+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:48:28.377+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:48:28.378+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user", parameters={masked}
2026-02-04T11:48:28.387+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses/pending-approvals
2026-02-04T11:48:28.390+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses
2026-02-04T11:48:28.391+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:28.392+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3760061f]
2026-02-04T11:48:28.392+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:48:28.393+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-02-04T11:48:28.395+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-02-04T11:48:28.396+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:48:28.396+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@402bb34a] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:28.398+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:28.402+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:28.406+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:48:28.403+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-02-04T11:48:28.404+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user", parameters={masked}
2026-02-04T11:48:28.405+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@978478132 wrapping com.mysql.cj.jdbc.ConnectionImpl@146f3a86] will not be managed by Spring
2026-02-04T11:48:28.406+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4860032d] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:28.406+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7967fe46] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:28.408+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2139600064 wrapping com.mysql.cj.jdbc.ConnectionImpl@2291fc96] will not be managed by Spring
2026-02-04T11:48:28.406+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@465b1962]
2026-02-04T11:48:28.407+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-02-04T11:48:28.407+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-02-04T11:48:28.407+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:48:28.408+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@647799338 wrapping com.mysql.cj.jdbc.ConnectionImpl@79c2f850] will not be managed by Spring
2026-02-04T11:48:28.408+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:48:28.409+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:28.410+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:28.410+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:28.411+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:48:28.412+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:48:28.413+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:48:28.413+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@406c6c46] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:28.413+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@629a97c3] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:28.413+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4dc73f38] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:28.414+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:48:28.415+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1583545632 wrapping com.mysql.cj.jdbc.ConnectionImpl@324f7915] will not be managed by Spring
2026-02-04T11:48:28.419+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1781781749 wrapping com.mysql.cj.jdbc.ConnectionImpl@3fcccc04] will not be managed by Spring
2026-02-04T11:48:28.420+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@742701694 wrapping com.mysql.cj.jdbc.ConnectionImpl@32047637] will not be managed by Spring
2026-02-04T11:48:28.423+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:48:28.424+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:48:28.425+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:48:28.426+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-02-04T11:48:28.426+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:48:28.428+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:48:28.430+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@402bb34a]
2026-02-04T11:48:28.430+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4860032d]
2026-02-04T11:48:28.431+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 6(Long), 3(Long)
2026-02-04T11:48:28.431+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:48:28.431+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:28.432+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:28.437+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:48:28.438+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68b1255d] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:28.439+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@96050bb] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:28.439+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-02-04T11:48:28.440+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:48:28.440+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:48:28.440+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7967fe46]
2026-02-04T11:48:28.441+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1973254882 wrapping com.mysql.cj.jdbc.ConnectionImpl@146f3a86] will not be managed by Spring
2026-02-04T11:48:28.441+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1104237521 wrapping com.mysql.cj.jdbc.ConnectionImpl@2291fc96] will not be managed by Spring
2026-02-04T11:48:28.442+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@629a97c3]
2026-02-04T11:48:28.442+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@406c6c46]
2026-02-04T11:48:28.444+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4dc73f38]
2026-02-04T11:48:28.445+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:28.445+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:48:28.446+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:48:28.446+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:48:28.515+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-02-04T11:48:28.447+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:28.448+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:28.452+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60167b90] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:28.456+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:48:28.458+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:48:28.522+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:48:28.522+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e81d4f7] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:28.522+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16425b20] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:28.523+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@650456090 wrapping com.mysql.cj.jdbc.ConnectionImpl@79c2f850] will not be managed by Spring
2026-02-04T11:48:28.526+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@229413693 wrapping com.mysql.cj.jdbc.ConnectionImpl@324f7915] will not be managed by Spring
2026-02-04T11:48:28.527+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@124133905 wrapping com.mysql.cj.jdbc.ConnectionImpl@32047637] will not be managed by Spring
2026-02-04T11:48:28.591+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:48:28.604+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:48:28.604+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:48:28.611+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@96050bb]
2026-02-04T11:48:28.605+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:48:28.606+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:48:28.606+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:48:28.611+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68b1255d]
2026-02-04T11:48:28.611+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:48:28.613+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:48:28.620+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:48:28.657+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:28.658+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=1000, totalE (truncated)...]
2026-02-04T11:48:28.662+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:48:28.710+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60167b90]
2026-02-04T11:48:28.710+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:28.711+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@238c829c] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:28.665+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bf40d9f] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:28.670+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:48:28.712+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1888855942 wrapping com.mysql.cj.jdbc.ConnectionImpl@79c2f850] will not be managed by Spring
2026-02-04T11:48:28.713+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1519279217 wrapping com.mysql.cj.jdbc.ConnectionImpl@146f3a86] will not be managed by Spring
2026-02-04T11:48:28.714+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:48:28.773+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:48:28.786+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:48:28.789+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:48:28.786+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:48:28.787+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e81d4f7]
2026-02-04T11:48:28.787+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16425b20]
2026-02-04T11:48:28.793+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:48:28.794+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:48:28.794+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:28.795+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=1000, totalE (truncated)...]
2026-02-04T11:48:28.795+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28e3f506] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:28.800+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@746336353 wrapping com.mysql.cj.jdbc.ConnectionImpl@32047637] will not be managed by Spring
2026-02-04T11:48:28.818+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:48:28.821+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:48:28.796+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:48:28.847+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:48:28.848+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:48:28.849+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:48:28.853+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28e3f506]
2026-02-04T11:48:28.853+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bf40d9f]
2026-02-04T11:48:28.858+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@238c829c]
2026-02-04T11:48:28.859+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:28.901+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53735b6c] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:28.868+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:48:28.869+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:28.874+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:48:28.874+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:48:28.909+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1678761921 wrapping com.mysql.cj.jdbc.ConnectionImpl@32047637] will not be managed by Spring
2026-02-04T11:48:28.909+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=1000, totalE (truncated)...]
2026-02-04T11:48:28.910+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40b3cb08] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:28.920+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:48:28.921+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:48:28.930+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:48:28.924+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@132921824 wrapping com.mysql.cj.jdbc.ConnectionImpl@79c2f850] will not be managed by Spring
2026-02-04T11:48:28.928+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:48:28.939+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:48:28.941+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:48:28.947+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses
2026-02-04T11:48:28.972+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:48:28.973+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user", parameters={masked}
2026-02-04T11:48:28.958+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:48:28.972+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses
2026-02-04T11:48:28.974+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-02-04T11:48:28.976+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:48:28.978+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T11:48:28.987+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:28.989+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53735b6c]
2026-02-04T11:48:28.990+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user", parameters={masked}
2026-02-04T11:48:28.990+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:48:28.992+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b6ba51] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:28.993+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:48:28.993+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-02-04T11:48:28.997+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40b3cb08]
2026-02-04T11:48:28.997+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1996303394 wrapping com.mysql.cj.jdbc.ConnectionImpl@2291fc96] will not be managed by Spring
2026-02-04T11:48:28.997+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=1000, totalE (truncated)...]
2026-02-04T11:48:29.001+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:29.004+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:48:29.005+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:48:29.008+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:48:29.011+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55cb1c8d] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:29.011+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=1000, totalE (truncated)...]
2026-02-04T11:48:29.012+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:48:29.063+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:48:29.091+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1445900030 wrapping com.mysql.cj.jdbc.ConnectionImpl@3fcccc04] will not be managed by Spring
2026-02-04T11:48:29.091+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:48:29.096+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:48:29.097+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b6ba51]
2026-02-04T11:48:29.098+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:48:29.099+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:29.102+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@594a5263] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:29.103+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1863851817 wrapping com.mysql.cj.jdbc.ConnectionImpl@2291fc96] will not be managed by Spring
2026-02-04T11:48:29.109+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:48:29.110+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:48:29.110+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:48:29.115+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55cb1c8d]
2026-02-04T11:48:29.121+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:29.125+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e35306e] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:29.127+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1128562968 wrapping com.mysql.cj.jdbc.ConnectionImpl@3fcccc04] will not be managed by Spring
2026-02-04T11:48:29.128+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T11:48:29.128+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T11:48:29.129+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:48:29.141+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@594a5263]
2026-02-04T11:48:29.148+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:29.156+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37a9c926] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:29.157+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T11:48:29.162+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1023102202 wrapping com.mysql.cj.jdbc.ConnectionImpl@2291fc96] will not be managed by Spring
2026-02-04T11:48:29.163+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e35306e]
2026-02-04T11:48:29.163+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:48:29.164+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:29.165+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:48:29.166+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@484e0bf3] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:29.177+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2135942356 wrapping com.mysql.cj.jdbc.ConnectionImpl@3fcccc04] will not be managed by Spring
2026-02-04T11:48:29.178+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:48:29.179+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:48:29.180+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:48:29.181+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37a9c926]
2026-02-04T11:48:29.181+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:29.182+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e9570ab] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:29.184+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1200385702 wrapping com.mysql.cj.jdbc.ConnectionImpl@2291fc96] will not be managed by Spring
2026-02-04T11:48:29.186+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:48:29.189+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:48:29.193+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:48:29.194+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:48:29.194+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@484e0bf3]
2026-02-04T11:48:29.194+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e9570ab]
2026-02-04T11:48:29.194+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:48:29.195+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c38a3b6] was not registered for synchronization because synchronization is not active
2026-02-04T11:48:29.195+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:48:29.195+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@881926225 wrapping com.mysql.cj.jdbc.ConnectionImpl@3fcccc04] will not be managed by Spring
2026-02-04T11:48:29.195+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=1000, totalE (truncated)...]
2026-02-04T11:48:29.196+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T11:48:29.200+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:48:29.200+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T11:48:29.230+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T11:48:29.231+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c38a3b6]
2026-02-04T11:48:29.232+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:48:29.233+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=1000, totalE (truncated)...]
2026-02-04T11:48:29.234+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:50:27.007+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2026-02-04T11:50:27.019+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2026-02-04T11:50:27.022+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/logout
2026-02-04T11:50:27.027+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2026-02-04T11:50:27.039+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2026-02-04T11:50:27.165+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2026-02-04T11:50:27.238+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiI2IiwidXNlcm5hbWUiOiJ (truncated)...]
2026-02-04T11:50:27.288+09:00  INFO 59308 --- [http-nio-8080-exec-5] SECURITY                                 : LOGOUT userId=6
2026-02-04T11:50:27.311+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:50:27.322+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2026-02-04T11:50:27.338+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:52:35.773+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/check-username?username=test_ceo
2026-02-04T11:52:35.774+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-02-04T11:52:35.774+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/check-username?username=test_ceo
2026-02-04T11:52:35.775+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/check-username?username=test_ceo", parameters={masked}
2026-02-04T11:52:35.777+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#checkUsername(String)
2026-02-04T11:52:35.779+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:52:35.780+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b901c6e] was not registered for synchronization because synchronization is not active
2026-02-04T11:52:35.782+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2144471055 wrapping com.mysql.cj.jdbc.ConnectionImpl@3fcccc04] will not be managed by Spring
2026-02-04T11:52:35.783+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.isUsernameExists      : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE username = ?
2026-02-04T11:52:35.783+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.isUsernameExists      : ==> Parameters: test_ceo(String)
2026-02-04T11:52:35.786+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.isUsernameExists      : <==      Total: 1
2026-02-04T11:52:35.786+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b901c6e]
2026-02-04T11:52:35.787+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:52:35.788+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=이미 사용 중인 username입니다., data={available=false, exists=true})]
2026-02-04T11:52:35.789+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:58:23.229+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/check-username?username=test_ceo
2026-02-04T11:58:23.230+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-02-04T11:58:23.230+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/check-username?username=test_ceo
2026-02-04T11:58:23.230+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/check-username?username=test_ceo", parameters={masked}
2026-02-04T11:58:23.231+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#checkUsername(String)
2026-02-04T11:58:23.231+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:58:23.232+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37759a8c] was not registered for synchronization because synchronization is not active
2026-02-04T11:58:23.235+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1308544923 wrapping com.mysql.cj.jdbc.ConnectionImpl@2291fc96] will not be managed by Spring
2026-02-04T11:58:23.235+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.isUsernameExists      : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE username = ?
2026-02-04T11:58:23.238+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.isUsernameExists      : ==> Parameters: test_ceo(String)
2026-02-04T11:58:23.242+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.isUsernameExists      : <==      Total: 1
2026-02-04T11:58:23.242+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37759a8c]
2026-02-04T11:58:23.245+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:58:23.245+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=이미 사용 중인 username입니다., data={available=false, exists=true})]
2026-02-04T11:58:23.246+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:59:16.233+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/check-email?email=test%40test.com
2026-02-04T11:59:16.237+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-02-04T11:59:16.237+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/check-email?email=test%40test.com
2026-02-04T11:59:16.238+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/check-email?email=test%40test.com", parameters={masked}
2026-02-04T11:59:16.239+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#checkEmail(String)
2026-02-04T11:59:16.240+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:59:16.243+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1df367ce] was not registered for synchronization because synchronization is not active
2026-02-04T11:59:16.249+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1561956250 wrapping com.mysql.cj.jdbc.ConnectionImpl@2291fc96] will not be managed by Spring
2026-02-04T11:59:16.257+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.isEmailExists    : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE email = ?
2026-02-04T11:59:16.259+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.isEmailExists    : ==> Parameters: test@test.com(String)
2026-02-04T11:59:16.260+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.isEmailExists    : <==      Total: 1
2026-02-04T11:59:16.261+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1df367ce]
2026-02-04T11:59:16.261+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:59:16.262+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=이미 사용 중인 이메일입니다., data={available=false, exists=true})]
2026-02-04T11:59:16.263+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T11:59:59.470+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/check-username?username=test_ceo2
2026-02-04T11:59:59.471+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-02-04T11:59:59.471+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/check-username?username=test_ceo2
2026-02-04T11:59:59.472+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/check-username?username=test_ceo2", parameters={masked}
2026-02-04T11:59:59.473+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#checkUsername(String)
2026-02-04T11:59:59.473+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T11:59:59.474+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26627e49] was not registered for synchronization because synchronization is not active
2026-02-04T11:59:59.475+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@363117030 wrapping com.mysql.cj.jdbc.ConnectionImpl@146f3a86] will not be managed by Spring
2026-02-04T11:59:59.476+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.isUsernameExists      : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE username = ?
2026-02-04T11:59:59.477+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.isUsernameExists      : ==> Parameters: test_ceo2(String)
2026-02-04T11:59:59.497+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.isUsernameExists      : <==      Total: 1
2026-02-04T11:59:59.504+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26627e49]
2026-02-04T11:59:59.505+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T11:59:59.506+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용 가능한 username입니다., data={available=true, exists=false})]
2026-02-04T11:59:59.507+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T12:44:43.619+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/check-email?email=test_ceo%40ceo.com
2026-02-04T12:44:43.620+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-02-04T12:44:43.621+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/check-email?email=test_ceo%40ceo.com
2026-02-04T12:44:43.621+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/check-email?email=test_ceo%40ceo.com", parameters={masked}
2026-02-04T12:44:43.622+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#checkEmail(String)
2026-02-04T12:44:43.622+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T12:44:43.622+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@419814f8] was not registered for synchronization because synchronization is not active
2026-02-04T12:44:43.624+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@624404716 wrapping com.mysql.cj.jdbc.ConnectionImpl@10bea422] will not be managed by Spring
2026-02-04T12:44:43.625+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.isEmailExists    : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE email = ?
2026-02-04T12:44:43.627+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.isEmailExists    : ==> Parameters: test_ceo@ceo.com(String)
2026-02-04T12:44:43.629+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.isEmailExists    : <==      Total: 1
2026-02-04T12:44:43.630+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@419814f8]
2026-02-04T12:44:43.631+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T12:44:43.632+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용 가능한 이메일입니다., data={available=true, exists=false})]
2026-02-04T12:44:43.633+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T12:44:45.009+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/register
2026-02-04T12:44:45.012+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/register
2026-02-04T12:44:45.014+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-02-04T12:44:45.015+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/register
2026-02-04T12:44:45.015+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/register", parameters={}
2026-02-04T12:44:45.017+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#register(RegisterRequest)
2026-02-04T12:44:45.034+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RegisterRequest(username=test_ceo2, password=1234, koreanName=null, email=test_ceo@ce (truncated)...]
2026-02-04T12:44:45.062+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.innersignature.backend.exception.GlobalExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2026-02-04T12:44:45.065+09:00  WARN 59308 --- [http-nio-8080-exec-5] c.i.b.exception.GlobalExceptionHandler   : 입력 검증 실패: {koreanName=이름은 필수입니다.}
2026-02-04T12:44:45.066+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T12:44:45.067+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, message=입력값 검증에 실패했습니다., data={koreanName=이름은 필수입니다.})]
2026-02-04T12:44:45.068+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public com.innersignature.backend.dto.ApiResponse<java.lang.String> com.innersignature.backend.controller.UserController.register(com.innersignature.backend.controller.UserController$RegisterRequest): [Field error in object 'registerRequest' on field 'koreanName': rejected value [null]; codes [NotBlank.registerRequest.koreanName,NotBlank.koreanName,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.koreanName,koreanName]; arguments []; default message [koreanName]]; default message [이름은 필수입니다.]] ]
2026-02-04T12:44:45.072+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2026-02-04T12:45:11.064+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/register
2026-02-04T12:45:11.065+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-02-04T12:45:11.065+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/register
2026-02-04T12:45:11.065+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/register", parameters={}
2026-02-04T12:45:11.066+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#register(RegisterRequest)
2026-02-04T12:45:11.066+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RegisterRequest(username=test_ceo2, password=1234, koreanName=null, email=test_ceo@ce (truncated)...]
2026-02-04T12:45:11.069+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.innersignature.backend.exception.GlobalExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2026-02-04T12:45:11.069+09:00  WARN 59308 --- [http-nio-8080-exec-1] c.i.b.exception.GlobalExceptionHandler   : 입력 검증 실패: {koreanName=이름은 필수입니다.}
2026-02-04T12:45:11.070+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T12:45:11.077+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, message=입력값 검증에 실패했습니다., data={koreanName=이름은 필수입니다.})]
2026-02-04T12:45:11.083+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public com.innersignature.backend.dto.ApiResponse<java.lang.String> com.innersignature.backend.controller.UserController.register(com.innersignature.backend.controller.UserController$RegisterRequest): [Field error in object 'registerRequest' on field 'koreanName': rejected value [null]; codes [NotBlank.registerRequest.koreanName,NotBlank.koreanName,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.koreanName,koreanName]; arguments []; default message [koreanName]]; default message [이름은 필수입니다.]] ]
2026-02-04T12:45:11.085+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2026-02-04T12:45:12.966+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/register
2026-02-04T12:45:12.967+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-02-04T12:45:12.967+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/register
2026-02-04T12:45:12.968+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/register", parameters={}
2026-02-04T12:45:12.968+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#register(RegisterRequest)
2026-02-04T12:45:12.968+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RegisterRequest(username=test_ceo2, password=1234, koreanName=null, email=test_ceo@ce (truncated)...]
2026-02-04T12:45:12.969+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.innersignature.backend.exception.GlobalExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2026-02-04T12:45:12.970+09:00  WARN 59308 --- [http-nio-8080-exec-4] c.i.b.exception.GlobalExceptionHandler   : 입력 검증 실패: {koreanName=이름은 필수입니다.}
2026-02-04T12:45:12.970+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T12:45:12.970+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, message=입력값 검증에 실패했습니다., data={koreanName=이름은 필수입니다.})]
2026-02-04T12:45:12.971+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public com.innersignature.backend.dto.ApiResponse<java.lang.String> com.innersignature.backend.controller.UserController.register(com.innersignature.backend.controller.UserController$RegisterRequest): [Field error in object 'registerRequest' on field 'koreanName': rejected value [null]; codes [NotBlank.registerRequest.koreanName,NotBlank.koreanName,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.koreanName,koreanName]; arguments []; default message [koreanName]]; default message [이름은 필수입니다.]] ]
2026-02-04T12:45:12.975+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2026-02-04T12:47:34.533+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/register
2026-02-04T12:47:34.534+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-02-04T12:47:34.534+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/register
2026-02-04T12:47:34.535+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/register", parameters={}
2026-02-04T12:47:34.535+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#register(RegisterRequest)
2026-02-04T12:47:34.536+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RegisterRequest(username=test_ceo2, password=1234, koreanName=null, email=test_ceo@ce (truncated)...]
2026-02-04T12:47:34.546+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.innersignature.backend.exception.GlobalExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2026-02-04T12:47:34.547+09:00  WARN 59308 --- [http-nio-8080-exec-3] c.i.b.exception.GlobalExceptionHandler   : 입력 검증 실패: {koreanName=이름은 필수입니다.}
2026-02-04T12:47:34.547+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T12:47:34.548+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, message=입력값 검증에 실패했습니다., data={koreanName=이름은 필수입니다.})]
2026-02-04T12:47:34.549+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public com.innersignature.backend.dto.ApiResponse<java.lang.String> com.innersignature.backend.controller.UserController.register(com.innersignature.backend.controller.UserController$RegisterRequest): [Field error in object 'registerRequest' on field 'koreanName': rejected value [null]; codes [NotBlank.registerRequest.koreanName,NotBlank.koreanName,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.koreanName,koreanName]; arguments []; default message [koreanName]]; default message [이름은 필수입니다.]] ]
2026-02-04T12:47:34.550+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2026-02-04T13:22:26.511+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/check-username?username=test_user
2026-02-04T13:22:26.512+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-02-04T13:22:26.513+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/check-username?username=test_user
2026-02-04T13:22:26.513+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/check-username?username=test_user", parameters={masked}
2026-02-04T13:22:26.515+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#checkUsername(String)
2026-02-04T13:22:26.517+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:22:26.518+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@194721eb] was not registered for synchronization because synchronization is not active
2026-02-04T13:22:26.522+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@882091613 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d517c4f] will not be managed by Spring
2026-02-04T13:22:26.523+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.isUsernameExists      : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE username = ?
2026-02-04T13:22:26.524+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.isUsernameExists      : ==> Parameters: test_user(String)
2026-02-04T13:22:26.535+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.isUsernameExists      : <==      Total: 1
2026-02-04T13:22:26.536+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@194721eb]
2026-02-04T13:22:26.538+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:22:26.539+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=이미 사용 중인 username입니다., data={available=false, exists=true})]
2026-02-04T13:22:26.540+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T13:30:04.411+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/check-username?username=test_user
2026-02-04T13:30:04.413+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-02-04T13:30:04.413+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/check-username?username=test_user
2026-02-04T13:30:04.413+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/check-username?username=test_user", parameters={masked}
2026-02-04T13:30:04.414+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#checkUsername(String)
2026-02-04T13:30:04.414+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:30:04.415+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3771dde8] was not registered for synchronization because synchronization is not active
2026-02-04T13:30:04.425+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@334137276 wrapping com.mysql.cj.jdbc.ConnectionImpl@32c118ba] will not be managed by Spring
2026-02-04T13:30:04.429+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.isUsernameExists      : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE username = ?
2026-02-04T13:30:04.432+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.isUsernameExists      : ==> Parameters: test_user(String)
2026-02-04T13:30:04.491+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.isUsernameExists      : <==      Total: 1
2026-02-04T13:30:04.493+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3771dde8]
2026-02-04T13:30:04.494+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:30:04.497+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=이미 사용 중인 username입니다., data={available=false, exists=true})]
2026-02-04T13:30:04.501+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T13:37:09.656+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/check-username?username=test_ceo2
2026-02-04T13:37:09.657+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-02-04T13:37:09.657+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/check-username?username=test_ceo2
2026-02-04T13:37:09.657+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/check-username?username=test_ceo2", parameters={masked}
2026-02-04T13:37:09.658+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#checkUsername(String)
2026-02-04T13:37:09.664+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:37:09.674+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b471562] was not registered for synchronization because synchronization is not active
2026-02-04T13:37:09.716+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@411648436 wrapping com.mysql.cj.jdbc.ConnectionImpl@76d58a6f] will not be managed by Spring
2026-02-04T13:37:09.724+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.isUsernameExists      : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE username = ?
2026-02-04T13:37:09.724+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.isUsernameExists      : ==> Parameters: test_ceo2(String)
2026-02-04T13:37:09.733+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.isUsernameExists      : <==      Total: 1
2026-02-04T13:37:09.734+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b471562]
2026-02-04T13:37:09.735+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:37:09.745+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용 가능한 username입니다., data={available=true, exists=false})]
2026-02-04T13:37:09.747+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T13:37:26.533+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/register
2026-02-04T13:37:26.581+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/register
2026-02-04T13:37:26.583+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-02-04T13:37:26.583+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/register
2026-02-04T13:37:26.584+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/register", parameters={}
2026-02-04T13:37:26.584+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#register(RegisterRequest)
2026-02-04T13:37:26.599+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RegisterRequest(username=test_ceo2, password=1234, koreanName=null, email=test_ceo@ce (truncated)...]
2026-02-04T13:37:26.612+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.innersignature.backend.exception.GlobalExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2026-02-04T13:37:26.613+09:00  WARN 59308 --- [http-nio-8080-exec-5] c.i.b.exception.GlobalExceptionHandler   : 입력 검증 실패: {koreanName=이름은 필수입니다.}
2026-02-04T13:37:26.614+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:37:26.615+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, message=입력값 검증에 실패했습니다., data={koreanName=이름은 필수입니다.})]
2026-02-04T13:37:26.618+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public com.innersignature.backend.dto.ApiResponse<java.lang.String> com.innersignature.backend.controller.UserController.register(com.innersignature.backend.controller.UserController$RegisterRequest): [Field error in object 'registerRequest' on field 'koreanName': rejected value [null]; codes [NotBlank.registerRequest.koreanName,NotBlank.koreanName,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.koreanName,koreanName]; arguments []; default message [koreanName]]; default message [이름은 필수입니다.]] ]
2026-02-04T13:37:26.619+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2026-02-04T13:37:27.954+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/check-email?email=test_ceo%40ceo.com
2026-02-04T13:37:27.954+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-02-04T13:37:27.955+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/check-email?email=test_ceo%40ceo.com
2026-02-04T13:37:27.955+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/check-email?email=test_ceo%40ceo.com", parameters={masked}
2026-02-04T13:37:27.956+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#checkEmail(String)
2026-02-04T13:37:27.957+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:37:27.957+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fad012] was not registered for synchronization because synchronization is not active
2026-02-04T13:37:27.962+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1030938972 wrapping com.mysql.cj.jdbc.ConnectionImpl@76d58a6f] will not be managed by Spring
2026-02-04T13:37:27.963+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.isEmailExists    : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE email = ?
2026-02-04T13:37:27.963+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.isEmailExists    : ==> Parameters: test_ceo@ceo.com(String)
2026-02-04T13:37:27.966+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.isEmailExists    : <==      Total: 1
2026-02-04T13:37:27.966+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fad012]
2026-02-04T13:37:27.975+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:37:27.980+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용 가능한 이메일입니다., data={available=true, exists=false})]
2026-02-04T13:37:27.982+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T13:37:29.227+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/register
2026-02-04T13:37:29.231+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/register
2026-02-04T13:37:29.232+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-02-04T13:37:29.232+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/register
2026-02-04T13:37:29.233+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/register", parameters={}
2026-02-04T13:37:29.234+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#register(RegisterRequest)
2026-02-04T13:37:29.235+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RegisterRequest(username=test_ceo2, password=1234, koreanName=null, email=test_ceo@ce (truncated)...]
2026-02-04T13:37:29.239+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.innersignature.backend.exception.GlobalExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2026-02-04T13:37:29.252+09:00  WARN 59308 --- [http-nio-8080-exec-3] c.i.b.exception.GlobalExceptionHandler   : 입력 검증 실패: {koreanName=이름은 필수입니다.}
2026-02-04T13:37:29.255+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:37:29.264+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, message=입력값 검증에 실패했습니다., data={koreanName=이름은 필수입니다.})]
2026-02-04T13:37:29.266+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public com.innersignature.backend.dto.ApiResponse<java.lang.String> com.innersignature.backend.controller.UserController.register(com.innersignature.backend.controller.UserController$RegisterRequest): [Field error in object 'registerRequest' on field 'koreanName': rejected value [null]; codes [NotBlank.registerRequest.koreanName,NotBlank.koreanName,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.koreanName,koreanName]; arguments []; default message [koreanName]]; default message [이름은 필수입니다.]] ]
2026-02-04T13:37:29.271+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2026-02-04T13:40:05.686+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/register
2026-02-04T13:40:05.702+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/register
2026-02-04T13:40:05.703+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-02-04T13:40:05.717+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/register
2026-02-04T13:40:05.717+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/register", parameters={}
2026-02-04T13:40:05.718+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#register(RegisterRequest)
2026-02-04T13:40:05.719+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RegisterRequest(username=test_ceo2, password=1234, koreanName=test_ceo2, email=test_c (truncated)...]
2026-02-04T13:40:05.731+09:00  INFO 59308 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 회원가입 시도 - username: test_ceo2, koreanName: test_ceo2, role: CEO
2026-02-04T13:40:05.735+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:40:05.737+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e81b740] was not registered for synchronization because synchronization is not active
2026-02-04T13:40:05.748+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@559727634 wrapping com.mysql.cj.jdbc.ConnectionImpl@76d58a6f] will not be managed by Spring
2026-02-04T13:40:05.749+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.isUsernameExists      : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE username = ?
2026-02-04T13:40:05.750+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.isUsernameExists      : ==> Parameters: test_ceo2(String)
2026-02-04T13:40:05.791+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.isUsernameExists      : <==      Total: 1
2026-02-04T13:40:05.795+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e81b740]
2026-02-04T13:40:05.796+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:40:05.797+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7951c1ff] was not registered for synchronization because synchronization is not active
2026-02-04T13:40:05.798+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@248039551 wrapping com.mysql.cj.jdbc.ConnectionImpl@76d58a6f] will not be managed by Spring
2026-02-04T13:40:05.798+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.isEmailExists    : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE email = ?
2026-02-04T13:40:05.798+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.isEmailExists    : ==> Parameters: test_ceo2@test.com(String)
2026-02-04T13:40:05.800+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.isEmailExists    : <==      Total: 1
2026-02-04T13:40:05.801+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7951c1ff]
2026-02-04T13:40:05.942+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:40:05.942+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f821a1] was not registered for synchronization because synchronization is not active
2026-02-04T13:40:05.944+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1322340696 wrapping com.mysql.cj.jdbc.ConnectionImpl@76d58a6f] will not be managed by Spring
2026-02-04T13:40:05.944+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.backend.mapper.UserMapper.register   : ==>  Preparing: INSERT INTO user_tb (username, password, korean_name, email, position, role, company_id, is_active, approval_status) VALUES (?, ?, ?, ?, ?, ?, ?, COALESCE(?, 1), COALESCE(?, 'APPROVED'))
2026-02-04T13:40:05.958+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.backend.mapper.UserMapper.register   : ==> Parameters: test_ceo2(String), $2a$10$s.ZYQitGxvhdxx3s7s0w0eNquf.2HhgK57EnCkDhieXFrF9vaRYVO(String), test_ceo2(String), test_ceo2@test.com(String), 대표(String), CEO(String), null, true(Boolean), APPROVED(String)
2026-02-04T13:40:06.266+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.backend.mapper.UserMapper.register   : <==    Updates: 1
2026-02-04T13:40:06.267+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f821a1]
2026-02-04T13:40:06.267+09:00  INFO 59308 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 회원가입 완료 - username: test_ceo2, role: CEO
2026-02-04T13:40:06.268+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:40:06.268+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회원가입이 완료되었습니다., data=null)]
2026-02-04T13:40:06.270+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T13:40:12.955+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2026-02-04T13:40:12.958+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2026-02-04T13:40:12.959+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-02-04T13:40:12.973+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2026-02-04T13:40:12.974+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2026-02-04T13:40:12.974+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2026-02-04T13:40:12.975+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_ceo2, password=1234)]
2026-02-04T13:40:12.976+09:00  INFO 59308 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 로그인 시도 - username: test_ceo2
2026-02-04T13:40:12.977+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:40:12.977+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4126ef6a] was not registered for synchronization because synchronization is not active
2026-02-04T13:40:12.981+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@142409639 wrapping com.mysql.cj.jdbc.ConnectionImpl@76d58a6f] will not be managed by Spring
2026-02-04T13:40:12.981+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2026-02-04T13:40:12.982+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_ceo2(String)
2026-02-04T13:40:13.013+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2026-02-04T13:40:13.017+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4126ef6a]
2026-02-04T13:40:13.155+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:40:13.157+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@466c9a21] was not registered for synchronization because synchronization is not active
2026-02-04T13:40:13.158+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1648231083 wrapping com.mysql.cj.jdbc.ConnectionImpl@76d58a6f] will not be managed by Spring
2026-02-04T13:40:13.159+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-02-04T13:40:13.162+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 27(Long)
2026-02-04T13:40:13.209+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 0
2026-02-04T13:40:13.210+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@466c9a21]
2026-02-04T13:40:13.215+09:00  INFO 59308 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 로그인 성공 - userId: 27, role: CEO, companyId: null
2026-02-04T13:40:13.216+09:00  INFO 59308 --- [http-nio-8080-exec-9] SECURITY                                 : LOGIN_SUCCESS userId=27 username=test_ceo2 role=CEO
2026-02-04T13:40:13.217+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:40:13.218+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=27, username=test_ceo2, password (truncated)...]
2026-02-04T13:40:13.219+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T13:40:13.574+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2026-02-04T13:40:13.594+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2026-02-04T13:40:13.624+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 27, role: CEO, companyId: null, uri: /api/companies
2026-02-04T13:40:13.634+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2026-02-04T13:40:13.643+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2026-02-04T13:40:13.667+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2026-02-04T13:40:13.711+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:40:13.825+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54b6b62a] was not registered for synchronization because synchronization is not active
2026-02-04T13:40:13.882+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@121379399 wrapping com.mysql.cj.jdbc.ConnectionImpl@76d58a6f] will not be managed by Spring
2026-02-04T13:40:13.887+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2026-02-04T13:40:13.890+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 27(Long)
2026-02-04T13:40:13.987+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 0
2026-02-04T13:40:14.004+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54b6b62a]
2026-02-04T13:40:14.019+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:40:14.023+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-02-04T13:40:14.027+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T13:40:14.326+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-02-04T13:40:14.329+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-02-04T13:40:14.339+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/payment-method-summary?startDate=2026-02-01&endDate=2026-02-28&status%5B%5D=APPROVED
2026-02-04T13:40:14.362+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2026-02-04T13:40:14.363+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2026-02-04T13:40:14.415+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2026-02-04T13:40:14.612+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/dashboard/category-ratio?startDate=2026-02-01&endDate=2026-02-28
2026-02-04T13:40:14.686+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/dashboard/user-stats?startDate=2026-02-01&endDate=2026-02-28
2026-02-04T13:40:14.719+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2026-02-04T13:40:14.729+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2026-02-04T13:40:14.802+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/credits/total
2026-02-04T13:40:14.803+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28
2026-02-04T13:40:14.814+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-02-04T13:40:14.815+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2026-02-04T13:40:14.818+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2026-02-04T13:40:14.842+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/payment-method-summary?startDate=2026-02-01&endDate=2026-02-28&status%5B%5D=APPROVED
2026-02-04T13:40:14.843+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/dashboard/category-ratio?startDate=2026-02-01&endDate=2026-02-28
2026-02-04T13:40:14.843+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/dashboard/user-stats?startDate=2026-02-01&endDate=2026-02-28
2026-02-04T13:40:14.894+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28
2026-02-04T13:40:14.896+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2026-02-04T13:40:14.897+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/credits/total
2026-02-04T13:40:14.898+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-02-04T13:40:14.899+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-02-04T13:40:14.899+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/payment-method-summary?startDate=2026-02-01&endDate=2026-02-28&status%5B%5D=APPROVED
2026-02-04T13:40:14.910+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2026-02-04T13:40:14.912+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2026-02-04T13:40:14.916+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio?startDate=2026-02-01&endDate=2026-02-28
2026-02-04T13:40:14.946+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 27, role: CEO, companyId: null, uri: /api/expenses/pending-approvals
2026-02-04T13:40:14.948+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 27, role: CEO, companyId: null, uri: /api/expenses/payment-method-summary
2026-02-04T13:40:14.949+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 27, role: CEO, companyId: null, uri: /api/users/pending
2026-02-04T13:40:14.949+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 27, role: CEO, companyId: null, uri: /api/users/pending
2026-02-04T13:40:14.951+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 27, role: CEO, companyId: null, uri: /api/expenses/dashboard/category-ratio
2026-02-04T13:40:14.951+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 27, role: CEO, companyId: null, uri: /api/expenses/pending-approvals
2026-02-04T13:40:14.952+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-02-04T13:40:14.965+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/payment-method-summary?startDate=2026-02-01&endDate=2026-02-28&status%5B%5D=APPROVED
2026-02-04T13:40:14.967+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2026-02-04T13:40:14.973+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2026-02-04T13:40:14.968+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2026-02-04T13:40:14.985+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2026-02-04T13:40:14.968+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio?startDate=2026-02-01&endDate=2026-02-28
2026-02-04T13:40:14.969+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-02-04T13:40:14.986+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio?startDate=2026-02-01&endDate=2026-02-28", parameters={masked}
2026-02-04T13:40:14.969+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-02-04T13:40:14.970+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/payment-method-summary?startDate=2026-02-01&endDate=2026-02-28&status%5B%5D=APPROVED", parameters={masked}
2026-02-04T13:40:14.985+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2026-02-04T13:40:14.986+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-02-04T13:40:14.986+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:40:14.986+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2026-02-04T13:40:14.994+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPaymentMethodSummary(String, String, String[], Boolean)
2026-02-04T13:40:14.994+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2026-02-04T13:40:14.994+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-02-04T13:40:14.995+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@470e4144] was not registered for synchronization because synchronization is not active
2026-02-04T13:40:15.001+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:40:15.002+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:40:15.012+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d977243] was not registered for synchronization because synchronization is not active
2026-02-04T13:40:15.015+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5038fe0e] was not registered for synchronization because synchronization is not active
2026-02-04T13:40:15.019+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1927455970 wrapping com.mysql.cj.jdbc.ConnectionImpl@76d58a6f] will not be managed by Spring
2026-02-04T13:40:15.020+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T13:40:15.022+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2100821405 wrapping com.mysql.cj.jdbc.ConnectionImpl@6caae75e] will not be managed by Spring
2026-02-04T13:40:15.025+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@288804534 wrapping com.mysql.cj.jdbc.ConnectionImpl@12051da1] will not be managed by Spring
2026-02-04T13:40:14.991+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-02-04T13:40:15.029+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-02-04T13:40:15.029+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:40:15.032+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c10b0eb] was not registered for synchronization because synchronization is not active
2026-02-04T13:40:15.034+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 27(Long), null
2026-02-04T13:40:15.037+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@982289794 wrapping com.mysql.cj.jdbc.ConnectionImpl@241aaa78] will not be managed by Spring
2026-02-04T13:40:15.045+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-02-04T13:40:15.048+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-02-04T13:40:15.051+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 27(Long), null
2026-02-04T13:40:15.066+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-02-04T13:40:15.067+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5038fe0e]
2026-02-04T13:40:15.029+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T13:40:15.034+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 27(Long)
2026-02-04T13:40:15.109+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 27(Long)
2026-02-04T13:40:15.068+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:40:15.112+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getPaymentMethodSummary(java.lang.String,java.lang.String,java.lang.String[],java.lang.Boolean); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-02-04T13:40:15.115+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-02-04T13:40:15.116+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T13:40:15.130+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/user-stats?startDate=2026-02-01&endDate=2026-02-28
2026-02-04T13:40:15.146+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T13:40:15.148+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@470e4144]
2026-02-04T13:40:15.149+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 27, role: CEO, companyId: null, uri: /api/expenses/dashboard/user-stats
2026-02-04T13:40:15.169+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/user-stats?startDate=2026-02-01&endDate=2026-02-28
2026-02-04T13:40:15.169+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/user-stats?startDate=2026-02-01&endDate=2026-02-28", parameters={masked}
2026-02-04T13:40:15.181+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getUserExpenseStats(String, String)
2026-02-04T13:40:15.181+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:40:15.182+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-02-04T13:40:15.182+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getUserExpenseStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-02-04T13:40:15.183+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T13:40:15.186+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2026-02-04T13:40:15.203+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 27, role: CEO, companyId: null, uri: /api/users/pending
2026-02-04T13:40:15.213+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2026-02-04T13:40:15.216+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T13:40:15.234+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2026-02-04T13:40:15.235+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d977243]
2026-02-04T13:40:15.235+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2026-02-04T13:40:15.235+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:40:15.247+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:40:15.248+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-02-04T13:40:15.249+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2786b275] was not registered for synchronization because synchronization is not active
2026-02-04T13:40:15.250+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T13:40:15.251+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@51050761 wrapping com.mysql.cj.jdbc.ConnectionImpl@76d58a6f] will not be managed by Spring
2026-02-04T13:40:15.261+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2026-02-04T13:40:15.263+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T13:40:15.264+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getUserExpenseStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-02-04T13:40:15.274+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 27(Long)
2026-02-04T13:40:15.278+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 27, role: CEO, companyId: null, uri: /api/subscriptions/current
2026-02-04T13:40:15.278+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getPaymentMethodSummary(java.lang.String,java.lang.String,java.lang.String[],java.lang.Boolean); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-02-04T13:40:15.279+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-02-04T13:40:15.283+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2026-02-04T13:40:15.284+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2026-02-04T13:40:15.294+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2026-02-04T13:40:15.295+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T13:40:15.297+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2786b275]
2026-02-04T13:40:15.300+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:40:15.311+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-02-04T13:40:15.312+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:40:15.314+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@637f77b1] was not registered for synchronization because synchronization is not active
2026-02-04T13:40:15.314+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T13:40:15.316+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:40:15.326+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2026-02-04T13:40:15.331+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50b5501b] was not registered for synchronization because synchronization is not active
2026-02-04T13:40:15.330+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:40:15.333+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1915381182 wrapping com.mysql.cj.jdbc.ConnectionImpl@76d58a6f] will not be managed by Spring
2026-02-04T13:40:15.333+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectUserExpenseStats         : ==>  Preparing: SELECT u.user_id AS userId, u.korean_name AS userName, COALESCE(SUM(COALESCE(r.actual_paid_amount, r.total_amount)), 0) AS totalAmount, COUNT(r.expense_report_id) AS itemCount FROM user_tb u LEFT JOIN expense_report_tb r ON u.user_id = r.drafter_id AND r.company_id = ? AND r.status = 'APPROVED' AND r.report_date >= ? AND r.report_date <= ? WHERE u.company_id = ? GROUP BY u.user_id, u.korean_name ORDER BY totalAmount DESC
2026-02-04T13:40:15.333+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fd61731] was not registered for synchronization because synchronization is not active
2026-02-04T13:40:15.334+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 27, role: CEO, companyId: null, uri: /api/users/companies
2026-02-04T13:40:15.335+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectUserExpenseStats         : ==> Parameters: null, 2026-02-01(LocalDate), 2026-02-28(LocalDate), null
2026-02-04T13:40:15.336+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1164494009 wrapping com.mysql.cj.jdbc.ConnectionImpl@12051da1] will not be managed by Spring
2026-02-04T13:40:15.336+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2026-02-04T13:40:15.383+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(COALESCE(d.actual_paid_amount, d.amount)), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? AND r.status = 'APPROVED' AND r.report_date >= ? AND r.report_date <= ? GROUP BY d.category ORDER BY amount DESC
2026-02-04T13:40:15.427+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2026-02-04T13:40:15.427+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-02-04T13:40:15.429+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: null, 2026-02-01(LocalDate), 2026-02-28(LocalDate)
2026-02-04T13:40:15.430+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2026-02-04T13:40:15.430+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c10b0eb]
2026-02-04T13:40:15.433+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:40:15.433+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:40:15.433+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@209b5c87] was not registered for synchronization because synchronization is not active
2026-02-04T13:40:15.434+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-02-04T13:40:15.434+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1996255348 wrapping com.mysql.cj.jdbc.ConnectionImpl@6caae75e] will not be managed by Spring
2026-02-04T13:40:15.435+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T13:40:15.437+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-02-04T13:40:15.448+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/credits/total
2026-02-04T13:40:15.450+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 27(Long)
2026-02-04T13:40:15.460+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 27, role: CEO, companyId: null, uri: /api/credits/total
2026-02-04T13:40:15.463+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/credits/total
2026-02-04T13:40:15.482+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/credits/total", parameters={}
2026-02-04T13:40:15.483+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CreditController#getTotalAvailableAmount()
2026-02-04T13:40:15.625+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.E.selectCategoryRatio            : <==      Total: 0
2026-02-04T13:40:15.485+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectUserExpenseStats         : <==      Total: 0
2026-02-04T13:40:15.626+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 0
2026-02-04T13:40:15.626+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2026-02-04T13:40:15.629+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2026-02-04T13:40:15.632+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fd61731]
2026-02-04T13:40:15.633+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50b5501b]
2026-02-04T13:40:15.645+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@209b5c87]
2026-02-04T13:40:15.646+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2026-02-04T13:40:15.647+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2026-02-04T13:40:15.658+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:40:15.659+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:40:15.660+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-02-04T13:40:15.660+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용자별 지출 통계 조회 성공, data=[])]
2026-02-04T13:40:15.661+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T13:40:15.679+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:40:15.680+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28
2026-02-04T13:40:15.684+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T13:40:15.702+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, message=회사 정보를 찾을 수 없습니다., data=null)]
2026-02-04T13:40:15.707+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 27, role: CEO, companyId: null, uri: /api/expenses
2026-02-04T13:40:15.708+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-02-04T13:40:15.710+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2026-02-04T13:40:15.729+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28
2026-02-04T13:40:15.743+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 27, role: CEO, companyId: null, uri: /api/expenses/pending-approvals
2026-02-04T13:40:15.749+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2026-02-04T13:40:15.750+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28", parameters={masked}
2026-02-04T13:40:15.751+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-02-04T13:40:15.753+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 27, role: CEO, companyId: null, uri: /api/users/pending
2026-02-04T13:40:15.759+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-02-04T13:40:15.769+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-02-04T13:40:15.770+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2026-02-04T13:40:15.775+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:40:15.784+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-02-04T13:40:15.784+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2026-02-04T13:40:15.796+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:40:15.786+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61a43e8b] was not registered for synchronization because synchronization is not active
2026-02-04T13:40:15.796+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2026-02-04T13:40:15.796+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@110ba206] was not registered for synchronization because synchronization is not active
2026-02-04T13:40:15.797+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@455162204 wrapping com.mysql.cj.jdbc.ConnectionImpl@6caae75e] will not be managed by Spring
2026-02-04T13:40:15.801+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:40:15.802+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1799626164 wrapping com.mysql.cj.jdbc.ConnectionImpl@76d58a6f] will not be managed by Spring
2026-02-04T13:40:15.815+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T13:40:15.817+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@186f592] was not registered for synchronization because synchronization is not active
2026-02-04T13:40:15.820+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-02-04T13:40:15.826+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 27(Long)
2026-02-04T13:40:15.832+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1495391920 wrapping com.mysql.cj.jdbc.ConnectionImpl@12051da1] will not be managed by Spring
2026-02-04T13:40:15.834+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 27(Long), null
2026-02-04T13:40:15.862+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T13:40:15.867+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61a43e8b]
2026-02-04T13:40:15.845+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T13:40:15.881+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:40:15.882+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 27(Long)
2026-02-04T13:40:15.884+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:40:15.896+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d1e96d9] was not registered for synchronization because synchronization is not active
2026-02-04T13:40:15.897+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[])]
2026-02-04T13:40:15.898+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2106505111 wrapping com.mysql.cj.jdbc.ConnectionImpl@6caae75e] will not be managed by Spring
2026-02-04T13:40:15.903+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T13:40:15.904+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 27(Long)
2026-02-04T13:40:15.899+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T13:40:15.917+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/payment-method-summary?startDate=2026-02-01&endDate=2026-02-28&status%5B%5D=APPROVED
2026-02-04T13:40:15.926+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-02-04T13:40:15.927+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T13:40:15.929+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@110ba206]
2026-02-04T13:40:15.930+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@186f592]
2026-02-04T13:40:15.931+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:40:15.944+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:40:15.945+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-02-04T13:40:15.946+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-02-04T13:40:15.952+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T13:40:15.958+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 27, role: CEO, companyId: null, uri: /api/expenses/payment-method-summary
2026-02-04T13:40:15.960+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T13:40:15.980+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio?startDate=2026-02-01&endDate=2026-02-28
2026-02-04T13:40:15.985+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/payment-method-summary?startDate=2026-02-01&endDate=2026-02-28&status%5B%5D=APPROVED
2026-02-04T13:40:15.993+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/user-stats?startDate=2026-02-01&endDate=2026-02-28
2026-02-04T13:40:15.999+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 27, role: CEO, companyId: null, uri: /api/expenses/dashboard/category-ratio
2026-02-04T13:40:16.036+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/payment-method-summary?startDate=2026-02-01&endDate=2026-02-28&status%5B%5D=APPROVED", parameters={masked}
2026-02-04T13:40:16.042+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T13:40:16.059+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d1e96d9]
2026-02-04T13:40:16.044+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 27, role: CEO, companyId: null, uri: /api/expenses/dashboard/user-stats
2026-02-04T13:40:16.052+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio?startDate=2026-02-01&endDate=2026-02-28
2026-02-04T13:40:16.058+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPaymentMethodSummary(String, String, String[], Boolean)
2026-02-04T13:40:16.060+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:40:16.061+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/user-stats?startDate=2026-02-01&endDate=2026-02-28
2026-02-04T13:40:16.061+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio?startDate=2026-02-01&endDate=2026-02-28", parameters={masked}
2026-02-04T13:40:16.065+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getPaymentMethodSummary(java.lang.String,java.lang.String,java.lang.String[],java.lang.Boolean); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-02-04T13:40:16.065+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dc295a4] was not registered for synchronization because synchronization is not active
2026-02-04T13:40:16.068+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2026-02-04T13:40:16.069+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1948480667 wrapping com.mysql.cj.jdbc.ConnectionImpl@6caae75e] will not be managed by Spring
2026-02-04T13:40:16.066+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/user-stats?startDate=2026-02-01&endDate=2026-02-28", parameters={masked}
2026-02-04T13:40:16.072+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getPaymentMethodSummary(java.lang.String,java.lang.String,java.lang.String[],java.lang.Boolean); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-02-04T13:40:16.075+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T13:40:16.079+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getUserExpenseStats(String, String)
2026-02-04T13:40:16.091+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getUserExpenseStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-02-04T13:40:16.079+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-02-04T13:40:16.081+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:40:16.090+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2026-02-01(LocalDate), 2026-02-28(LocalDate), 2147483647(Integer), 0(Integer)
2026-02-04T13:40:16.093+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getUserExpenseStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-02-04T13:40:16.095+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-02-04T13:40:16.096+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@345ebe7e] was not registered for synchronization because synchronization is not active
2026-02-04T13:40:16.098+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:40:16.098+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@207c619b] was not registered for synchronization because synchronization is not active
2026-02-04T13:40:16.113+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@846949115 wrapping com.mysql.cj.jdbc.ConnectionImpl@76d58a6f] will not be managed by Spring
2026-02-04T13:40:16.118+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:40:16.124+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(COALESCE(d.actual_paid_amount, d.amount)), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? AND r.status = 'APPROVED' AND r.report_date >= ? AND r.report_date <= ? GROUP BY d.category ORDER BY amount DESC
2026-02-04T13:40:16.135+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e1c533] was not registered for synchronization because synchronization is not active
2026-02-04T13:40:16.137+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: null, 2026-02-01(LocalDate), 2026-02-28(LocalDate)
2026-02-04T13:40:16.145+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T13:40:16.194+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@753374489 wrapping com.mysql.cj.jdbc.ConnectionImpl@241aaa78] will not be managed by Spring
2026-02-04T13:40:16.312+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.E.selectUserExpenseStats         : ==>  Preparing: SELECT u.user_id AS userId, u.korean_name AS userName, COALESCE(SUM(COALESCE(r.actual_paid_amount, r.total_amount)), 0) AS totalAmount, COUNT(r.expense_report_id) AS itemCount FROM user_tb u LEFT JOIN expense_report_tb r ON u.user_id = r.drafter_id AND r.company_id = ? AND r.status = 'APPROVED' AND r.report_date >= ? AND r.report_date <= ? WHERE u.company_id = ? GROUP BY u.user_id, u.korean_name ORDER BY totalAmount DESC
2026-02-04T13:40:16.328+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dc295a4]
2026-02-04T13:40:16.363+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.E.selectCategoryRatio            : <==      Total: 0
2026-02-04T13:40:16.367+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.E.selectUserExpenseStats         : ==> Parameters: null, 2026-02-01(LocalDate), 2026-02-28(LocalDate), null
2026-02-04T13:40:16.386+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:40:16.386+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@207c619b]
2026-02-04T13:40:16.390+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fe8f835] was not registered for synchronization because synchronization is not active
2026-02-04T13:40:16.409+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:40:16.450+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.E.selectUserExpenseStats         : <==      Total: 0
2026-02-04T13:40:16.409+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@103688153 wrapping com.mysql.cj.jdbc.ConnectionImpl@6caae75e] will not be managed by Spring
2026-02-04T13:40:16.467+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[])]
2026-02-04T13:40:16.459+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@298845378 wrapping com.mysql.cj.jdbc.ConnectionImpl@76d58a6f] will not be managed by Spring
2026-02-04T13:40:16.467+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e1c533]
2026-02-04T13:40:16.467+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T13:40:16.467+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPaymentMethodSummary     : ==>  Preparing: SELECT CASE WHEN d.payment_method = 'BANK_TRANSFER' THEN 'CASH' WHEN d.payment_method IS NULL THEN 'CASH' ELSE d.payment_method END AS paymentMethod, COALESCE(SUM(COALESCE(d.actual_paid_amount, d.amount)), 0) AS totalAmount, COUNT(*) AS itemCount FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND r.status IN ( ? ) GROUP BY CASE WHEN d.payment_method = 'BANK_TRANSFER' THEN 'CASH' WHEN d.payment_method IS NULL THEN 'CASH' ELSE d.payment_method END ORDER BY totalAmount DESC
2026-02-04T13:40:16.467+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:40:16.469+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPaymentMethodSummary     : ==> Parameters: null, 2026-02-01(LocalDate), 2026-02-28(LocalDate), APPROVED(String)
2026-02-04T13:40:16.467+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T13:40:16.468+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2026-02-01(LocalDate), 2026-02-28(LocalDate), 2147483647(Integer), 0(Integer)
2026-02-04T13:40:16.469+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용자별 지출 통계 조회 성공, data=[])]
2026-02-04T13:40:16.472+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T13:40:15.751+09:00 ERROR 59308 --- [http-nio-8080-exec-4] c.i.b.controller.SubscriptionController  : 현재 구독 정보 조회 실패

com.innersignature.backend.exception.BusinessException: 회사 정보를 찾을 수 없습니다.
	at com.innersignature.backend.service.SubscriptionService.findCurrentSubscription(SubscriptionService.java:49) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.innersignature.backend.service.SubscriptionService$$SpringCGLIB$$0.findCurrentSubscription(<generated>) ~[classes/:na]
	at com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(SubscriptionController.java:65) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.innersignature.backend.controller.SubscriptionController$$SpringCGLIB$$0.getCurrentSubscription(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:87) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2026-02-04T13:40:16.474+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:40:16.486+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2026-02-04T13:40:16.488+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28
2026-02-04T13:40:16.510+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T13:40:16.516+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fe8f835]
2026-02-04T13:40:16.498+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, message=회사 정보를 찾을 수 없습니다., data=null)]
2026-02-04T13:40:16.516+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:40:16.517+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=1000, totalE (truncated)...]
2026-02-04T13:40:16.518+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T13:40:16.518+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2026-02-04T13:40:16.529+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2026-02-04T13:40:16.530+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 27, role: CEO, companyId: null, uri: /api/expenses
2026-02-04T13:40:16.530+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 27, role: CEO, companyId: null, uri: /api/subscriptions/current
2026-02-04T13:40:16.531+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/credits/total
2026-02-04T13:40:16.544+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1323168838 wrapping com.mysql.cj.jdbc.ConnectionImpl@12051da1] will not be managed by Spring
2026-02-04T13:40:16.545+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPaymentMethodSummary     : <==      Total: 0
2026-02-04T13:40:16.548+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 27, role: CEO, companyId: null, uri: /api/users/pending
2026-02-04T13:40:16.556+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2026-02-04T13:40:16.595+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2026-02-04T13:40:16.595+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2026-02-04T13:40:16.596+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2026-02-04T13:40:16.597+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2026-02-04T13:40:16.556+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPaymentMethodSummary     : ==>  Preparing: SELECT CASE WHEN d.payment_method = 'BANK_TRANSFER' THEN 'CASH' WHEN d.payment_method IS NULL THEN 'CASH' ELSE d.payment_method END AS paymentMethod, COALESCE(SUM(COALESCE(d.actual_paid_amount, d.amount)), 0) AS totalAmount, COUNT(*) AS itemCount FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND r.status IN ( ? ) GROUP BY CASE WHEN d.payment_method = 'BANK_TRANSFER' THEN 'CASH' WHEN d.payment_method IS NULL THEN 'CASH' ELSE d.payment_method END ORDER BY totalAmount DESC
2026-02-04T13:40:16.557+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@637f77b1]
2026-02-04T13:40:16.559+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 27, role: CEO, companyId: null, uri: /api/credits/total
2026-02-04T13:40:16.559+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28
2026-02-04T13:40:16.580+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2026-02-04T13:40:16.598+09:00 ERROR 59308 --- [http-nio-8080-exec-3] c.i.b.controller.SubscriptionController  : 현재 구독 정보 조회 실패

com.innersignature.backend.exception.BusinessException: 회사 정보를 찾을 수 없습니다.
	at com.innersignature.backend.service.SubscriptionService.findCurrentSubscription(SubscriptionService.java:49) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.innersignature.backend.service.SubscriptionService$$SpringCGLIB$$0.findCurrentSubscription(<generated>) ~[classes/:na]
	at com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(SubscriptionController.java:65) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.innersignature.backend.controller.SubscriptionController$$SpringCGLIB$$0.getCurrentSubscription(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:87) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2026-02-04T13:40:16.609+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPaymentMethodSummary     : ==> Parameters: null, 2026-02-01(LocalDate), 2026-02-28(LocalDate), APPROVED(String)
2026-02-04T13:40:16.610+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:40:16.610+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/credits/total
2026-02-04T13:40:16.611+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28", parameters={masked}
2026-02-04T13:40:16.613+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2026-02-04T13:40:16.667+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=지출 수단별 합계 조회 성공, data=[])]
2026-02-04T13:40:16.667+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/credits/total", parameters={}
2026-02-04T13:40:16.668+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-02-04T13:40:16.669+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2026-02-04T13:40:16.669+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:40:16.669+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPaymentMethodSummary     : <==      Total: 0
2026-02-04T13:40:16.677+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T13:40:16.683+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CreditController#getTotalAvailableAmount()
2026-02-04T13:40:16.685+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:40:16.712+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:40:16.713+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, message=회사 정보를 찾을 수 없습니다., data=null)]
2026-02-04T13:40:16.714+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@345ebe7e]
2026-02-04T13:40:16.716+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2026-02-04T13:40:16.718+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59a059d2] was not registered for synchronization because synchronization is not active
2026-02-04T13:40:16.719+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b187857] was not registered for synchronization because synchronization is not active
2026-02-04T13:40:16.724+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2026-02-04T13:40:16.730+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:40:16.730+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2026-02-04T13:40:16.752+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:40:16.743+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@957812242 wrapping com.mysql.cj.jdbc.ConnectionImpl@12051da1] will not be managed by Spring
2026-02-04T13:40:16.744+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1353970301 wrapping com.mysql.cj.jdbc.ConnectionImpl@6caae75e] will not be managed by Spring
2026-02-04T13:40:16.747+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=지출 수단별 합계 조회 성공, data=[])]
2026-02-04T13:40:16.758+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, message=회사 정보를 찾을 수 없습니다., data=null)]
2026-02-04T13:40:16.759+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T13:40:16.759+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T13:40:16.761+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2026-02-04T13:40:16.762+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 27(Long)
2026-02-04T13:40:16.762+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 27(Long)
2026-02-04T13:40:16.775+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T13:40:16.785+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T13:40:16.785+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T13:40:16.795+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b187857]
2026-02-04T13:40:16.808+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59a059d2]
2026-02-04T13:40:16.812+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:40:16.813+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:40:16.815+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-02-04T13:40:16.816+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22480b39] was not registered for synchronization because synchronization is not active
2026-02-04T13:40:16.817+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T13:40:16.817+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2046670955 wrapping com.mysql.cj.jdbc.ConnectionImpl@12051da1] will not be managed by Spring
2026-02-04T13:40:16.818+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T13:40:16.833+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 27(Long)
2026-02-04T13:40:16.849+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T13:40:16.851+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22480b39]
2026-02-04T13:40:16.854+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:40:16.856+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d3611fe] was not registered for synchronization because synchronization is not active
2026-02-04T13:40:16.858+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@264621730 wrapping com.mysql.cj.jdbc.ConnectionImpl@12051da1] will not be managed by Spring
2026-02-04T13:40:16.860+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T13:40:16.864+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2026-02-01(LocalDate), 2026-02-28(LocalDate), 2147483647(Integer), 0(Integer)
2026-02-04T13:40:16.898+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T13:40:16.900+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d3611fe]
2026-02-04T13:40:16.901+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:40:16.901+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3920e1ea] was not registered for synchronization because synchronization is not active
2026-02-04T13:40:16.902+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1682226897 wrapping com.mysql.cj.jdbc.ConnectionImpl@12051da1] will not be managed by Spring
2026-02-04T13:40:16.904+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T13:40:16.912+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2026-02-01(LocalDate), 2026-02-28(LocalDate), 2147483647(Integer), 0(Integer)
2026-02-04T13:40:16.916+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T13:40:16.917+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3920e1ea]
2026-02-04T13:40:16.917+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:40:16.919+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=1000, totalE (truncated)...]
2026-02-04T13:40:16.921+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T13:40:18.336+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/payment-method-summary?startDate=2026-02-01&endDate=2026-02-28&status%5B%5D=APPROVED
2026-02-04T13:40:18.337+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2026-02-04T13:40:18.342+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/dashboard/category-ratio?startDate=2026-02-01&endDate=2026-02-28
2026-02-04T13:40:18.343+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/dashboard/user-stats?startDate=2026-02-01&endDate=2026-02-28
2026-02-04T13:40:18.348+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2026-02-04T13:40:18.348+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/payment-method-summary?startDate=2026-02-01&endDate=2026-02-28&status%5B%5D=APPROVED
2026-02-04T13:40:18.351+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/dashboard/category-ratio?startDate=2026-02-01&endDate=2026-02-28
2026-02-04T13:40:18.353+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/dashboard/user-stats?startDate=2026-02-01&endDate=2026-02-28
2026-02-04T13:40:18.359+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/payment-method-summary?startDate=2026-02-01&endDate=2026-02-28&status%5B%5D=APPROVED
2026-02-04T13:40:18.440+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 27, role: CEO, companyId: null, uri: /api/expenses/payment-method-summary
2026-02-04T13:40:18.365+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2026-02-04T13:40:18.384+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2026-02-04T13:40:18.386+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/payment-method-summary?startDate=2026-02-01&endDate=2026-02-28&status%5B%5D=APPROVED
2026-02-04T13:40:18.386+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio?startDate=2026-02-01&endDate=2026-02-28
2026-02-04T13:40:18.419+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/user-stats?startDate=2026-02-01&endDate=2026-02-28
2026-02-04T13:40:18.449+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/payment-method-summary?startDate=2026-02-01&endDate=2026-02-28&status%5B%5D=APPROVED
2026-02-04T13:40:18.474+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/payment-method-summary?startDate=2026-02-01&endDate=2026-02-28&status%5B%5D=APPROVED", parameters={masked}
2026-02-04T13:40:18.476+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPaymentMethodSummary(String, String, String[], Boolean)
2026-02-04T13:40:18.460+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 27, role: CEO, companyId: null, uri: /api/users/pending
2026-02-04T13:40:18.464+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 27, role: CEO, companyId: null, uri: /api/users/pending
2026-02-04T13:40:18.466+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 27, role: CEO, companyId: null, uri: /api/expenses/dashboard/category-ratio
2026-02-04T13:40:18.468+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 27, role: CEO, companyId: null, uri: /api/expenses/dashboard/user-stats
2026-02-04T13:40:18.563+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 27, role: CEO, companyId: null, uri: /api/expenses/payment-method-summary
2026-02-04T13:40:18.620+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getPaymentMethodSummary(java.lang.String,java.lang.String,java.lang.String[],java.lang.Boolean); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-02-04T13:40:18.695+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2026-02-04T13:40:18.745+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2026-02-04T13:40:18.747+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio?startDate=2026-02-01&endDate=2026-02-28
2026-02-04T13:40:18.747+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/user-stats?startDate=2026-02-01&endDate=2026-02-28
2026-02-04T13:40:18.754+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/user-stats?startDate=2026-02-01&endDate=2026-02-28", parameters={masked}
2026-02-04T13:40:18.755+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getUserExpenseStats(String, String)
2026-02-04T13:40:18.750+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/payment-method-summary?startDate=2026-02-01&endDate=2026-02-28&status%5B%5D=APPROVED
2026-02-04T13:40:18.751+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getPaymentMethodSummary(java.lang.String,java.lang.String,java.lang.String[],java.lang.Boolean); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-02-04T13:40:18.752+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2026-02-04T13:40:18.753+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2026-02-04T13:40:18.753+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio?startDate=2026-02-01&endDate=2026-02-28", parameters={masked}
2026-02-04T13:40:18.756+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getUserExpenseStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-02-04T13:40:18.756+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/payment-method-summary?startDate=2026-02-01&endDate=2026-02-28&status%5B%5D=APPROVED", parameters={masked}
2026-02-04T13:40:18.763+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:40:18.763+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2026-02-04T13:40:18.764+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2026-02-04T13:40:18.766+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:40:18.767+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8b399fc] was not registered for synchronization because synchronization is not active
2026-02-04T13:40:18.764+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2026-02-04T13:40:18.765+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getUserExpenseStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-02-04T13:40:18.765+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPaymentMethodSummary(String, String, String[], Boolean)
2026-02-04T13:40:18.765+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dc88561] was not registered for synchronization because synchronization is not active
2026-02-04T13:40:18.766+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:40:18.768+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-02-04T13:40:18.769+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:40:18.774+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getPaymentMethodSummary(java.lang.String,java.lang.String,java.lang.String[],java.lang.Boolean); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-02-04T13:40:18.776+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26572cd7] was not registered for synchronization because synchronization is not active
2026-02-04T13:40:18.777+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-02-04T13:40:18.778+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c823bad] was not registered for synchronization because synchronization is not active
2026-02-04T13:40:18.781+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getPaymentMethodSummary(java.lang.String,java.lang.String,java.lang.String[],java.lang.Boolean); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-02-04T13:40:18.783+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:40:18.784+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:40:18.795+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b3b6581] was not registered for synchronization because synchronization is not active
2026-02-04T13:40:18.784+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fd5dbeb] was not registered for synchronization because synchronization is not active
2026-02-04T13:40:18.785+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1515565215 wrapping com.mysql.cj.jdbc.ConnectionImpl@6caae75e] will not be managed by Spring
2026-02-04T13:40:18.786+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@693394793 wrapping com.mysql.cj.jdbc.ConnectionImpl@241aaa78] will not be managed by Spring
2026-02-04T13:40:18.810+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPaymentMethodSummary     : ==>  Preparing: SELECT CASE WHEN d.payment_method = 'BANK_TRANSFER' THEN 'CASH' WHEN d.payment_method IS NULL THEN 'CASH' ELSE d.payment_method END AS paymentMethod, COALESCE(SUM(COALESCE(d.actual_paid_amount, d.amount)), 0) AS totalAmount, COUNT(*) AS itemCount FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND r.status IN ( ? ) GROUP BY CASE WHEN d.payment_method = 'BANK_TRANSFER' THEN 'CASH' WHEN d.payment_method IS NULL THEN 'CASH' ELSE d.payment_method END ORDER BY totalAmount DESC
2026-02-04T13:40:18.812+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@161204718 wrapping com.mysql.cj.jdbc.ConnectionImpl@76d58a6f] will not be managed by Spring
2026-02-04T13:40:18.812+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1496658345 wrapping com.mysql.cj.jdbc.ConnectionImpl@12051da1] will not be managed by Spring
2026-02-04T13:40:18.813+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T13:40:18.814+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPaymentMethodSummary     : ==> Parameters: null, 2026-02-01(LocalDate), 2026-02-28(LocalDate), APPROVED(String)
2026-02-04T13:40:18.815+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.m.E.selectUserExpenseStats         : ==>  Preparing: SELECT u.user_id AS userId, u.korean_name AS userName, COALESCE(SUM(COALESCE(r.actual_paid_amount, r.total_amount)), 0) AS totalAmount, COUNT(r.expense_report_id) AS itemCount FROM user_tb u LEFT JOIN expense_report_tb r ON u.user_id = r.drafter_id AND r.company_id = ? AND r.status = 'APPROVED' AND r.report_date >= ? AND r.report_date <= ? WHERE u.company_id = ? GROUP BY u.user_id, u.korean_name ORDER BY totalAmount DESC
2026-02-04T13:40:18.815+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1062655686 wrapping com.mysql.cj.jdbc.ConnectionImpl@314d2a9c] will not be managed by Spring
2026-02-04T13:40:18.816+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T13:40:18.817+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 27(Long)
2026-02-04T13:40:18.818+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.m.E.selectUserExpenseStats         : ==> Parameters: null, 2026-02-01(LocalDate), 2026-02-28(LocalDate), null
2026-02-04T13:40:18.819+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPaymentMethodSummary     : ==>  Preparing: SELECT CASE WHEN d.payment_method = 'BANK_TRANSFER' THEN 'CASH' WHEN d.payment_method IS NULL THEN 'CASH' ELSE d.payment_method END AS paymentMethod, COALESCE(SUM(COALESCE(d.actual_paid_amount, d.amount)), 0) AS totalAmount, COUNT(*) AS itemCount FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND r.status IN ( ? ) GROUP BY CASE WHEN d.payment_method = 'BANK_TRANSFER' THEN 'CASH' WHEN d.payment_method IS NULL THEN 'CASH' ELSE d.payment_method END ORDER BY totalAmount DESC
2026-02-04T13:40:18.821+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 27(Long)
2026-02-04T13:40:18.821+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPaymentMethodSummary     : <==      Total: 0
2026-02-04T13:40:18.827+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPaymentMethodSummary     : ==> Parameters: null, 2026-02-01(LocalDate), 2026-02-28(LocalDate), APPROVED(String)
2026-02-04T13:40:18.828+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dc88561]
2026-02-04T13:40:18.828+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T13:40:18.829+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T13:40:18.829+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.m.E.selectUserExpenseStats         : <==      Total: 0
2026-02-04T13:40:18.829+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1081299120 wrapping com.mysql.cj.jdbc.ConnectionImpl@6caae75e] will not be managed by Spring
2026-02-04T13:40:18.829+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:40:18.830+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8b399fc]
2026-02-04T13:40:18.831+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26572cd7]
2026-02-04T13:40:18.832+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c823bad]
2026-02-04T13:40:18.832+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(COALESCE(d.actual_paid_amount, d.amount)), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? AND r.status = 'APPROVED' AND r.report_date >= ? AND r.report_date <= ? GROUP BY d.category ORDER BY amount DESC
2026-02-04T13:40:18.832+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=지출 수단별 합계 조회 성공, data=[])]
2026-02-04T13:40:18.833+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:40:18.834+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:40:18.834+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:40:18.835+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPaymentMethodSummary     : <==      Total: 0
2026-02-04T13:40:18.835+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: null, 2026-02-01(LocalDate), 2026-02-28(LocalDate)
2026-02-04T13:40:18.835+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T13:40:18.836+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-02-04T13:40:18.836+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-02-04T13:40:18.843+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용자별 지출 통계 조회 성공, data=[])]
2026-02-04T13:40:18.844+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b3b6581]
2026-02-04T13:40:18.847+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio?startDate=2026-02-01&endDate=2026-02-28
2026-02-04T13:40:18.849+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T13:40:18.852+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T13:40:18.853+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T13:40:18.853+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:40:18.861+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 27, role: CEO, companyId: null, uri: /api/expenses/dashboard/category-ratio
2026-02-04T13:40:18.861+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectCategoryRatio            : <==      Total: 0
2026-02-04T13:40:18.866+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/user-stats?startDate=2026-02-01&endDate=2026-02-28
2026-02-04T13:40:18.878+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/dashboard/monthly-trend
2026-02-04T13:40:18.899+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=지출 수단별 합계 조회 성공, data=[])]
2026-02-04T13:40:18.900+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio?startDate=2026-02-01&endDate=2026-02-28
2026-02-04T13:40:18.900+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fd5dbeb]
2026-02-04T13:40:18.907+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 27, role: CEO, companyId: null, uri: /api/expenses/dashboard/user-stats
2026-02-04T13:40:18.913+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T13:40:18.916+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio?startDate=2026-02-01&endDate=2026-02-28", parameters={masked}
2026-02-04T13:40:18.917+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:40:18.923+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/monthly-trend
2026-02-04T13:40:18.927+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/user-stats?startDate=2026-02-01&endDate=2026-02-28
2026-02-04T13:40:18.933+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/user-stats?startDate=2026-02-01&endDate=2026-02-28", parameters={masked}
2026-02-04T13:40:18.930+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2026-02-04T13:40:18.932+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[])]
2026-02-04T13:40:18.934+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 27, role: CEO, companyId: null, uri: /api/expenses/dashboard/monthly-trend
2026-02-04T13:40:18.935+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getUserExpenseStats(String, String)
2026-02-04T13:40:18.935+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-02-04T13:40:18.937+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T13:40:18.947+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/monthly-trend
2026-02-04T13:40:18.960+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/monthly-trend", parameters={}
2026-02-04T13:40:18.957+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getUserExpenseStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-02-04T13:40:18.959+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-02-04T13:40:18.967+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTrend(String, String)
2026-02-04T13:40:18.969+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:40:18.969+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e591e56] was not registered for synchronization because synchronization is not active
2026-02-04T13:40:18.974+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@23293656 wrapping com.mysql.cj.jdbc.ConnectionImpl@76d58a6f] will not be managed by Spring
2026-02-04T13:40:18.977+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(COALESCE(d.actual_paid_amount, d.amount)), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? AND r.status = 'APPROVED' AND r.report_date >= ? AND r.report_date <= ? GROUP BY d.category ORDER BY amount DESC
2026-02-04T13:40:18.978+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getUserExpenseStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-02-04T13:40:18.982+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: null, 2026-02-01(LocalDate), 2026-02-28(LocalDate)
2026-02-04T13:40:18.983+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:40:18.984+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bfbed68] was not registered for synchronization because synchronization is not active
2026-02-04T13:40:18.986+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1816700543 wrapping com.mysql.cj.jdbc.ConnectionImpl@12051da1] will not be managed by Spring
2026-02-04T13:40:18.988+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectUserExpenseStats         : ==>  Preparing: SELECT u.user_id AS userId, u.korean_name AS userName, COALESCE(SUM(COALESCE(r.actual_paid_amount, r.total_amount)), 0) AS totalAmount, COUNT(r.expense_report_id) AS itemCount FROM user_tb u LEFT JOIN expense_report_tb r ON u.user_id = r.drafter_id AND r.company_id = ? AND r.status = 'APPROVED' AND r.report_date >= ? AND r.report_date <= ? WHERE u.company_id = ? GROUP BY u.user_id, u.korean_name ORDER BY totalAmount DESC
2026-02-04T13:40:18.988+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-02-04T13:40:18.989+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectUserExpenseStats         : ==> Parameters: null, 2026-02-01(LocalDate), 2026-02-28(LocalDate), null
2026-02-04T13:40:18.990+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-02-04T13:40:18.993+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.E.selectCategoryRatio            : <==      Total: 0
2026-02-04T13:40:18.994+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:40:18.994+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e591e56]
2026-02-04T13:40:18.995+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectUserExpenseStats         : <==      Total: 0
2026-02-04T13:40:18.996+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bfbed68]
2026-02-04T13:40:18.995+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32d902fb] was not registered for synchronization because synchronization is not active
2026-02-04T13:40:18.995+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:40:18.996+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:40:18.999+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용자별 지출 통계 조회 성공, data=[])]
2026-02-04T13:40:18.997+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2123271476 wrapping com.mysql.cj.jdbc.ConnectionImpl@76d58a6f] will not be managed by Spring
2026-02-04T13:40:18.998+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[])]
2026-02-04T13:40:19.000+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T13:40:19.003+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectMonthlyTrend             : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, COALESCE(SUM(COALESCE(actual_paid_amount, total_amount)), 0) AS totalAmount FROM expense_report_tb WHERE company_id = ? AND status = 'APPROVED' GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2026-02-04T13:40:19.004+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T13:40:19.015+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectMonthlyTrend             : ==> Parameters: null
2026-02-04T13:40:19.103+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectMonthlyTrend             : <==      Total: 0
2026-02-04T13:40:19.104+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32d902fb]
2026-02-04T13:40:19.107+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:40:19.108+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 추이 조회 성공, data=[])]
2026-02-04T13:40:19.108+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T13:40:22.327+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-02-04T13:40:22.330+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2026-02-04T13:40:22.331+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2026-02-04T13:40:22.332+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2026-02-04T13:40:22.334+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2026-02-04T13:40:22.335+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2026-02-04T13:40:22.362+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-02-04T13:40:22.363+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2026-02-04T13:40:22.364+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2026-02-04T13:40:22.365+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2026-02-04T13:40:22.367+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2026-02-04T13:40:22.367+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2026-02-04T13:40:22.369+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 27, role: CEO, companyId: null, uri: /api/expenses/pending-approvals
2026-02-04T13:40:22.369+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 27, role: CEO, companyId: null, uri: /api/users/pending
2026-02-04T13:40:22.370+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 27, role: CEO, companyId: null, uri: /api/users/me
2026-02-04T13:40:22.384+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2026-02-04T13:40:22.385+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2026-02-04T13:40:22.386+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2026-02-04T13:40:22.386+09:00  INFO 59308 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 27, companyId: null
2026-02-04T13:40:22.393+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:40:22.396+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4329094d] was not registered for synchronization because synchronization is not active
2026-02-04T13:40:22.372+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 27, role: CEO, companyId: null, uri: /api/users/companies
2026-02-04T13:40:22.376+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 27, role: CEO, companyId: null, uri: /api/users/companies/pending
2026-02-04T13:40:22.381+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 27, role: CEO, companyId: null, uri: /api/users/me
2026-02-04T13:40:22.383+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-02-04T13:40:22.384+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2026-02-04T13:40:22.408+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2026-02-04T13:40:22.411+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2026-02-04T13:40:22.412+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2026-02-04T13:40:22.413+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1335600388 wrapping com.mysql.cj.jdbc.ConnectionImpl@76d58a6f] will not be managed by Spring
2026-02-04T13:40:22.414+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-02-04T13:40:22.414+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2026-02-04T13:40:22.415+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2026-02-04T13:40:22.416+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2026-02-04T13:40:22.417+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2026-02-04T13:40:22.417+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T13:40:22.418+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-02-04T13:40:22.418+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2026-02-04T13:40:22.420+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:40:22.418+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2026-02-04T13:40:22.419+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2026-02-04T13:40:22.419+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2026-02-04T13:40:22.419+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 27(Long)
2026-02-04T13:40:22.420+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:40:22.420+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68763188] was not registered for synchronization because synchronization is not active
2026-02-04T13:40:22.425+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:40:22.425+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:40:22.426+09:00  INFO 59308 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 27, companyId: null
2026-02-04T13:40:22.428+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@498df41b] was not registered for synchronization because synchronization is not active
2026-02-04T13:40:22.430+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b475f8c] was not registered for synchronization because synchronization is not active
2026-02-04T13:40:22.430+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41695ef3] was not registered for synchronization because synchronization is not active
2026-02-04T13:40:22.430+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:40:22.434+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@560efc9a] was not registered for synchronization because synchronization is not active
2026-02-04T13:40:22.437+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T13:40:22.437+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@58445255 wrapping com.mysql.cj.jdbc.ConnectionImpl@314d2a9c] will not be managed by Spring
2026-02-04T13:40:22.437+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@512854192 wrapping com.mysql.cj.jdbc.ConnectionImpl@7cd00573] will not be managed by Spring
2026-02-04T13:40:22.437+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@546821084 wrapping com.mysql.cj.jdbc.ConnectionImpl@6caae75e] will not be managed by Spring
2026-02-04T13:40:22.439+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1061983799 wrapping com.mysql.cj.jdbc.ConnectionImpl@12051da1] will not be managed by Spring
2026-02-04T13:40:22.441+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@463380210 wrapping com.mysql.cj.jdbc.ConnectionImpl@241aaa78] will not be managed by Spring
2026-02-04T13:40:22.443+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4329094d]
2026-02-04T13:40:22.444+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-02-04T13:40:22.444+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T13:40:22.445+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-02-04T13:40:22.445+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T13:40:22.446+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-02-04T13:40:22.446+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:40:22.456+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 27(Long)
2026-02-04T13:40:22.448+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 27(Long), PENDING(String)
2026-02-04T13:40:22.452+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 27(Long)
2026-02-04T13:40:22.453+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 27(Long), null
2026-02-04T13:40:22.454+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 27(Long)
2026-02-04T13:40:22.456+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@794943d0] was not registered for synchronization because synchronization is not active
2026-02-04T13:40:22.458+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@202275517 wrapping com.mysql.cj.jdbc.ConnectionImpl@76d58a6f] will not be managed by Spring
2026-02-04T13:40:22.461+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-02-04T13:40:22.462+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T13:40:22.468+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 27(Long)
2026-02-04T13:40:22.468+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@498df41b]
2026-02-04T13:40:22.469+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:40:22.473+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-02-04T13:40:22.478+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T13:40:22.502+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-02-04T13:40:22.503+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 0
2026-02-04T13:40:22.503+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 0
2026-02-04T13:40:22.510+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68763188]
2026-02-04T13:40:22.510+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@794943d0]
2026-02-04T13:40:22.513+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2026-02-04T13:40:22.513+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b475f8c]
2026-02-04T13:40:22.514+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:40:22.515+09:00  INFO 59308 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 27, companyId: null, role: CEO
2026-02-04T13:40:22.517+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41695ef3]
2026-02-04T13:40:22.519+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:40:22.520+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-02-04T13:40:22.524+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:40:22.525+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:40:22.526+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-02-04T13:40:22.527+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T13:40:22.527+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=27, username=test_ceo2, passw (truncated)...]
2026-02-04T13:40:22.528+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-02-04T13:40:22.529+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T13:40:22.534+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T13:40:22.545+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T13:40:22.598+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T13:40:22.599+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@560efc9a]
2026-02-04T13:40:22.600+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:40:22.600+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f62cf19] was not registered for synchronization because synchronization is not active
2026-02-04T13:40:22.601+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1407564827 wrapping com.mysql.cj.jdbc.ConnectionImpl@7cd00573] will not be managed by Spring
2026-02-04T13:40:22.601+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-02-04T13:40:22.602+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 27(Long)
2026-02-04T13:40:22.818+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 0
2026-02-04T13:40:22.826+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f62cf19]
2026-02-04T13:40:22.828+09:00  INFO 59308 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 27, companyId: null, role: CEO
2026-02-04T13:40:22.852+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:40:22.864+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=27, username=test_ceo2, passw (truncated)...]
2026-02-04T13:40:22.869+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T13:40:26.558+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2026-02-04T13:40:26.593+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2026-02-04T13:40:26.639+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 27, role: CEO, companyId: null, uri: /api/logout
2026-02-04T13:40:26.643+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2026-02-04T13:40:26.644+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2026-02-04T13:40:26.645+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2026-02-04T13:40:26.648+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIyNyIsInVzZXJuYW1lIjo (truncated)...]
2026-02-04T13:40:26.655+09:00  INFO 59308 --- [http-nio-8080-exec-6] SECURITY                                 : LOGOUT userId=27
2026-02-04T13:40:26.656+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:40:26.657+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2026-02-04T13:40:26.658+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T13:41:44.296+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/check-username?username=test_ceo3
2026-02-04T13:41:44.297+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-02-04T13:41:44.297+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/check-username?username=test_ceo3
2026-02-04T13:41:44.297+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/check-username?username=test_ceo3", parameters={masked}
2026-02-04T13:41:44.298+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#checkUsername(String)
2026-02-04T13:41:44.298+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:41:44.298+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55ef051d] was not registered for synchronization because synchronization is not active
2026-02-04T13:41:44.301+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1324164318 wrapping com.mysql.cj.jdbc.ConnectionImpl@76d58a6f] will not be managed by Spring
2026-02-04T13:41:44.301+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.isUsernameExists      : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE username = ?
2026-02-04T13:41:44.301+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.isUsernameExists      : ==> Parameters: test_ceo3(String)
2026-02-04T13:41:44.306+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.isUsernameExists      : <==      Total: 1
2026-02-04T13:41:44.306+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55ef051d]
2026-02-04T13:41:44.307+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:41:44.307+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용 가능한 username입니다., data={available=true, exists=false})]
2026-02-04T13:41:44.308+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T13:41:46.929+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/check-email?email=test_ceo3%40test.com
2026-02-04T13:41:46.974+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-02-04T13:41:47.010+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/check-email?email=test_ceo3%40test.com
2026-02-04T13:41:47.012+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/check-email?email=test_ceo3%40test.com", parameters={masked}
2026-02-04T13:41:47.012+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#checkEmail(String)
2026-02-04T13:41:47.013+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:41:47.015+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57be702f] was not registered for synchronization because synchronization is not active
2026-02-04T13:41:47.047+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2038403752 wrapping com.mysql.cj.jdbc.ConnectionImpl@314d2a9c] will not be managed by Spring
2026-02-04T13:41:47.056+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.isEmailExists    : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE email = ?
2026-02-04T13:41:47.056+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.isEmailExists    : ==> Parameters: test_ceo3@test.com(String)
2026-02-04T13:41:47.071+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.isEmailExists    : <==      Total: 1
2026-02-04T13:41:47.074+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57be702f]
2026-02-04T13:41:47.075+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:41:47.075+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용 가능한 이메일입니다., data={available=true, exists=false})]
2026-02-04T13:41:47.076+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T13:41:47.924+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/register
2026-02-04T13:41:47.932+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/register
2026-02-04T13:41:47.950+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-02-04T13:41:47.954+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/register
2026-02-04T13:41:47.956+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/register", parameters={}
2026-02-04T13:41:47.956+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#register(RegisterRequest)
2026-02-04T13:41:47.984+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RegisterRequest(username=test_ceo3, password=1234, koreanName=test_ceo3, email=test_c (truncated)...]
2026-02-04T13:41:47.989+09:00  INFO 59308 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 회원가입 시도 - username: test_ceo3, koreanName: test_ceo3, role: CEO
2026-02-04T13:41:47.991+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:41:48.016+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d445950] was not registered for synchronization because synchronization is not active
2026-02-04T13:41:48.041+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1884680187 wrapping com.mysql.cj.jdbc.ConnectionImpl@12051da1] will not be managed by Spring
2026-02-04T13:41:48.041+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.isUsernameExists      : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE username = ?
2026-02-04T13:41:48.043+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.isUsernameExists      : ==> Parameters: test_ceo3(String)
2026-02-04T13:41:48.044+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.isUsernameExists      : <==      Total: 1
2026-02-04T13:41:48.045+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d445950]
2026-02-04T13:41:48.046+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:41:48.047+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a09061d] was not registered for synchronization because synchronization is not active
2026-02-04T13:41:48.048+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1930205082 wrapping com.mysql.cj.jdbc.ConnectionImpl@12051da1] will not be managed by Spring
2026-02-04T13:41:48.049+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.isEmailExists    : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE email = ?
2026-02-04T13:41:48.049+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.isEmailExists    : ==> Parameters: test_ceo3@test.com(String)
2026-02-04T13:41:48.058+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.isEmailExists    : <==      Total: 1
2026-02-04T13:41:48.059+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a09061d]
2026-02-04T13:41:48.154+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:41:48.154+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bbf7b66] was not registered for synchronization because synchronization is not active
2026-02-04T13:41:48.155+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@701805538 wrapping com.mysql.cj.jdbc.ConnectionImpl@12051da1] will not be managed by Spring
2026-02-04T13:41:48.155+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.backend.mapper.UserMapper.register   : ==>  Preparing: INSERT INTO user_tb (username, password, korean_name, email, position, role, company_id, is_active, approval_status) VALUES (?, ?, ?, ?, ?, ?, ?, COALESCE(?, 1), COALESCE(?, 'APPROVED'))
2026-02-04T13:41:48.156+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.backend.mapper.UserMapper.register   : ==> Parameters: test_ceo3(String), $2a$10$NiULu.0xE9OmRo79XmKwH.HKKleBUrovvYKdVG.m1YF4VLef9z6ji(String), test_ceo3(String), test_ceo3@test.com(String), 대표(String), CEO(String), null, true(Boolean), APPROVED(String)
2026-02-04T13:41:48.178+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.backend.mapper.UserMapper.register   : <==    Updates: 1
2026-02-04T13:41:48.178+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bbf7b66]
2026-02-04T13:41:48.178+09:00  INFO 59308 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 회원가입 완료 - username: test_ceo3, role: CEO
2026-02-04T13:41:48.179+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:41:48.179+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회원가입이 완료되었습니다., data=null)]
2026-02-04T13:41:48.180+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T13:51:47.161+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/check-username?username=A125
2026-02-04T13:51:47.163+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-02-04T13:51:47.229+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/check-username?username=A125
2026-02-04T13:51:47.257+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/check-username?username=A125", parameters={masked}
2026-02-04T13:51:47.272+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#checkUsername(String)
2026-02-04T13:51:47.300+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:51:47.331+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7824855c] was not registered for synchronization because synchronization is not active
2026-02-04T13:51:47.357+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@358452729 wrapping com.mysql.cj.jdbc.ConnectionImpl@12051da1] will not be managed by Spring
2026-02-04T13:51:47.359+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.isUsernameExists      : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE username = ?
2026-02-04T13:51:47.363+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.isUsernameExists      : ==> Parameters: A125(String)
2026-02-04T13:51:47.379+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.isUsernameExists      : <==      Total: 1
2026-02-04T13:51:47.380+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7824855c]
2026-02-04T13:51:47.383+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:51:47.400+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용 가능한 username입니다., data={available=true, exists=false})]
2026-02-04T13:51:47.415+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T13:52:16.998+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/check-username?username=tshx
2026-02-04T13:52:17.044+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-02-04T13:52:17.044+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/check-username?username=tshx
2026-02-04T13:52:17.045+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/check-username?username=tshx", parameters={masked}
2026-02-04T13:52:17.045+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#checkUsername(String)
2026-02-04T13:52:17.046+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:52:17.046+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@626a4d7b] was not registered for synchronization because synchronization is not active
2026-02-04T13:52:17.049+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@868385557 wrapping com.mysql.cj.jdbc.ConnectionImpl@314d2a9c] will not be managed by Spring
2026-02-04T13:52:17.063+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.isUsernameExists      : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE username = ?
2026-02-04T13:52:17.063+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.isUsernameExists      : ==> Parameters: tshx(String)
2026-02-04T13:52:17.079+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.isUsernameExists      : <==      Total: 1
2026-02-04T13:52:17.084+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@626a4d7b]
2026-02-04T13:52:17.097+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:52:17.098+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용 가능한 username입니다., data={available=true, exists=false})]
2026-02-04T13:52:17.113+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T13:53:21.149+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/check-username?username=tshx
2026-02-04T13:53:21.152+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-02-04T13:53:21.156+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/check-username?username=tshx
2026-02-04T13:53:21.157+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/check-username?username=tshx", parameters={masked}
2026-02-04T13:53:21.161+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#checkUsername(String)
2026-02-04T13:53:21.177+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:53:21.179+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ef6721] was not registered for synchronization because synchronization is not active
2026-02-04T13:53:21.181+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2000250971 wrapping com.mysql.cj.jdbc.ConnectionImpl@12051da1] will not be managed by Spring
2026-02-04T13:53:21.189+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.isUsernameExists      : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE username = ?
2026-02-04T13:53:21.193+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.isUsernameExists      : ==> Parameters: tshx(String)
2026-02-04T13:53:21.218+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.isUsernameExists      : <==      Total: 1
2026-02-04T13:53:21.222+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ef6721]
2026-02-04T13:53:21.223+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:53:21.229+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용 가능한 username입니다., data={available=true, exists=false})]
2026-02-04T13:53:21.231+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T13:53:28.753+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/check-username?username=tshx
2026-02-04T13:53:28.760+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-02-04T13:53:28.794+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/check-username?username=tshx
2026-02-04T13:53:28.809+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/check-username?username=tshx", parameters={masked}
2026-02-04T13:53:28.832+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#checkUsername(String)
2026-02-04T13:53:28.842+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:53:28.883+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b7e3d6a] was not registered for synchronization because synchronization is not active
2026-02-04T13:53:29.060+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2142695492 wrapping com.mysql.cj.jdbc.ConnectionImpl@241aaa78] will not be managed by Spring
2026-02-04T13:53:29.096+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.isUsernameExists      : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE username = ?
2026-02-04T13:53:29.105+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.isUsernameExists      : ==> Parameters: tshx(String)
2026-02-04T13:53:29.118+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.isUsernameExists      : <==      Total: 1
2026-02-04T13:53:29.122+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b7e3d6a]
2026-02-04T13:53:29.125+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:53:29.126+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용 가능한 username입니다., data={available=true, exists=false})]
2026-02-04T13:53:29.127+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T13:53:54.947+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/check-email?email=oper2%40oper.com
2026-02-04T13:53:54.948+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-02-04T13:53:54.948+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/check-email?email=oper2%40oper.com
2026-02-04T13:53:54.948+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/check-email?email=oper2%40oper.com", parameters={masked}
2026-02-04T13:53:54.949+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#checkEmail(String)
2026-02-04T13:53:54.949+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T13:53:54.949+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5958095f] was not registered for synchronization because synchronization is not active
2026-02-04T13:53:54.953+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@238803445 wrapping com.mysql.cj.jdbc.ConnectionImpl@12051da1] will not be managed by Spring
2026-02-04T13:53:54.956+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.isEmailExists    : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE email = ?
2026-02-04T13:53:54.956+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.isEmailExists    : ==> Parameters: oper2@oper.com(String)
2026-02-04T13:53:54.966+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.isEmailExists    : <==      Total: 1
2026-02-04T13:53:54.966+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5958095f]
2026-02-04T13:53:54.972+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T13:53:54.973+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용 가능한 이메일입니다., data={available=true, exists=false})]
2026-02-04T13:53:54.975+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T14:28:14.822+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/search?name=1234
2026-02-04T14:28:14.823+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-02-04T14:28:14.823+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/search?name=1234
2026-02-04T14:28:14.824+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/search?name=1234", parameters={masked}
2026-02-04T14:28:14.824+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#searchCompanies(String)
2026-02-04T14:28:14.826+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T14:28:14.826+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7750be3d] was not registered for synchronization because synchronization is not active
2026-02-04T14:28:14.837+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1952743671 wrapping com.mysql.cj.jdbc.ConnectionImpl@22d94cb9] will not be managed by Spring
2026-02-04T14:28:14.840+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.mapper.CompanyMapper.searchByName  : ==>  Preparing: SELECT c.company_id AS companyId, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, MAX(u.korean_name) AS adminName, CASE WHEN c.company_name = ? THEN 1 WHEN c.company_name LIKE CONCAT(?, '%') THEN 2 WHEN c.company_name LIKE CONCAT('%', ?, '%') THEN 3 ELSE 4 END AS matchPriority FROM company_tb c LEFT JOIN user_tb u ON c.created_by = u.user_id AND u.role = 'ADMIN' WHERE ( c.company_name LIKE CONCAT('%', ?, '%') OR REPLACE(c.business_reg_no, '-', '') LIKE CONCAT('%', REPLACE(?, '-', ''), '%') ) AND c.is_active = 1 GROUP BY c.company_id, c.company_name, c.business_reg_no, c.representative_name ORDER BY matchPriority ASC, c.company_name ASC LIMIT 20
2026-02-04T14:28:14.842+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.mapper.CompanyMapper.searchByName  : ==> Parameters: 1234(String), 1234(String), 1234(String), 1234(String), 1234(String)
2026-02-04T14:28:14.963+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.mapper.CompanyMapper.searchByName  : <==      Total: 2
2026-02-04T14:28:14.964+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7750be3d]
2026-02-04T14:28:14.965+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T14:28:14.971+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=검색 완료, data=[CompanySearchResultDto(companyId=5, companyName=test_ (truncated)...]
2026-02-04T14:28:14.973+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T14:34:01.860+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/search?name=sdf
2026-02-04T14:34:01.861+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-02-04T14:34:01.861+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/search?name=sdf
2026-02-04T14:34:01.862+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/search?name=sdf", parameters={masked}
2026-02-04T14:34:01.862+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#searchCompanies(String)
2026-02-04T14:34:01.863+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T14:34:01.863+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@91e20b] was not registered for synchronization because synchronization is not active
2026-02-04T14:34:01.865+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@790325791 wrapping com.mysql.cj.jdbc.ConnectionImpl@74947363] will not be managed by Spring
2026-02-04T14:34:01.866+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.mapper.CompanyMapper.searchByName  : ==>  Preparing: SELECT c.company_id AS companyId, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, MAX(u.korean_name) AS adminName, CASE WHEN c.company_name = ? THEN 1 WHEN c.company_name LIKE CONCAT(?, '%') THEN 2 WHEN c.company_name LIKE CONCAT('%', ?, '%') THEN 3 ELSE 4 END AS matchPriority FROM company_tb c LEFT JOIN user_tb u ON c.created_by = u.user_id AND u.role = 'ADMIN' WHERE ( c.company_name LIKE CONCAT('%', ?, '%') OR REPLACE(c.business_reg_no, '-', '') LIKE CONCAT('%', REPLACE(?, '-', ''), '%') ) AND c.is_active = 1 GROUP BY c.company_id, c.company_name, c.business_reg_no, c.representative_name ORDER BY matchPriority ASC, c.company_name ASC LIMIT 20
2026-02-04T14:34:01.868+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.mapper.CompanyMapper.searchByName  : ==> Parameters: sdf(String), sdf(String), sdf(String), sdf(String), sdf(String)
2026-02-04T14:34:01.897+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.mapper.CompanyMapper.searchByName  : <==      Total: 0
2026-02-04T14:34:01.898+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@91e20b]
2026-02-04T14:34:01.899+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T14:34:01.899+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=검색 완료, data=[])]
2026-02-04T14:34:01.901+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T15:42:22.961+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/search?name=123
2026-02-04T15:42:23.100+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-02-04T15:42:23.195+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/search?name=123
2026-02-04T15:42:23.226+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/search?name=123", parameters={masked}
2026-02-04T15:42:23.272+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#searchCompanies(String)
2026-02-04T15:42:23.309+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T15:42:23.400+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71deedd5] was not registered for synchronization because synchronization is not active
2026-02-04T15:42:23.481+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@178297498 wrapping com.mysql.cj.jdbc.ConnectionImpl@30fdaac2] will not be managed by Spring
2026-02-04T15:42:23.505+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.mapper.CompanyMapper.searchByName  : ==>  Preparing: SELECT c.company_id AS companyId, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, MAX(u.korean_name) AS adminName, CASE WHEN c.company_name = ? THEN 1 WHEN c.company_name LIKE CONCAT(?, '%') THEN 2 WHEN c.company_name LIKE CONCAT('%', ?, '%') THEN 3 ELSE 4 END AS matchPriority FROM company_tb c LEFT JOIN user_tb u ON c.created_by = u.user_id AND u.role = 'ADMIN' WHERE ( c.company_name LIKE CONCAT('%', ?, '%') OR REPLACE(c.business_reg_no, '-', '') LIKE CONCAT('%', REPLACE(?, '-', ''), '%') ) AND c.is_active = 1 GROUP BY c.company_id, c.company_name, c.business_reg_no, c.representative_name ORDER BY matchPriority ASC, c.company_name ASC LIMIT 20
2026-02-04T15:42:23.532+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.mapper.CompanyMapper.searchByName  : ==> Parameters: 123(String), 123(String), 123(String), 123(String), 123(String)
2026-02-04T15:42:23.776+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.mapper.CompanyMapper.searchByName  : <==      Total: 2
2026-02-04T15:42:23.797+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71deedd5]
2026-02-04T15:42:23.801+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T15:42:23.818+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=검색 완료, data=[CompanySearchResultDto(companyId=5, companyName=test_ (truncated)...]
2026-02-04T15:42:23.839+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T16:00:19.444+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/check-username?username=dfhasdf
2026-02-04T16:00:19.511+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-02-04T16:00:19.516+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/check-username?username=dfhasdf
2026-02-04T16:00:19.595+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/check-username?username=dfhasdf", parameters={masked}
2026-02-04T16:00:19.626+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#checkUsername(String)
2026-02-04T16:00:19.948+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:00:20.017+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e618235] was not registered for synchronization because synchronization is not active
2026-02-04T16:00:20.161+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@172073868 wrapping com.mysql.cj.jdbc.ConnectionImpl@c37af13] will not be managed by Spring
2026-02-04T16:00:20.184+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.isUsernameExists      : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE username = ?
2026-02-04T16:00:20.206+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.isUsernameExists      : ==> Parameters: dfhasdf(String)
2026-02-04T16:00:20.503+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.isUsernameExists      : <==      Total: 1
2026-02-04T16:00:20.503+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e618235]
2026-02-04T16:00:20.613+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T16:00:20.645+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용 가능한 username입니다., data={available=true, exists=false})]
2026-02-04T16:00:20.986+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T16:14:44.395+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2026-02-04T16:14:44.608+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2026-02-04T16:14:44.765+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-02-04T16:14:44.823+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2026-02-04T16:14:44.863+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2026-02-04T16:14:44.879+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2026-02-04T16:14:45.401+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_user, password=1234)]
2026-02-04T16:14:46.070+09:00  INFO 59308 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 로그인 시도 - username: test_user
2026-02-04T16:14:46.123+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:14:46.124+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ebb42fe] was not registered for synchronization because synchronization is not active
2026-02-04T16:14:46.154+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2007310945 wrapping com.mysql.cj.jdbc.ConnectionImpl@3947785a] will not be managed by Spring
2026-02-04T16:14:46.155+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2026-02-04T16:14:46.163+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user(String)
2026-02-04T16:14:46.433+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2026-02-04T16:14:46.434+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ebb42fe]
2026-02-04T16:14:46.676+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:14:46.679+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f7d3fa] was not registered for synchronization because synchronization is not active
2026-02-04T16:14:46.727+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@997259574 wrapping com.mysql.cj.jdbc.ConnectionImpl@3947785a] will not be managed by Spring
2026-02-04T16:14:46.742+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-02-04T16:14:46.786+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 6(Long)
2026-02-04T16:14:47.103+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2026-02-04T16:14:47.109+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f7d3fa]
2026-02-04T16:14:47.739+09:00  INFO 59308 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 로그인 성공 - userId: 6, role: USER, companyId: 3
2026-02-04T16:14:47.740+09:00  INFO 59308 --- [http-nio-8080-exec-7] SECURITY                                 : LOGIN_SUCCESS userId=6 username=test_user role=USER
2026-02-04T16:14:47.742+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T16:14:47.776+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=6, username=test_user, password= (truncated)...]
2026-02-04T16:14:47.831+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T16:14:48.978+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2026-02-04T16:14:49.029+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2026-02-04T16:14:49.242+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/companies
2026-02-04T16:14:49.417+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2026-02-04T16:14:49.494+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2026-02-04T16:14:49.615+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2026-02-04T16:14:49.713+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:14:49.810+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55803d11] was not registered for synchronization because synchronization is not active
2026-02-04T16:14:49.922+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1195510464 wrapping com.mysql.cj.jdbc.ConnectionImpl@3947785a] will not be managed by Spring
2026-02-04T16:14:49.960+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2026-02-04T16:14:49.960+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 6(Long)
2026-02-04T16:14:50.064+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2026-02-04T16:14:50.081+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55803d11]
2026-02-04T16:14:50.135+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T16:14:50.183+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=3, companyCode=DYM7LX, companyNa (truncated)...]
2026-02-04T16:14:50.205+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T16:14:55.939+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-02-04T16:14:55.989+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-02-04T16:14:56.039+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2026-02-04T16:14:56.139+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-02-04T16:14:56.264+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-02-04T16:14:56.405+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2026-02-04T16:14:56.529+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses/pending-approvals
2026-02-04T16:14:56.748+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses/pending-approvals
2026-02-04T16:14:56.938+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/companies
2026-02-04T16:14:57.692+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T16:14:57.698+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-02-04T16:14:57.727+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-02-04T16:14:58.217+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-02-04T16:14:57.842+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T16:14:57.956+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-02-04T16:14:58.133+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2026-02-04T16:14:58.220+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-02-04T16:14:58.222+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-02-04T16:14:58.222+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2026-02-04T16:14:58.223+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-02-04T16:14:58.224+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2026-02-04T16:14:58.225+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:14:58.242+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-02-04T16:14:58.243+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T16:14:58.244+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T16:14:58.283+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a36ed5f] was not registered for synchronization because synchronization is not active
2026-02-04T16:14:58.313+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:14:58.347+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:14:58.414+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-02-04T16:14:58.454+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T16:14:58.459+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a5adaf0] was not registered for synchronization because synchronization is not active
2026-02-04T16:14:58.460+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f9d6b73] was not registered for synchronization because synchronization is not active
2026-02-04T16:14:58.484+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@641983377 wrapping com.mysql.cj.jdbc.ConnectionImpl@3947785a] will not be managed by Spring
2026-02-04T16:14:58.492+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses/pending-approvals
2026-02-04T16:14:58.527+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses
2026-02-04T16:14:58.573+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2026-02-04T16:14:58.574+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T16:14:58.574+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-02-04T16:14:58.604+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-02-04T16:14:58.578+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 6(Long)
2026-02-04T16:14:58.582+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user", parameters={masked}
2026-02-04T16:14:58.583+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@611282390 wrapping com.mysql.cj.jdbc.ConnectionImpl@48cd968d] will not be managed by Spring
2026-02-04T16:14:58.616+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-02-04T16:14:58.575+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1237633957 wrapping com.mysql.cj.jdbc.ConnectionImpl@35e77787] will not be managed by Spring
2026-02-04T16:14:58.613+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-02-04T16:14:58.634+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:14:58.636+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2026-02-04T16:14:58.642+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-02-04T16:14:58.647+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-02-04T16:14:58.648+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a36ed5f]
2026-02-04T16:14:58.648+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59d739b1] was not registered for synchronization because synchronization is not active
2026-02-04T16:14:58.649+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 6(Long), 3(Long)
2026-02-04T16:14:58.650+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 6(Long), 3(Long)
2026-02-04T16:14:58.653+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T16:14:58.658+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T16:14:58.699+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=3, companyCode=DYM7LX, companyNa (truncated)...]
2026-02-04T16:14:58.659+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@264240579 wrapping com.mysql.cj.jdbc.ConnectionImpl@3947785a] will not be managed by Spring
2026-02-04T16:14:58.707+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-02-04T16:14:58.710+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 6(Long), 3(Long)
2026-02-04T16:14:58.707+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T16:14:58.728+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses
2026-02-04T16:14:58.731+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-02-04T16:14:58.827+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T16:14:58.881+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses/pending-approvals
2026-02-04T16:14:58.990+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:14:59.029+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user", parameters={masked}
2026-02-04T16:14:59.078+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-02-04T16:14:59.128+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fc972cb] was not registered for synchronization because synchronization is not active
2026-02-04T16:14:59.191+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-02-04T16:14:59.238+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-02-04T16:14:59.239+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-02-04T16:14:59.239+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-02-04T16:14:59.258+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:14:59.259+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-02-04T16:14:59.260+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f9d6b73]
2026-02-04T16:14:59.261+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a5adaf0]
2026-02-04T16:14:59.261+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d749429] was not registered for synchronization because synchronization is not active
2026-02-04T16:14:59.262+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:14:59.279+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1906607774 wrapping com.mysql.cj.jdbc.ConnectionImpl@35e77787] will not be managed by Spring
2026-02-04T16:14:59.279+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7473b4f8] was not registered for synchronization because synchronization is not active
2026-02-04T16:14:59.280+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T16:14:59.280+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1381882015 wrapping com.mysql.cj.jdbc.ConnectionImpl@48cd968d] will not be managed by Spring
2026-02-04T16:14:59.283+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T16:14:59.286+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T16:14:59.312+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-02-04T16:14:59.314+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T16:14:59.325+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@592237466 wrapping com.mysql.cj.jdbc.ConnectionImpl@14354c37] will not be managed by Spring
2026-02-04T16:14:59.328+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-02-04T16:14:59.333+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-02-04T16:14:59.333+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T16:14:59.333+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T16:14:59.335+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 6(Long), 3(Long)
2026-02-04T16:14:59.338+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T16:14:59.345+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-02-04T16:14:59.346+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T16:14:59.384+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T16:14:59.391+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T16:14:59.395+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T16:14:59.407+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59d739b1]
2026-02-04T16:14:59.408+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d749429]
2026-02-04T16:14:59.411+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses
2026-02-04T16:14:59.412+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T16:14:59.412+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:14:59.412+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T16:14:59.415+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-02-04T16:14:59.415+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses
2026-02-04T16:14:59.484+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T16:14:59.445+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-02-04T16:14:59.489+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7473b4f8]
2026-02-04T16:14:59.492+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T16:14:59.446+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T16:14:59.494+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fc972cb]
2026-02-04T16:14:59.447+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b3e4690] was not registered for synchronization because synchronization is not active
2026-02-04T16:14:59.460+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user", parameters={masked}
2026-02-04T16:14:59.463+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T16:14:59.488+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user", parameters={masked}
2026-02-04T16:14:59.495+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:14:59.509+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1925334018 wrapping com.mysql.cj.jdbc.ConnectionImpl@35e77787] will not be managed by Spring
2026-02-04T16:14:59.509+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-02-04T16:14:59.516+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-02-04T16:14:59.516+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-02-04T16:14:59.545+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-02-04T16:14:59.550+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4796d998] was not registered for synchronization because synchronization is not active
2026-02-04T16:14:59.551+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T16:14:59.565+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:14:59.565+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2046583209 wrapping com.mysql.cj.jdbc.ConnectionImpl@14354c37] will not be managed by Spring
2026-02-04T16:14:59.565+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T16:14:59.565+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T16:14:59.582+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T16:14:59.596+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:14:59.604+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a2546d8] was not registered for synchronization because synchronization is not active
2026-02-04T16:14:59.610+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T16:14:59.613+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-02-04T16:14:59.617+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58f963f8] was not registered for synchronization because synchronization is not active
2026-02-04T16:14:59.618+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2130234095 wrapping com.mysql.cj.jdbc.ConnectionImpl@48cd968d] will not be managed by Spring
2026-02-04T16:14:59.618+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T16:14:59.625+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses/pending-approvals
2026-02-04T16:14:59.634+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1445755951 wrapping com.mysql.cj.jdbc.ConnectionImpl@3947785a] will not be managed by Spring
2026-02-04T16:14:59.639+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T16:14:59.639+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-02-04T16:14:59.639+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T16:14:59.643+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T16:14:59.658+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T16:14:59.664+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T16:14:59.677+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T16:14:59.678+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-02-04T16:14:59.678+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T16:14:59.679+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b3e4690]
2026-02-04T16:14:59.679+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4796d998]
2026-02-04T16:14:59.679+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-02-04T16:14:59.687+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses
2026-02-04T16:14:59.696+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:14:59.697+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T16:14:59.697+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T16:14:59.711+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:14:59.712+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:14:59.721+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a4016ec] was not registered for synchronization because synchronization is not active
2026-02-04T16:14:59.712+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T16:14:59.722+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a2546d8]
2026-02-04T16:14:59.723+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58f963f8]
2026-02-04T16:14:59.723+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36f41fa2] was not registered for synchronization because synchronization is not active
2026-02-04T16:14:59.725+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user", parameters={masked}
2026-02-04T16:14:59.730+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:14:59.731+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:14:59.732+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-02-04T16:14:59.732+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b272250] was not registered for synchronization because synchronization is not active
2026-02-04T16:14:59.732+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24dbba0d] was not registered for synchronization because synchronization is not active
2026-02-04T16:14:59.724+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@194b9e79] was not registered for synchronization because synchronization is not active
2026-02-04T16:14:59.734+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:14:59.734+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1799660650 wrapping com.mysql.cj.jdbc.ConnectionImpl@48cd968d] will not be managed by Spring
2026-02-04T16:14:59.735+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@934210509 wrapping com.mysql.cj.jdbc.ConnectionImpl@3947785a] will not be managed by Spring
2026-02-04T16:14:59.749+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33f9cd80] was not registered for synchronization because synchronization is not active
2026-02-04T16:14:59.748+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1153276968 wrapping com.mysql.cj.jdbc.ConnectionImpl@35e77787] will not be managed by Spring
2026-02-04T16:14:59.749+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T16:14:59.749+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T16:14:59.750+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@621160503 wrapping com.mysql.cj.jdbc.ConnectionImpl@14354c37] will not be managed by Spring
2026-02-04T16:14:59.751+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-02-04T16:14:59.765+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T16:14:59.765+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T16:14:59.779+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T16:14:59.781+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 6(Long), 3(Long)
2026-02-04T16:14:59.781+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T16:14:59.805+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-02-04T16:14:59.805+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T16:14:59.806+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T16:14:59.818+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T16:14:59.833+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@194b9e79]
2026-02-04T16:14:59.833+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b272250]
2026-02-04T16:14:59.833+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24dbba0d]
2026-02-04T16:14:59.833+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33f9cd80]
2026-02-04T16:14:59.834+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:14:59.834+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T16:14:59.834+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:14:59.899+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b807799] was not registered for synchronization because synchronization is not active
2026-02-04T16:14:59.850+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:14:59.911+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@317895478 wrapping com.mysql.cj.jdbc.ConnectionImpl@3947785a] will not be managed by Spring
2026-02-04T16:14:59.850+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42ad80cf] was not registered for synchronization because synchronization is not active
2026-02-04T16:14:59.858+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1205816061 wrapping com.mysql.cj.jdbc.ConnectionImpl@14354c37] will not be managed by Spring
2026-02-04T16:14:59.878+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1944310258 wrapping com.mysql.cj.jdbc.ConnectionImpl@35e77787] will not be managed by Spring
2026-02-04T16:14:59.883+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-02-04T16:14:59.911+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26ea1855] was not registered for synchronization because synchronization is not active
2026-02-04T16:14:59.912+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T16:14:59.926+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1614421864 wrapping com.mysql.cj.jdbc.ConnectionImpl@48cd968d] will not be managed by Spring
2026-02-04T16:14:59.927+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T16:14:59.927+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T16:14:59.930+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T16:14:59.962+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T16:14:59.932+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T16:14:59.957+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T16:14:59.977+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T16:14:59.989+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T16:15:00.006+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1399767797 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fd18812] will not be managed by Spring
2026-02-04T16:15:00.115+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T16:15:00.164+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T16:15:00.225+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T16:15:00.246+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a4016ec]
2026-02-04T16:15:00.267+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T16:15:00.267+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T16:15:00.283+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:15:00.283+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42ad80cf]
2026-02-04T16:15:00.283+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b807799]
2026-02-04T16:15:00.283+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@919b53a] was not registered for synchronization because synchronization is not active
2026-02-04T16:15:00.284+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:15:00.284+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:15:00.286+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1404319107 wrapping com.mysql.cj.jdbc.ConnectionImpl@35e77787] will not be managed by Spring
2026-02-04T16:15:00.287+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@602c3820] was not registered for synchronization because synchronization is not active
2026-02-04T16:15:00.288+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@618782c1] was not registered for synchronization because synchronization is not active
2026-02-04T16:15:00.289+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T16:15:00.316+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@156442071 wrapping com.mysql.cj.jdbc.ConnectionImpl@3947785a] will not be managed by Spring
2026-02-04T16:15:00.318+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T16:15:00.315+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1319724818 wrapping com.mysql.cj.jdbc.ConnectionImpl@48cd968d] will not be managed by Spring
2026-02-04T16:15:00.353+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T16:15:00.363+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T16:15:00.377+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T16:15:00.424+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T16:15:00.425+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36f41fa2]
2026-02-04T16:15:00.426+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26ea1855]
2026-02-04T16:15:00.428+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T16:15:00.492+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T16:15:00.523+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T16:15:00.595+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:15:00.724+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cc4c5fa] was not registered for synchronization because synchronization is not active
2026-02-04T16:15:00.672+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:15:00.727+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c5d9c72] was not registered for synchronization because synchronization is not active
2026-02-04T16:15:00.730+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@797903091 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fd18812] will not be managed by Spring
2026-02-04T16:15:00.716+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@919b53a]
2026-02-04T16:15:00.727+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@987485903 wrapping com.mysql.cj.jdbc.ConnectionImpl@14354c37] will not be managed by Spring
2026-02-04T16:15:00.734+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T16:15:00.738+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T16:15:00.733+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T16:15:00.742+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T16:15:00.755+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T16:15:00.759+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T16:15:00.765+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@602c3820]
2026-02-04T16:15:00.780+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T16:15:00.780+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T16:15:00.781+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T16:15:00.782+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@618782c1]
2026-02-04T16:15:00.782+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cc4c5fa]
2026-02-04T16:15:00.784+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T16:15:00.784+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T16:15:00.786+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=1000, totalE (truncated)...]
2026-02-04T16:15:00.786+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=1000, totalE (truncated)...]
2026-02-04T16:15:00.786+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=1000, totalE (truncated)...]
2026-02-04T16:15:00.824+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=1000, totalE (truncated)...]
2026-02-04T16:15:00.842+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T16:15:00.842+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T16:15:00.842+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T16:15:00.870+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T16:15:00.958+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T16:15:00.959+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T16:15:01.094+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T16:15:01.100+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c5d9c72]
2026-02-04T16:15:01.124+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:15:01.142+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dc71402] was not registered for synchronization because synchronization is not active
2026-02-04T16:15:01.139+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T16:15:01.156+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@762946500 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fd18812] will not be managed by Spring
2026-02-04T16:15:01.177+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T16:15:01.177+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses
2026-02-04T16:15:01.192+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T16:15:01.184+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T16:15:01.193+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user", parameters={masked}
2026-02-04T16:15:01.212+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T16:15:01.212+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-02-04T16:15:01.213+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses
2026-02-04T16:15:01.216+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:15:01.216+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user
2026-02-04T16:15:01.216+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ede857b] was not registered for synchronization because synchronization is not active
2026-02-04T16:15:01.218+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1197682732 wrapping com.mysql.cj.jdbc.ConnectionImpl@48cd968d] will not be managed by Spring
2026-02-04T16:15:01.218+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T16:15:01.217+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&startDate=2026-02-01&endDate=2026-02-28&drafterName=test_user", parameters={masked}
2026-02-04T16:15:01.224+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T16:15:01.225+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-02-04T16:15:01.248+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T16:15:01.259+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T16:15:01.259+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dc71402]
2026-02-04T16:15:01.276+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:15:01.277+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ede857b]
2026-02-04T16:15:01.281+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6484c568] was not registered for synchronization because synchronization is not active
2026-02-04T16:15:01.284+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:15:01.288+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T16:15:01.291+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=1000, totalE (truncated)...]
2026-02-04T16:15:01.312+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T16:15:01.285+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b5b3377] was not registered for synchronization because synchronization is not active
2026-02-04T16:15:01.319+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1206084118 wrapping com.mysql.cj.jdbc.ConnectionImpl@3947785a] will not be managed by Spring
2026-02-04T16:15:01.330+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@32800826 wrapping com.mysql.cj.jdbc.ConnectionImpl@48cd968d] will not be managed by Spring
2026-02-04T16:15:01.331+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T16:15:01.332+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T16:15:01.332+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T16:15:01.333+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T16:15:01.432+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T16:15:01.436+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T16:15:01.477+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b5b3377]
2026-02-04T16:15:01.477+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6484c568]
2026-02-04T16:15:01.477+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:15:01.477+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:15:01.478+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@104a8d97] was not registered for synchronization because synchronization is not active
2026-02-04T16:15:01.478+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fb3c2dd] was not registered for synchronization because synchronization is not active
2026-02-04T16:15:01.479+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@310953058 wrapping com.mysql.cj.jdbc.ConnectionImpl@48cd968d] will not be managed by Spring
2026-02-04T16:15:01.480+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1507253750 wrapping com.mysql.cj.jdbc.ConnectionImpl@3947785a] will not be managed by Spring
2026-02-04T16:15:01.481+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T16:15:01.545+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T16:15:01.593+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T16:15:01.580+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T16:15:01.626+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T16:15:01.629+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T16:15:01.632+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fb3c2dd]
2026-02-04T16:15:01.632+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@104a8d97]
2026-02-04T16:15:01.633+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:15:01.633+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:15:01.633+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f919c05] was not registered for synchronization because synchronization is not active
2026-02-04T16:15:01.633+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@299d5c28] was not registered for synchronization because synchronization is not active
2026-02-04T16:15:01.634+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@782566400 wrapping com.mysql.cj.jdbc.ConnectionImpl@3947785a] will not be managed by Spring
2026-02-04T16:15:01.642+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1845447353 wrapping com.mysql.cj.jdbc.ConnectionImpl@48cd968d] will not be managed by Spring
2026-02-04T16:15:01.642+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T16:15:01.642+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T16:15:01.645+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T16:15:01.646+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T16:15:01.689+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T16:15:01.690+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T16:15:01.708+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f919c05]
2026-02-04T16:15:01.714+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@299d5c28]
2026-02-04T16:15:01.715+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:15:01.715+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T16:15:01.717+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b783bde] was not registered for synchronization because synchronization is not active
2026-02-04T16:15:01.717+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=1000, totalE (truncated)...]
2026-02-04T16:15:01.724+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@943390464 wrapping com.mysql.cj.jdbc.ConnectionImpl@3947785a] will not be managed by Spring
2026-02-04T16:15:01.725+09:00 DEBUG 59308 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T16:15:01.725+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T16:15:01.730+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-02-01(LocalDate), 2026-02-28(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T16:15:01.851+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-02-04T16:15:01.881+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b783bde]
2026-02-04T16:15:01.882+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T16:15:01.900+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=1000, totalE (truncated)...]
2026-02-04T16:15:01.901+09:00 DEBUG 59308 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T16:15:05.976+09:00 DEBUG 59308 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&startDate=2026-01-01&endDate=2026-01-31&drafterName=test_user
2026-02-04T16:15:05.981+09:00 DEBUG 59308 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&startDate=2026-01-01&endDate=2026-01-31&drafterName=test_user
2026-02-04T16:15:06.012+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&startDate=2026-01-01&endDate=2026-01-31&drafterName=test_user
2026-02-04T16:15:06.014+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&startDate=2026-01-01&endDate=2026-01-31&drafterName=test_user
2026-02-04T16:15:06.028+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses
2026-02-04T16:15:06.039+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&startDate=2026-01-01&endDate=2026-01-31&drafterName=test_user
2026-02-04T16:15:06.040+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses
2026-02-04T16:15:06.048+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&startDate=2026-01-01&endDate=2026-01-31&drafterName=test_user
2026-02-04T16:15:06.055+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&startDate=2026-01-01&endDate=2026-01-31&drafterName=test_user", parameters={masked}
2026-02-04T16:15:06.058+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&startDate=2026-01-01&endDate=2026-01-31&drafterName=test_user", parameters={masked}
2026-02-04T16:15:06.059+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-02-04T16:15:06.060+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-02-04T16:15:06.079+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:15:06.083+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cfef3d2] was not registered for synchronization because synchronization is not active
2026-02-04T16:15:06.089+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:15:06.216+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1216757778 wrapping com.mysql.cj.jdbc.ConnectionImpl@48cd968d] will not be managed by Spring
2026-02-04T16:15:06.231+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a2844cb] was not registered for synchronization because synchronization is not active
2026-02-04T16:15:06.245+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T16:15:06.245+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T16:15:06.307+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@105405531 wrapping com.mysql.cj.jdbc.ConnectionImpl@3947785a] will not be managed by Spring
2026-02-04T16:15:06.341+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T16:15:06.397+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T16:15:06.422+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T16:15:06.427+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cfef3d2]
2026-02-04T16:15:06.428+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:15:06.499+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4abbfb0f] was not registered for synchronization because synchronization is not active
2026-02-04T16:15:06.514+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@370118042 wrapping com.mysql.cj.jdbc.ConnectionImpl@48cd968d] will not be managed by Spring
2026-02-04T16:15:06.516+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T16:15:06.545+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T16:15:06.575+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T16:15:06.583+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a2844cb]
2026-02-04T16:15:06.592+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:15:07.188+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T16:15:07.213+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ba2fddd] was not registered for synchronization because synchronization is not active
2026-02-04T16:15:07.217+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4abbfb0f]
2026-02-04T16:15:07.228+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:15:07.233+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a517673] was not registered for synchronization because synchronization is not active
2026-02-04T16:15:07.234+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@262636981 wrapping com.mysql.cj.jdbc.ConnectionImpl@48cd968d] will not be managed by Spring
2026-02-04T16:15:07.242+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@179038469 wrapping com.mysql.cj.jdbc.ConnectionImpl@3947785a] will not be managed by Spring
2026-02-04T16:15:07.246+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T16:15:07.272+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T16:15:07.272+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T16:15:07.294+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-01-01(LocalDate), 2026-01-31(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T16:15:07.298+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T16:15:07.305+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ba2fddd]
2026-02-04T16:15:07.307+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:15:07.314+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@327004bd] was not registered for synchronization because synchronization is not active
2026-02-04T16:15:07.355+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1386604863 wrapping com.mysql.cj.jdbc.ConnectionImpl@3947785a] will not be managed by Spring
2026-02-04T16:15:07.373+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T16:15:07.383+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-01-01(LocalDate), 2026-01-31(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T16:15:07.753+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 19
2026-02-04T16:15:07.778+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a517673]
2026-02-04T16:15:07.779+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 19
2026-02-04T16:15:07.795+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:15:07.795+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@327004bd]
2026-02-04T16:15:07.798+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@746b8c2c] was not registered for synchronization because synchronization is not active
2026-02-04T16:15:07.800+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:15:07.801+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1005388168 wrapping com.mysql.cj.jdbc.ConnectionImpl@48cd968d] will not be managed by Spring
2026-02-04T16:15:07.815+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6edc8e04] was not registered for synchronization because synchronization is not active
2026-02-04T16:15:07.827+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T16:15:07.830+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@772428694 wrapping com.mysql.cj.jdbc.ConnectionImpl@3947785a] will not be managed by Spring
2026-02-04T16:15:07.831+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T16:15:07.831+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T16:15:07.838+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T16:15:07.861+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T16:15:07.873+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@746b8c2c]
2026-02-04T16:15:07.883+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T16:15:07.894+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6edc8e04]
2026-02-04T16:15:08.032+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:15:08.041+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e3e0622] was not registered for synchronization because synchronization is not active
2026-02-04T16:15:08.053+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:15:08.057+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2173aa1d] was not registered for synchronization because synchronization is not active
2026-02-04T16:15:08.077+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2037164360 wrapping com.mysql.cj.jdbc.ConnectionImpl@48cd968d] will not be managed by Spring
2026-02-04T16:15:08.086+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-02-04T16:15:08.093+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 3(Long), 77(Long), 76(Long), 75(Long), 72(Long), 71(Long), 69(Long), 67(Long), 66(Long), 64(Long), 63(Long), 62(Long), 61(Long), 60(Long), 58(Long), 51(Long), 47(Long), 44(Long), 42(Long), 38(Long)
2026-02-04T16:15:08.095+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1662008805 wrapping com.mysql.cj.jdbc.ConnectionImpl@3947785a] will not be managed by Spring
2026-02-04T16:15:08.104+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-02-04T16:15:08.110+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 3(Long), 77(Long), 76(Long), 75(Long), 72(Long), 71(Long), 69(Long), 67(Long), 66(Long), 64(Long), 63(Long), 62(Long), 61(Long), 60(Long), 58(Long), 51(Long), 47(Long), 44(Long), 42(Long), 38(Long)
2026-02-04T16:15:08.620+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 20
2026-02-04T16:15:08.620+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 20
2026-02-04T16:15:08.622+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e3e0622]
2026-02-04T16:15:08.622+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2173aa1d]
2026-02-04T16:15:08.665+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:15:08.678+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:15:08.679+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f062070] was not registered for synchronization because synchronization is not active
2026-02-04T16:15:08.679+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a286caf] was not registered for synchronization because synchronization is not active
2026-02-04T16:15:08.680+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1514637345 wrapping com.mysql.cj.jdbc.ConnectionImpl@48cd968d] will not be managed by Spring
2026-02-04T16:15:08.680+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@614222625 wrapping com.mysql.cj.jdbc.ConnectionImpl@3947785a] will not be managed by Spring
2026-02-04T16:15:08.681+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T16:15:08.682+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T16:15:08.692+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-01-01(LocalDate), 2026-01-31(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T16:15:08.695+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-01-01(LocalDate), 2026-01-31(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T16:15:08.708+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 19
2026-02-04T16:15:08.708+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 19
2026-02-04T16:15:08.709+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f062070]
2026-02-04T16:15:08.710+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a286caf]
2026-02-04T16:15:08.710+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:15:08.710+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:15:08.711+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41a43b0] was not registered for synchronization because synchronization is not active
2026-02-04T16:15:08.717+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23d2b22b] was not registered for synchronization because synchronization is not active
2026-02-04T16:15:08.723+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@232655496 wrapping com.mysql.cj.jdbc.ConnectionImpl@3947785a] will not be managed by Spring
2026-02-04T16:15:08.724+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1562968961 wrapping com.mysql.cj.jdbc.ConnectionImpl@48cd968d] will not be managed by Spring
2026-02-04T16:15:08.724+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T16:15:08.726+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T16:15:08.727+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T16:15:08.727+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T16:15:08.740+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T16:15:08.740+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T16:15:08.741+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41a43b0]
2026-02-04T16:15:08.742+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23d2b22b]
2026-02-04T16:15:08.744+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:15:08.745+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@790c4c0d] was not registered for synchronization because synchronization is not active
2026-02-04T16:15:08.771+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:15:08.783+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e2371b2] was not registered for synchronization because synchronization is not active
2026-02-04T16:15:08.776+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@794662751 wrapping com.mysql.cj.jdbc.ConnectionImpl@3947785a] will not be managed by Spring
2026-02-04T16:15:08.791+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-02-04T16:15:08.788+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2018955703 wrapping com.mysql.cj.jdbc.ConnectionImpl@48cd968d] will not be managed by Spring
2026-02-04T16:15:08.792+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 3(Long), 77(Long), 76(Long), 75(Long), 72(Long), 71(Long), 69(Long), 67(Long), 66(Long), 64(Long), 63(Long), 62(Long), 61(Long), 60(Long), 58(Long), 51(Long), 47(Long), 44(Long), 42(Long), 38(Long)
2026-02-04T16:15:08.793+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-02-04T16:15:08.797+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 3(Long), 77(Long), 76(Long), 75(Long), 72(Long), 71(Long), 69(Long), 67(Long), 66(Long), 64(Long), 63(Long), 62(Long), 61(Long), 60(Long), 58(Long), 51(Long), 47(Long), 44(Long), 42(Long), 38(Long)
2026-02-04T16:15:08.819+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 20
2026-02-04T16:15:08.822+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@790c4c0d]
2026-02-04T16:15:08.826+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:15:08.829+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75ba7a67] was not registered for synchronization because synchronization is not active
2026-02-04T16:15:08.831+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1850551545 wrapping com.mysql.cj.jdbc.ConnectionImpl@3947785a] will not be managed by Spring
2026-02-04T16:15:08.835+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 20
2026-02-04T16:15:08.837+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T16:15:08.838+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e2371b2]
2026-02-04T16:15:08.847+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T16:15:08.848+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:15:08.850+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d20188] was not registered for synchronization because synchronization is not active
2026-02-04T16:15:08.851+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1535061725 wrapping com.mysql.cj.jdbc.ConnectionImpl@48cd968d] will not be managed by Spring
2026-02-04T16:15:08.851+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T16:15:08.857+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T16:15:08.859+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75ba7a67]
2026-02-04T16:15:08.860+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T16:15:08.883+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T16:15:08.892+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d20188]
2026-02-04T16:15:08.917+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T16:15:08.921+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T16:15:08.932+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-02-04T16:15:08.941+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-02-04T16:15:09.023+09:00 DEBUG 59308 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T16:15:09.036+09:00 DEBUG 59308 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T16:15:09.132+09:00 DEBUG 59308 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&startDate=2026-01-01&endDate=2026-01-31&drafterName=test_user
2026-02-04T16:15:09.137+09:00 DEBUG 59308 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&startDate=2026-01-01&endDate=2026-01-31&drafterName=test_user
2026-02-04T16:15:09.147+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&startDate=2026-01-01&endDate=2026-01-31&drafterName=test_user
2026-02-04T16:15:09.156+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&startDate=2026-01-01&endDate=2026-01-31&drafterName=test_user
2026-02-04T16:15:09.179+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses
2026-02-04T16:15:09.183+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 6, role: USER, companyId: 3, uri: /api/expenses
2026-02-04T16:15:09.190+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&startDate=2026-01-01&endDate=2026-01-31&drafterName=test_user
2026-02-04T16:15:09.229+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&startDate=2026-01-01&endDate=2026-01-31&drafterName=test_user", parameters={masked}
2026-02-04T16:15:09.193+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&startDate=2026-01-01&endDate=2026-01-31&drafterName=test_user
2026-02-04T16:15:09.247+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-02-04T16:15:09.247+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&startDate=2026-01-01&endDate=2026-01-31&drafterName=test_user", parameters={masked}
2026-02-04T16:15:09.248+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-02-04T16:15:09.263+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:15:09.322+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:15:09.365+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35050d3e] was not registered for synchronization because synchronization is not active
2026-02-04T16:15:09.372+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68d3a03f] was not registered for synchronization because synchronization is not active
2026-02-04T16:15:09.381+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@360450455 wrapping com.mysql.cj.jdbc.ConnectionImpl@3947785a] will not be managed by Spring
2026-02-04T16:15:09.381+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@489039312 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fd18812] will not be managed by Spring
2026-02-04T16:15:09.391+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T16:15:09.392+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T16:15:09.395+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T16:15:09.399+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T16:15:09.409+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T16:15:09.409+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T16:15:09.416+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35050d3e]
2026-02-04T16:15:09.417+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68d3a03f]
2026-02-04T16:15:09.423+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:15:09.425+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:15:09.428+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@117abd15] was not registered for synchronization because synchronization is not active
2026-02-04T16:15:09.430+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25da9eaa] was not registered for synchronization because synchronization is not active
2026-02-04T16:15:09.432+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1457661991 wrapping com.mysql.cj.jdbc.ConnectionImpl@3947785a] will not be managed by Spring
2026-02-04T16:15:09.432+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1450777844 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fd18812] will not be managed by Spring
2026-02-04T16:15:09.433+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T16:15:09.433+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T16:15:09.433+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T16:15:09.433+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T16:15:09.462+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T16:15:09.474+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25da9eaa]
2026-02-04T16:15:09.465+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T16:15:09.480+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:15:09.481+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@117abd15]
2026-02-04T16:15:09.483+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@426ea1d9] was not registered for synchronization because synchronization is not active
2026-02-04T16:15:09.483+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:15:09.484+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@858802416 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fd18812] will not be managed by Spring
2026-02-04T16:15:09.484+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7613437b] was not registered for synchronization because synchronization is not active
2026-02-04T16:15:09.490+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T16:15:09.495+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@843438777 wrapping com.mysql.cj.jdbc.ConnectionImpl@3947785a] will not be managed by Spring
2026-02-04T16:15:09.496+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-01-01(LocalDate), 2026-01-31(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T16:15:09.496+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T16:15:09.497+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-01-01(LocalDate), 2026-01-31(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T16:15:09.524+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 19
2026-02-04T16:15:09.528+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@426ea1d9]
2026-02-04T16:15:09.530+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:15:09.531+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a2035fd] was not registered for synchronization because synchronization is not active
2026-02-04T16:15:09.534+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@225917705 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fd18812] will not be managed by Spring
2026-02-04T16:15:09.543+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T16:15:09.549+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T16:15:09.579+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T16:15:09.581+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a2035fd]
2026-02-04T16:15:09.582+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:15:09.582+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12c9584b] was not registered for synchronization because synchronization is not active
2026-02-04T16:15:09.592+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@696064050 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fd18812] will not be managed by Spring
2026-02-04T16:15:09.593+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-02-04T16:15:09.594+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 19
2026-02-04T16:15:09.597+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 3(Long), 77(Long), 76(Long), 75(Long), 72(Long), 71(Long), 69(Long), 67(Long), 66(Long), 64(Long), 63(Long), 62(Long), 61(Long), 60(Long), 58(Long), 51(Long), 47(Long), 44(Long), 42(Long), 38(Long)
2026-02-04T16:15:09.599+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7613437b]
2026-02-04T16:15:09.600+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:15:09.612+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b0613e4] was not registered for synchronization because synchronization is not active
2026-02-04T16:15:09.613+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@123903332 wrapping com.mysql.cj.jdbc.ConnectionImpl@3947785a] will not be managed by Spring
2026-02-04T16:15:09.614+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T16:15:09.615+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T16:15:09.632+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 20
2026-02-04T16:15:09.633+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T16:15:09.660+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12c9584b]
2026-02-04T16:15:09.679+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b0613e4]
2026-02-04T16:15:09.679+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:15:09.680+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:15:09.680+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dcb3229] was not registered for synchronization because synchronization is not active
2026-02-04T16:15:09.681+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@654f9cc7] was not registered for synchronization because synchronization is not active
2026-02-04T16:15:09.696+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1964522715 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fd18812] will not be managed by Spring
2026-02-04T16:15:09.697+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1041050297 wrapping com.mysql.cj.jdbc.ConnectionImpl@3947785a] will not be managed by Spring
2026-02-04T16:15:09.697+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T16:15:09.698+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-02-04T16:15:09.708+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-01-01(LocalDate), 2026-01-31(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T16:15:09.712+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 3(Long), 77(Long), 76(Long), 75(Long), 72(Long), 71(Long), 69(Long), 67(Long), 66(Long), 64(Long), 63(Long), 62(Long), 61(Long), 60(Long), 58(Long), 51(Long), 47(Long), 44(Long), 42(Long), 38(Long)
2026-02-04T16:15:09.747+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 20
2026-02-04T16:15:09.747+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 19
2026-02-04T16:15:09.761+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@654f9cc7]
2026-02-04T16:15:09.761+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dcb3229]
2026-02-04T16:15:09.775+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:15:09.776+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:15:09.777+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@466b8c37] was not registered for synchronization because synchronization is not active
2026-02-04T16:15:09.777+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f2304d0] was not registered for synchronization because synchronization is not active
2026-02-04T16:15:09.778+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1599834521 wrapping com.mysql.cj.jdbc.ConnectionImpl@3947785a] will not be managed by Spring
2026-02-04T16:15:09.779+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1796028263 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fd18812] will not be managed by Spring
2026-02-04T16:15:09.779+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.report_date >= ? AND r.report_date <= ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-02-04T16:15:09.781+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T16:15:09.784+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2026-01-01(LocalDate), 2026-01-31(LocalDate), test_user(String), 2147483647(Integer), 0(Integer)
2026-02-04T16:15:09.784+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T16:15:09.833+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T16:15:09.856+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f2304d0]
2026-02-04T16:15:09.858+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:15:09.874+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43087e05] was not registered for synchronization because synchronization is not active
2026-02-04T16:15:09.880+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1149957936 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fd18812] will not be managed by Spring
2026-02-04T16:15:09.930+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-02-04T16:15:09.880+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 19
2026-02-04T16:15:09.932+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 3(Long), 77(Long), 76(Long), 75(Long), 72(Long), 71(Long), 69(Long), 67(Long), 66(Long), 64(Long), 63(Long), 62(Long), 61(Long), 60(Long), 58(Long), 51(Long), 47(Long), 44(Long), 42(Long), 38(Long)
2026-02-04T16:15:09.932+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@466b8c37]
2026-02-04T16:15:09.966+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:15:09.966+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 20
2026-02-04T16:15:09.980+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@636751a0] was not registered for synchronization because synchronization is not active
2026-02-04T16:15:09.980+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43087e05]
2026-02-04T16:15:09.990+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1938643934 wrapping com.mysql.cj.jdbc.ConnectionImpl@3947785a] will not be managed by Spring
2026-02-04T16:15:09.991+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:15:09.991+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T16:15:09.998+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@201ee0df] was not registered for synchronization because synchronization is not active
2026-02-04T16:15:10.032+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T16:15:10.055+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@551967375 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fd18812] will not be managed by Spring
2026-02-04T16:15:10.056+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T16:15:10.068+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T16:15:10.093+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T16:15:10.116+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@636751a0]
2026-02-04T16:15:10.124+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T16:15:10.126+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:15:10.127+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@201ee0df]
2026-02-04T16:15:10.127+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f548fc2] was not registered for synchronization because synchronization is not active
2026-02-04T16:15:10.128+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T16:15:10.134+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1189554137 wrapping com.mysql.cj.jdbc.ConnectionImpl@3947785a] will not be managed by Spring
2026-02-04T16:15:10.144+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-02-04T16:15:10.144+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-02-04T16:15:10.190+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 3(Long), 77(Long), 76(Long), 75(Long), 72(Long), 71(Long), 69(Long), 67(Long), 66(Long), 64(Long), 63(Long), 62(Long), 61(Long), 60(Long), 58(Long), 51(Long), 47(Long), 44(Long), 42(Long), 38(Long)
2026-02-04T16:15:10.209+09:00 DEBUG 59308 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-02-04T16:15:10.258+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 20
2026-02-04T16:15:10.264+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f548fc2]
2026-02-04T16:15:10.291+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-02-04T16:15:10.295+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@633bae2b] was not registered for synchronization because synchronization is not active
2026-02-04T16:15:10.310+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1479149329 wrapping com.mysql.cj.jdbc.ConnectionImpl@3947785a] will not be managed by Spring
2026-02-04T16:15:10.382+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-02-04T16:15:10.453+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2026-02-04T16:15:10.525+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-02-04T16:15:10.531+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@633bae2b]
2026-02-04T16:15:10.546+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-02-04T16:15:10.552+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-02-04T16:15:10.556+09:00 DEBUG 59308 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
