2026-01-08T12:40:25.536+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65bf1adc]
2026-01-08T12:40:25.544+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65bf1adc]
2026-01-08T12:40:25.548+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65bf1adc]
2026-01-08T12:40:25.550+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65bf1adc]
2026-01-08T12:40:25.587+09:00  INFO 6764 --- [http-nio-8080-exec-8] c.i.b.c.ExpenseCategoryController        : 항목 수정 완료 - categoryId: 13
2026-01-08T12:40:25.588+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:25.588+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=항목이 수정되었습니다., data=ExpenseCategoryDto(categoryId=13, companyId=1,  (truncated)...]
2026-01-08T12:40:25.589+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:26.237+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/merged
2026-01-08T12:40:26.321+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/merged
2026-01-08T12:40:26.334+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expense-categories/merged
2026-01-08T12:40:26.337+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/merged
2026-01-08T12:40:26.379+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/merged", parameters={}
2026-01-08T12:40:26.381+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getMergedCategories()
2026-01-08T12:40:26.382+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:40:26.383+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:40:26.384+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:26.389+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18bbde16] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:26.397+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1527844512 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:40:26.398+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.E.findMergedCategories           : ==>  Preparing: ( -- 전역 카테고리 (회사별 오버라이드가 있으면 회사별 값 사용) SELECT COALESCE(ec_company.category_id, ec_global.category_id) AS category_id, COALESCE(ec_company.company_id, ec_global.company_id) AS company_id, COALESCE(ec_company.category_name, ec_global.category_name) AS category_name, COALESCE(ec_company.display_order, ec_global.display_order) AS display_order, COALESCE(ec_company.is_active, ec_global.is_active) AS is_active, COALESCE(ec_company.created_by, ec_global.created_by) AS created_by, COALESCE(ec_company.created_at, ec_global.created_at) AS created_at, COALESCE(ec_company.updated_at, ec_global.updated_at) AS updated_at, CASE WHEN ec_company.category_id IS NOT NULL THEN 0 ELSE 1 END AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_global LEFT JOIN expense_category_tb ec_company ON ec_global.category_name = ec_company.category_name AND ec_company.company_id = ? LEFT JOIN user_tb u ON COALESCE(ec_company.created_by, ec_global.created_by) = u.user_id WHERE ec_global.company_id IS NULL AND (ec_global.is_active IS NULL OR ec_global.is_active = 1) AND (ec_company.category_id IS NULL OR ec_company.is_active IS NULL OR ec_company.is_active = 1) ) UNION ( -- 회사별 카테고리 (전역에 없는 새로운 카테고리만) SELECT ec_company.category_id, ec_company.company_id, ec_company.category_name, ec_company.display_order, ec_company.is_active, ec_company.created_by, ec_company.created_at, ec_company.updated_at, 0 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_company LEFT JOIN expense_category_tb ec_global ON ec_company.category_name = ec_global.category_name AND ec_global.company_id IS NULL LEFT JOIN user_tb u ON ec_company.created_by = u.user_id WHERE ec_company.company_id = ? AND (ec_company.is_active IS NULL OR ec_company.is_active = 1) AND ec_global.category_id IS NULL -- 전역에 없는 회사별 카테고리만 ) ORDER BY display_order ASC, category_name ASC
2026-01-08T12:40:26.401+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.E.findMergedCategories           : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:40:26.417+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.E.findMergedCategories           : <==      Total: 14
2026-01-08T12:40:26.433+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18bbde16]
2026-01-08T12:40:26.434+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:26.438+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-08T12:40:26.449+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:29.144+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/16
2026-01-08T12:40:29.153+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing PUT /api/expense-categories/16
2026-01-08T12:40:29.155+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expense-categories/16
2026-01-08T12:40:29.155+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured PUT /api/expense-categories/16
2026-01-08T12:40:29.159+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : PUT "/api/expense-categories/16", parameters={}
2026-01-08T12:40:29.160+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#updateCategory(Long, ExpenseCategoryDto)
2026-01-08T12:40:29.162+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ExpenseCategoryDto(categoryId=null, companyId=null, categoryName=null, displayOrder=null, isActive=f (truncated)...]
2026-01-08T12:40:29.162+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.updateCategory(java.lang.Long,com.innersignature.backend.dto.ExpenseCategoryDto); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:40:29.163+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.updateCategory(java.lang.Long,com.innersignature.backend.dto.ExpenseCategoryDto); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:40:29.166+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:29.167+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65b3e02d]
2026-01-08T12:40:29.168+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@830146606 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will be managed by Spring
2026-01-08T12:40:29.170+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.ExpenseCategoryMapper.findById   : ==>  Preparing: SELECT ec.*, CASE WHEN ec.company_id IS NULL THEN 1 ELSE 0 END AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec LEFT JOIN user_tb u ON ec.created_by = u.user_id WHERE ec.category_id = ? AND ( ec.company_id = ? OR ec.company_id IS NULL )
2026-01-08T12:40:29.171+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.ExpenseCategoryMapper.findById   : ==> Parameters: 16(Long), 1(Long)
2026-01-08T12:40:29.173+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.ExpenseCategoryMapper.findById   : <==      Total: 1
2026-01-08T12:40:29.178+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65b3e02d]
2026-01-08T12:40:29.179+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65b3e02d] from current transaction
2026-01-08T12:40:29.180+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.ExpenseCategoryMapper.update     : ==>  Preparing: UPDATE expense_category_tb SET category_name = ?, display_order = ?, is_active = ?, updated_at = NOW() WHERE category_id = ? AND ( company_id = ? )
2026-01-08T12:40:29.180+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.ExpenseCategoryMapper.update     : ==> Parameters: test1(String), 13(Integer), false(Boolean), 16(Long), 1(Long)
2026-01-08T12:40:29.185+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.ExpenseCategoryMapper.update     : <==    Updates: 1
2026-01-08T12:40:29.185+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65b3e02d]
2026-01-08T12:40:29.186+09:00  INFO 6764 --- [http-nio-8080-exec-3] c.i.b.service.ExpenseCategoryService     : 항목 수정 완료 - categoryId: 16, isGlobal: false
2026-01-08T12:40:29.186+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65b3e02d] from current transaction
2026-01-08T12:40:29.187+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.ExpenseCategoryMapper.findById   : ==>  Preparing: SELECT ec.*, CASE WHEN ec.company_id IS NULL THEN 1 ELSE 0 END AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec LEFT JOIN user_tb u ON ec.created_by = u.user_id WHERE ec.category_id = ? AND ( ec.company_id = ? OR ec.company_id IS NULL )
2026-01-08T12:40:29.187+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.ExpenseCategoryMapper.findById   : ==> Parameters: 16(Long), 1(Long)
2026-01-08T12:40:29.191+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.ExpenseCategoryMapper.findById   : <==      Total: 1
2026-01-08T12:40:29.197+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65b3e02d]
2026-01-08T12:40:29.197+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65b3e02d]
2026-01-08T12:40:29.198+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65b3e02d]
2026-01-08T12:40:29.198+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65b3e02d]
2026-01-08T12:40:29.212+09:00  INFO 6764 --- [http-nio-8080-exec-3] c.i.b.c.ExpenseCategoryController        : 항목 수정 완료 - categoryId: 16
2026-01-08T12:40:29.213+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:29.213+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=항목이 수정되었습니다., data=ExpenseCategoryDto(categoryId=16, companyId=1,  (truncated)...]
2026-01-08T12:40:29.214+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:29.933+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/merged
2026-01-08T12:40:29.944+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/merged
2026-01-08T12:40:29.950+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expense-categories/merged
2026-01-08T12:40:29.955+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/merged
2026-01-08T12:40:29.969+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/merged", parameters={}
2026-01-08T12:40:29.970+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getMergedCategories()
2026-01-08T12:40:29.977+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:40:29.980+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:40:29.985+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:29.986+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4aa1861] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:29.995+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@115296731 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:40:29.997+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.findMergedCategories           : ==>  Preparing: ( -- 전역 카테고리 (회사별 오버라이드가 있으면 회사별 값 사용) SELECT COALESCE(ec_company.category_id, ec_global.category_id) AS category_id, COALESCE(ec_company.company_id, ec_global.company_id) AS company_id, COALESCE(ec_company.category_name, ec_global.category_name) AS category_name, COALESCE(ec_company.display_order, ec_global.display_order) AS display_order, COALESCE(ec_company.is_active, ec_global.is_active) AS is_active, COALESCE(ec_company.created_by, ec_global.created_by) AS created_by, COALESCE(ec_company.created_at, ec_global.created_at) AS created_at, COALESCE(ec_company.updated_at, ec_global.updated_at) AS updated_at, CASE WHEN ec_company.category_id IS NOT NULL THEN 0 ELSE 1 END AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_global LEFT JOIN expense_category_tb ec_company ON ec_global.category_name = ec_company.category_name AND ec_company.company_id = ? LEFT JOIN user_tb u ON COALESCE(ec_company.created_by, ec_global.created_by) = u.user_id WHERE ec_global.company_id IS NULL AND (ec_global.is_active IS NULL OR ec_global.is_active = 1) AND (ec_company.category_id IS NULL OR ec_company.is_active IS NULL OR ec_company.is_active = 1) ) UNION ( -- 회사별 카테고리 (전역에 없는 새로운 카테고리만) SELECT ec_company.category_id, ec_company.company_id, ec_company.category_name, ec_company.display_order, ec_company.is_active, ec_company.created_by, ec_company.created_at, ec_company.updated_at, 0 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_company LEFT JOIN expense_category_tb ec_global ON ec_company.category_name = ec_global.category_name AND ec_global.company_id IS NULL LEFT JOIN user_tb u ON ec_company.created_by = u.user_id WHERE ec_company.company_id = ? AND (ec_company.is_active IS NULL OR ec_company.is_active = 1) AND ec_global.category_id IS NULL -- 전역에 없는 회사별 카테고리만 ) ORDER BY display_order ASC, category_name ASC
2026-01-08T12:40:30.001+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.findMergedCategories           : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:40:30.019+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.findMergedCategories           : <==      Total: 13
2026-01-08T12:40:30.021+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4aa1861]
2026-01-08T12:40:30.022+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:30.028+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-08T12:40:30.030+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:32.595+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/15
2026-01-08T12:40:32.602+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing PUT /api/expense-categories/15
2026-01-08T12:40:32.604+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expense-categories/15
2026-01-08T12:40:32.605+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured PUT /api/expense-categories/15
2026-01-08T12:40:32.605+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : PUT "/api/expense-categories/15", parameters={}
2026-01-08T12:40:32.606+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#updateCategory(Long, ExpenseCategoryDto)
2026-01-08T12:40:32.610+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ExpenseCategoryDto(categoryId=null, companyId=null, categoryName=null, displayOrder=null, isActive=f (truncated)...]
2026-01-08T12:40:32.612+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.updateCategory(java.lang.Long,com.innersignature.backend.dto.ExpenseCategoryDto); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:40:32.613+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.updateCategory(java.lang.Long,com.innersignature.backend.dto.ExpenseCategoryDto); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:40:32.618+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:32.618+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b779535]
2026-01-08T12:40:32.619+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@149944314 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will be managed by Spring
2026-01-08T12:40:32.619+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.ExpenseCategoryMapper.findById   : ==>  Preparing: SELECT ec.*, CASE WHEN ec.company_id IS NULL THEN 1 ELSE 0 END AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec LEFT JOIN user_tb u ON ec.created_by = u.user_id WHERE ec.category_id = ? AND ( ec.company_id = ? OR ec.company_id IS NULL )
2026-01-08T12:40:32.621+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.ExpenseCategoryMapper.findById   : ==> Parameters: 15(Long), 1(Long)
2026-01-08T12:40:32.623+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.ExpenseCategoryMapper.findById   : <==      Total: 1
2026-01-08T12:40:32.627+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b779535]
2026-01-08T12:40:32.629+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b779535] from current transaction
2026-01-08T12:40:32.630+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.ExpenseCategoryMapper.update     : ==>  Preparing: UPDATE expense_category_tb SET category_name = ?, display_order = ?, is_active = ?, updated_at = NOW() WHERE category_id = ? AND ( company_id = ? )
2026-01-08T12:40:32.630+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.ExpenseCategoryMapper.update     : ==> Parameters: test전역(String), 12(Integer), false(Boolean), 15(Long), 1(Long)
2026-01-08T12:40:32.634+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.ExpenseCategoryMapper.update     : <==    Updates: 0
2026-01-08T12:40:32.634+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b779535]
2026-01-08T12:40:32.634+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b779535]
2026-01-08T12:40:32.635+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b779535]
2026-01-08T12:40:32.639+09:00 ERROR 6764 --- [http-nio-8080-exec-10] c.i.b.c.ExpenseCategoryController        : 항목 수정 실패

com.innersignature.backend.exception.BusinessException: 항목 수정에 실패했습니다.
	at com.innersignature.backend.service.ExpenseCategoryService.updateCategory(ExpenseCategoryService.java:131) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.14.jar:6.2.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.innersignature.backend.service.ExpenseCategoryService$$SpringCGLIB$$0.updateCategory(<generated>) ~[classes/:na]
	at com.innersignature.backend.controller.ExpenseCategoryController.updateCategory(ExpenseCategoryController.java:95) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.innersignature.backend.controller.ExpenseCategoryController$$SpringCGLIB$$0.updateCategory(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:593) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:79) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:87) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2026-01-08T12:40:32.670+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:32.670+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, message=항목 수정에 실패했습니다., data=null)]
2026-01-08T12:40:32.671+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2026-01-08T12:40:35.404+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:40:35.404+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2026-01-08T12:40:35.406+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T12:40:35.407+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-08T12:40:35.409+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:40:35.413+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2026-01-08T12:40:35.420+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2026-01-08T12:40:35.420+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/credits/total
2026-01-08T12:40:35.425+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2026-01-08T12:40:35.427+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-08T12:40:35.442+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:40:35.430+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:40:35.434+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2026-01-08T12:40:35.436+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2026-01-08T12:40:35.438+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/credits/total
2026-01-08T12:40:35.445+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2026-01-08T12:40:35.449+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T12:40:35.449+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:40:35.454+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-08T12:40:35.458+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:40:35.462+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2026-01-08T12:40:35.471+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:40:35.477+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:40:35.464+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2026-01-08T12:40:35.464+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:40:35.465+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T12:40:35.469+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2026-01-08T12:40:35.472+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2026-01-08T12:40:35.479+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:40:35.480+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2026-01-08T12:40:35.480+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:40:35.480+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T12:40:35.480+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-08T12:40:35.480+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2026-01-08T12:40:35.481+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:40:35.481+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2026-01-08T12:40:35.481+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:40:35.481+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T12:40:35.482+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-08T12:40:35.482+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2026-01-08T12:40:35.482+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.483+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2026-01-08T12:40:35.484+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.485+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T12:40:35.485+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T12:40:35.485+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2026-01-08T12:40:35.487+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.485+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3eb323b9] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.486+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.486+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3876bea0] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.486+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.487+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.487+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6983b251] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.488+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e976939] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.493+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6117d5dd] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.496+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78409bd6] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.497+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@514215604 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:40:35.497+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2048719064 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:40:35.501+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:40:35.504+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:40:35.505+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1384604732 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:40:35.511+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T12:40:35.505+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@632102259 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:40:35.505+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@372859160 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:40:35.505+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1158938781 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:40:35.505+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:40:35.510+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:40:35.512+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:40:35.512+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:40:35.513+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:40:35.513+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:40:35.520+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:40:35.528+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2026-01-08T12:40:35.529+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2026-01-08T12:40:35.531+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2026-01-08T12:40:35.531+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2026-01-08T12:40:35.531+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T12:40:35.533+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:40:35.533+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2026-01-08T12:40:35.534+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2026-01-08T12:40:35.534+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3eb323b9]
2026-01-08T12:40:35.534+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3876bea0]
2026-01-08T12:40:35.535+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6117d5dd]
2026-01-08T12:40:35.535+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78409bd6]
2026-01-08T12:40:35.535+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6983b251]
2026-01-08T12:40:35.535+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e976939]
2026-01-08T12:40:35.536+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.536+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.536+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:35.536+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.537+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.537+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.537+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bfcecc7] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.537+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a272097] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.537+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T12:40:35.538+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ac853f1] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.538+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f910421] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.539+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3631e044] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.548+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@377141976 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:40:35.540+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@762883680 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:40:35.545+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@402319951 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:40:35.546+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:35.546+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1130446375 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:40:35.549+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1002781748 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:40:35.549+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2026-01-08T12:40:35.549+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:40:35.551+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:40:35.552+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:40:35.555+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2026-01-08T12:40:35.555+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-08T12:40:35.561+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2026-01-08T12:40:35.562+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:40:35.562+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:40:35.563+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:40:35.564+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2026-01-08T12:40:35.567+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2026-01-08T12:40:35.570+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-08T12:40:35.571+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-08T12:40:35.571+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:40:35.572+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2026-01-08T12:40:35.572+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:40:35.579+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f910421]
2026-01-08T12:40:35.573+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2026-01-08T12:40:35.573+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:40:35.578+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T12:40:35.579+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ac853f1]
2026-01-08T12:40:35.579+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a272097]
2026-01-08T12:40:35.579+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3631e044]
2026-01-08T12:40:35.580+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:35.580+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bfcecc7]
2026-01-08T12:40:35.581+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.581+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.582+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:35.583+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:35.583+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-01-08T12:40:35.584+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fa7ba9b] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.584+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:35.584+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15c7ff36] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.584+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=26, drafterId= (truncated)...]
2026-01-08T12:40:35.585+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-01-08T12:40:35.585+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:35.586+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1739071813 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:40:35.587+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=26, drafterId= (truncated)...]
2026-01-08T12:40:35.588+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@294588667 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:40:35.590+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:35.593+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:35.599+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:40:35.600+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:40:35.600+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:40:35.600+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:35.603+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/credits/total
2026-01-08T12:40:35.615+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2026-01-08T12:40:35.603+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2026-01-08T12:40:35.610+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:40:35.613+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:40:35.613+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:40:35.617+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/credits/total
2026-01-08T12:40:35.630+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2026-01-08T12:40:35.631+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2026-01-08T12:40:35.636+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:40:35.645+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:40:35.638+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/credits/total
2026-01-08T12:40:35.639+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2026-01-08T12:40:35.649+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2026-01-08T12:40:35.650+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2026-01-08T12:40:35.639+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2026-01-08T12:40:35.648+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:40:35.648+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/credits/total", parameters={}
2026-01-08T12:40:35.651+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2026-01-08T12:40:35.652+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2026-01-08T12:40:35.654+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.656+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CreditController#getTotalAvailableAmount()
2026-01-08T12:40:35.665+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:40:35.667+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:40:35.669+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2026-01-08T12:40:35.681+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.683+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@563e70cc] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.671+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2026-01-08T12:40:35.672+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d43ef9] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.680+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2026-01-08T12:40:35.680+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15c7ff36]
2026-01-08T12:40:35.680+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fa7ba9b]
2026-01-08T12:40:35.686+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1302190017 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:40:35.687+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.691+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cee3eba] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.687+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@853779247 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:40:35.688+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2026-01-08T12:40:35.688+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.688+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.689+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2026-01-08T12:40:35.695+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2077421248 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:40:35.696+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:40:35.696+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.696+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33ed3bea] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.696+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74ec649f] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.697+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:40:35.697+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2026-01-08T12:40:35.698+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:40:35.699+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c7c4a52] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.700+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@427384046 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:40:35.701+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1981639675 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:40:35.702+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2026-01-08T12:40:35.705+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1892218503 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:40:35.705+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:40:35.706+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:40:35.710+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:40:35.710+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.C.getTotalAvailableAmount        : ==>  Preparing: SELECT COALESCE(SUM(amount - used_amount), 0) FROM credit_tb WHERE company_id = ? AND (expires_at IS NULL OR expires_at >= ?)
2026-01-08T12:40:35.711+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:40:35.711+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:40:35.712+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:40:35.712+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.C.getTotalAvailableAmount        : ==> Parameters: 1(Long), 2026-01-08(LocalDate)
2026-01-08T12:40:35.719+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:40:35.719+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2026-01-08T12:40:35.719+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2026-01-08T12:40:35.719+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:40:35.719+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:40:35.719+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.C.getTotalAvailableAmount        : <==      Total: 1
2026-01-08T12:40:35.720+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33ed3bea]
2026-01-08T12:40:35.720+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d43ef9]
2026-01-08T12:40:35.720+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cee3eba]
2026-01-08T12:40:35.720+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74ec649f]
2026-01-08T12:40:35.721+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c7c4a52]
2026-01-08T12:40:35.721+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 1
2026-01-08T12:40:35.721+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.721+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.722+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.722+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:35.722+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:35.725+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@563e70cc]
2026-01-08T12:40:35.727+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data={totalAmount=5145})]
2026-01-08T12:40:35.726+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f8e1a43] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.726+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6eca879d] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.727+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@680fd9c5] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.727+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2026-01-08T12:40:35.728+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:35.728+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:35.730+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1969636915 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:40:35.732+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1280003915 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:40:35.733+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2135986375 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:40:35.735+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=SubscriptionDto(subscriptionId=1, companyId=1, planId= (truncated)...]
2026-01-08T12:40:35.737+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:35.744+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2026-01-08T12:40:35.745+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:40:35.746+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:40:35.746+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T12:40:35.748+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:35.749+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2026-01-08T12:40:35.751+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2026-01-08T12:40:35.752+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:40:35.752+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:40:35.752+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T12:40:35.755+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/credits/total
2026-01-08T12:40:35.756+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2026-01-08T12:40:35.759+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2026-01-08T12:40:35.763+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2026-01-08T12:40:35.764+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:40:35.767+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/credits/total
2026-01-08T12:40:35.769+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:40:35.769+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2026-01-08T12:40:35.770+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2026-01-08T12:40:35.770+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6eca879d]
2026-01-08T12:40:35.771+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/credits/total
2026-01-08T12:40:35.772+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T12:40:35.772+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f8e1a43]
2026-01-08T12:40:35.777+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.778+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12780665] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.781+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1299925611 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:40:35.772+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2026-01-08T12:40:35.772+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2026-01-08T12:40:35.773+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:35.775+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/credits/total", parameters={}
2026-01-08T12:40:35.777+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@680fd9c5]
2026-01-08T12:40:35.784+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:40:35.785+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2026-01-08T12:40:35.785+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.785+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=26, drafterId= (truncated)...]
2026-01-08T12:40:35.785+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CreditController#getTotalAvailableAmount()
2026-01-08T12:40:35.786+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.786+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:40:35.787+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2026-01-08T12:40:35.788+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55f1ae01] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.788+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2026-01-08T12:40:35.788+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:35.792+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cfb762e] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.793+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.799+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55303684] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.795+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@794345305 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:40:35.795+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:40:35.796+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2026-01-08T12:40:35.799+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1789680005 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:40:35.799+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1991280429 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:40:35.799+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:40:35.800+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12780665]
2026-01-08T12:40:35.800+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.800+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:40:35.800+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2026-01-08T12:40:35.802+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:40:35.802+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2026-01-08T12:40:35.801+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2026-01-08T12:40:35.801+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.801+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79b0b60f] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.806+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73eba02b] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.807+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:40:35.808+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1077566141 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:40:35.810+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:40:35.813+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@569559837 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:40:35.813+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2026-01-08T12:40:35.813+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:40:35.814+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.C.getTotalAvailableAmount        : ==>  Preparing: SELECT COALESCE(SUM(amount - used_amount), 0) FROM credit_tb WHERE company_id = ? AND (expires_at IS NULL OR expires_at >= ?)
2026-01-08T12:40:35.814+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cfb762e]
2026-01-08T12:40:35.815+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T12:40:35.815+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55f1ae01]
2026-01-08T12:40:35.815+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.C.getTotalAvailableAmount        : ==> Parameters: 1(Long), 2026-01-08(LocalDate)
2026-01-08T12:40:35.816+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.816+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:40:35.816+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T12:40:35.817+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.819+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8e482ac] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.820+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 1
2026-01-08T12:40:35.821+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5358dc7] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.821+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.C.getTotalAvailableAmount        : <==      Total: 1
2026-01-08T12:40:35.822+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1567406790 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:40:35.822+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@797560728 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:40:35.822+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55303684]
2026-01-08T12:40:35.822+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79b0b60f]
2026-01-08T12:40:35.823+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2026-01-08T12:40:35.823+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T12:40:35.825+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:40:35.827+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:35.830+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:40:35.829+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:35.830+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2026-01-08T12:40:35.830+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73eba02b]
2026-01-08T12:40:35.830+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=SubscriptionDto(subscriptionId=1, companyId=1, planId= (truncated)...]
2026-01-08T12:40:35.830+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data={totalAmount=5145})]
2026-01-08T12:40:35.833+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.833+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:40:35.834+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2026-01-08T12:40:35.834+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:35.837+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:35.838+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62a35b38] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.839+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8e482ac]
2026-01-08T12:40:35.839+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5358dc7]
2026-01-08T12:40:35.850+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.849+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1281836479 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:40:35.850+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:35.851+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fadd90c] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.851+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:40:35.851+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-01-08T12:40:35.852+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@326163895 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:40:35.854+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:40:35.855+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:35.860+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T12:40:35.863+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T12:40:35.870+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T12:40:35.871+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fadd90c]
2026-01-08T12:40:35.872+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.875+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:40:35.879+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bf025bc] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.880+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62a35b38]
2026-01-08T12:40:35.880+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@172286583 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:40:35.881+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.883+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:40:35.885+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2244981d] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.885+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:40:35.886+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1514565110 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:40:35.887+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:40:35.888+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:40:35.890+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:40:35.894+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bf025bc]
2026-01-08T12:40:35.895+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:35.896+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T12:40:35.897+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:40:35.897+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2244981d]
2026-01-08T12:40:35.898+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:35.901+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.904+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1056b93] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.908+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@117936094 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:40:35.921+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T12:40:35.921+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T12:40:35.928+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T12:40:35.933+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1056b93]
2026-01-08T12:40:35.934+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.935+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16c87010] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.935+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1010550953 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:40:35.935+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:40:35.936+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:40:35.953+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:40:35.954+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16c87010]
2026-01-08T12:40:35.954+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:35.955+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T12:40:35.959+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:37.552+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2026-01-08T12:40:37.559+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2026-01-08T12:40:37.561+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/logout
2026-01-08T12:40:37.564+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2026-01-08T12:40:37.564+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2026-01-08T12:40:37.565+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2026-01-08T12:40:37.567+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxIiwidXNlcm5hbWUiOiJ (truncated)...]
2026-01-08T12:40:37.571+09:00  INFO 6764 --- [http-nio-8080-exec-4] SECURITY                                 : LOGOUT userId=1
2026-01-08T12:40:37.572+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:37.574+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2026-01-08T12:40:37.581+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:40.359+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2026-01-08T12:40:40.362+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2026-01-08T12:40:40.363+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-08T12:40:40.364+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2026-01-08T12:40:40.364+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2026-01-08T12:40:40.364+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2026-01-08T12:40:40.366+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_admin, password=1234)]
2026-01-08T12:40:40.366+09:00  INFO 6764 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 로그인 시도 - username: test_admin
2026-01-08T12:40:40.370+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:40.371+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d2bbcfc] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:40.379+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@684265619 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:40:40.380+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2026-01-08T12:40:40.381+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_admin(String)
2026-01-08T12:40:40.383+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2026-01-08T12:40:40.385+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d2bbcfc]
2026-01-08T12:40:40.477+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:40.477+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21b06430] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:40.478+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1681777311 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:40:40.478+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:40:40.478+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 9(Long)
2026-01-08T12:40:40.481+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2026-01-08T12:40:40.481+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21b06430]
2026-01-08T12:40:40.482+09:00  INFO 6764 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 로그인 성공 - userId: 9, role: SUPERADMIN, companyId: 4
2026-01-08T12:40:40.483+09:00  INFO 6764 --- [http-nio-8080-exec-7] SECURITY                                 : LOGIN_SUCCESS userId=9 username=test_admin role=SUPERADMIN
2026-01-08T12:40:40.485+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:40.486+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=9, username=test_admin, password (truncated)...]
2026-01-08T12:40:40.486+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:40.863+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2026-01-08T12:40:40.870+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2026-01-08T12:40:40.879+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/companies
2026-01-08T12:40:40.882+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2026-01-08T12:40:40.884+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2026-01-08T12:40:40.884+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2026-01-08T12:40:40.885+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:40.885+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b04b213] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:40.889+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1198463732 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:40:40.921+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/users
2026-01-08T12:40:40.914+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:40:40.916+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T12:40:40.921+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/reports/summary
2026-01-08T12:40:40.921+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/companies
2026-01-08T12:40:40.921+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2026-01-08T12:40:40.928+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/subscriptions
2026-01-08T12:40:40.928+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/payments
2026-01-08T12:40:40.929+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/expenses?page=1&size=1
2026-01-08T12:40:40.932+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/reports/summary
2026-01-08T12:40:40.934+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 9(Long)
2026-01-08T12:40:40.935+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/users
2026-01-08T12:40:40.938+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/companies
2026-01-08T12:40:40.938+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/subscriptions
2026-01-08T12:40:40.954+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/users
2026-01-08T12:40:40.947+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/payments
2026-01-08T12:40:40.948+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/expenses?page=1&size=1
2026-01-08T12:40:40.963+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 1
2026-01-08T12:40:40.950+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:40:40.957+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T12:40:40.959+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/users
2026-01-08T12:40:40.965+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b04b213]
2026-01-08T12:40:40.968+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/reports/summary
2026-01-08T12:40:40.969+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/companies
2026-01-08T12:40:40.968+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/expenses/pending-approvals
2026-01-08T12:40:40.969+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/users
2026-01-08T12:40:40.969+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/expenses/tax/revision-requests
2026-01-08T12:40:40.972+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:40.976+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/companies
2026-01-08T12:40:40.977+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/reports/summary
2026-01-08T12:40:40.979+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:40:40.979+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/users", parameters={}
2026-01-08T12:40:40.979+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T12:40:40.980+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=4, companyCode=JIIST3, companyNa (truncated)...]
2026-01-08T12:40:40.984+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/companies
2026-01-08T12:40:40.985+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/reports/summary
2026-01-08T12:40:40.986+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:40:40.986+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllUsers()
2026-01-08T12:40:40.986+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T12:40:40.987+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/companies", parameters={}
2026-01-08T12:40:40.988+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllUsers(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:40.987+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/reports/summary", parameters={}
2026-01-08T12:40:40.987+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:40.988+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:40:40.988+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T12:40:41.000+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:40.989+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllCompanies()
2026-01-08T12:40:40.993+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllUsers(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:40.993+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getDashboardSummary()
2026-01-08T12:40:40.997+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/subscriptions
2026-01-08T12:40:41.001+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.003+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3096a7fe] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.004+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/subscriptions
2026-01-08T12:40:41.001+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3978fcbc] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.001+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllCompanies(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.002+09:00  INFO 6764 --- [http-nio-8080-exec-3] c.i.b.controller.SuperAdminController    : 전체 사용자 목록 조회 요청 - userId: 9
2026-01-08T12:40:41.002+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getDashboardSummary(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.012+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/subscriptions
2026-01-08T12:40:41.013+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1364004734 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:40:41.013+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllCompanies(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.014+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.015+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getDashboardSummary(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.015+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/subscriptions", parameters={}
2026-01-08T12:40:41.016+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:40:41.021+09:00  INFO 6764 --- [http-nio-8080-exec-10] c.i.b.controller.SuperAdminController    : 전체 회사 목록 조회 요청 - userId: 9
2026-01-08T12:40:41.021+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@afd4261] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.022+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2030960357 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:40:41.024+09:00  INFO 6764 --- [http-nio-8080-exec-5] c.i.b.controller.SuperAdminController    : 대시보드 요약 통계 조회 요청 - userId: 9
2026-01-08T12:40:41.025+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllSubscriptions()
2026-01-08T12:40:41.027+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 9(Long), 4(Long)
2026-01-08T12:40:41.027+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.028+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T12:40:41.028+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.032+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72ea710] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.029+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllSubscriptions(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.029+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e860fa9] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.031+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 4(Long), 9(Long)
2026-01-08T12:40:41.035+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1694293536 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:40:41.037+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectAllUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status, created_at, updated_at FROM user_tb ORDER BY user_id
2026-01-08T12:40:41.035+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllSubscriptions(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.036+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T12:40:41.037+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@743358804 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:40:41.044+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectAllUsers   : ==> Parameters: 
2026-01-08T12:40:41.046+09:00  INFO 6764 --- [http-nio-8080-exec-9] c.i.b.controller.SuperAdminController    : 전체 구독 목록 조회 요청 - userId: 9
2026-01-08T12:40:41.046+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3978fcbc]
2026-01-08T12:40:41.046+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectAllUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status, created_at, updated_at FROM user_tb ORDER BY user_id
2026-01-08T12:40:41.047+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.049+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T12:40:41.050+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:41.050+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectAllUsers   : ==> Parameters: 
2026-01-08T12:40:41.051+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@796316857 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:40:41.052+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@85482f] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.052+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectAllUsers   : <==      Total: 12
2026-01-08T12:40:41.052+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3096a7fe]
2026-01-08T12:40:41.053+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T12:40:41.053+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.mapper.CompanyMapper.findAll       : ==>  Preparing: SELECT * FROM company_tb ORDER BY created_at DESC
2026-01-08T12:40:41.054+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1920872189 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:40:41.055+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@afd4261]
2026-01-08T12:40:41.058+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:41.058+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.mapper.CompanyMapper.findAll       : ==> Parameters: 
2026-01-08T12:40:41.058+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:41.060+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.SubscriptionMapper.findAll  : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id ORDER BY s.created_at DESC
2026-01-08T12:40:41.061+09:00  INFO 6764 --- [http-nio-8080-exec-3] c.i.b.controller.SuperAdminController    : 전체 사용자 목록 조회 완료 - count: 12
2026-01-08T12:40:41.062+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T12:40:41.064+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectAllUsers   : <==      Total: 12
2026-01-08T12:40:41.066+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/payments
2026-01-08T12:40:41.068+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.SubscriptionMapper.findAll  : ==> Parameters: 
2026-01-08T12:40:41.068+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:41.068+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:41.069+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.mapper.CompanyMapper.findAll       : <==      Total: 7
2026-01-08T12:40:41.069+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72ea710]
2026-01-08T12:40:41.075+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/payments
2026-01-08T12:40:41.079+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passwo (truncated)...]
2026-01-08T12:40:41.082+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/reports/summary
2026-01-08T12:40:41.086+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e860fa9]
2026-01-08T12:40:41.087+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/payments
2026-01-08T12:40:41.088+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:41.090+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.093+09:00  INFO 6764 --- [http-nio-8080-exec-10] c.i.b.controller.SuperAdminController    : 전체 회사 목록 조회 완료 - count: 7
2026-01-08T12:40:41.094+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/reports/summary
2026-01-08T12:40:41.094+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/payments", parameters={}
2026-01-08T12:40:41.095+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a333c48] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.096+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/expenses?page=1&size=1
2026-01-08T12:40:41.096+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:41.096+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/reports/summary
2026-01-08T12:40:41.096+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllPayments()
2026-01-08T12:40:41.096+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@631470923 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:40:41.099+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:40:41.100+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/expenses
2026-01-08T12:40:41.101+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 회사 목록 조회 성공, data=[CompanyDto(companyId=7, companyCode=PC8UJT,  (truncated)...]
2026-01-08T12:40:41.101+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/reports/summary", parameters={}
2026-01-08T12:40:41.102+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllPayments(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.102+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.CompanyMapper.findAll       : ==>  Preparing: SELECT * FROM company_tb ORDER BY created_at DESC
2026-01-08T12:40:41.103+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:40:41.104+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/expenses?page=1&size=1
2026-01-08T12:40:41.104+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:41.107+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getDashboardSummary()
2026-01-08T12:40:41.112+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/users
2026-01-08T12:40:41.109+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllPayments(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.119+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/users
2026-01-08T12:40:41.109+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.CompanyMapper.findAll       : ==> Parameters: 
2026-01-08T12:40:41.110+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/expenses?page=1&size=1", parameters={masked}
2026-01-08T12:40:41.112+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getDashboardSummary(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.119+09:00  INFO 6764 --- [http-nio-8080-exec-7] c.i.b.controller.SuperAdminController    : 전체 결제 내역 조회 요청 - userId: 9
2026-01-08T12:40:41.120+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/users
2026-01-08T12:40:41.121+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:40:41.121+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getExpenseListForSuperAdmin(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, Long)
2026-01-08T12:40:41.127+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.SubscriptionMapper.findAll  : <==      Total: 7
2026-01-08T12:40:41.128+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@85482f]
2026-01-08T12:40:41.129+09:00  INFO 6764 --- [http-nio-8080-exec-9] c.i.b.controller.SuperAdminController    : 전체 구독 목록 조회 완료 - count: 7
2026-01-08T12:40:41.130+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:41.122+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getDashboardSummary(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.124+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.CompanyMapper.findAll       : <==      Total: 7
2026-01-08T12:40:41.124+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.137+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@482554c6] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.126+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/users", parameters={}
2026-01-08T12:40:41.128+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getExpenseListForSuperAdmin(int,int,java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.lang.String[],java.lang.String,java.lang.Boolean,java.lang.Boolean,java.lang.String,java.lang.Long); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.136+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 구독 목록 조회 성공, data=[SubscriptionDto(subscriptionId=7, companyId= (truncated)...]
2026-01-08T12:40:41.139+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getExpenseListForSuperAdmin(int,int,java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.lang.String[],java.lang.String,java.lang.Boolean,java.lang.Boolean,java.lang.String,java.lang.Long); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.136+09:00  INFO 6764 --- [http-nio-8080-exec-1] c.i.b.controller.SuperAdminController    : 대시보드 요약 통계 조회 요청 - userId: 9
2026-01-08T12:40:41.136+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a333c48]
2026-01-08T12:40:41.138+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1132953159 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:40:41.138+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllUsers()
2026-01-08T12:40:41.144+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:41.147+09:00  INFO 6764 --- [http-nio-8080-exec-2] c.i.b.controller.SuperAdminController    : 회사별 지출결의서 목록 조회 요청 - userId: 9, companyId: null, page: 1, size: 1
2026-01-08T12:40:41.148+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.148+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.148+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.PaymentMapper.findAll       : ==>  Preparing: SELECT p.* FROM payment_tb p ORDER BY p.payment_date DESC, p.created_at DESC
2026-01-08T12:40:41.150+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllUsers(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.151+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.152+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/companies
2026-01-08T12:40:41.152+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b144065] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.153+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c42ebf4] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.153+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.PaymentMapper.findAll       : ==> Parameters: 
2026-01-08T12:40:41.154+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2028533108 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:40:41.153+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c51131f] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.153+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllUsers(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.154+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@974836325 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:40:41.154+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.SubscriptionMapper.findAll  : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id ORDER BY s.created_at DESC
2026-01-08T12:40:41.155+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/companies
2026-01-08T12:40:41.163+09:00  INFO 6764 --- [http-nio-8080-exec-8] c.i.b.controller.SuperAdminController    : 전체 사용자 목록 조회 요청 - userId: 9
2026-01-08T12:40:41.164+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:40:41.165+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectAllUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status, created_at, updated_at FROM user_tb ORDER BY user_id
2026-01-08T12:40:41.165+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.SubscriptionMapper.findAll  : ==> Parameters: 
2026-01-08T12:40:41.166+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/companies
2026-01-08T12:40:41.166+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.168+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 2(Long)
2026-01-08T12:40:41.169+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectAllUsers   : ==> Parameters: 
2026-01-08T12:40:41.170+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/companies", parameters={}
2026-01-08T12:40:41.170+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1982c62a] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.170+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1001131291 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:40:41.172+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllCompanies()
2026-01-08T12:40:41.173+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectAllUsers   : <==      Total: 12
2026-01-08T12:40:41.174+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:40:41.177+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:40:41.178+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@158242741 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:40:41.178+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.countExpenseListForSuperAdmin  : ==>  Preparing: SELECT COUNT(*) FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id
2026-01-08T12:40:41.179+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllCompanies(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.179+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b144065]
2026-01-08T12:40:41.179+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:40:41.179+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:40:41.180+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectAllUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status, created_at, updated_at FROM user_tb ORDER BY user_id
2026-01-08T12:40:41.180+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.countExpenseListForSuperAdmin  : ==> Parameters: 
2026-01-08T12:40:41.181+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllCompanies(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.181+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.181+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 7(Long)
2026-01-08T12:40:41.183+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectAllUsers   : ==> Parameters: 
2026-01-08T12:40:41.185+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:40:41.185+09:00  INFO 6764 --- [http-nio-8080-exec-4] c.i.b.controller.SuperAdminController    : 전체 회사 목록 조회 요청 - userId: 9
2026-01-08T12:40:41.185+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ed0f6c8] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.186+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.countExpenseListForSuperAdmin  : <==      Total: 1
2026-01-08T12:40:41.187+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.187+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.SubscriptionMapper.findAll  : <==      Total: 7
2026-01-08T12:40:41.187+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2007927327 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:40:41.188+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:40:41.188+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectAllUsers   : <==      Total: 12
2026-01-08T12:40:41.188+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c51131f]
2026-01-08T12:40:41.188+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2419fe29] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.188+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c42ebf4]
2026-01-08T12:40:41.188+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.CompanyMapper.findAll       : ==>  Preparing: SELECT * FROM company_tb ORDER BY created_at DESC
2026-01-08T12:40:41.189+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:40:41.190+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1982c62a]
2026-01-08T12:40:41.192+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.192+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1517972234 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:40:41.193+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.CompanyMapper.findAll       : ==> Parameters: 
2026-01-08T12:40:41.193+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.194+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 1(Long)
2026-01-08T12:40:41.195+09:00  INFO 6764 --- [http-nio-8080-exec-8] c.i.b.controller.SuperAdminController    : 전체 사용자 목록 조회 완료 - count: 12
2026-01-08T12:40:41.195+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d409c] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.196+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.CompanyMapper.findAll       : ==>  Preparing: SELECT * FROM company_tb ORDER BY created_at DESC
2026-01-08T12:40:41.196+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ee6073a] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.197+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:41.198+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@640312075 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:40:41.199+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passwo (truncated)...]
2026-01-08T12:40:41.198+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.CompanyMapper.findAll       : ==> Parameters: 
2026-01-08T12:40:41.199+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@339234995 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:40:41.199+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionPlanMapper.findById  : ======>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:40:41.199+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.CompanyMapper.findAll       : <==      Total: 7
2026-01-08T12:40:41.199+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListForSuperAdmin : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, c.company_name AS companyName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id LEFT JOIN company_tb c ON r.company_id = c.company_id ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:40:41.203+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.PaymentMapper.findAll       : ==>  Preparing: SELECT p.* FROM payment_tb p ORDER BY p.payment_date DESC, p.created_at DESC
2026-01-08T12:40:41.203+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionPlanMapper.findById  : ======> Parameters: 1(Long)
2026-01-08T12:40:41.203+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:41.204+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ed0f6c8]
2026-01-08T12:40:41.205+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.CompanyMapper.findAll       : <==      Total: 7
2026-01-08T12:40:41.206+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListForSuperAdmin : ==> Parameters: 1(Integer), 0(Integer)
2026-01-08T12:40:41.214+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2419fe29]
2026-01-08T12:40:41.208+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.PaymentMapper.findAll       : ==> Parameters: 
2026-01-08T12:40:41.213+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/subscriptions
2026-01-08T12:40:41.214+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.214+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionPlanMapper.findById  : <======      Total: 1
2026-01-08T12:40:41.214+09:00  INFO 6764 --- [http-nio-8080-exec-4] c.i.b.controller.SuperAdminController    : 전체 회사 목록 조회 완료 - count: 7
2026-01-08T12:40:41.216+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67dcc3cd] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.216+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:40:41.217+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:40:41.217+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:41.217+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListForSuperAdmin : <==      Total: 1
2026-01-08T12:40:41.218+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/subscriptions
2026-01-08T12:40:41.218+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@594042908 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:40:41.218+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 2(Long)
2026-01-08T12:40:41.219+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.PaymentMapper.findAll       : <==      Total: 4
2026-01-08T12:40:41.220+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 회사 목록 조회 성공, data=[CompanyDto(companyId=7, companyCode=PC8UJT,  (truncated)...]
2026-01-08T12:40:41.220+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d409c]
2026-01-08T12:40:41.221+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/subscriptions
2026-01-08T12:40:41.221+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.SubscriptionMapper.findAll  : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id ORDER BY s.created_at DESC
2026-01-08T12:40:41.230+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:40:41.221+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@482554c6]
2026-01-08T12:40:41.222+09:00  INFO 6764 --- [http-nio-8080-exec-2] c.i.b.controller.SuperAdminController    : 회사별 지출결의서 목록 조회 완료 - totalElements: 29
2026-01-08T12:40:41.226+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:41.227+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/subscriptions", parameters={}
2026-01-08T12:40:41.230+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.SubscriptionMapper.findAll  : ==> Parameters: 
2026-01-08T12:40:41.230+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:40:41.231+09:00  INFO 6764 --- [http-nio-8080-exec-7] c.i.b.controller.SuperAdminController    : 전체 결제 내역 조회 완료 - count: 4
2026-01-08T12:40:41.232+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:41.233+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllSubscriptions()
2026-01-08T12:40:41.234+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/payments
2026-01-08T12:40:41.235+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 7(Long)
2026-01-08T12:40:41.236+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:41.236+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=지출결의서 목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expen (truncated)...]
2026-01-08T12:40:41.245+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:41.237+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllSubscriptions(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.238+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:40:41.238+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/payments
2026-01-08T12:40:41.244+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 결제 내역 조회 성공, data=[PaymentDto(paymentId=11, subscriptionId=2, a (truncated)...]
2026-01-08T12:40:41.252+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/expenses?page=1&size=1
2026-01-08T12:40:41.253+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllSubscriptions(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.253+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:40:41.253+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/payments
2026-01-08T12:40:41.260+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:41.264+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:40:41.286+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:40:41.265+09:00  INFO 6764 --- [http-nio-8080-exec-6] c.i.b.controller.SuperAdminController    : 전체 구독 목록 조회 요청 - userId: 9
2026-01-08T12:40:41.292+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.266+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/expenses
2026-01-08T12:40:41.266+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/payments", parameters={}
2026-01-08T12:40:41.284+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:40:41.289+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 1(Long)
2026-01-08T12:40:41.301+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3feab35e] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.306+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1140571298 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:40:41.302+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/expenses?page=1&size=1
2026-01-08T12:40:41.302+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllPayments()
2026-01-08T12:40:41.305+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T12:40:41.309+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.mapper.SubscriptionMapper.findAll  : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id ORDER BY s.created_at DESC
2026-01-08T12:40:41.313+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.mapper.SubscriptionMapper.findAll  : ==> Parameters: 
2026-01-08T12:40:41.313+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/reports/summary
2026-01-08T12:40:41.310+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/expenses?page=1&size=1", parameters={masked}
2026-01-08T12:40:41.326+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getExpenseListForSuperAdmin(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, Long)
2026-01-08T12:40:41.311+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllPayments(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.318+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/users
2026-01-08T12:40:41.320+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:40:41.329+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getExpenseListForSuperAdmin(int,int,java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.lang.String[],java.lang.String,java.lang.Boolean,java.lang.Boolean,java.lang.String,java.lang.Long); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.334+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllPayments(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.335+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.SubscriptionMapper.findAll  : <==      Total: 7
2026-01-08T12:40:41.337+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/companies
2026-01-08T12:40:41.337+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getExpenseListForSuperAdmin(int,int,java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.lang.String[],java.lang.String,java.lang.Boolean,java.lang.Boolean,java.lang.String,java.lang.Long); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.347+09:00  INFO 6764 --- [http-nio-8080-exec-10] c.i.b.controller.SuperAdminController    : 회사별 지출결의서 목록 조회 요청 - userId: 9, companyId: null, page: 1, size: 1
2026-01-08T12:40:41.338+09:00  INFO 6764 --- [http-nio-8080-exec-3] c.i.b.controller.SuperAdminController    : 전체 결제 내역 조회 요청 - userId: 9
2026-01-08T12:40:41.339+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionPlanMapper.findById  : ======>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:40:41.339+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:40:41.343+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67dcc3cd]
2026-01-08T12:40:41.347+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/subscriptions
2026-01-08T12:40:41.348+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.350+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.351+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionPlanMapper.findById  : ======> Parameters: 1(Long)
2026-01-08T12:40:41.351+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:40:41.351+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.352+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3591a0cc] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.352+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b0f4777] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.354+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/payments
2026-01-08T12:40:41.354+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d3d6b8f] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.361+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2042598247 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:40:41.362+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/expenses?page=1&size=1
2026-01-08T12:40:41.355+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@98913499 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:40:41.355+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1224773096 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:40:41.362+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.PaymentMapper.findAll       : ==>  Preparing: SELECT p.* FROM payment_tb p ORDER BY p.payment_date DESC, p.created_at DESC
2026-01-08T12:40:41.366+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/reports/summary
2026-01-08T12:40:41.367+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.countExpenseListForSuperAdmin  : ==>  Preparing: SELECT COUNT(*) FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id
2026-01-08T12:40:41.367+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.PaymentMapper.findAll       : ==>  Preparing: SELECT p.* FROM payment_tb p ORDER BY p.payment_date DESC, p.created_at DESC
2026-01-08T12:40:41.368+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.PaymentMapper.findAll       : ==> Parameters: 
2026-01-08T12:40:41.370+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.countExpenseListForSuperAdmin  : ==> Parameters: 
2026-01-08T12:40:41.370+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.PaymentMapper.findAll       : ==> Parameters: 
2026-01-08T12:40:41.370+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/reports/summary
2026-01-08T12:40:41.372+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/reports/summary
2026-01-08T12:40:41.388+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionPlanMapper.findById  : <======      Total: 1
2026-01-08T12:40:41.388+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:40:41.397+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/reports/summary", parameters={}
2026-01-08T12:40:41.398+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:40:41.398+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:40:41.398+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.countExpenseListForSuperAdmin  : <==      Total: 1
2026-01-08T12:40:41.399+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:40:41.399+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.mapper.SubscriptionMapper.findAll  : <==      Total: 7
2026-01-08T12:40:41.399+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getDashboardSummary()
2026-01-08T12:40:41.400+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 2(Long)
2026-01-08T12:40:41.401+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 2(Long)
2026-01-08T12:40:41.401+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3591a0cc]
2026-01-08T12:40:41.401+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.PaymentMapper.findAll       : <==      Total: 4
2026-01-08T12:40:41.402+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3feab35e]
2026-01-08T12:40:41.406+09:00  INFO 6764 --- [http-nio-8080-exec-6] c.i.b.controller.SuperAdminController    : 전체 구독 목록 조회 완료 - count: 7
2026-01-08T12:40:41.402+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getDashboardSummary(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.404+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.404+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ee6073a]
2026-01-08T12:40:41.405+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:40:41.405+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:40:41.417+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:41.409+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:41.413+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getDashboardSummary(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.413+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70ac5e2] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.417+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:40:41.418+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:40:41.420+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 구독 목록 조회 성공, data=[SubscriptionDto(subscriptionId=7, companyId= (truncated)...]
2026-01-08T12:40:41.421+09:00  INFO 6764 --- [http-nio-8080-exec-2] c.i.b.controller.SuperAdminController    : 대시보드 요약 통계 조회 요청 - userId: 9
2026-01-08T12:40:41.421+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 요약 통계 조회 성공, data=AdminReportService.DashboardSummaryDto(tota (truncated)...]
2026-01-08T12:40:41.421+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1059422735 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:40:41.430+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListForSuperAdmin : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, c.company_name AS companyName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id LEFT JOIN company_tb c ON r.company_id = c.company_id ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:40:41.422+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 7(Long)
2026-01-08T12:40:41.422+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 7(Long)
2026-01-08T12:40:41.422+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.425+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:41.430+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:41.432+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListForSuperAdmin : ==> Parameters: 1(Integer), 0(Integer)
2026-01-08T12:40:41.445+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:40:41.437+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ae584ac] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.442+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:40:41.444+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T12:40:41.445+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:40:41.452+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 1(Long)
2026-01-08T12:40:41.446+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1346796236 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:40:41.448+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/expenses/pending-approvals
2026-01-08T12:40:41.454+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:40:41.449+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/expenses/tax/revision-requests
2026-01-08T12:40:41.453+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectAllUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status, created_at, updated_at FROM user_tb ORDER BY user_id
2026-01-08T12:40:41.454+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:40:41.463+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:40:41.463+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 1(Long)
2026-01-08T12:40:41.454+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:40:41.455+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T12:40:41.460+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectAllUsers   : ==> Parameters: 
2026-01-08T12:40:41.467+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:40:41.467+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T12:40:41.468+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.468+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T12:40:41.471+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListForSuperAdmin : <==      Total: 1
2026-01-08T12:40:41.469+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20faf648] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.471+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionPlanMapper.findById  : ======>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:40:41.472+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.472+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70ac5e2]
2026-01-08T12:40:41.477+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectAllUsers   : <==      Total: 12
2026-01-08T12:40:41.477+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionPlanMapper.findById  : ======>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:40:41.478+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1103748956 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:40:41.478+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionPlanMapper.findById  : ======> Parameters: 1(Long)
2026-01-08T12:40:41.479+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d224990] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.479+09:00  INFO 6764 --- [http-nio-8080-exec-10] c.i.b.controller.SuperAdminController    : 회사별 지출결의서 목록 조회 완료 - totalElements: 29
2026-01-08T12:40:41.479+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ae584ac]
2026-01-08T12:40:41.480+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionPlanMapper.findById  : ======> Parameters: 1(Long)
2026-01-08T12:40:41.480+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:40:41.483+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@500046335 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:40:41.485+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:41.485+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.489+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionPlanMapper.findById  : <======      Total: 1
2026-01-08T12:40:41.501+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:40:41.493+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 9(Long), 4(Long)
2026-01-08T12:40:41.496+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T12:40:41.499+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=지출결의서 목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expen (truncated)...]
2026-01-08T12:40:41.500+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73520e22] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.503+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.PaymentMapper.findAll       : <==      Total: 4
2026-01-08T12:40:41.513+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d3d6b8f]
2026-01-08T12:40:41.514+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:41.524+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 요약 통계 조회 성공, data=AdminReportService.DashboardSummaryDto(tota (truncated)...]
2026-01-08T12:40:41.504+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 4(Long), 9(Long)
2026-01-08T12:40:41.506+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:41.512+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1694770176 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:40:41.522+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionPlanMapper.findById  : <======      Total: 1
2026-01-08T12:40:41.526+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:41.534+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/users
2026-01-08T12:40:41.535+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.CompanyMapper.findAll       : ==>  Preparing: SELECT * FROM company_tb ORDER BY created_at DESC
2026-01-08T12:40:41.536+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:40:41.543+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.CompanyMapper.findAll       : ==> Parameters: 
2026-01-08T12:40:41.544+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/users
2026-01-08T12:40:41.546+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.PaymentMapper.findAll       : <==      Total: 4
2026-01-08T12:40:41.547+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/users
2026-01-08T12:40:41.548+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b0f4777]
2026-01-08T12:40:41.548+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/users", parameters={}
2026-01-08T12:40:41.548+09:00  INFO 6764 --- [http-nio-8080-exec-3] c.i.b.controller.SuperAdminController    : 전체 결제 내역 조회 완료 - count: 4
2026-01-08T12:40:41.549+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllUsers()
2026-01-08T12:40:41.549+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:41.549+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllUsers(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.549+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 결제 내역 조회 성공, data=[PaymentDto(paymentId=11, subscriptionId=2, a (truncated)...]
2026-01-08T12:40:41.549+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T12:40:41.550+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T12:40:41.550+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d224990]
2026-01-08T12:40:41.550+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllUsers(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.550+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20faf648]
2026-01-08T12:40:41.551+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:41.551+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:41.551+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T12:40:41.551+09:00  INFO 6764 --- [http-nio-8080-exec-8] c.i.b.controller.SuperAdminController    : 전체 사용자 목록 조회 요청 - userId: 9
2026-01-08T12:40:41.551+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:41.552+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:41.552+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.552+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T12:40:41.553+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@194a7649] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.554+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:41.555+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@431305884 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:40:41.555+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectAllUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status, created_at, updated_at FROM user_tb ORDER BY user_id
2026-01-08T12:40:41.558+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectAllUsers   : ==> Parameters: 
2026-01-08T12:40:41.563+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/companies
2026-01-08T12:40:41.565+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/companies
2026-01-08T12:40:41.565+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/payments
2026-01-08T12:40:41.565+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/subscriptions
2026-01-08T12:40:41.565+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/companies
2026-01-08T12:40:41.567+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/companies", parameters={}
2026-01-08T12:40:41.567+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/subscriptions
2026-01-08T12:40:41.567+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/payments
2026-01-08T12:40:41.568+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllCompanies()
2026-01-08T12:40:41.569+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/subscriptions
2026-01-08T12:40:41.569+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllCompanies(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.569+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/payments
2026-01-08T12:40:41.569+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllCompanies(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.569+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/subscriptions", parameters={}
2026-01-08T12:40:41.570+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/payments", parameters={}
2026-01-08T12:40:41.570+09:00  INFO 6764 --- [http-nio-8080-exec-4] c.i.b.controller.SuperAdminController    : 전체 회사 목록 조회 요청 - userId: 9
2026-01-08T12:40:41.570+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllSubscriptions()
2026-01-08T12:40:41.570+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllPayments()
2026-01-08T12:40:41.571+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllSubscriptions(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.571+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.572+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@380c8fa6] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.571+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllPayments(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.572+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllSubscriptions(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.572+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/expenses?page=1&size=1
2026-01-08T12:40:41.572+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@598103925 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:40:41.575+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllPayments(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.577+09:00  INFO 6764 --- [http-nio-8080-exec-6] c.i.b.controller.SuperAdminController    : 전체 구독 목록 조회 요청 - userId: 9
2026-01-08T12:40:41.577+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.CompanyMapper.findAll       : ==>  Preparing: SELECT * FROM company_tb ORDER BY created_at DESC
2026-01-08T12:40:41.580+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/expenses
2026-01-08T12:40:41.580+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.CompanyMapper.findAll       : <==      Total: 7
2026-01-08T12:40:41.580+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectAllUsers   : <==      Total: 12
2026-01-08T12:40:41.586+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@194a7649]
2026-01-08T12:40:41.586+09:00  INFO 6764 --- [http-nio-8080-exec-8] c.i.b.controller.SuperAdminController    : 전체 사용자 목록 조회 완료 - count: 12
2026-01-08T12:40:41.582+09:00  INFO 6764 --- [http-nio-8080-exec-5] c.i.b.controller.SuperAdminController    : 전체 결제 내역 조회 요청 - userId: 9
2026-01-08T12:40:41.583+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.589+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40af9225] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.592+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2080716618 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:40:41.583+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.CompanyMapper.findAll       : ==> Parameters: 
2026-01-08T12:40:41.584+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/expenses?page=1&size=1
2026-01-08T12:40:41.585+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73520e22]
2026-01-08T12:40:41.588+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:41.589+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.617+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5db1828] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.620+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1624899890 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:40:41.610+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.mapper.SubscriptionMapper.findAll  : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id ORDER BY s.created_at DESC
2026-01-08T12:40:41.612+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/expenses?page=1&size=1", parameters={masked}
2026-01-08T12:40:41.612+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.613+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passwo (truncated)...]
2026-01-08T12:40:41.625+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.PaymentMapper.findAll       : ==>  Preparing: SELECT p.* FROM payment_tb p ORDER BY p.payment_date DESC, p.created_at DESC
2026-01-08T12:40:41.635+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:41.626+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.mapper.SubscriptionMapper.findAll  : ==> Parameters: 
2026-01-08T12:40:41.626+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getExpenseListForSuperAdmin(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, Long)
2026-01-08T12:40:41.637+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.CompanyMapper.findAll       : <==      Total: 7
2026-01-08T12:40:41.637+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@380c8fa6]
2026-01-08T12:40:41.638+09:00  INFO 6764 --- [http-nio-8080-exec-4] c.i.b.controller.SuperAdminController    : 전체 회사 목록 조회 완료 - count: 7
2026-01-08T12:40:41.634+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28173585] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.635+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.PaymentMapper.findAll       : ==> Parameters: 
2026-01-08T12:40:41.638+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getExpenseListForSuperAdmin(int,int,java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.lang.String[],java.lang.String,java.lang.Boolean,java.lang.Boolean,java.lang.String,java.lang.Long); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.646+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:41.647+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1272384955 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:40:41.651+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getExpenseListForSuperAdmin(int,int,java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.lang.String[],java.lang.String,java.lang.Boolean,java.lang.Boolean,java.lang.String,java.lang.Long); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.651+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 회사 목록 조회 성공, data=[CompanyDto(companyId=7, companyCode=PC8UJT,  (truncated)...]
2026-01-08T12:40:41.663+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:40:41.652+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.SubscriptionMapper.findAll  : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id ORDER BY s.created_at DESC
2026-01-08T12:40:41.656+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:40:41.666+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:40:41.662+09:00  INFO 6764 --- [http-nio-8080-exec-10] c.i.b.controller.SuperAdminController    : 회사별 지출결의서 목록 조회 요청 - userId: 9, companyId: null, page: 1, size: 1
2026-01-08T12:40:41.663+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:41.664+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 2(Long)
2026-01-08T12:40:41.665+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.SubscriptionMapper.findAll  : ==> Parameters: 
2026-01-08T12:40:41.667+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.670+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70d832e4] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.671+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@556584136 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:40:41.671+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.countExpenseListForSuperAdmin  : ==>  Preparing: SELECT COUNT(*) FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id
2026-01-08T12:40:41.675+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.countExpenseListForSuperAdmin  : ==> Parameters: 
2026-01-08T12:40:41.685+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.countExpenseListForSuperAdmin  : <==      Total: 1
2026-01-08T12:40:41.686+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:40:41.687+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70d832e4]
2026-01-08T12:40:41.689+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:40:41.689+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.689+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:40:41.689+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:40:41.694+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e4aaf4f] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.695+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:40:41.696+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.mapper.SubscriptionMapper.findAll  : <==      Total: 7
2026-01-08T12:40:41.697+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1605693296 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:40:41.697+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 7(Long)
2026-01-08T12:40:41.697+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40af9225]
2026-01-08T12:40:41.701+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListForSuperAdmin : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, c.company_name AS companyName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id LEFT JOIN company_tb c ON r.company_id = c.company_id ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:40:41.705+09:00  INFO 6764 --- [http-nio-8080-exec-6] c.i.b.controller.SuperAdminController    : 전체 구독 목록 조회 완료 - count: 7
2026-01-08T12:40:41.709+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListForSuperAdmin : ==> Parameters: 1(Integer), 0(Integer)
2026-01-08T12:40:41.710+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:41.711+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 구독 목록 조회 성공, data=[SubscriptionDto(subscriptionId=7, companyId= (truncated)...]
2026-01-08T12:40:41.713+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:41.717+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:40:41.723+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListForSuperAdmin : <==      Total: 1
2026-01-08T12:40:41.723+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.SubscriptionMapper.findAll  : <==      Total: 7
2026-01-08T12:40:41.725+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:40:41.733+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e4aaf4f]
2026-01-08T12:40:41.734+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28173585]
2026-01-08T12:40:41.735+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:40:41.735+09:00  INFO 6764 --- [http-nio-8080-exec-10] c.i.b.controller.SuperAdminController    : 회사별 지출결의서 목록 조회 완료 - totalElements: 29
2026-01-08T12:40:41.736+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.737+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:41.736+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 1(Long)
2026-01-08T12:40:41.737+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2542d362] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.737+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=지출결의서 목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expen (truncated)...]
2026-01-08T12:40:41.738+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1451993252 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:40:41.739+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:41.744+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.PaymentMapper.findAll       : ==>  Preparing: SELECT p.* FROM payment_tb p ORDER BY p.payment_date DESC, p.created_at DESC
2026-01-08T12:40:41.744+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionPlanMapper.findById  : ======>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:40:41.745+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.PaymentMapper.findAll       : ==> Parameters: 
2026-01-08T12:40:41.746+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionPlanMapper.findById  : ======> Parameters: 1(Long)
2026-01-08T12:40:41.749+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:40:41.751+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 2(Long)
2026-01-08T12:40:41.755+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionPlanMapper.findById  : <======      Total: 1
2026-01-08T12:40:41.758+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:40:41.758+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:40:41.759+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:40:41.761+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.PaymentMapper.findAll       : <==      Total: 4
2026-01-08T12:40:41.762+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 7(Long)
2026-01-08T12:40:41.762+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5db1828]
2026-01-08T12:40:41.763+09:00  INFO 6764 --- [http-nio-8080-exec-5] c.i.b.controller.SuperAdminController    : 전체 결제 내역 조회 완료 - count: 4
2026-01-08T12:40:41.765+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:41.767+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 결제 내역 조회 성공, data=[PaymentDto(paymentId=11, subscriptionId=2, a (truncated)...]
2026-01-08T12:40:41.767+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:40:41.768+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:40:41.768+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:41.769+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 1(Long)
2026-01-08T12:40:41.775+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : ======>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:40:41.776+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : ======> Parameters: 1(Long)
2026-01-08T12:40:41.778+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : <======      Total: 1
2026-01-08T12:40:41.779+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:40:41.780+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.PaymentMapper.findAll       : <==      Total: 4
2026-01-08T12:40:41.781+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2542d362]
2026-01-08T12:40:41.783+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:41.783+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 요약 통계 조회 성공, data=AdminReportService.DashboardSummaryDto(tota (truncated)...]
2026-01-08T12:40:41.785+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:43.312+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/global
2026-01-08T12:40:43.313+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/global
2026-01-08T12:40:43.336+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/global
2026-01-08T12:40:43.346+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/expense-categories/global
2026-01-08T12:40:43.346+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/global
2026-01-08T12:40:43.347+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/global
2026-01-08T12:40:43.347+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/global", parameters={}
2026-01-08T12:40:43.348+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/expense-categories/global
2026-01-08T12:40:43.348+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getGlobalCategories()
2026-01-08T12:40:43.350+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getGlobalCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:40:43.348+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/global
2026-01-08T12:40:43.353+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getGlobalCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:40:43.354+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/global", parameters={}
2026-01-08T12:40:43.354+09:00  INFO 6764 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리 조회 시작
2026-01-08T12:40:43.355+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getGlobalCategories()
2026-01-08T12:40:43.355+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:43.356+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getGlobalCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:40:43.364+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getGlobalCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:40:43.356+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17a8efc6] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:43.366+09:00  INFO 6764 --- [http-nio-8080-exec-7] c.i.b.service.ExpenseCategoryService     : 전역 카테고리 조회 시작
2026-01-08T12:40:43.369+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:43.381+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c1696b4] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:43.382+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@636855143 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:40:43.383+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.findGlobalCategories           : ==>  Preparing: SELECT ec.*, 1 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec LEFT JOIN user_tb u ON ec.created_by = u.user_id WHERE ec.company_id IS NULL AND (ec.is_active IS NULL OR ec.is_active = 1) ORDER BY ec.display_order ASC, ec.category_name ASC
2026-01-08T12:40:43.384+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.findGlobalCategories           : ==> Parameters: 
2026-01-08T12:40:43.394+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@882207438 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:40:43.397+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.E.findGlobalCategories           : ==>  Preparing: SELECT ec.*, 1 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec LEFT JOIN user_tb u ON ec.created_by = u.user_id WHERE ec.company_id IS NULL AND (ec.is_active IS NULL OR ec.is_active = 1) ORDER BY ec.display_order ASC, ec.category_name ASC
2026-01-08T12:40:43.400+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.E.findGlobalCategories           : ==> Parameters: 
2026-01-08T12:40:43.402+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.findGlobalCategories           : <==      Total: 13
2026-01-08T12:40:43.413+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17a8efc6]
2026-01-08T12:40:43.415+09:00  INFO 6764 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리 조회 완료 - 항목 수: 13
2026-01-08T12:40:43.416+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=1, name=식비/회식, order=0, active=true
2026-01-08T12:40:43.418+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=3, name=거래처 접대, order=1, active=true
2026-01-08T12:40:43.418+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.E.findGlobalCategories           : <==      Total: 13
2026-01-08T12:40:43.419+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=2, name=출장/교통비, order=2, active=true
2026-01-08T12:40:43.419+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c1696b4]
2026-01-08T12:40:43.421+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=5, name=수수료, order=3, active=true
2026-01-08T12:40:43.430+09:00  INFO 6764 --- [http-nio-8080-exec-7] c.i.b.service.ExpenseCategoryService     : 전역 카테고리 조회 완료 - 항목 수: 13
2026-01-08T12:40:43.430+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=6, name=광고/홍보, order=4, active=true
2026-01-08T12:40:43.430+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=1, name=식비/회식, order=0, active=true
2026-01-08T12:40:43.431+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=4, name=사무용품, order=5, active=true
2026-01-08T12:40:43.431+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=3, name=거래처 접대, order=1, active=true
2026-01-08T12:40:43.432+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=7, name=통신비, order=6, active=true
2026-01-08T12:40:43.432+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=2, name=출장/교통비, order=2, active=true
2026-01-08T12:40:43.433+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=8, name=차량비, order=7, active=true
2026-01-08T12:40:43.433+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=5, name=수수료, order=3, active=true
2026-01-08T12:40:43.433+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=9, name=도서/인쇄, order=8, active=true
2026-01-08T12:40:43.434+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=6, name=광고/홍보, order=4, active=true
2026-01-08T12:40:43.434+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=10, name=세금/공과금, order=9, active=true
2026-01-08T12:40:43.436+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=4, name=사무용품, order=5, active=true
2026-01-08T12:40:43.436+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=11, name=급여, order=10, active=true
2026-01-08T12:40:43.436+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=7, name=통신비, order=6, active=true
2026-01-08T12:40:43.437+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=12, name=기타, order=11, active=true
2026-01-08T12:40:43.437+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=8, name=차량비, order=7, active=true
2026-01-08T12:40:43.437+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=15, name=test전역, order=12, active=true
2026-01-08T12:40:43.437+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=9, name=도서/인쇄, order=8, active=true
2026-01-08T12:40:43.438+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:43.438+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=10, name=세금/공과금, order=9, active=true
2026-01-08T12:40:43.438+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-08T12:40:43.439+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=11, name=급여, order=10, active=true
2026-01-08T12:40:43.439+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=12, name=기타, order=11, active=true
2026-01-08T12:40:43.440+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:43.445+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=15, name=test전역, order=12, active=true
2026-01-08T12:40:43.461+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:43.462+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-08T12:40:43.463+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:46.186+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/15
2026-01-08T12:40:46.212+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing PUT /api/expense-categories/15
2026-01-08T12:40:46.215+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/expense-categories/15
2026-01-08T12:40:46.216+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured PUT /api/expense-categories/15
2026-01-08T12:40:46.217+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : PUT "/api/expense-categories/15", parameters={}
2026-01-08T12:40:46.218+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#updateCategory(Long, ExpenseCategoryDto)
2026-01-08T12:40:46.221+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ExpenseCategoryDto(categoryId=null, companyId=null, categoryName=null, displayOrder=null, isActive=f (truncated)...]
2026-01-08T12:40:46.229+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.updateCategory(java.lang.Long,com.innersignature.backend.dto.ExpenseCategoryDto); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:40:46.230+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.updateCategory(java.lang.Long,com.innersignature.backend.dto.ExpenseCategoryDto); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:40:46.246+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:46.247+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@651d780d]
2026-01-08T12:40:46.248+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@126203026 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will be managed by Spring
2026-01-08T12:40:46.248+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.ExpenseCategoryMapper.findById   : ==>  Preparing: SELECT ec.*, CASE WHEN ec.company_id IS NULL THEN 1 ELSE 0 END AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec LEFT JOIN user_tb u ON ec.created_by = u.user_id WHERE ec.category_id = ? AND ( ec.company_id IS NULL )
2026-01-08T12:40:46.251+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.ExpenseCategoryMapper.findById   : ==> Parameters: 15(Long)
2026-01-08T12:40:46.254+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.ExpenseCategoryMapper.findById   : <==      Total: 1
2026-01-08T12:40:46.254+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@651d780d]
2026-01-08T12:40:46.254+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@651d780d] from current transaction
2026-01-08T12:40:46.255+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.ExpenseCategoryMapper.update     : ==>  Preparing: UPDATE expense_category_tb SET category_name = ?, display_order = ?, is_active = ?, updated_at = NOW() WHERE category_id = ? AND ( company_id IS NULL )
2026-01-08T12:40:46.255+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.ExpenseCategoryMapper.update     : ==> Parameters: test전역(String), 12(Integer), false(Boolean), 15(Long)
2026-01-08T12:40:46.264+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.ExpenseCategoryMapper.update     : <==    Updates: 1
2026-01-08T12:40:46.266+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@651d780d]
2026-01-08T12:40:46.267+09:00  INFO 6764 --- [http-nio-8080-exec-4] c.i.b.service.ExpenseCategoryService     : 항목 수정 완료 - categoryId: 15, isGlobal: true
2026-01-08T12:40:46.267+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@651d780d] from current transaction
2026-01-08T12:40:46.267+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.ExpenseCategoryMapper.findById   : ==>  Preparing: SELECT ec.*, CASE WHEN ec.company_id IS NULL THEN 1 ELSE 0 END AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec LEFT JOIN user_tb u ON ec.created_by = u.user_id WHERE ec.category_id = ? AND ( ec.company_id IS NULL )
2026-01-08T12:40:46.268+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.ExpenseCategoryMapper.findById   : ==> Parameters: 15(Long)
2026-01-08T12:40:46.270+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.ExpenseCategoryMapper.findById   : <==      Total: 1
2026-01-08T12:40:46.271+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@651d780d]
2026-01-08T12:40:46.271+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@651d780d]
2026-01-08T12:40:46.272+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@651d780d]
2026-01-08T12:40:46.272+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@651d780d]
2026-01-08T12:40:46.288+09:00  INFO 6764 --- [http-nio-8080-exec-4] c.i.b.c.ExpenseCategoryController        : 항목 수정 완료 - categoryId: 15
2026-01-08T12:40:46.289+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:46.295+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=항목이 수정되었습니다., data=ExpenseCategoryDto(categoryId=15, companyId=nul (truncated)...]
2026-01-08T12:40:46.296+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:46.984+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/global
2026-01-08T12:40:46.999+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/global
2026-01-08T12:40:47.010+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/expense-categories/global
2026-01-08T12:40:47.012+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/global
2026-01-08T12:40:47.012+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/global", parameters={}
2026-01-08T12:40:47.012+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getGlobalCategories()
2026-01-08T12:40:47.013+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getGlobalCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:40:47.013+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getGlobalCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:40:47.013+09:00  INFO 6764 --- [http-nio-8080-exec-10] c.i.b.service.ExpenseCategoryService     : 전역 카테고리 조회 시작
2026-01-08T12:40:47.014+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:47.014+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a69540a] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:47.017+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@970261756 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:40:47.018+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.findGlobalCategories           : ==>  Preparing: SELECT ec.*, 1 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec LEFT JOIN user_tb u ON ec.created_by = u.user_id WHERE ec.company_id IS NULL AND (ec.is_active IS NULL OR ec.is_active = 1) ORDER BY ec.display_order ASC, ec.category_name ASC
2026-01-08T12:40:47.063+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.findGlobalCategories           : ==> Parameters: 
2026-01-08T12:40:47.115+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.findGlobalCategories           : <==      Total: 12
2026-01-08T12:40:47.121+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a69540a]
2026-01-08T12:40:47.121+09:00  INFO 6764 --- [http-nio-8080-exec-10] c.i.b.service.ExpenseCategoryService     : 전역 카테고리 조회 완료 - 항목 수: 12
2026-01-08T12:40:47.121+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=1, name=식비/회식, order=0, active=true
2026-01-08T12:40:47.122+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=3, name=거래처 접대, order=1, active=true
2026-01-08T12:40:47.126+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=2, name=출장/교통비, order=2, active=true
2026-01-08T12:40:47.126+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=5, name=수수료, order=3, active=true
2026-01-08T12:40:47.127+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=6, name=광고/홍보, order=4, active=true
2026-01-08T12:40:47.127+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=4, name=사무용품, order=5, active=true
2026-01-08T12:40:47.128+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=7, name=통신비, order=6, active=true
2026-01-08T12:40:47.128+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=8, name=차량비, order=7, active=true
2026-01-08T12:40:47.128+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=9, name=도서/인쇄, order=8, active=true
2026-01-08T12:40:47.128+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=10, name=세금/공과금, order=9, active=true
2026-01-08T12:40:47.131+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=11, name=급여, order=10, active=true
2026-01-08T12:40:47.132+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=12, name=기타, order=11, active=true
2026-01-08T12:40:47.133+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:47.134+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-08T12:40:47.135+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:50.358+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/account-codes/list
2026-01-08T12:40:50.372+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/account-codes/list
2026-01-08T12:40:50.378+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/account-codes/list
2026-01-08T12:40:50.383+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/account-codes/list
2026-01-08T12:40:50.383+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/account-codes/list", parameters={}
2026-01-08T12:40:50.385+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AccountCodeController#getMappingList()
2026-01-08T12:40:50.437+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:40:50.498+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:40:50.578+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:50.595+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78713c1b] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:50.598+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1493272929 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:40:50.599+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.A.findAll                        : ==>  Preparing: SELECT * FROM account_code_mapping_tb ORDER BY company_id DESC, category ASC, account_name ASC
2026-01-08T12:40:50.599+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.A.findAll                        : ==> Parameters: 
2026-01-08T12:40:50.602+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.A.findAll                        : <==      Total: 1
2026-01-08T12:40:50.603+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78713c1b]
2026-01-08T12:40:50.623+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:50.629+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[AccountCodeMappingDto(mappingId=1, companyId=1, categ (truncated)...]
2026-01-08T12:40:50.634+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:41:06.668+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/account-codes/1
2026-01-08T12:41:06.677+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing DELETE /api/account-codes/1
2026-01-08T12:41:06.682+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/account-codes/1
2026-01-08T12:41:06.684+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured DELETE /api/account-codes/1
2026-01-08T12:41:06.685+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : DELETE "/api/account-codes/1", parameters={}
2026-01-08T12:41:06.687+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AccountCodeController#deleteMapping(Long)
2026-01-08T12:41:06.688+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.deleteMapping(java.lang.Long); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:41:06.693+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.deleteMapping(java.lang.Long); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:41:06.696+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:41:06.696+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d1322a7]
2026-01-08T12:41:06.697+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@550014822 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will be managed by Spring
2026-01-08T12:41:06.700+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.A.findById                       : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE mapping_id = ? AND (company_id = ? OR company_id IS NULL)
2026-01-08T12:41:06.701+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.A.findById                       : ==> Parameters: 1(Long), 4(Long)
2026-01-08T12:41:06.703+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.A.findById                       : <==      Total: 0
2026-01-08T12:41:06.703+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d1322a7]
2026-01-08T12:41:06.705+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d1322a7]
2026-01-08T12:41:06.705+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d1322a7]
2026-01-08T12:41:06.712+09:00 ERROR 6764 --- [http-nio-8080-exec-3] c.i.b.controller.AccountCodeController   : 계정 과목 매핑 삭제 실패

com.innersignature.backend.exception.BusinessException: 계정 과목 매핑을 찾을 수 없습니다.
	at com.innersignature.backend.service.AccountCodeService.deleteMapping(AccountCodeService.java:116) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.14.jar:6.2.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.innersignature.backend.service.AccountCodeService$$SpringCGLIB$$0.deleteMapping(<generated>) ~[classes/:na]
	at com.innersignature.backend.controller.AccountCodeController.deleteMapping(AccountCodeController.java:63) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.innersignature.backend.controller.AccountCodeController$$SpringCGLIB$$0.deleteMapping(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:936) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:596) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:79) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:87) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2026-01-08T12:41:06.745+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:41:06.746+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, message=계정 과목 매핑을 찾을 수 없습니다., data=null)]
2026-01-08T12:41:06.747+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2026-01-08T12:41:09.367+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/account-codes/1
2026-01-08T12:41:09.371+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing DELETE /api/account-codes/1
2026-01-08T12:41:09.375+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/account-codes/1
2026-01-08T12:41:09.376+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured DELETE /api/account-codes/1
2026-01-08T12:41:09.378+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : DELETE "/api/account-codes/1", parameters={}
2026-01-08T12:41:09.379+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AccountCodeController#deleteMapping(Long)
2026-01-08T12:41:09.380+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.deleteMapping(java.lang.Long); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:41:09.382+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.deleteMapping(java.lang.Long); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:41:09.388+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:41:09.393+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@723072a3]
2026-01-08T12:41:09.396+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1958712377 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will be managed by Spring
2026-01-08T12:41:09.397+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.A.findById                       : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE mapping_id = ? AND (company_id = ? OR company_id IS NULL)
2026-01-08T12:41:09.397+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.A.findById                       : ==> Parameters: 1(Long), 4(Long)
2026-01-08T12:41:09.399+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.A.findById                       : <==      Total: 0
2026-01-08T12:41:09.400+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@723072a3]
2026-01-08T12:41:09.400+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@723072a3]
2026-01-08T12:41:09.400+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@723072a3]
2026-01-08T12:41:09.403+09:00 ERROR 6764 --- [http-nio-8080-exec-7] c.i.b.controller.AccountCodeController   : 계정 과목 매핑 삭제 실패

com.innersignature.backend.exception.BusinessException: 계정 과목 매핑을 찾을 수 없습니다.
	at com.innersignature.backend.service.AccountCodeService.deleteMapping(AccountCodeService.java:116) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.14.jar:6.2.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.innersignature.backend.service.AccountCodeService$$SpringCGLIB$$0.deleteMapping(<generated>) ~[classes/:na]
	at com.innersignature.backend.controller.AccountCodeController.deleteMapping(AccountCodeController.java:63) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.innersignature.backend.controller.AccountCodeController$$SpringCGLIB$$0.deleteMapping(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:936) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:596) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:79) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:87) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2026-01-08T12:41:09.445+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:41:09.445+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, message=계정 과목 매핑을 찾을 수 없습니다., data=null)]
2026-01-08T12:41:09.446+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2026-01-08T12:43:00.767+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/account-codes/1
2026-01-08T12:43:00.777+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing DELETE /api/account-codes/1
2026-01-08T12:43:00.790+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/account-codes/1
2026-01-08T12:43:00.792+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured DELETE /api/account-codes/1
2026-01-08T12:43:00.793+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : DELETE "/api/account-codes/1", parameters={}
2026-01-08T12:43:00.793+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AccountCodeController#deleteMapping(Long)
2026-01-08T12:43:00.794+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.deleteMapping(java.lang.Long); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:43:00.796+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.deleteMapping(java.lang.Long); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:43:00.802+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:43:00.806+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d264730]
2026-01-08T12:43:00.806+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@744352063 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will be managed by Spring
2026-01-08T12:43:00.809+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.A.findById                       : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE mapping_id = ? AND (company_id = ? OR company_id IS NULL)
2026-01-08T12:43:00.813+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.A.findById                       : ==> Parameters: 1(Long), 4(Long)
2026-01-08T12:43:00.815+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.A.findById                       : <==      Total: 0
2026-01-08T12:43:00.816+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d264730]
2026-01-08T12:43:00.816+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d264730]
2026-01-08T12:43:00.816+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d264730]
2026-01-08T12:43:00.828+09:00 ERROR 6764 --- [http-nio-8080-exec-2] c.i.b.controller.AccountCodeController   : 계정 과목 매핑 삭제 실패

com.innersignature.backend.exception.BusinessException: 계정 과목 매핑을 찾을 수 없습니다.
	at com.innersignature.backend.service.AccountCodeService.deleteMapping(AccountCodeService.java:116) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.14.jar:6.2.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.innersignature.backend.service.AccountCodeService$$SpringCGLIB$$0.deleteMapping(<generated>) ~[classes/:na]
	at com.innersignature.backend.controller.AccountCodeController.deleteMapping(AccountCodeController.java:63) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.innersignature.backend.controller.AccountCodeController$$SpringCGLIB$$0.deleteMapping(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:936) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:596) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:79) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:87) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2026-01-08T12:43:00.862+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:43:00.863+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, message=계정 과목 매핑을 찾을 수 없습니다., data=null)]
2026-01-08T12:43:00.863+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2026-01-08T12:45:22.797+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2026-01-08T12:45:22.892+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2026-01-08T12:45:22.913+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/logout
2026-01-08T12:45:22.924+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2026-01-08T12:45:22.938+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2026-01-08T12:45:22.958+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2026-01-08T12:45:22.973+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiI5IiwidXNlcm5hbWUiOiJ (truncated)...]
2026-01-08T12:45:22.984+09:00  INFO 6764 --- [http-nio-8080-exec-1] SECURITY                                 : LOGOUT userId=9
2026-01-08T12:45:22.993+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:22.997+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2026-01-08T12:45:23.001+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:26.335+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2026-01-08T12:45:26.337+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2026-01-08T12:45:26.338+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-08T12:45:26.338+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2026-01-08T12:45:26.338+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2026-01-08T12:45:26.339+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2026-01-08T12:45:26.339+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_ceo, password=1234)]
2026-01-08T12:45:26.340+09:00  INFO 6764 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 로그인 시도 - username: test_ceo
2026-01-08T12:45:26.341+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:26.341+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64ba276d] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:26.343+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2098840541 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:26.343+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2026-01-08T12:45:26.344+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_ceo(String)
2026-01-08T12:45:26.348+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2026-01-08T12:45:26.349+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64ba276d]
2026-01-08T12:45:26.429+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:26.429+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f05cf4] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:26.430+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@936516002 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:26.430+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:45:26.431+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2026-01-08T12:45:26.434+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2026-01-08T12:45:26.434+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f05cf4]
2026-01-08T12:45:26.435+09:00  INFO 6764 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 로그인 성공 - userId: 1, role: CEO, companyId: 1
2026-01-08T12:45:26.435+09:00  INFO 6764 --- [http-nio-8080-exec-9] SECURITY                                 : LOGIN_SUCCESS userId=1 username=test_ceo role=CEO
2026-01-08T12:45:26.436+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:26.436+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=1, username=test_ceo, password=n (truncated)...]
2026-01-08T12:45:26.437+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:26.761+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2026-01-08T12:45:26.769+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2026-01-08T12:45:26.774+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/companies
2026-01-08T12:45:26.775+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2026-01-08T12:45:26.776+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2026-01-08T12:45:26.777+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2026-01-08T12:45:26.779+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:26.795+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@215e31cb] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:26.805+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1540176802 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:26.807+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2026-01-08T12:45:26.814+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 1(Long)
2026-01-08T12:45:26.827+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 7
2026-01-08T12:45:26.827+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@215e31cb]
2026-01-08T12:45:26.827+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:26.828+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2026-01-08T12:45:26.828+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:26.857+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:45:26.860+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T12:45:26.860+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2026-01-08T12:45:26.861+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-08T12:45:26.889+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2026-01-08T12:45:26.863+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:45:26.877+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2026-01-08T12:45:26.885+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/credits/total
2026-01-08T12:45:26.897+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2026-01-08T12:45:26.889+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-08T12:45:26.890+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2026-01-08T12:45:26.892+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:45:26.893+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2026-01-08T12:45:26.900+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/credits/total
2026-01-08T12:45:26.908+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:45:26.912+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T12:45:26.912+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2026-01-08T12:45:26.914+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2026-01-08T12:45:26.914+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-08T12:45:26.918+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:45:26.922+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:45:26.923+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T12:45:26.925+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2026-01-08T12:45:26.925+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2026-01-08T12:45:26.926+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2026-01-08T12:45:26.926+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:45:26.926+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:45:26.927+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T12:45:26.927+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2026-01-08T12:45:26.928+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2026-01-08T12:45:26.928+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-08T12:45:26.928+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:45:26.928+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:45:26.929+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T12:45:26.929+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2026-01-08T12:45:26.929+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2026-01-08T12:45:26.929+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-08T12:45:26.930+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:45:26.931+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:45:26.934+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T12:45:26.935+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2026-01-08T12:45:26.938+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:26.936+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2026-01-08T12:45:26.939+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:26.936+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T12:45:26.936+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:45:26.937+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:26.937+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:26.938+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c5a3675] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:26.941+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5852de2d] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:26.942+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:26.942+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:26.942+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bbb4ce3] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:26.943+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@341b0662] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:26.943+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@679568830 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:26.944+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ace7d10] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:26.944+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a75a5b5] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:26.951+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:45:26.954+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@501322292 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:45:26.959+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1820593204 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:45:26.959+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@699134357 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:26.959+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1193293387 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:26.959+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1215362280 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:26.961+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2026-01-08T12:45:26.962+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:45:26.962+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T12:45:26.962+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:45:26.962+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:26.962+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:45:26.963+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2026-01-08T12:45:26.963+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:45:26.964+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:45:26.964+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:26.967+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:45:26.986+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2026-01-08T12:45:26.986+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2026-01-08T12:45:26.987+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ace7d10]
2026-01-08T12:45:26.987+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c5a3675]
2026-01-08T12:45:26.988+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:26.988+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:26.989+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b4d32c6] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:26.989+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4984622] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:26.990+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@755548752 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:26.990+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@434909530 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:26.991+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:26.992+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2026-01-08T12:45:26.993+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:26.993+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2026-01-08T12:45:26.995+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2026-01-08T12:45:26.995+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5852de2d]
2026-01-08T12:45:26.996+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:26.996+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:26.996+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a75a5b5]
2026-01-08T12:45:26.997+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2026-01-08T12:45:26.997+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:26.998+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31cc7fb3] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:26.999+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:26.999+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2093493052 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:27.000+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:27.001+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:27.001+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T12:45:27.002+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@341b0662]
2026-01-08T12:45:27.003+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:27.003+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T12:45:27.004+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2026-01-08T12:45:27.004+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:27.005+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bbb4ce3]
2026-01-08T12:45:27.005+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.005+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@142ed03] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.006+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@57444053 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:27.007+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:27.007+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:27.013+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:45:27.014+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2026-01-08T12:45:27.023+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T12:45:27.025+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-08T12:45:27.025+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:27.026+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:27.026+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31cc7fb3]
2026-01-08T12:45:27.026+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b4d32c6]
2026-01-08T12:45:27.026+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.026+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15c64efe] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.027+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:27.027+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1193646610 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:27.028+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=26, drafterId= (truncated)...]
2026-01-08T12:45:27.028+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:45:27.029+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:27.029+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:45:27.031+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2026-01-08T12:45:27.031+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:27.031+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4984622]
2026-01-08T12:45:27.031+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@142ed03]
2026-01-08T12:45:27.033+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:27.034+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:27.034+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-01-08T12:45:27.034+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=26, drafterId= (truncated)...]
2026-01-08T12:45:27.035+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:27.035+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:27.040+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2026-01-08T12:45:27.042+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/credits/total
2026-01-08T12:45:27.042+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:45:27.043+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15c64efe]
2026-01-08T12:45:27.043+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.043+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@260dc708] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.044+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@26991753 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:27.044+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:27.044+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2026-01-08T12:45:27.045+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:27.045+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-08T12:45:27.046+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2026-01-08T12:45:27.046+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/credits/total
2026-01-08T12:45:27.046+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2026-01-08T12:45:27.047+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-08T12:45:27.046+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2026-01-08T12:45:27.047+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-08T12:45:27.048+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/credits/total
2026-01-08T12:45:27.048+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T12:45:27.048+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2026-01-08T12:45:27.050+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2026-01-08T12:45:27.048+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/credits/total
2026-01-08T12:45:27.050+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.051+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.051+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/credits/total", parameters={}
2026-01-08T12:45:27.051+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c901e8f] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.051+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67807aa3] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.051+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CreditController#getTotalAvailableAmount()
2026-01-08T12:45:27.052+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@389865493 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:27.052+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1566385558 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:27.053+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2026-01-08T12:45:27.053+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:27.055+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2026-01-08T12:45:27.057+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:45:27.070+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:45:27.077+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2026-01-08T12:45:27.087+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.078+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:27.078+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:27.081+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2026-01-08T12:45:27.084+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:45:27.086+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2026-01-08T12:45:27.090+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d251061] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.092+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@260dc708]
2026-01-08T12:45:27.095+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.096+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e782723] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.092+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2026-01-08T12:45:27.092+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:45:27.094+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1870583167 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:27.099+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:27.099+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@377855587 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:27.101+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2026-01-08T12:45:27.104+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2026-01-08T12:45:27.104+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:45:27.105+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.C.getTotalAvailableAmount        : ==>  Preparing: SELECT COALESCE(SUM(amount - used_amount), 0) FROM credit_tb WHERE company_id = ? AND (expires_at IS NULL OR expires_at >= ?)
2026-01-08T12:45:27.105+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c901e8f]
2026-01-08T12:45:27.106+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T12:45:27.106+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67807aa3]
2026-01-08T12:45:27.106+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2026-01-08T12:45:27.107+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:45:27.107+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.C.getTotalAvailableAmount        : ==> Parameters: 1(Long), 2026-01-08(LocalDate)
2026-01-08T12:45:27.107+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.108+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.108+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T12:45:27.109+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2026-01-08T12:45:27.109+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.109+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cadaa4] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.110+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6138a9b7] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.111+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.C.getTotalAvailableAmount        : <==      Total: 1
2026-01-08T12:45:27.112+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2026-01-08T12:45:27.112+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T12:45:27.117+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e782723]
2026-01-08T12:45:27.112+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77ecd091] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.113+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@696436980 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:27.113+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@92897873 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:27.114+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d251061]
2026-01-08T12:45:27.117+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.118+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.120+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:27.120+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1427445672 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:27.120+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2026-01-08T12:45:27.121+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:27.122+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cf33fc5] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.123+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@afe451b] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.125+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:27.126+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:45:27.127+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2026-01-08T12:45:27.127+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data={totalAmount=5145})]
2026-01-08T12:45:27.132+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:27.127+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@101435248 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:27.128+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@354429528 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:45:27.134+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:45:27.136+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:45:27.130+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:45:27.133+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2026-01-08T12:45:27.140+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:27.141+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2026-01-08T12:45:27.141+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cadaa4]
2026-01-08T12:45:27.144+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2026-01-08T12:45:27.147+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.147+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4effb8d5] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.148+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2026-01-08T12:45:27.153+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@489899092 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:27.154+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2026-01-08T12:45:27.154+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2026-01-08T12:45:27.155+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2026-01-08T12:45:27.156+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:45:27.156+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:45:27.156+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2026-01-08T12:45:27.156+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6138a9b7]
2026-01-08T12:45:27.157+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77ecd091]
2026-01-08T12:45:27.157+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@afe451b]
2026-01-08T12:45:27.158+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:45:27.162+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:45:27.162+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2026-01-08T12:45:27.163+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:27.163+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.163+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.164+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:45:27.167+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.168+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-01-08T12:45:27.168+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59b63bb5] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.169+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d96425d] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.187+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@892862569 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:45:27.189+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:27.193+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:27.171+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70c4fd16] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.172+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:27.178+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1213141066 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:27.188+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:45:27.190+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:45:27.202+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 1
2026-01-08T12:45:27.203+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cf33fc5]
2026-01-08T12:45:27.204+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:27.206+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=SubscriptionDto(subscriptionId=1, companyId=1, planId= (truncated)...]
2026-01-08T12:45:27.195+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@917179514 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:27.198+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:27.201+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4effb8d5]
2026-01-08T12:45:27.210+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:27.226+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.210+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:45:27.211+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:27.219+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/credits/total
2026-01-08T12:45:27.227+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e679ddf] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.238+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1030596054 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:27.231+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2026-01-08T12:45:27.233+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2026-01-08T12:45:27.234+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:27.240+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/credits/total
2026-01-08T12:45:27.241+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:27.245+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d96425d]
2026-01-08T12:45:27.245+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/credits/total
2026-01-08T12:45:27.245+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2026-01-08T12:45:27.246+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:27.246+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.246+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/credits/total", parameters={}
2026-01-08T12:45:27.247+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2026-01-08T12:45:27.251+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:27.253+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68bba65e] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.254+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CreditController#getTotalAvailableAmount()
2026-01-08T12:45:27.254+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2026-01-08T12:45:27.255+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59b63bb5]
2026-01-08T12:45:27.256+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@398497214 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:45:27.257+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2026-01-08T12:45:27.258+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2026-01-08T12:45:27.260+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2026-01-08T12:45:27.262+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:27.265+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=26, drafterId= (truncated)...]
2026-01-08T12:45:27.262+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T12:45:27.270+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T12:45:27.263+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2026-01-08T12:45:27.263+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:27.265+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2026-01-08T12:45:27.265+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70c4fd16]
2026-01-08T12:45:27.268+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:27.271+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.272+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e679ddf]
2026-01-08T12:45:27.279+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2026-01-08T12:45:27.280+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.284+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2026-01-08T12:45:27.286+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e741929] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.287+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.289+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T12:45:27.295+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.295+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c2e56e5] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.296+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2026-01-08T12:45:27.296+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@407426833 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:27.297+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@570cc060] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.306+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68bba65e]
2026-01-08T12:45:27.312+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.308+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63e6753a] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.308+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@995437115 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:27.309+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2026-01-08T12:45:27.309+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.C.getTotalAvailableAmount        : ==>  Preparing: SELECT COALESCE(SUM(amount - used_amount), 0) FROM credit_tb WHERE company_id = ? AND (expires_at IS NULL OR expires_at >= ?)
2026-01-08T12:45:27.310+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1698117179 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:27.313+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37762b24] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.313+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2068919183 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:45:27.313+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2026-01-08T12:45:27.314+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2026-01-08T12:45:27.314+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.C.getTotalAvailableAmount        : ==> Parameters: 1(Long), 2026-01-08(LocalDate)
2026-01-08T12:45:27.320+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T12:45:27.320+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@46854850 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:27.325+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:27.320+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2026-01-08T12:45:27.321+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2026-01-08T12:45:27.321+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2026-01-08T12:45:27.322+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T12:45:27.326+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:27.327+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2026-01-08T12:45:27.328+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.328+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.C.getTotalAvailableAmount        : <==      Total: 1
2026-01-08T12:45:27.330+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2026-01-08T12:45:27.331+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T12:45:27.336+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62468cf9] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.336+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e741929]
2026-01-08T12:45:27.336+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c2e56e5]
2026-01-08T12:45:27.337+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@570cc060]
2026-01-08T12:45:27.337+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1966313219 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:45:27.338+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:27.338+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:27.338+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.339+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:45:27.339+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data={totalAmount=5145})]
2026-01-08T12:45:27.340+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-01-08T12:45:27.340+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5581a03e] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.341+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:27.341+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:45:27.342+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2026-01-08T12:45:27.342+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:27.342+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:27.343+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1681876270 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:27.344+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37762b24]
2026-01-08T12:45:27.345+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:45:27.351+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:45:27.352+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-08T12:45:27.354+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:45:27.355+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:27.356+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:45:27.364+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:45:27.367+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:45:27.356+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2026-01-08T12:45:27.358+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:45:27.364+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T12:45:27.370+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:45:27.370+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-08T12:45:27.372+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.373+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:27.373+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-08T12:45:27.375+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5571ce14] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.382+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@547515075 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:27.383+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:45:27.379+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T12:45:27.380+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T12:45:27.393+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.399+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44547a9a] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.387+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:45:27.393+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:45:27.394+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2026-01-08T12:45:27.457+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62468cf9]
2026-01-08T12:45:27.458+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.458+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dcc3fef] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.395+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T12:45:27.463+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T12:45:27.425+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:45:27.440+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1610946230 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:27.457+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 1
2026-01-08T12:45:27.460+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1928906587 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:45:27.511+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T12:45:27.512+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5581a03e]
2026-01-08T12:45:27.512+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:27.541+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.513+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63e6753a]
2026-01-08T12:45:27.514+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2026-01-08T12:45:27.525+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2026-01-08T12:45:27.529+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T12:45:27.542+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:27.542+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e354cb2] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.542+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:27.543+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2026-01-08T12:45:27.543+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5571ce14]
2026-01-08T12:45:27.545+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.544+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.544+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1995278618 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:27.555+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:27.544+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=SubscriptionDto(subscriptionId=1, companyId=1, planId= (truncated)...]
2026-01-08T12:45:27.548+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a7f77e7] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.554+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3aeaeec8] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.556+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:27.558+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:27.560+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1629818834 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:27.560+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1652727458 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:27.638+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T12:45:27.639+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:45:27.591+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:27.641+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44547a9a]
2026-01-08T12:45:27.641+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.644+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b7e8b4a] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.645+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@471449109 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:27.591+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:27.591+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2026-01-08T12:45:27.600+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2026-01-08T12:45:27.630+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:27.652+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:27.646+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:27.646+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e354cb2]
2026-01-08T12:45:27.646+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dcc3fef]
2026-01-08T12:45:27.649+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2026-01-08T12:45:27.653+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:27.659+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.660+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:27.660+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2026-01-08T12:45:27.661+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@791a964d] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.662+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-01-08T12:45:27.662+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2026-01-08T12:45:27.662+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2102265088 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:27.663+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:27.663+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2026-01-08T12:45:27.663+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T12:45:27.664+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2026-01-08T12:45:27.666+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T12:45:27.668+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2026-01-08T12:45:27.673+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/credits/total
2026-01-08T12:45:27.679+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.680+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29ca3982] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.681+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/credits/total
2026-01-08T12:45:27.684+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:27.684+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:27.684+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T12:45:27.685+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T12:45:27.686+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1103742109 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:45:27.687+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/credits/total
2026-01-08T12:45:27.688+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a7f77e7]
2026-01-08T12:45:27.689+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b7e8b4a]
2026-01-08T12:45:27.691+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3aeaeec8]
2026-01-08T12:45:27.692+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@791a964d]
2026-01-08T12:45:27.692+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2026-01-08T12:45:27.692+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/credits/total", parameters={}
2026-01-08T12:45:27.697+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:27.698+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.701+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:27.701+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.702+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2026-01-08T12:45:27.702+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CreditController#getTotalAvailableAmount()
2026-01-08T12:45:27.702+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=26, drafterId= (truncated)...]
2026-01-08T12:45:27.703+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41fcca14] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.704+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T12:45:27.704+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2affdd8c] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.705+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2026-01-08T12:45:27.708+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:27.708+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1322724794 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:27.708+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:27.709+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@125476448 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:27.709+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2026-01-08T12:45:27.710+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:45:27.710+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:27.727+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:27.726+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.727+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:45:27.728+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@374cc370] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.736+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:45:27.760+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@692793858 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:27.761+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:45:27.762+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.C.getTotalAvailableAmount        : ==>  Preparing: SELECT COALESCE(SUM(amount - used_amount), 0) FROM credit_tb WHERE company_id = ? AND (expires_at IS NULL OR expires_at >= ?)
2026-01-08T12:45:27.771+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:27.775+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.C.getTotalAvailableAmount        : ==> Parameters: 1(Long), 2026-01-08(LocalDate)
2026-01-08T12:45:27.777+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:45:27.779+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2affdd8c]
2026-01-08T12:45:27.780+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41fcca14]
2026-01-08T12:45:27.785+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:45:27.793+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:27.793+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.794+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 1
2026-01-08T12:45:27.795+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T12:45:27.796+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@460bee83] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.796+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29ca3982]
2026-01-08T12:45:27.797+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1635786812 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:27.801+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:27.797+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:27.801+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:27.801+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:27.802+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=SubscriptionDto(subscriptionId=1, companyId=1, planId= (truncated)...]
2026-01-08T12:45:27.803+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:27.804+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.C.getTotalAvailableAmount        : <==      Total: 1
2026-01-08T12:45:27.829+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@374cc370]
2026-01-08T12:45:27.830+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:27.832+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:27.842+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data={totalAmount=5145})]
2026-01-08T12:45:27.842+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@460bee83]
2026-01-08T12:45:27.843+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:27.844+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.844+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77980e32] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.858+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1862175156 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:27.860+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T12:45:27.873+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T12:45:27.880+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T12:45:27.889+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77980e32]
2026-01-08T12:45:27.891+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.891+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7375e02c] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.896+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1143708142 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:27.904+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:45:27.906+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:45:27.926+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:45:27.929+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7375e02c]
2026-01-08T12:45:27.931+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.934+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ec15edc] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.941+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1919532968 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:27.956+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:27.974+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:27.990+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:27.992+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ec15edc]
2026-01-08T12:45:27.993+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.994+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2486d7fd] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:28.010+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1395215 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:28.012+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T12:45:28.012+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T12:45:28.058+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T12:45:28.089+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2486d7fd]
2026-01-08T12:45:28.092+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:28.106+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@780b78e3] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:28.112+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1788899616 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:28.114+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:28.121+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:28.129+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:28.130+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@780b78e3]
2026-01-08T12:45:28.131+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:28.137+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T12:45:28.138+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:29.574+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:45:29.578+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2026-01-08T12:45:29.580+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T12:45:29.582+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/merged
2026-01-08T12:45:29.585+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/merged
2026-01-08T12:45:29.630+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:45:29.639+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2026-01-08T12:45:29.660+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2026-01-08T12:45:29.662+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2026-01-08T12:45:29.640+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T12:45:29.653+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:45:29.671+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2026-01-08T12:45:29.687+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/merged
2026-01-08T12:45:29.707+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T12:45:29.708+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/merged
2026-01-08T12:45:29.712+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:45:29.713+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2026-01-08T12:45:29.723+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expense-categories/merged
2026-01-08T12:45:29.727+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T12:45:29.878+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expense-categories/merged
2026-01-08T12:45:29.888+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:45:29.892+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:29.892+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/merged
2026-01-08T12:45:29.897+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T12:45:29.897+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/merged
2026-01-08T12:45:29.900+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:45:29.903+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@623f1c84] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:29.905+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/merged", parameters={}
2026-01-08T12:45:29.916+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T12:45:29.917+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/merged", parameters={}
2026-01-08T12:45:29.920+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:29.925+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getMergedCategories()
2026-01-08T12:45:29.923+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getMergedCategories()
2026-01-08T12:45:29.924+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:29.925+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1705160643 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:29.925+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d7ad65c] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:29.925+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:45:29.926+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:45:29.926+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b07dbf6] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:29.926+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:45:29.928+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:45:29.934+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:45:29.937+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2026-01-08T12:45:29.938+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1451888808 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:29.940+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:29.941+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:29.941+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:45:29.941+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e3556eb] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:29.941+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@923734820 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:45:29.941+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56809ccc] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:29.946+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:45:29.948+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T12:45:29.949+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2026-01-08T12:45:29.952+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:45:29.952+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@623f1c84]
2026-01-08T12:45:29.953+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:30.010+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a1b18e3] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:30.055+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1142597188 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:30.055+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T12:45:30.056+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2026-01-08T12:45:30.056+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@527033523 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:30.068+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@157754988 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:30.098+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.findMergedCategories           : ==>  Preparing: ( -- 전역 카테고리 (회사별 오버라이드가 있으면 회사별 값 사용) SELECT COALESCE(ec_company.category_id, ec_global.category_id) AS category_id, COALESCE(ec_company.company_id, ec_global.company_id) AS company_id, COALESCE(ec_company.category_name, ec_global.category_name) AS category_name, COALESCE(ec_company.display_order, ec_global.display_order) AS display_order, COALESCE(ec_company.is_active, ec_global.is_active) AS is_active, COALESCE(ec_company.created_by, ec_global.created_by) AS created_by, COALESCE(ec_company.created_at, ec_global.created_at) AS created_at, COALESCE(ec_company.updated_at, ec_global.updated_at) AS updated_at, CASE WHEN ec_company.category_id IS NOT NULL THEN 0 ELSE 1 END AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_global LEFT JOIN expense_category_tb ec_company ON ec_global.category_name = ec_company.category_name AND ec_company.company_id = ? LEFT JOIN user_tb u ON COALESCE(ec_company.created_by, ec_global.created_by) = u.user_id WHERE ec_global.company_id IS NULL AND (ec_global.is_active IS NULL OR ec_global.is_active = 1) AND (ec_company.category_id IS NULL OR ec_company.is_active IS NULL OR ec_company.is_active = 1) ) UNION ( -- 회사별 카테고리 (전역에 없는 새로운 카테고리만) SELECT ec_company.category_id, ec_company.company_id, ec_company.category_name, ec_company.display_order, ec_company.is_active, ec_company.created_by, ec_company.created_at, ec_company.updated_at, 0 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_company LEFT JOIN expense_category_tb ec_global ON ec_company.category_name = ec_global.category_name AND ec_global.company_id IS NULL LEFT JOIN user_tb u ON ec_company.created_by = u.user_id WHERE ec_company.company_id = ? AND (ec_company.is_active IS NULL OR ec_company.is_active = 1) AND ec_global.category_id IS NULL -- 전역에 없는 회사별 카테고리만 ) ORDER BY display_order ASC, category_name ASC
2026-01-08T12:45:30.098+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b07dbf6]
2026-01-08T12:45:30.100+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d7ad65c]
2026-01-08T12:45:30.100+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.findMergedCategories           : ==>  Preparing: ( -- 전역 카테고리 (회사별 오버라이드가 있으면 회사별 값 사용) SELECT COALESCE(ec_company.category_id, ec_global.category_id) AS category_id, COALESCE(ec_company.company_id, ec_global.company_id) AS company_id, COALESCE(ec_company.category_name, ec_global.category_name) AS category_name, COALESCE(ec_company.display_order, ec_global.display_order) AS display_order, COALESCE(ec_company.is_active, ec_global.is_active) AS is_active, COALESCE(ec_company.created_by, ec_global.created_by) AS created_by, COALESCE(ec_company.created_at, ec_global.created_at) AS created_at, COALESCE(ec_company.updated_at, ec_global.updated_at) AS updated_at, CASE WHEN ec_company.category_id IS NOT NULL THEN 0 ELSE 1 END AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_global LEFT JOIN expense_category_tb ec_company ON ec_global.category_name = ec_company.category_name AND ec_company.company_id = ? LEFT JOIN user_tb u ON COALESCE(ec_company.created_by, ec_global.created_by) = u.user_id WHERE ec_global.company_id IS NULL AND (ec_global.is_active IS NULL OR ec_global.is_active = 1) AND (ec_company.category_id IS NULL OR ec_company.is_active IS NULL OR ec_company.is_active = 1) ) UNION ( -- 회사별 카테고리 (전역에 없는 새로운 카테고리만) SELECT ec_company.category_id, ec_company.company_id, ec_company.category_name, ec_company.display_order, ec_company.is_active, ec_company.created_by, ec_company.created_at, ec_company.updated_at, 0 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_company LEFT JOIN expense_category_tb ec_global ON ec_company.category_name = ec_global.category_name AND ec_global.company_id IS NULL LEFT JOIN user_tb u ON ec_company.created_by = u.user_id WHERE ec_company.company_id = ? AND (ec_company.is_active IS NULL OR ec_company.is_active = 1) AND ec_global.category_id IS NULL -- 전역에 없는 회사별 카테고리만 ) ORDER BY display_order ASC, category_name ASC
2026-01-08T12:45:30.101+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2026-01-08T12:45:30.104+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.findMergedCategories           : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:45:30.105+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:30.105+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:30.108+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.findMergedCategories           : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:45:30.108+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2026-01-08T12:45:30.109+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T12:45:30.109+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14ea852] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:30.112+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:30.112+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2127960747 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:30.113+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:30.114+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2026-01-08T12:45:30.114+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.findMergedCategories           : <==      Total: 12
2026-01-08T12:45:30.127+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e3556eb]
2026-01-08T12:45:30.129+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:30.129+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-08T12:45:30.131+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:30.116+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:30.116+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a1b18e3]
2026-01-08T12:45:30.154+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:30.155+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.findMergedCategories           : <==      Total: 12
2026-01-08T12:45:30.160+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56809ccc]
2026-01-08T12:45:30.162+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:30.163+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-08T12:45:30.164+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:30.160+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-01-08T12:45:30.171+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:30.172+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:30.180+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14ea852]
2026-01-08T12:45:30.198+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:30.210+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=26, drafterId= (truncated)...]
2026-01-08T12:45:30.212+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:31.026+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/account-codes/list
2026-01-08T12:45:31.037+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/account-codes/list
2026-01-08T12:45:31.039+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/account-codes/list
2026-01-08T12:45:31.040+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/account-codes/list
2026-01-08T12:45:31.041+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/account-codes/list", parameters={}
2026-01-08T12:45:31.041+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AccountCodeController#getMappingList()
2026-01-08T12:45:31.042+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:45:31.045+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@3e454318 and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('SUPERADMIN', 'TAX_ACCOUNTANT')]
2026-01-08T12:45:31.053+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.innersignature.backend.exception.GlobalExceptionHandler#handleAccessDeniedException(AccessDeniedException)
2026-01-08T12:45:31.054+09:00  WARN 6764 --- [http-nio-8080-exec-10] c.i.b.exception.GlobalExceptionHandler   : 권한 부족: Access Denied
2026-01-08T12:45:31.055+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:31.056+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, message=접근 권한이 없습니다., data=null)]
2026-01-08T12:45:31.058+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2026-01-08T12:45:31.059+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 403 FORBIDDEN
2026-01-08T12:45:32.971+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:45:32.972+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2026-01-08T12:45:32.972+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T12:45:32.974+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-08T12:45:32.983+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:45:32.985+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2026-01-08T12:45:33.009+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2026-01-08T12:45:33.010+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/credits/total
2026-01-08T12:45:33.012+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2026-01-08T12:45:33.014+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-08T12:45:33.022+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:45:33.029+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:45:33.033+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2026-01-08T12:45:33.034+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T12:45:33.036+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-08T12:45:33.036+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2026-01-08T12:45:33.046+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T12:45:33.037+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:45:33.045+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:45:33.045+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2026-01-08T12:45:33.046+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2026-01-08T12:45:33.046+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T12:45:33.047+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:45:33.047+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:45:33.048+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2026-01-08T12:45:33.052+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-08T12:45:33.053+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T12:45:33.053+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:45:33.054+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:45:33.054+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2026-01-08T12:45:33.054+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2026-01-08T12:45:33.054+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-08T12:45:33.055+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T12:45:33.055+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:45:33.055+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:45:33.055+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2026-01-08T12:45:33.055+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T12:45:33.056+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.056+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2026-01-08T12:45:33.056+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.056+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:45:33.056+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.057+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e16957f] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.057+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.057+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2026-01-08T12:45:33.057+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f6db3f6] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.057+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.057+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ff5eb20] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.059+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30027a28] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.060+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2026-01-08T12:45:33.061+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ebce0ae] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.062+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2026-01-08T12:45:33.064+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1038076658 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:45:33.065+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1473512835 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:45:33.066+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.067+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1527488199 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:33.067+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@400992501 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:33.068+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T12:45:33.069+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:45:33.069+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8997e64] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.069+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1554397736 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:33.069+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:33.069+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:45:33.070+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:45:33.071+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:45:33.072+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:45:33.076+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:33.076+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2026-01-08T12:45:33.077+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@841749880 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:33.078+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T12:45:33.079+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2026-01-08T12:45:33.079+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:45:33.080+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:45:33.080+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e16957f]
2026-01-08T12:45:33.087+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:33.080+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f6db3f6]
2026-01-08T12:45:33.085+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:33.085+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2026-01-08T12:45:33.085+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2026-01-08T12:45:33.089+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T12:45:33.089+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.092+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@423e09b7] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.090+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30027a28]
2026-01-08T12:45:33.090+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ff5eb20]
2026-01-08T12:45:33.092+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2026-01-08T12:45:33.093+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:33.093+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@927779359 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:45:33.094+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.094+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.094+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ebce0ae]
2026-01-08T12:45:33.095+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2026-01-08T12:45:33.096+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:33.097+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d7a2527] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.101+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@463479565 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:33.097+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2026-01-08T12:45:33.097+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61748205] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.097+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.097+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8997e64]
2026-01-08T12:45:33.100+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:33.102+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:33.103+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@482743946 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:33.103+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@563fc1bf] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.104+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.105+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/credits/total
2026-01-08T12:45:33.105+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:33.109+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2026-01-08T12:45:33.109+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@732712967 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:33.110+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:33.110+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@738c3898] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.112+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2026-01-08T12:45:33.112+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-08T12:45:33.113+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:33.113+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@423e09b7]
2026-01-08T12:45:33.116+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@88321111 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:33.118+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:33.119+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:33.120+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2026-01-08T12:45:33.120+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:33.121+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2026-01-08T12:45:33.121+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2026-01-08T12:45:33.121+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d7a2527]
2026-01-08T12:45:33.122+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-08T12:45:33.122+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=26, drafterId= (truncated)...]
2026-01-08T12:45:33.122+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2026-01-08T12:45:33.122+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61748205]
2026-01-08T12:45:33.123+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.124+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4467608a] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.123+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-08T12:45:33.124+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:33.124+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:33.125+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@952645180 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:33.127+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:45:33.128+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:45:33.125+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T12:45:33.126+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-01-08T12:45:33.129+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:45:33.130+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:33.129+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:45:33.140+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:45:33.130+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.137+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2026-01-08T12:45:33.142+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:45:33.144+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2026-01-08T12:45:33.143+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40c09cd] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.144+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:45:33.145+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@44383587 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:33.145+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2026-01-08T12:45:33.145+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.145+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:33.146+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2026-01-08T12:45:33.146+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5811ebae] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.146+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:33.147+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2026-01-08T12:45:33.150+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@585956505 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:45:33.151+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2026-01-08T12:45:33.151+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:45:33.152+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2026-01-08T12:45:33.153+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:45:33.153+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.153+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59d681c] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.154+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1154955843 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:45:33.154+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2026-01-08T12:45:33.155+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2026-01-08T12:45:33.158+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2026-01-08T12:45:33.158+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:45:33.159+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:33.159+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2026-01-08T12:45:33.160+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:33.160+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@738c3898]
2026-01-08T12:45:33.160+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4467608a]
2026-01-08T12:45:33.160+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@563fc1bf]
2026-01-08T12:45:33.160+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5811ebae]
2026-01-08T12:45:33.160+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40c09cd]
2026-01-08T12:45:33.161+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:33.161+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.162+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:33.162+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.162+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.162+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:45:33.163+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-01-08T12:45:33.163+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d277f8d] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.163+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74633131] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.164+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=26, drafterId= (truncated)...]
2026-01-08T12:45:33.164+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@617c1558] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.164+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:45:33.166+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:33.168+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@314253715 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:33.170+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@603515016 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:45:33.170+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@98183899 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:33.171+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:33.173+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/credits/total
2026-01-08T12:45:33.173+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:33.174+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:45:33.174+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:33.174+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:33.175+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2026-01-08T12:45:33.176+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:33.176+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 1
2026-01-08T12:45:33.176+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:33.178+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2026-01-08T12:45:33.177+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/credits/total
2026-01-08T12:45:33.177+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:33.181+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:33.186+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74633131]
2026-01-08T12:45:33.178+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59d681c]
2026-01-08T12:45:33.181+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2026-01-08T12:45:33.181+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:33.181+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/credits/total
2026-01-08T12:45:33.188+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:33.189+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:33.189+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2026-01-08T12:45:33.189+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d277f8d]
2026-01-08T12:45:33.189+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:33.190+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.190+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/credits/total", parameters={}
2026-01-08T12:45:33.190+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=26, drafterId= (truncated)...]
2026-01-08T12:45:33.190+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=SubscriptionDto(subscriptionId=1, companyId=1, planId= (truncated)...]
2026-01-08T12:45:33.190+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2026-01-08T12:45:33.191+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@617c1558]
2026-01-08T12:45:33.191+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fb622e0] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.192+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CreditController#getTotalAvailableAmount()
2026-01-08T12:45:33.192+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:33.192+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:33.195+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.196+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.197+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2026-01-08T12:45:33.197+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1228668300 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:33.200+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2026-01-08T12:45:33.204+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2026-01-08T12:45:33.204+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7770fb42] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.205+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d38cbdd] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.211+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@485477367 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:33.212+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:45:33.205+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2026-01-08T12:45:33.206+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T12:45:33.218+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T12:45:33.208+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2026-01-08T12:45:33.221+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2026-01-08T12:45:33.222+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2026-01-08T12:45:33.222+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2026-01-08T12:45:33.225+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.210+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2026-01-08T12:45:33.210+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@404813401 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:45:33.214+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:45:33.214+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.229+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65110921] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.234+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1266870779 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:33.226+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c8bb73] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.229+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2026-01-08T12:45:33.229+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:45:33.231+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T12:45:33.237+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.C.getTotalAvailableAmount        : ==>  Preparing: SELECT COALESCE(SUM(amount - used_amount), 0) FROM credit_tb WHERE company_id = ? AND (expires_at IS NULL OR expires_at >= ?)
2026-01-08T12:45:33.238+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@898197900 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:45:33.239+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2026-01-08T12:45:33.239+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:45:33.240+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2026-01-08T12:45:33.240+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fb622e0]
2026-01-08T12:45:33.240+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.C.getTotalAvailableAmount        : ==> Parameters: 1(Long), 2026-01-08(LocalDate)
2026-01-08T12:45:33.240+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:45:33.241+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2026-01-08T12:45:33.241+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d38cbdd]
2026-01-08T12:45:33.241+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.245+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2026-01-08T12:45:33.245+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2026-01-08T12:45:33.246+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.246+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.C.getTotalAvailableAmount        : <==      Total: 1
2026-01-08T12:45:33.246+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2026-01-08T12:45:33.246+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35aa4c1b] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.247+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2026-01-08T12:45:33.248+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cd56802] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.249+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2026-01-08T12:45:33.255+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1198009958 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:33.250+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65110921]
2026-01-08T12:45:33.253+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7770fb42]
2026-01-08T12:45:33.254+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@455465324 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:33.254+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.255+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c8bb73]
2026-01-08T12:45:33.255+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:33.256+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:33.256+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:33.257+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:45:33.257+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29c5f31b] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.258+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.261+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:33.261+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data={totalAmount=5145})]
2026-01-08T12:45:33.261+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2026-01-08T12:45:33.263+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:45:33.263+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1818503308 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:33.263+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d152c89] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.264+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:33.264+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:33.272+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2026-01-08T12:45:33.274+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2143558523 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:45:33.279+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/credits/total
2026-01-08T12:45:33.285+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2026-01-08T12:45:33.287+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2026-01-08T12:45:33.288+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/credits/total
2026-01-08T12:45:33.288+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:33.289+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:45:33.294+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2026-01-08T12:45:33.294+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/credits/total
2026-01-08T12:45:33.294+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cd56802]
2026-01-08T12:45:33.294+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35aa4c1b]
2026-01-08T12:45:33.294+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:45:33.295+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/credits/total", parameters={}
2026-01-08T12:45:33.295+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.295+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.295+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:45:33.296+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CreditController#getTotalAvailableAmount()
2026-01-08T12:45:33.296+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50ca4a55] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.296+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2026-01-08T12:45:33.297+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30cae0c6] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.297+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2026-01-08T12:45:33.298+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d152c89]
2026-01-08T12:45:33.298+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1743306038 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:33.302+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1474803792 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:33.303+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:45:33.304+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2026-01-08T12:45:33.305+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T12:45:33.305+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:33.305+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:33.306+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 1
2026-01-08T12:45:33.307+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.307+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T12:45:33.307+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-01-08T12:45:33.308+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:33.308+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29c5f31b]
2026-01-08T12:45:33.308+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f7e3e3c] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.309+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:33.312+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:33.313+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1562679219 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:33.313+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:33.313+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T12:45:33.314+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=SubscriptionDto(subscriptionId=1, companyId=1, planId= (truncated)...]
2026-01-08T12:45:33.317+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.C.getTotalAvailableAmount        : ==>  Preparing: SELECT COALESCE(SUM(amount - used_amount), 0) FROM credit_tb WHERE company_id = ? AND (expires_at IS NULL OR expires_at >= ?)
2026-01-08T12:45:33.318+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30cae0c6]
2026-01-08T12:45:33.319+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50ca4a55]
2026-01-08T12:45:33.320+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:33.321+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.C.getTotalAvailableAmount        : ==> Parameters: 1(Long), 2026-01-08(LocalDate)
2026-01-08T12:45:33.322+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.322+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.324+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bf1557f] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.325+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1315371f] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.327+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@744116247 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:33.331+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.C.getTotalAvailableAmount        : <==      Total: 1
2026-01-08T12:45:33.330+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@286220234 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:33.331+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:45:33.331+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T12:45:33.331+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f7e3e3c]
2026-01-08T12:45:33.337+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:45:33.337+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T12:45:33.338+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:33.339+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data={totalAmount=5145})]
2026-01-08T12:45:33.344+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:33.354+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T12:45:33.355+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:45:33.357+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bf1557f]
2026-01-08T12:45:33.357+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1315371f]
2026-01-08T12:45:33.357+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.357+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.358+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43077a62] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.359+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fb0ab2a] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.359+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@35427792 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:33.360+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1160234508 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:33.360+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:33.360+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:33.360+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:33.361+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:33.364+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:33.365+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:33.370+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fb0ab2a]
2026-01-08T12:45:33.370+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43077a62]
2026-01-08T12:45:33.371+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.371+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:33.371+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f4e46bb] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.372+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T12:45:33.373+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@90004355 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:33.374+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:33.376+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T12:45:33.378+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T12:45:33.408+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T12:45:33.412+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f4e46bb]
2026-01-08T12:45:33.412+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.413+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39c88371] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.415+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@884892013 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:33.423+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:33.428+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:33.438+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:33.442+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39c88371]
2026-01-08T12:45:33.444+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:33.446+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T12:45:33.447+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:33.952+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2026-01-08T12:45:33.963+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2026-01-08T12:45:33.967+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/logout
2026-01-08T12:45:33.968+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2026-01-08T12:45:33.974+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2026-01-08T12:45:33.978+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2026-01-08T12:45:33.979+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxIiwidXNlcm5hbWUiOiJ (truncated)...]
2026-01-08T12:45:33.981+09:00  INFO 6764 --- [http-nio-8080-exec-4] SECURITY                                 : LOGOUT userId=1
2026-01-08T12:45:33.994+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:33.997+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2026-01-08T12:45:34.000+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:36.511+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2026-01-08T12:45:36.513+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2026-01-08T12:45:36.513+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-08T12:45:36.514+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2026-01-08T12:45:36.514+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2026-01-08T12:45:36.514+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2026-01-08T12:45:36.515+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_tax, password=1234)]
2026-01-08T12:45:36.515+09:00  INFO 6764 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 로그인 시도 - username: test_tax
2026-01-08T12:45:36.516+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:36.516+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@470c073b] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:36.519+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1982381927 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:36.520+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2026-01-08T12:45:36.521+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_tax(String)
2026-01-08T12:45:36.525+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2026-01-08T12:45:36.529+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@470c073b]
2026-01-08T12:45:36.624+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:36.625+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@269ffec5] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:36.625+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1190257274 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:36.626+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:45:36.627+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 12(Long)
2026-01-08T12:45:36.641+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2026-01-08T12:45:36.645+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@269ffec5]
2026-01-08T12:45:36.647+09:00  INFO 6764 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 로그인 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1
2026-01-08T12:45:36.647+09:00  INFO 6764 --- [http-nio-8080-exec-6] SECURITY                                 : LOGIN_SUCCESS userId=12 username=test_tax role=TAX_ACCOUNTANT
2026-01-08T12:45:36.648+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:36.650+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=12, username=test_tax, password= (truncated)...]
2026-01-08T12:45:36.651+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:36.938+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2026-01-08T12:45:36.941+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2026-01-08T12:45:36.943+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/companies
2026-01-08T12:45:36.944+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2026-01-08T12:45:36.945+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2026-01-08T12:45:36.945+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2026-01-08T12:45:36.945+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:36.945+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@477555f8] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:36.947+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@206605873 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:45:36.950+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2026-01-08T12:45:36.951+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 12(Long)
2026-01-08T12:45:36.954+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2026-01-08T12:45:36.954+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@477555f8]
2026-01-08T12:45:36.957+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:36.959+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2026-01-08T12:45:36.960+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:37.021+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:45:37.022+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T12:45:37.035+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-08T12:45:37.036+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:45:37.037+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-08T12:45:37.038+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:45:37.039+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:45:37.040+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T12:45:37.040+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:45:37.041+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:45:37.041+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T12:45:37.042+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:45:37.042+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T12:45:37.042+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:45:37.043+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.043+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T12:45:37.044+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:45:37.045+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-08T12:45:37.055+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:45:37.045+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-08T12:45:37.052+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f495fec] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.060+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-08T12:45:37.054+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T12:45:37.055+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-08T12:45:37.058+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:45:37.119+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:45:37.123+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-08T12:45:37.158+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1981158900 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:45:37.164+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-08T12:45:37.164+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.165+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:45:37.169+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-08T12:45:37.171+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:45:37.179+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:45:37.188+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-08T12:45:37.189+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33902aa8] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.189+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:45:37.189+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T12:45:37.190+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T12:45:37.192+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:45:37.193+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T12:45:37.195+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1323834299 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:45:37.195+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.196+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.203+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:45:37.204+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T12:45:37.205+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.205+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T12:45:37.206+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fa96fd1] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.206+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55901bf9] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.206+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:45:37.206+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f495fec]
2026-01-08T12:45:37.206+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ea7994a] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.207+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 12(Long)
2026-01-08T12:45:37.208+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:45:37.208+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:37.208+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@148455213 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:37.208+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@16686100 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:37.209+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.210+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T12:45:37.210+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1191736118 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:37.210+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T12:45:37.210+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:37.210+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:45:37.211+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@100602f7] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.212+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:37.212+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:37.212+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33902aa8]
2026-01-08T12:45:37.213+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:45:37.214+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T12:45:37.221+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T12:45:37.221+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:45:37.222+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:37.226+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-08T12:45:37.226+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T12:45:37.228+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:37.229+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:45:37.234+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:45:37.236+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:45:37.237+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T12:45:37.237+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:45:37.238+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:37.238+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:37.238+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T12:45:37.238+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@251528255 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:37.239+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:45:37.239+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55901bf9]
2026-01-08T12:45:37.240+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ea7994a]
2026-01-08T12:45:37.240+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T12:45:37.240+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fa96fd1]
2026-01-08T12:45:37.240+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:45:37.241+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.241+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.241+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.241+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T12:45:37.242+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:37.243+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T12:45:37.243+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46229345] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.243+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@553d33df] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.243+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1060eba4] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.243+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T12:45:37.244+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T12:45:37.244+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1849196551 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:37.245+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@654248438 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:37.245+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1441514024 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:37.245+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T12:45:37.246+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T12:45:37.246+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:45:37.246+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:37.246+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:37.246+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:37.247+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.247+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@100602f7]
2026-01-08T12:45:37.249+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T12:45:37.252+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-08T12:45:37.253+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:45:37.253+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:45:37.253+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cd599e2] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.253+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:37.255+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-08T12:45:37.255+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1164256619 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:37.255+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T12:45:37.256+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T12:45:37.256+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-08T12:45:37.256+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:37.256+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:37.256+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T12:45:37.257+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46229345]
2026-01-08T12:45:37.257+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-08T12:45:37.257+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1060eba4]
2026-01-08T12:45:37.257+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:37.257+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@553d33df]
2026-01-08T12:45:37.258+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 12(Long)
2026-01-08T12:45:37.258+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:37.258+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T12:45:37.259+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.259+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.260+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T12:45:37.263+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19d2bd64] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.263+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:37.263+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.263+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5afb89e6] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.263+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T12:45:37.263+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@251152433 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:37.267+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2519abcb] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.269+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1726282413 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:37.269+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cd599e2]
2026-01-08T12:45:37.270+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:45:37.270+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@464055946 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:37.271+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:45:37.271+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:37.273+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:45:37.273+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:37.274+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:45:37.274+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T12:45:37.274+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:45:37.275+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:37.280+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:45:37.280+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:45:37.282+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19d2bd64]
2026-01-08T12:45:37.283+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:37.287+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5afb89e6]
2026-01-08T12:45:37.287+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.288+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2519abcb]
2026-01-08T12:45:37.288+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.288+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2081061f] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.289+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.289+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cd2469e] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.289+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@741648118 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:37.289+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a372957] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.290+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@710958683 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:37.290+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:37.290+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@572032041 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:37.290+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:37.291+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:45:37.291+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:37.291+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:45:37.291+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:45:37.294+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:37.296+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2081061f]
2026-01-08T12:45:37.296+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:37.296+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.296+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:37.297+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cd2469e]
2026-01-08T12:45:37.297+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c8ed4dc] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.297+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a372957]
2026-01-08T12:45:37.297+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.298+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@68652716 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:37.299+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.300+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48c097b] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.300+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:45:37.300+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fab1cad] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.302+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@978602434 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:37.303+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:45:37.303+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@749075358 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:37.303+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:45:37.304+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:45:37.305+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:45:37.306+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:45:37.307+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:45:37.307+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c8ed4dc]
2026-01-08T12:45:37.308+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.308+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63664d2e] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.309+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@966020522 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:37.310+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:37.310+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:45:37.310+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:45:37.310+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:45:37.310+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fab1cad]
2026-01-08T12:45:37.310+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48c097b]
2026-01-08T12:45:37.312+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.312+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.312+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73c98aec] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.312+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:37.312+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e53b198] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.313+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1954590284 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:37.313+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63664d2e]
2026-01-08T12:45:37.313+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@443590904 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:37.313+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:37.313+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.314+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:37.314+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:45:37.315+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60ec7ed6] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.317+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:45:37.321+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@825376984 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:37.321+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:37.321+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:37.322+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:45:37.322+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73c98aec]
2026-01-08T12:45:37.322+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:37.323+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.324+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e53b198]
2026-01-08T12:45:37.324+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6dc50a2a] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.325+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.326+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1390703508 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:37.326+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:37.326+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@622e36d4] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.326+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:45:37.327+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60ec7ed6]
2026-01-08T12:45:37.327+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@17990776 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:37.328+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:45:37.328+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:37.328+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:37.329+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T12:45:37.329+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:45:37.331+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:37.332+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:37.332+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:45:37.333+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@622e36d4]
2026-01-08T12:45:37.335+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6dc50a2a]
2026-01-08T12:45:37.336+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:37.337+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.337+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T12:45:37.337+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22e33f5] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.338+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1207958976 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:37.339+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:37.341+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:37.343+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:45:37.345+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:37.345+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22e33f5]
2026-01-08T12:45:37.346+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.346+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f2200f9] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.346+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1558200179 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:37.347+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:37.354+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:45:37.360+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:37.360+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f2200f9]
2026-01-08T12:45:37.362+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:37.363+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T12:45:37.365+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:39.340+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:45:39.342+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T12:45:39.343+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/merged
2026-01-08T12:45:39.345+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/merged
2026-01-08T12:45:39.375+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:45:39.375+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T12:45:39.376+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/merged
2026-01-08T12:45:39.443+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/merged
2026-01-08T12:45:39.579+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expense-categories/merged
2026-01-08T12:45:39.477+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:45:39.582+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:45:39.560+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T12:45:39.580+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expense-categories/merged
2026-01-08T12:45:39.580+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/merged
2026-01-08T12:45:39.589+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/merged", parameters={}
2026-01-08T12:45:39.583+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:45:39.584+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T12:45:39.588+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/merged
2026-01-08T12:45:39.590+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getMergedCategories()
2026-01-08T12:45:39.592+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:45:39.592+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T12:45:39.600+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T12:45:39.593+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/merged", parameters={}
2026-01-08T12:45:39.594+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:45:39.597+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:39.603+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:39.603+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getMergedCategories()
2026-01-08T12:45:39.604+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:45:39.604+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17f57cee] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:39.604+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53de623c] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:39.604+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:45:39.605+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:39.610+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:45:39.624+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74d511dc] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:39.625+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:39.626+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5be4d8d2] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:39.627+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1412748088 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:39.627+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@732363568 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:39.637+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:45:39.637+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T12:45:39.639+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T12:45:39.639+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 12(Long)
2026-01-08T12:45:39.643+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@685615028 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:39.647+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.E.findMergedCategories           : ==>  Preparing: ( -- 전역 카테고리 (회사별 오버라이드가 있으면 회사별 값 사용) SELECT COALESCE(ec_company.category_id, ec_global.category_id) AS category_id, COALESCE(ec_company.company_id, ec_global.company_id) AS company_id, COALESCE(ec_company.category_name, ec_global.category_name) AS category_name, COALESCE(ec_company.display_order, ec_global.display_order) AS display_order, COALESCE(ec_company.is_active, ec_global.is_active) AS is_active, COALESCE(ec_company.created_by, ec_global.created_by) AS created_by, COALESCE(ec_company.created_at, ec_global.created_at) AS created_at, COALESCE(ec_company.updated_at, ec_global.updated_at) AS updated_at, CASE WHEN ec_company.category_id IS NOT NULL THEN 0 ELSE 1 END AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_global LEFT JOIN expense_category_tb ec_company ON ec_global.category_name = ec_company.category_name AND ec_company.company_id = ? LEFT JOIN user_tb u ON COALESCE(ec_company.created_by, ec_global.created_by) = u.user_id WHERE ec_global.company_id IS NULL AND (ec_global.is_active IS NULL OR ec_global.is_active = 1) AND (ec_company.category_id IS NULL OR ec_company.is_active IS NULL OR ec_company.is_active = 1) ) UNION ( -- 회사별 카테고리 (전역에 없는 새로운 카테고리만) SELECT ec_company.category_id, ec_company.company_id, ec_company.category_name, ec_company.display_order, ec_company.is_active, ec_company.created_by, ec_company.created_at, ec_company.updated_at, 0 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_company LEFT JOIN expense_category_tb ec_global ON ec_company.category_name = ec_global.category_name AND ec_global.company_id IS NULL LEFT JOIN user_tb u ON ec_company.created_by = u.user_id WHERE ec_company.company_id = ? AND (ec_company.is_active IS NULL OR ec_company.is_active = 1) AND ec_global.category_id IS NULL -- 전역에 없는 회사별 카테고리만 ) ORDER BY display_order ASC, category_name ASC
2026-01-08T12:45:39.656+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.E.findMergedCategories           : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:45:39.661+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T12:45:39.661+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@404145005 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:39.661+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T12:45:39.663+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53de623c]
2026-01-08T12:45:39.663+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.findMergedCategories           : ==>  Preparing: ( -- 전역 카테고리 (회사별 오버라이드가 있으면 회사별 값 사용) SELECT COALESCE(ec_company.category_id, ec_global.category_id) AS category_id, COALESCE(ec_company.company_id, ec_global.company_id) AS company_id, COALESCE(ec_company.category_name, ec_global.category_name) AS category_name, COALESCE(ec_company.display_order, ec_global.display_order) AS display_order, COALESCE(ec_company.is_active, ec_global.is_active) AS is_active, COALESCE(ec_company.created_by, ec_global.created_by) AS created_by, COALESCE(ec_company.created_at, ec_global.created_at) AS created_at, COALESCE(ec_company.updated_at, ec_global.updated_at) AS updated_at, CASE WHEN ec_company.category_id IS NOT NULL THEN 0 ELSE 1 END AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_global LEFT JOIN expense_category_tb ec_company ON ec_global.category_name = ec_company.category_name AND ec_company.company_id = ? LEFT JOIN user_tb u ON COALESCE(ec_company.created_by, ec_global.created_by) = u.user_id WHERE ec_global.company_id IS NULL AND (ec_global.is_active IS NULL OR ec_global.is_active = 1) AND (ec_company.category_id IS NULL OR ec_company.is_active IS NULL OR ec_company.is_active = 1) ) UNION ( -- 회사별 카테고리 (전역에 없는 새로운 카테고리만) SELECT ec_company.category_id, ec_company.company_id, ec_company.category_name, ec_company.display_order, ec_company.is_active, ec_company.created_by, ec_company.created_at, ec_company.updated_at, 0 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_company LEFT JOIN expense_category_tb ec_global ON ec_company.category_name = ec_global.category_name AND ec_global.company_id IS NULL LEFT JOIN user_tb u ON ec_company.created_by = u.user_id WHERE ec_company.company_id = ? AND (ec_company.is_active IS NULL OR ec_company.is_active = 1) AND ec_global.category_id IS NULL -- 전역에 없는 회사별 카테고리만 ) ORDER BY display_order ASC, category_name ASC
2026-01-08T12:45:39.670+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17f57cee]
2026-01-08T12:45:39.672+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:39.678+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:39.677+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.findMergedCategories           : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:45:39.678+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T12:45:39.678+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T12:45:39.681+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.E.findMergedCategories           : <==      Total: 12
2026-01-08T12:45:39.690+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:39.690+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:39.690+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74d511dc]
2026-01-08T12:45:39.692+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:39.693+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.findMergedCategories           : <==      Total: 12
2026-01-08T12:45:39.693+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-08T12:45:39.694+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5be4d8d2]
2026-01-08T12:45:39.695+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:39.695+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:39.821+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-08T12:45:39.887+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:40.335+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/account-codes/list
2026-01-08T12:45:40.342+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/account-codes/list
2026-01-08T12:45:40.344+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/account-codes/list
2026-01-08T12:45:40.345+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/account-codes/list
2026-01-08T12:45:40.346+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/account-codes/list", parameters={}
2026-01-08T12:45:40.353+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AccountCodeController#getMappingList()
2026-01-08T12:45:40.355+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:45:40.356+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:45:40.357+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:40.358+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60c8dfbd] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:40.368+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@43293099 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:40.370+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.A.findByCompanyId                : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE company_id = ? OR company_id IS NULL ORDER BY company_id DESC, category ASC, account_name ASC
2026-01-08T12:45:40.373+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.A.findByCompanyId                : ==> Parameters: 1(Long)
2026-01-08T12:45:40.376+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.A.findByCompanyId                : <==      Total: 1
2026-01-08T12:45:40.377+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60c8dfbd]
2026-01-08T12:45:40.378+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:40.379+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[AccountCodeMappingDto(mappingId=1, companyId=1, categ (truncated)...]
2026-01-08T12:45:40.391+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:42.176+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/account-codes/1
2026-01-08T12:45:42.179+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing DELETE /api/account-codes/1
2026-01-08T12:45:42.180+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/account-codes/1
2026-01-08T12:45:42.188+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured DELETE /api/account-codes/1
2026-01-08T12:45:42.196+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : DELETE "/api/account-codes/1", parameters={}
2026-01-08T12:45:42.207+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AccountCodeController#deleteMapping(Long)
2026-01-08T12:45:42.209+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.deleteMapping(java.lang.Long); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:45:42.209+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.deleteMapping(java.lang.Long); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:45:42.213+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:42.213+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@576a7c1a]
2026-01-08T12:45:42.214+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1321194719 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will be managed by Spring
2026-01-08T12:45:42.218+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.A.findById                       : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE mapping_id = ? AND (company_id = ? OR company_id IS NULL)
2026-01-08T12:45:42.220+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.A.findById                       : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:45:42.222+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.A.findById                       : <==      Total: 1
2026-01-08T12:45:42.223+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@576a7c1a]
2026-01-08T12:45:42.223+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@576a7c1a] from current transaction
2026-01-08T12:45:42.224+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.AccountCodeMappingMapper.delete  : ==>  Preparing: DELETE FROM account_code_mapping_tb WHERE mapping_id = ? AND (company_id = ? OR company_id IS NULL)
2026-01-08T12:45:42.224+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.AccountCodeMappingMapper.delete  : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:45:42.229+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.AccountCodeMappingMapper.delete  : <==    Updates: 1
2026-01-08T12:45:42.230+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@576a7c1a]
2026-01-08T12:45:42.230+09:00  INFO 6764 --- [http-nio-8080-exec-3] c.i.backend.service.AccountCodeService   : 계정 과목 매핑 삭제 완료 - mappingId: 1, companyId: 1, role: TAX_ACCOUNTANT
2026-01-08T12:45:42.230+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@576a7c1a]
2026-01-08T12:45:42.230+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@576a7c1a]
2026-01-08T12:45:42.230+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@576a7c1a]
2026-01-08T12:45:42.239+09:00  INFO 6764 --- [http-nio-8080-exec-3] c.i.b.controller.AccountCodeController   : 계정 과목 매핑 삭제 완료 - mappingId: 1
2026-01-08T12:45:42.240+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:42.240+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=계정 과목 매핑이 삭제되었습니다., data=null)]
2026-01-08T12:45:42.241+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:42.880+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/account-codes/list
2026-01-08T12:45:42.888+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/account-codes/list
2026-01-08T12:45:42.889+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/account-codes/list
2026-01-08T12:45:42.890+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/account-codes/list
2026-01-08T12:45:42.890+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/account-codes/list", parameters={}
2026-01-08T12:45:42.890+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AccountCodeController#getMappingList()
2026-01-08T12:45:42.891+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:45:42.891+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:45:42.893+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:42.894+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@670153a7] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:42.899+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@360863108 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:42.901+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCompanyId                : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE company_id = ? OR company_id IS NULL ORDER BY company_id DESC, category ASC, account_name ASC
2026-01-08T12:45:42.902+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCompanyId                : ==> Parameters: 1(Long)
2026-01-08T12:45:42.905+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCompanyId                : <==      Total: 0
2026-01-08T12:45:42.905+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@670153a7]
2026-01-08T12:45:42.905+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:42.906+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-01-08T12:45:42.908+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:43.906+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T12:45:43.907+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:45:43.909+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-08T12:45:43.909+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-08T12:45:43.910+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:45:43.911+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:45:43.926+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T12:45:43.927+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:45:43.929+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-08T12:45:43.930+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:45:43.942+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:45:43.936+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-08T12:45:43.939+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:45:43.954+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:45:43.958+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:45:43.941+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T12:45:43.942+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-08T12:45:43.943+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:45:43.943+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:45:43.944+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-08T12:45:43.958+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:45:43.959+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T12:45:43.959+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-08T12:45:43.959+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:45:43.969+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:45:43.970+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:45:43.970+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:43.972+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@288e862b] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:43.960+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:45:43.960+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-08T12:45:43.961+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:45:43.961+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T12:45:43.961+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-08T12:45:43.974+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:45:43.975+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-08T12:45:43.975+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:43.988+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T12:45:43.989+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T12:45:43.990+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:43.991+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T12:45:43.991+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@794508b3] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:43.991+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:43.992+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:44.005+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@549a9c75] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:43.995+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13e949b7] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:43.997+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@221355754 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:44.008+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:45:44.002+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:44.011+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42908ebb] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:44.004+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fa50b93] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:44.010+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T12:45:44.043+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T12:45:44.043+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@152921337 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:44.043+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@117377052 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:45:44.044+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@245834555 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:44.044+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@531050088 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:45:44.044+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2084062371 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:44.050+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@288e862b]
2026-01-08T12:45:44.051+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:45:44.051+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T12:45:44.058+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:45:44.062+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:44.063+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:44.064+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:44.067+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T12:45:44.069+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 12(Long)
2026-01-08T12:45:44.070+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T12:45:44.071+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:45:44.071+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:45:44.072+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T12:45:44.075+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:44.092+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:44.092+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:44.093+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T12:45:44.093+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T12:45:44.094+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T12:45:44.095+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42908ebb]
2026-01-08T12:45:44.095+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@549a9c75]
2026-01-08T12:45:44.096+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13e949b7]
2026-01-08T12:45:44.097+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fa50b93]
2026-01-08T12:45:44.098+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@794508b3]
2026-01-08T12:45:44.101+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:44.102+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:44.104+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:44.104+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:44.105+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:44.108+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26827e08] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:44.108+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e24eb76] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:44.108+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T12:45:44.109+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T12:45:44.109+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T12:45:44.109+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@470061695 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:44.109+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@318204465 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:45:44.110+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:44.110+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:44.112+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:44.117+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:44.117+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:44.119+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:45:44.119+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:45:44.129+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:44.130+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:44.130+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e24eb76]
2026-01-08T12:45:44.137+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26827e08]
2026-01-08T12:45:44.138+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:44.140+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:44.141+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1784a9da] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:44.143+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ce733fc] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:44.145+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2115149575 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:45:44.146+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2032166486 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:44.150+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:45:44.150+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:45:44.152+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:45:44.157+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:45:44.163+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:45:44.163+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:45:44.170+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1784a9da]
2026-01-08T12:45:44.171+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ce733fc]
2026-01-08T12:45:44.172+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:44.173+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:44.173+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d11c206] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:44.173+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5db46b86] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:44.174+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2137618439 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:45:44.174+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@674876191 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:44.174+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:44.174+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:44.175+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:45:44.175+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:45:44.181+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:44.182+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:44.185+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d11c206]
2026-01-08T12:45:44.185+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5db46b86]
2026-01-08T12:45:44.186+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:44.187+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:44.187+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ced7195] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:44.187+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f400019] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:44.188+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1865390076 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:45:44.189+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@290897452 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:44.191+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:45:44.192+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:45:44.193+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:45:44.196+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:45:44.209+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:45:44.210+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:45:44.212+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f400019]
2026-01-08T12:45:44.214+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ced7195]
2026-01-08T12:45:44.214+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:44.214+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:44.218+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d8ebf82] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:44.219+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7552908] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:44.219+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1117856482 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:44.220+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1089700270 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:45:44.221+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:44.221+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:44.222+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:45:44.222+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:45:44.225+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:44.226+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:44.227+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7552908]
2026-01-08T12:45:44.227+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d8ebf82]
2026-01-08T12:45:44.227+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:44.228+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:44.228+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b904f88] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:44.229+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1efa5104] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:44.229+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@899889307 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:45:44.230+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1179688950 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:44.230+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:44.230+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:44.231+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:45:44.233+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:45:44.237+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:44.237+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:44.243+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1efa5104]
2026-01-08T12:45:44.244+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b904f88]
2026-01-08T12:45:44.244+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:44.245+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:44.245+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T12:45:44.246+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T12:45:44.247+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:44.259+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:44.678+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2026-01-08T12:45:44.680+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2026-01-08T12:45:44.684+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/logout
2026-01-08T12:45:44.684+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2026-01-08T12:45:44.685+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2026-01-08T12:45:44.686+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2026-01-08T12:45:44.686+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxMiIsInVzZXJuYW1lIjo (truncated)...]
2026-01-08T12:45:44.687+09:00  INFO 6764 --- [http-nio-8080-exec-7] SECURITY                                 : LOGOUT userId=12
2026-01-08T12:45:44.688+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:44.688+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2026-01-08T12:45:44.690+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:47.647+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2026-01-08T12:45:47.659+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2026-01-08T12:45:47.666+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-08T12:45:47.668+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2026-01-08T12:45:47.670+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2026-01-08T12:45:47.672+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2026-01-08T12:45:47.674+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_admin, password=1234)]
2026-01-08T12:45:47.676+09:00  INFO 6764 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 로그인 시도 - username: test_admin
2026-01-08T12:45:47.687+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:47.691+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ea2c9ef] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:47.696+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1723164763 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:47.696+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2026-01-08T12:45:47.697+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_admin(String)
2026-01-08T12:45:47.706+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2026-01-08T12:45:47.706+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ea2c9ef]
2026-01-08T12:45:47.806+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:47.807+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5824b4ec] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:47.808+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1337461992 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:47.808+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:45:47.810+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 9(Long)
2026-01-08T12:45:47.814+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2026-01-08T12:45:47.815+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5824b4ec]
2026-01-08T12:45:47.817+09:00  INFO 6764 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 로그인 성공 - userId: 9, role: SUPERADMIN, companyId: 4
2026-01-08T12:45:47.818+09:00  INFO 6764 --- [http-nio-8080-exec-8] SECURITY                                 : LOGIN_SUCCESS userId=9 username=test_admin role=SUPERADMIN
2026-01-08T12:45:47.819+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:47.819+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=9, username=test_admin, password (truncated)...]
2026-01-08T12:45:47.820+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:48.053+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2026-01-08T12:45:48.058+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2026-01-08T12:45:48.060+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/companies
2026-01-08T12:45:48.060+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2026-01-08T12:45:48.061+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2026-01-08T12:45:48.062+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2026-01-08T12:45:48.062+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.062+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f323892] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.082+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1308343626 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:48.089+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:45:48.089+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T12:45:48.091+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/reports/summary
2026-01-08T12:45:48.092+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/users
2026-01-08T12:45:48.092+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/companies
2026-01-08T12:45:48.096+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2026-01-08T12:45:48.101+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/payments
2026-01-08T12:45:48.101+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/subscriptions
2026-01-08T12:45:48.104+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/expenses?page=1&size=1
2026-01-08T12:45:48.105+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/reports/summary
2026-01-08T12:45:48.105+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/users
2026-01-08T12:45:48.106+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 9(Long)
2026-01-08T12:45:48.109+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/companies
2026-01-08T12:45:48.110+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/subscriptions
2026-01-08T12:45:48.112+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/payments
2026-01-08T12:45:48.115+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/expenses?page=1&size=1
2026-01-08T12:45:48.125+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/users
2026-01-08T12:45:48.116+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:45:48.121+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T12:45:48.125+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/reports/summary
2026-01-08T12:45:48.127+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/companies
2026-01-08T12:45:48.128+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/users
2026-01-08T12:45:48.129+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/expenses/pending-approvals
2026-01-08T12:45:48.129+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/expenses/tax/revision-requests
2026-01-08T12:45:48.130+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/reports/summary
2026-01-08T12:45:48.130+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/users
2026-01-08T12:45:48.130+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/companies
2026-01-08T12:45:48.130+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:45:48.131+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 1
2026-01-08T12:45:48.131+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T12:45:48.133+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/reports/summary
2026-01-08T12:45:48.133+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/users", parameters={}
2026-01-08T12:45:48.134+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/companies
2026-01-08T12:45:48.134+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:45:48.134+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f323892]
2026-01-08T12:45:48.135+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T12:45:48.135+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/reports/summary", parameters={}
2026-01-08T12:45:48.136+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllUsers()
2026-01-08T12:45:48.136+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/companies", parameters={}
2026-01-08T12:45:48.136+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:45:48.137+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T12:45:48.137+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:48.137+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getDashboardSummary()
2026-01-08T12:45:48.138+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllUsers(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.140+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllCompanies()
2026-01-08T12:45:48.140+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.140+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.141+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=4, companyCode=JIIST3, companyNa (truncated)...]
2026-01-08T12:45:48.141+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getDashboardSummary(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.143+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:48.141+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllUsers(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.142+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllCompanies(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.142+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42f752ba] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.142+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b9cfbb0] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.143+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getDashboardSummary(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.146+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/payments
2026-01-08T12:45:48.146+09:00  INFO 6764 --- [http-nio-8080-exec-8] c.i.b.controller.SuperAdminController    : 전체 사용자 목록 조회 요청 - userId: 9
2026-01-08T12:45:48.154+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.156+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d1936bc] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.147+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllCompanies(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.151+09:00  INFO 6764 --- [http-nio-8080-exec-2] c.i.b.controller.SuperAdminController    : 대시보드 요약 통계 조회 요청 - userId: 9
2026-01-08T12:45:48.154+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/payments
2026-01-08T12:45:48.158+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@820475943 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:48.158+09:00  INFO 6764 --- [http-nio-8080-exec-10] c.i.b.controller.SuperAdminController    : 전체 회사 목록 조회 요청 - userId: 9
2026-01-08T12:45:48.159+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1294632453 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:48.159+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@221483695 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:48.159+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.160+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/payments
2026-01-08T12:45:48.161+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectAllUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status, created_at, updated_at FROM user_tb ORDER BY user_id
2026-01-08T12:45:48.161+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.162+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:45:48.162+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T12:45:48.172+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ba6317b] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.173+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/payments", parameters={}
2026-01-08T12:45:48.174+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectAllUsers   : ==> Parameters: 
2026-01-08T12:45:48.174+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f59e4bf] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.175+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 9(Long), 4(Long)
2026-01-08T12:45:48.176+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 4(Long), 9(Long)
2026-01-08T12:45:48.176+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@390847484 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:48.176+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllPayments()
2026-01-08T12:45:48.179+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectAllUsers   : <==      Total: 12
2026-01-08T12:45:48.180+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@585681881 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:45:48.180+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T12:45:48.180+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectAllUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status, created_at, updated_at FROM user_tb ORDER BY user_id
2026-01-08T12:45:48.180+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T12:45:48.180+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllPayments(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.180+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d1936bc]
2026-01-08T12:45:48.180+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.mapper.CompanyMapper.findAll       : ==>  Preparing: SELECT * FROM company_tb ORDER BY created_at DESC
2026-01-08T12:45:48.180+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42f752ba]
2026-01-08T12:45:48.181+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectAllUsers   : ==> Parameters: 
2026-01-08T12:45:48.181+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b9cfbb0]
2026-01-08T12:45:48.182+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllPayments(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.182+09:00  INFO 6764 --- [http-nio-8080-exec-8] c.i.b.controller.SuperAdminController    : 전체 사용자 목록 조회 완료 - count: 12
2026-01-08T12:45:48.184+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.mapper.CompanyMapper.findAll       : ==> Parameters: 
2026-01-08T12:45:48.184+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:48.187+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectAllUsers   : <==      Total: 12
2026-01-08T12:45:48.184+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:48.185+09:00  INFO 6764 --- [http-nio-8080-exec-4] c.i.b.controller.SuperAdminController    : 전체 결제 내역 조회 요청 - userId: 9
2026-01-08T12:45:48.187+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:48.187+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T12:45:48.187+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ba6317b]
2026-01-08T12:45:48.188+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T12:45:48.189+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.190+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passwo (truncated)...]
2026-01-08T12:45:48.190+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.190+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:48.191+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:48.193+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38353a01] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.194+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.mapper.CompanyMapper.findAll       : <==      Total: 7
2026-01-08T12:45:48.194+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:48.194+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3504ab73] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.199+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/subscriptions
2026-01-08T12:45:48.207+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/reports/summary
2026-01-08T12:45:48.209+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@43078448 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:48.209+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f59e4bf]
2026-01-08T12:45:48.210+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1059289409 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:48.211+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.PaymentMapper.findAll       : ==>  Preparing: SELECT p.* FROM payment_tb p ORDER BY p.payment_date DESC, p.created_at DESC
2026-01-08T12:45:48.212+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/subscriptions
2026-01-08T12:45:48.212+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/reports/summary
2026-01-08T12:45:48.212+09:00  INFO 6764 --- [http-nio-8080-exec-10] c.i.b.controller.SuperAdminController    : 전체 회사 목록 조회 완료 - count: 7
2026-01-08T12:45:48.212+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.CompanyMapper.findAll       : ==>  Preparing: SELECT * FROM company_tb ORDER BY created_at DESC
2026-01-08T12:45:48.213+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/users
2026-01-08T12:45:48.213+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.PaymentMapper.findAll       : ==> Parameters: 
2026-01-08T12:45:48.216+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/users
2026-01-08T12:45:48.219+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/users
2026-01-08T12:45:48.213+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/subscriptions
2026-01-08T12:45:48.213+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/reports/summary
2026-01-08T12:45:48.214+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.CompanyMapper.findAll       : ==> Parameters: 
2026-01-08T12:45:48.214+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:48.220+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/users", parameters={}
2026-01-08T12:45:48.222+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/subscriptions", parameters={}
2026-01-08T12:45:48.222+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/reports/summary", parameters={}
2026-01-08T12:45:48.223+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:45:48.224+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 회사 목록 조회 성공, data=[CompanyDto(companyId=7, companyCode=PC8UJT,  (truncated)...]
2026-01-08T12:45:48.225+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllUsers()
2026-01-08T12:45:48.227+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:48.225+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllSubscriptions()
2026-01-08T12:45:48.225+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getDashboardSummary()
2026-01-08T12:45:48.226+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 2(Long)
2026-01-08T12:45:48.227+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.CompanyMapper.findAll       : <==      Total: 7
2026-01-08T12:45:48.227+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllUsers(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.228+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllSubscriptions(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.229+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getDashboardSummary(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.230+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/expenses?page=1&size=1
2026-01-08T12:45:48.238+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3504ab73]
2026-01-08T12:45:48.241+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllUsers(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.242+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllSubscriptions(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.242+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:45:48.243+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getDashboardSummary(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.245+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.245+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/expenses
2026-01-08T12:45:48.245+09:00  INFO 6764 --- [http-nio-8080-exec-6] c.i.b.controller.SuperAdminController    : 전체 사용자 목록 조회 요청 - userId: 9
2026-01-08T12:45:48.246+09:00  INFO 6764 --- [http-nio-8080-exec-5] c.i.b.controller.SuperAdminController    : 전체 구독 목록 조회 요청 - userId: 9
2026-01-08T12:45:48.247+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:45:48.251+09:00  INFO 6764 --- [http-nio-8080-exec-9] c.i.b.controller.SuperAdminController    : 대시보드 요약 통계 조회 요청 - userId: 9
2026-01-08T12:45:48.260+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c92ae89] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.261+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/expenses?page=1&size=1
2026-01-08T12:45:48.261+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.261+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.262+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 7(Long)
2026-01-08T12:45:48.262+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.263+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@475906907 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:48.263+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/expenses?page=1&size=1", parameters={masked}
2026-01-08T12:45:48.264+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f8325e8] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.265+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39509bcd] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.268+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79e1596e] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.269+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.SubscriptionMapper.findAll  : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id ORDER BY s.created_at DESC
2026-01-08T12:45:48.270+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getExpenseListForSuperAdmin(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, Long)
2026-01-08T12:45:48.270+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@933580481 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:48.271+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:45:48.274+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@903828775 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:48.274+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.SubscriptionMapper.findAll  : ==> Parameters: 
2026-01-08T12:45:48.276+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getExpenseListForSuperAdmin(int,int,java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.lang.String[],java.lang.String,java.lang.Boolean,java.lang.Boolean,java.lang.String,java.lang.Long); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.276+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectAllUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status, created_at, updated_at FROM user_tb ORDER BY user_id
2026-01-08T12:45:48.277+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:45:48.277+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectAllUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status, created_at, updated_at FROM user_tb ORDER BY user_id
2026-01-08T12:45:48.279+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getExpenseListForSuperAdmin(int,int,java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.lang.String[],java.lang.String,java.lang.Boolean,java.lang.Boolean,java.lang.String,java.lang.Long); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.280+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectAllUsers   : ==> Parameters: 
2026-01-08T12:45:48.280+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 1(Long)
2026-01-08T12:45:48.284+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectAllUsers   : ==> Parameters: 
2026-01-08T12:45:48.287+09:00  INFO 6764 --- [http-nio-8080-exec-3] c.i.b.controller.SuperAdminController    : 회사별 지출결의서 목록 조회 요청 - userId: 9, companyId: null, page: 1, size: 1
2026-01-08T12:45:48.289+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.290+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ec99ed9] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.292+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@208595999 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:45:48.294+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.SubscriptionMapper.findAll  : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id ORDER BY s.created_at DESC
2026-01-08T12:45:48.293+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1219179277 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:45:48.296+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.SubscriptionMapper.findAll  : ==> Parameters: 
2026-01-08T12:45:48.296+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.countExpenseListForSuperAdmin  : ==>  Preparing: SELECT COUNT(*) FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id
2026-01-08T12:45:48.297+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:45:48.298+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectAllUsers   : <==      Total: 12
2026-01-08T12:45:48.303+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectAllUsers   : <==      Total: 12
2026-01-08T12:45:48.303+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionPlanMapper.findById  : ======>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:45:48.305+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.countExpenseListForSuperAdmin  : ==> Parameters: 
2026-01-08T12:45:48.306+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:45:48.306+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f8325e8]
2026-01-08T12:45:48.307+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79e1596e]
2026-01-08T12:45:48.307+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionPlanMapper.findById  : ======> Parameters: 1(Long)
2026-01-08T12:45:48.308+09:00  INFO 6764 --- [http-nio-8080-exec-6] c.i.b.controller.SuperAdminController    : 전체 사용자 목록 조회 완료 - count: 12
2026-01-08T12:45:48.309+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.310+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:48.311+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12e50c2c] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.312+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passwo (truncated)...]
2026-01-08T12:45:48.312+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1639714103 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:48.313+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:48.313+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.CompanyMapper.findAll       : ==>  Preparing: SELECT * FROM company_tb ORDER BY created_at DESC
2026-01-08T12:45:48.314+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.CompanyMapper.findAll       : ==> Parameters: 
2026-01-08T12:45:48.320+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/companies
2026-01-08T12:45:48.326+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:45:48.326+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.countExpenseListForSuperAdmin  : <==      Total: 1
2026-01-08T12:45:48.326+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionPlanMapper.findById  : <======      Total: 1
2026-01-08T12:45:48.326+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:45:48.327+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.SubscriptionMapper.findAll  : <==      Total: 7
2026-01-08T12:45:48.327+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/companies
2026-01-08T12:45:48.327+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ec99ed9]
2026-01-08T12:45:48.327+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:45:48.328+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:45:48.328+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.CompanyMapper.findAll       : <==      Total: 7
2026-01-08T12:45:48.328+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c92ae89]
2026-01-08T12:45:48.329+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/companies
2026-01-08T12:45:48.329+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.329+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.PaymentMapper.findAll       : <==      Total: 4
2026-01-08T12:45:48.329+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12e50c2c]
2026-01-08T12:45:48.330+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.333+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/companies", parameters={}
2026-01-08T12:45:48.334+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36827fb9] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.335+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38353a01]
2026-01-08T12:45:48.335+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.335+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@219afc22] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.336+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllCompanies()
2026-01-08T12:45:48.336+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@76484838 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:45:48.336+09:00  INFO 6764 --- [http-nio-8080-exec-4] c.i.b.controller.SuperAdminController    : 전체 결제 내역 조회 완료 - count: 4
2026-01-08T12:45:48.337+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f4cdc34] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.337+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:45:48.337+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1404019793 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:48.338+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllCompanies(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.338+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListForSuperAdmin : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, c.company_name AS companyName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id LEFT JOIN company_tb c ON r.company_id = c.company_id ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:45:48.340+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:48.341+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1978805661 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:48.341+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.PaymentMapper.findAll       : ==>  Preparing: SELECT p.* FROM payment_tb p ORDER BY p.payment_date DESC, p.created_at DESC
2026-01-08T12:45:48.341+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.SubscriptionMapper.findAll  : <==      Total: 7
2026-01-08T12:45:48.342+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllCompanies(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.344+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListForSuperAdmin : ==> Parameters: 1(Integer), 0(Integer)
2026-01-08T12:45:48.344+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 결제 내역 조회 성공, data=[PaymentDto(paymentId=11, subscriptionId=2, a (truncated)...]
2026-01-08T12:45:48.344+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.SubscriptionMapper.findAll  : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id ORDER BY s.created_at DESC
2026-01-08T12:45:48.344+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.PaymentMapper.findAll       : ==> Parameters: 
2026-01-08T12:45:48.344+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39509bcd]
2026-01-08T12:45:48.345+09:00  INFO 6764 --- [http-nio-8080-exec-1] c.i.b.controller.SuperAdminController    : 전체 회사 목록 조회 요청 - userId: 9
2026-01-08T12:45:48.348+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:48.351+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.SubscriptionMapper.findAll  : ==> Parameters: 
2026-01-08T12:45:48.352+09:00  INFO 6764 --- [http-nio-8080-exec-5] c.i.b.controller.SuperAdminController    : 전체 구독 목록 조회 완료 - count: 7
2026-01-08T12:45:48.353+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.356+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:48.355+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListForSuperAdmin : <==      Total: 1
2026-01-08T12:45:48.356+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10346b48] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.357+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 구독 목록 조회 성공, data=[SubscriptionDto(subscriptionId=7, companyId= (truncated)...]
2026-01-08T12:45:48.358+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36827fb9]
2026-01-08T12:45:48.360+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/subscriptions
2026-01-08T12:45:48.361+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1947728395 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:48.362+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:48.362+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:45:48.363+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:45:48.363+09:00  INFO 6764 --- [http-nio-8080-exec-3] c.i.b.controller.SuperAdminController    : 회사별 지출결의서 목록 조회 완료 - totalElements: 29
2026-01-08T12:45:48.364+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.CompanyMapper.findAll       : ==>  Preparing: SELECT * FROM company_tb ORDER BY created_at DESC
2026-01-08T12:45:48.366+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/subscriptions
2026-01-08T12:45:48.369+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/payments
2026-01-08T12:45:48.370+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 2(Long)
2026-01-08T12:45:48.371+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:45:48.371+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:48.371+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.CompanyMapper.findAll       : ==> Parameters: 
2026-01-08T12:45:48.374+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/subscriptions
2026-01-08T12:45:48.375+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/payments
2026-01-08T12:45:48.376+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=지출결의서 목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expen (truncated)...]
2026-01-08T12:45:48.377+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/payments
2026-01-08T12:45:48.377+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/subscriptions", parameters={}
2026-01-08T12:45:48.377+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/payments", parameters={}
2026-01-08T12:45:48.378+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllSubscriptions()
2026-01-08T12:45:48.378+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:48.379+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllSubscriptions(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.378+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllPayments()
2026-01-08T12:45:48.380+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/expenses?page=1&size=1
2026-01-08T12:45:48.381+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllSubscriptions(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.393+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllPayments(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.394+09:00  INFO 6764 --- [http-nio-8080-exec-7] c.i.b.controller.SuperAdminController    : 전체 구독 목록 조회 요청 - userId: 9
2026-01-08T12:45:48.394+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/expenses
2026-01-08T12:45:48.395+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:45:48.395+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:45:48.395+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.CompanyMapper.findAll       : <==      Total: 7
2026-01-08T12:45:48.396+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllPayments(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.396+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.396+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/expenses?page=1&size=1
2026-01-08T12:45:48.396+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:45:48.397+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.SubscriptionMapper.findAll  : <==      Total: 7
2026-01-08T12:45:48.397+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10346b48]
2026-01-08T12:45:48.400+09:00  INFO 6764 --- [http-nio-8080-exec-8] c.i.b.controller.SuperAdminController    : 전체 결제 내역 조회 요청 - userId: 9
2026-01-08T12:45:48.401+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29b2de20] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.402+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/expenses?page=1&size=1", parameters={masked}
2026-01-08T12:45:48.405+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@245765227 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:48.403+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 7(Long)
2026-01-08T12:45:48.403+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f4cdc34]
2026-01-08T12:45:48.405+09:00  INFO 6764 --- [http-nio-8080-exec-1] c.i.b.controller.SuperAdminController    : 전체 회사 목록 조회 완료 - count: 7
2026-01-08T12:45:48.405+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.405+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getExpenseListForSuperAdmin(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, Long)
2026-01-08T12:45:48.406+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.SubscriptionMapper.findAll  : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id ORDER BY s.created_at DESC
2026-01-08T12:45:48.406+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.409+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:48.410+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fb20d7f] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.411+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:45:48.413+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@723153635 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:48.411+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.SubscriptionMapper.findAll  : ==> Parameters: 
2026-01-08T12:45:48.411+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getExpenseListForSuperAdmin(int,int,java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.lang.String[],java.lang.String,java.lang.Boolean,java.lang.Boolean,java.lang.String,java.lang.Long); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.412+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bf30f23] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.412+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 회사 목록 조회 성공, data=[CompanyDto(companyId=7, companyCode=PC8UJT,  (truncated)...]
2026-01-08T12:45:48.413+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.PaymentMapper.findAll       : ==>  Preparing: SELECT p.* FROM payment_tb p ORDER BY p.payment_date DESC, p.created_at DESC
2026-01-08T12:45:48.413+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:45:48.414+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getExpenseListForSuperAdmin(int,int,java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.lang.String[],java.lang.String,java.lang.Boolean,java.lang.Boolean,java.lang.String,java.lang.Long); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.419+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1057578757 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:48.421+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:45:48.422+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:48.424+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.PaymentMapper.findAll       : ==> Parameters: 
2026-01-08T12:45:48.425+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 1(Long)
2026-01-08T12:45:48.426+09:00  INFO 6764 --- [http-nio-8080-exec-10] c.i.b.controller.SuperAdminController    : 회사별 지출결의서 목록 조회 요청 - userId: 9, companyId: null, page: 1, size: 1
2026-01-08T12:45:48.426+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.PaymentMapper.findAll       : ==>  Preparing: SELECT p.* FROM payment_tb p ORDER BY p.payment_date DESC, p.created_at DESC
2026-01-08T12:45:48.427+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:45:48.427+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:45:48.428+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.429+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.PaymentMapper.findAll       : ==> Parameters: 
2026-01-08T12:45:48.430+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:45:48.430+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : ======>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:45:48.435+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T12:45:48.435+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65f0ff54] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.439+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 2(Long)
2026-01-08T12:45:48.439+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:45:48.440+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : ======> Parameters: 1(Long)
2026-01-08T12:45:48.441+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:45:48.443+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/reports/summary
2026-01-08T12:45:48.444+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@952006501 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:45:48.444+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.SubscriptionMapper.findAll  : <==      Total: 7
2026-01-08T12:45:48.446+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 2(Long)
2026-01-08T12:45:48.446+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.countExpenseListForSuperAdmin  : ==>  Preparing: SELECT COUNT(*) FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id
2026-01-08T12:45:48.446+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29b2de20]
2026-01-08T12:45:48.449+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/users
2026-01-08T12:45:48.451+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.countExpenseListForSuperAdmin  : ==> Parameters: 
2026-01-08T12:45:48.452+09:00  INFO 6764 --- [http-nio-8080-exec-7] c.i.b.controller.SuperAdminController    : 전체 구독 목록 조회 완료 - count: 7
2026-01-08T12:45:48.461+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:48.458+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/companies
2026-01-08T12:45:48.459+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:45:48.459+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:45:48.459+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : <======      Total: 1
2026-01-08T12:45:48.461+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.countExpenseListForSuperAdmin  : <==      Total: 1
2026-01-08T12:45:48.462+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 구독 목록 조회 성공, data=[SubscriptionDto(subscriptionId=7, companyId= (truncated)...]
2026-01-08T12:45:48.462+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:45:48.465+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/subscriptions
2026-01-08T12:45:48.468+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:45:48.480+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 7(Long)
2026-01-08T12:45:48.469+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:45:48.470+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65f0ff54]
2026-01-08T12:45:48.471+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:48.478+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 7(Long)
2026-01-08T12:45:48.482+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/payments
2026-01-08T12:45:48.485+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.PaymentMapper.findAll       : <==      Total: 4
2026-01-08T12:45:48.486+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.488+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/expenses?page=1&size=1
2026-01-08T12:45:48.493+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@219afc22]
2026-01-08T12:45:48.499+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:48.500+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 요약 통계 조회 성공, data=AdminReportService.DashboardSummaryDto(tota (truncated)...]
2026-01-08T12:45:48.495+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:45:48.495+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d5bdf70] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.504+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/expenses/pending-approvals
2026-01-08T12:45:48.500+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/reports/summary
2026-01-08T12:45:48.502+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:48.504+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@531862992 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:45:48.504+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:45:48.508+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/reports/summary
2026-01-08T12:45:48.508+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T12:45:48.513+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListForSuperAdmin : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, c.company_name AS companyName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id LEFT JOIN company_tb c ON r.company_id = c.company_id ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:45:48.514+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:45:48.514+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/reports/summary
2026-01-08T12:45:48.516+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/expenses/tax/revision-requests
2026-01-08T12:45:48.520+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListForSuperAdmin : ==> Parameters: 1(Integer), 0(Integer)
2026-01-08T12:45:48.521+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:45:48.521+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:45:48.522+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:45:48.522+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/reports/summary", parameters={}
2026-01-08T12:45:48.526+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getDashboardSummary()
2026-01-08T12:45:48.527+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getDashboardSummary(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.528+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getDashboardSummary(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.522+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T12:45:48.523+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:45:48.524+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:45:48.541+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 1(Long)
2026-01-08T12:45:48.526+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.530+09:00  INFO 6764 --- [http-nio-8080-exec-4] c.i.b.controller.SuperAdminController    : 대시보드 요약 통계 조회 요청 - userId: 9
2026-01-08T12:45:48.530+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T12:45:48.540+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 1(Long)
2026-01-08T12:45:48.542+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b3cdb15] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.542+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.543+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T12:45:48.543+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1046876284 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:48.545+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:45:48.544+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@140ad941] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.544+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.549+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7195fedb] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.547+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 9(Long), 4(Long)
2026-01-08T12:45:48.547+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@110194412 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:48.552+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1120445834 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:45:48.554+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListForSuperAdmin : <==      Total: 1
2026-01-08T12:45:48.558+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectAllUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status, created_at, updated_at FROM user_tb ORDER BY user_id
2026-01-08T12:45:48.558+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T12:45:48.559+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d5bdf70]
2026-01-08T12:45:48.575+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionPlanMapper.findById  : ======>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:45:48.575+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionPlanMapper.findById  : ======>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:45:48.577+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectAllUsers   : ==> Parameters: 
2026-01-08T12:45:48.578+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 4(Long), 9(Long)
2026-01-08T12:45:48.579+09:00  INFO 6764 --- [http-nio-8080-exec-10] c.i.b.controller.SuperAdminController    : 회사별 지출결의서 목록 조회 완료 - totalElements: 29
2026-01-08T12:45:48.579+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionPlanMapper.findById  : ======> Parameters: 1(Long)
2026-01-08T12:45:48.581+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:48.580+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionPlanMapper.findById  : ======> Parameters: 1(Long)
2026-01-08T12:45:48.582+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=지출결의서 목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expen (truncated)...]
2026-01-08T12:45:48.583+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T12:45:48.590+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T12:45:48.591+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionPlanMapper.findById  : <======      Total: 1
2026-01-08T12:45:48.591+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectAllUsers   : <==      Total: 12
2026-01-08T12:45:48.592+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:48.594+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b3cdb15]
2026-01-08T12:45:48.596+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionPlanMapper.findById  : <======      Total: 1
2026-01-08T12:45:48.597+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7195fedb]
2026-01-08T12:45:48.599+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:45:48.599+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@140ad941]
2026-01-08T12:45:48.602+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:48.602+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/users
2026-01-08T12:45:48.602+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:45:48.603+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:48.603+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.PaymentMapper.findAll       : <==      Total: 4
2026-01-08T12:45:48.604+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.605+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T12:45:48.607+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.PaymentMapper.findAll       : <==      Total: 4
2026-01-08T12:45:48.607+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/users
2026-01-08T12:45:48.607+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T12:45:48.607+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fb20d7f]
2026-01-08T12:45:48.609+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ea207a0] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.609+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:48.613+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@471866852 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:48.622+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.CompanyMapper.findAll       : ==>  Preparing: SELECT * FROM company_tb ORDER BY created_at DESC
2026-01-08T12:45:48.610+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bf30f23]
2026-01-08T12:45:48.611+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/users
2026-01-08T12:45:48.612+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:48.624+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/users", parameters={}
2026-01-08T12:45:48.613+09:00  INFO 6764 --- [http-nio-8080-exec-8] c.i.b.controller.SuperAdminController    : 전체 결제 내역 조회 완료 - count: 4
2026-01-08T12:45:48.616+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/companies
2026-01-08T12:45:48.622+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.CompanyMapper.findAll       : ==> Parameters: 
2026-01-08T12:45:48.623+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:48.626+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/subscriptions
2026-01-08T12:45:48.636+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllUsers()
2026-01-08T12:45:48.637+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:48.642+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/companies
2026-01-08T12:45:48.642+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 요약 통계 조회 성공, data=AdminReportService.DashboardSummaryDto(tota (truncated)...]
2026-01-08T12:45:48.646+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/subscriptions
2026-01-08T12:45:48.646+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllUsers(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.647+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 결제 내역 조회 성공, data=[PaymentDto(paymentId=11, subscriptionId=2, a (truncated)...]
2026-01-08T12:45:48.648+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/companies
2026-01-08T12:45:48.649+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.CompanyMapper.findAll       : <==      Total: 7
2026-01-08T12:45:48.651+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:48.652+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/subscriptions
2026-01-08T12:45:48.653+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllUsers(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.653+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/companies", parameters={}
2026-01-08T12:45:48.653+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ea207a0]
2026-01-08T12:45:48.653+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:48.656+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/payments
2026-01-08T12:45:48.657+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/subscriptions", parameters={}
2026-01-08T12:45:48.658+09:00  INFO 6764 --- [http-nio-8080-exec-5] c.i.b.controller.SuperAdminController    : 전체 사용자 목록 조회 요청 - userId: 9
2026-01-08T12:45:48.658+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllCompanies()
2026-01-08T12:45:48.658+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.660+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/expenses?page=1&size=1
2026-01-08T12:45:48.660+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/payments
2026-01-08T12:45:48.660+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllSubscriptions()
2026-01-08T12:45:48.665+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/expenses
2026-01-08T12:45:48.666+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/expenses?page=1&size=1
2026-01-08T12:45:48.670+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/expenses?page=1&size=1", parameters={masked}
2026-01-08T12:45:48.670+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getExpenseListForSuperAdmin(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, Long)
2026-01-08T12:45:48.661+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.661+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllCompanies(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.663+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74c70f9c] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.664+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/payments
2026-01-08T12:45:48.665+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllSubscriptions(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.673+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getExpenseListForSuperAdmin(int,int,java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.lang.String[],java.lang.String,java.lang.Boolean,java.lang.Boolean,java.lang.String,java.lang.Long); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.673+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ae28dd4] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.687+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllCompanies(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.688+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@974555555 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:48.688+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/payments", parameters={}
2026-01-08T12:45:48.689+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllSubscriptions(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.696+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getExpenseListForSuperAdmin(int,int,java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.lang.String[],java.lang.String,java.lang.Boolean,java.lang.Boolean,java.lang.String,java.lang.Long); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.706+09:00  INFO 6764 --- [http-nio-8080-exec-10] c.i.b.controller.SuperAdminController    : 회사별 지출결의서 목록 조회 요청 - userId: 9, companyId: null, page: 1, size: 1
2026-01-08T12:45:48.703+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@555195523 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:45:48.703+09:00  INFO 6764 --- [http-nio-8080-exec-7] c.i.b.controller.SuperAdminController    : 전체 회사 목록 조회 요청 - userId: 9
2026-01-08T12:45:48.704+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.SubscriptionMapper.findAll  : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id ORDER BY s.created_at DESC
2026-01-08T12:45:48.705+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllPayments()
2026-01-08T12:45:48.706+09:00  INFO 6764 --- [http-nio-8080-exec-6] c.i.b.controller.SuperAdminController    : 전체 구독 목록 조회 요청 - userId: 9
2026-01-08T12:45:48.707+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.707+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectAllUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status, created_at, updated_at FROM user_tb ORDER BY user_id
2026-01-08T12:45:48.708+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.710+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.SubscriptionMapper.findAll  : ==> Parameters: 
2026-01-08T12:45:48.711+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllPayments(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.711+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.711+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e8612be] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.711+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectAllUsers   : ==> Parameters: 
2026-01-08T12:45:48.712+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1aaa82a8] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.712+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllPayments(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.713+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5de255e] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.717+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1292230721 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:45:48.720+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:45:48.721+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@613533914 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:48.721+09:00  INFO 6764 --- [http-nio-8080-exec-2] c.i.b.controller.SuperAdminController    : 전체 결제 내역 조회 요청 - userId: 9
2026-01-08T12:45:48.722+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectAllUsers   : <==      Total: 12
2026-01-08T12:45:48.722+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@325385320 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:48.722+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.countExpenseListForSuperAdmin  : ==>  Preparing: SELECT COUNT(*) FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id
2026-01-08T12:45:48.722+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:45:48.722+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.CompanyMapper.findAll       : ==>  Preparing: SELECT * FROM company_tb ORDER BY created_at DESC
2026-01-08T12:45:48.723+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.723+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ae28dd4]
2026-01-08T12:45:48.724+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.mapper.SubscriptionMapper.findAll  : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id ORDER BY s.created_at DESC
2026-01-08T12:45:48.724+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.countExpenseListForSuperAdmin  : ==> Parameters: 
2026-01-08T12:45:48.724+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.CompanyMapper.findAll       : ==> Parameters: 
2026-01-08T12:45:48.724+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77b57679] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.725+09:00  INFO 6764 --- [http-nio-8080-exec-5] c.i.b.controller.SuperAdminController    : 전체 사용자 목록 조회 완료 - count: 12
2026-01-08T12:45:48.725+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.mapper.SubscriptionMapper.findAll  : ==> Parameters: 
2026-01-08T12:45:48.726+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:45:48.727+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1084332890 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:48.728+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:48.728+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.PaymentMapper.findAll       : ==>  Preparing: SELECT p.* FROM payment_tb p ORDER BY p.payment_date DESC, p.created_at DESC
2026-01-08T12:45:48.730+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.countExpenseListForSuperAdmin  : <==      Total: 1
2026-01-08T12:45:48.730+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.PaymentMapper.findAll       : ==> Parameters: 
2026-01-08T12:45:48.728+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.SubscriptionMapper.findAll  : <==      Total: 7
2026-01-08T12:45:48.729+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.CompanyMapper.findAll       : <==      Total: 7
2026-01-08T12:45:48.731+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1aaa82a8]
2026-01-08T12:45:48.732+09:00  INFO 6764 --- [http-nio-8080-exec-7] c.i.b.controller.SuperAdminController    : 전체 회사 목록 조회 완료 - count: 7
2026-01-08T12:45:48.729+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passwo (truncated)...]
2026-01-08T12:45:48.730+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e8612be]
2026-01-08T12:45:48.731+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74c70f9c]
2026-01-08T12:45:48.731+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:45:48.733+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:48.736+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.736+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:48.736+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.737+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:45:48.737+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 회사 목록 조회 성공, data=[CompanyDto(companyId=7, companyCode=PC8UJT,  (truncated)...]
2026-01-08T12:45:48.737+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:45:48.739+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74bc49c7] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.740+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@248338e9] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.741+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:48.743+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@718726731 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:48.744+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.PaymentMapper.findAll       : ==>  Preparing: SELECT p.* FROM payment_tb p ORDER BY p.payment_date DESC, p.created_at DESC
2026-01-08T12:45:48.742+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 2(Long)
2026-01-08T12:45:48.743+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@720483852 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:45:48.745+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.PaymentMapper.findAll       : ==> Parameters: 
2026-01-08T12:45:48.747+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListForSuperAdmin : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, c.company_name AS companyName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id LEFT JOIN company_tb c ON r.company_id = c.company_id ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:45:48.749+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:45:48.750+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListForSuperAdmin : ==> Parameters: 1(Integer), 0(Integer)
2026-01-08T12:45:48.751+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.mapper.SubscriptionMapper.findAll  : <==      Total: 7
2026-01-08T12:45:48.754+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5de255e]
2026-01-08T12:45:48.754+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:45:48.755+09:00  INFO 6764 --- [http-nio-8080-exec-6] c.i.b.controller.SuperAdminController    : 전체 구독 목록 조회 완료 - count: 7
2026-01-08T12:45:48.755+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:45:48.755+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:48.756+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 7(Long)
2026-01-08T12:45:48.756+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 구독 목록 조회 성공, data=[SubscriptionDto(subscriptionId=7, companyId= (truncated)...]
2026-01-08T12:45:48.756+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:45:48.756+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListForSuperAdmin : <==      Total: 1
2026-01-08T12:45:48.758+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:48.761+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74bc49c7]
2026-01-08T12:45:48.761+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 2(Long)
2026-01-08T12:45:48.762+09:00  INFO 6764 --- [http-nio-8080-exec-10] c.i.b.controller.SuperAdminController    : 회사별 지출결의서 목록 조회 완료 - totalElements: 29
2026-01-08T12:45:48.763+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:48.765+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:45:48.767+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=지출결의서 목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expen (truncated)...]
2026-01-08T12:45:48.769+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:45:48.770+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:48.772+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:45:48.773+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 1(Long)
2026-01-08T12:45:48.776+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:45:48.778+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 7(Long)
2026-01-08T12:45:48.782+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : ======>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:45:48.783+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : ======> Parameters: 1(Long)
2026-01-08T12:45:48.786+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:45:48.788+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:45:48.788+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : <======      Total: 1
2026-01-08T12:45:48.789+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 1(Long)
2026-01-08T12:45:48.790+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:45:48.793+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.PaymentMapper.findAll       : <==      Total: 4
2026-01-08T12:45:48.794+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77b57679]
2026-01-08T12:45:48.794+09:00  INFO 6764 --- [http-nio-8080-exec-2] c.i.b.controller.SuperAdminController    : 전체 결제 내역 조회 완료 - count: 4
2026-01-08T12:45:48.795+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionPlanMapper.findById  : ======>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:45:48.796+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:48.796+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionPlanMapper.findById  : ======> Parameters: 1(Long)
2026-01-08T12:45:48.797+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 결제 내역 조회 성공, data=[PaymentDto(paymentId=11, subscriptionId=2, a (truncated)...]
2026-01-08T12:45:48.802+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:48.811+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionPlanMapper.findById  : <======      Total: 1
2026-01-08T12:45:48.812+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:45:48.813+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.PaymentMapper.findAll       : <==      Total: 4
2026-01-08T12:45:48.813+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@248338e9]
2026-01-08T12:45:48.814+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:48.815+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 요약 통계 조회 성공, data=AdminReportService.DashboardSummaryDto(tota (truncated)...]
2026-01-08T12:45:48.817+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:49.945+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/global
2026-01-08T12:45:49.945+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/global
2026-01-08T12:45:49.949+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/global
2026-01-08T12:45:49.953+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/global
2026-01-08T12:45:49.960+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/expense-categories/global
2026-01-08T12:45:49.963+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/global
2026-01-08T12:45:49.963+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/expense-categories/global
2026-01-08T12:45:49.966+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/global
2026-01-08T12:45:49.964+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/global", parameters={}
2026-01-08T12:45:49.971+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/global", parameters={}
2026-01-08T12:45:49.973+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getGlobalCategories()
2026-01-08T12:45:49.971+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getGlobalCategories()
2026-01-08T12:45:49.974+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getGlobalCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:45:49.974+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getGlobalCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:45:49.977+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getGlobalCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:45:49.977+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getGlobalCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:45:49.978+09:00  INFO 6764 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리 조회 시작
2026-01-08T12:45:49.978+09:00  INFO 6764 --- [http-nio-8080-exec-1] c.i.b.service.ExpenseCategoryService     : 전역 카테고리 조회 시작
2026-01-08T12:45:49.979+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:49.979+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:49.979+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@469e9c30] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:49.979+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3daa2126] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:50.109+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@532726645 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:45:50.109+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1781226097 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:50.122+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.findGlobalCategories           : ==>  Preparing: SELECT ec.*, 1 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec LEFT JOIN user_tb u ON ec.created_by = u.user_id WHERE ec.company_id IS NULL AND (ec.is_active IS NULL OR ec.is_active = 1) ORDER BY ec.display_order ASC, ec.category_name ASC
2026-01-08T12:45:50.122+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.E.findGlobalCategories           : ==>  Preparing: SELECT ec.*, 1 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec LEFT JOIN user_tb u ON ec.created_by = u.user_id WHERE ec.company_id IS NULL AND (ec.is_active IS NULL OR ec.is_active = 1) ORDER BY ec.display_order ASC, ec.category_name ASC
2026-01-08T12:45:50.123+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.findGlobalCategories           : ==> Parameters: 
2026-01-08T12:45:50.123+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.E.findGlobalCategories           : ==> Parameters: 
2026-01-08T12:45:50.143+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.findGlobalCategories           : <==      Total: 12
2026-01-08T12:45:50.146+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@469e9c30]
2026-01-08T12:45:50.149+09:00  INFO 6764 --- [http-nio-8080-exec-1] c.i.b.service.ExpenseCategoryService     : 전역 카테고리 조회 완료 - 항목 수: 12
2026-01-08T12:45:50.150+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=1, name=식비/회식, order=0, active=true
2026-01-08T12:45:50.151+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.E.findGlobalCategories           : <==      Total: 12
2026-01-08T12:45:50.152+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=3, name=거래처 접대, order=1, active=true
2026-01-08T12:45:50.153+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3daa2126]
2026-01-08T12:45:50.153+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=2, name=출장/교통비, order=2, active=true
2026-01-08T12:45:50.153+09:00  INFO 6764 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리 조회 완료 - 항목 수: 12
2026-01-08T12:45:50.154+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=5, name=수수료, order=3, active=true
2026-01-08T12:45:50.154+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=1, name=식비/회식, order=0, active=true
2026-01-08T12:45:50.155+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=6, name=광고/홍보, order=4, active=true
2026-01-08T12:45:50.156+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=3, name=거래처 접대, order=1, active=true
2026-01-08T12:45:50.156+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=4, name=사무용품, order=5, active=true
2026-01-08T12:45:50.156+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=2, name=출장/교통비, order=2, active=true
2026-01-08T12:45:50.157+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=7, name=통신비, order=6, active=true
2026-01-08T12:45:50.158+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=5, name=수수료, order=3, active=true
2026-01-08T12:45:50.174+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=8, name=차량비, order=7, active=true
2026-01-08T12:45:50.174+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=6, name=광고/홍보, order=4, active=true
2026-01-08T12:45:50.174+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=9, name=도서/인쇄, order=8, active=true
2026-01-08T12:45:50.175+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=4, name=사무용품, order=5, active=true
2026-01-08T12:45:50.175+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=10, name=세금/공과금, order=9, active=true
2026-01-08T12:45:50.175+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=7, name=통신비, order=6, active=true
2026-01-08T12:45:50.176+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=11, name=급여, order=10, active=true
2026-01-08T12:45:50.176+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=8, name=차량비, order=7, active=true
2026-01-08T12:45:50.176+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=12, name=기타, order=11, active=true
2026-01-08T12:45:50.177+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=9, name=도서/인쇄, order=8, active=true
2026-01-08T12:45:50.274+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=10, name=세금/공과금, order=9, active=true
2026-01-08T12:45:50.277+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=11, name=급여, order=10, active=true
2026-01-08T12:45:50.278+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=12, name=기타, order=11, active=true
2026-01-08T12:45:50.280+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:50.262+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:50.312+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-08T12:45:50.318+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-08T12:45:50.319+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:50.319+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:51.230+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/account-codes/list
2026-01-08T12:45:51.239+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/account-codes/list
2026-01-08T12:45:51.240+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/account-codes/list
2026-01-08T12:45:51.246+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/account-codes/list
2026-01-08T12:45:51.247+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/account-codes/list", parameters={}
2026-01-08T12:45:51.253+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AccountCodeController#getMappingList()
2026-01-08T12:45:51.257+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:45:51.259+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:45:51.260+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:51.262+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24c6ff17] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:51.269+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1078608993 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:51.271+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.A.findAll                        : ==>  Preparing: SELECT * FROM account_code_mapping_tb ORDER BY company_id DESC, category ASC, account_name ASC
2026-01-08T12:45:51.271+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.A.findAll                        : ==> Parameters: 
2026-01-08T12:45:51.289+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.A.findAll                        : <==      Total: 0
2026-01-08T12:45:51.297+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24c6ff17]
2026-01-08T12:45:51.298+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:51.302+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-01-08T12:45:51.304+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:46:11.656+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/account-codes/create
2026-01-08T12:46:11.661+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/account-codes/create
2026-01-08T12:46:11.663+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/account-codes/create
2026-01-08T12:46:11.666+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/account-codes/create
2026-01-08T12:46:11.667+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/account-codes/create", parameters={}
2026-01-08T12:46:11.669+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AccountCodeController#createMapping(AccountCodeMappingDto)
2026-01-08T12:46:11.671+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AccountCodeMappingDto(mappingId=null, companyId=null, category=식대, merchantKeyword=null, accountCode (truncated)...]
2026-01-08T12:46:11.672+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.createMapping(com.innersignature.backend.dto.AccountCodeMappingDto); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:46:11.673+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.createMapping(com.innersignature.backend.dto.AccountCodeMappingDto); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:46:11.679+09:00 ERROR 6764 --- [http-nio-8080-exec-6] c.i.b.controller.AccountCodeController   : 계정 과목 매핑 생성 실패

com.innersignature.backend.exception.BusinessException: SUPERADMIN은 전역 매핑(company_id = NULL)만 생성할 수 있습니다.
	at com.innersignature.backend.service.AccountCodeService.createMapping(AccountCodeService.java:35) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.14.jar:6.2.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.innersignature.backend.service.AccountCodeService$$SpringCGLIB$$0.createMapping(<generated>) ~[classes/:na]
	at com.innersignature.backend.controller.AccountCodeController.createMapping(AccountCodeController.java:31) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.innersignature.backend.controller.AccountCodeController$$SpringCGLIB$$0.createMapping(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:79) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:87) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2026-01-08T12:46:11.748+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:46:11.750+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, message=SUPERADMIN은 전역 매핑(company_id = NULL)만 생성할 수 있습니다., data=null)]
2026-01-08T12:46:11.752+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2026-01-08T12:46:47.487+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/account-codes/create
2026-01-08T12:46:47.489+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/account-codes/create
2026-01-08T12:46:47.491+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/account-codes/create
2026-01-08T12:46:47.492+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/account-codes/create
2026-01-08T12:46:47.492+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/account-codes/create", parameters={}
2026-01-08T12:46:47.492+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AccountCodeController#createMapping(AccountCodeMappingDto)
2026-01-08T12:46:47.493+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AccountCodeMappingDto(mappingId=null, companyId=null, category=식대, merchantKeyword=null, accountCode (truncated)...]
2026-01-08T12:46:47.493+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.createMapping(com.innersignature.backend.dto.AccountCodeMappingDto); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:46:47.494+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.createMapping(com.innersignature.backend.dto.AccountCodeMappingDto); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:46:47.504+09:00 ERROR 6764 --- [http-nio-8080-exec-2] c.i.b.controller.AccountCodeController   : 계정 과목 매핑 생성 실패

com.innersignature.backend.exception.BusinessException: SUPERADMIN은 전역 매핑(company_id = NULL)만 생성할 수 있습니다.
	at com.innersignature.backend.service.AccountCodeService.createMapping(AccountCodeService.java:35) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.14.jar:6.2.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.innersignature.backend.service.AccountCodeService$$SpringCGLIB$$0.createMapping(<generated>) ~[classes/:na]
	at com.innersignature.backend.controller.AccountCodeController.createMapping(AccountCodeController.java:31) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.innersignature.backend.controller.AccountCodeController$$SpringCGLIB$$0.createMapping(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:79) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:87) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2026-01-08T12:46:47.543+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:46:47.544+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, message=SUPERADMIN은 전역 매핑(company_id = NULL)만 생성할 수 있습니다., data=null)]
2026-01-08T12:46:47.545+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2026-01-08T12:50:48.428+09:00  INFO 5336 --- [main] c.i.backend.BackendApplication           : Starting BackendApplication using Java 17.0.17 with PID 5336 (C:\InnerSignature\backend\target\classes started by owner in C:\InnerSignature\backend)
2026-01-08T12:50:48.434+09:00 DEBUG 5336 --- [main] c.i.backend.BackendApplication           : Running with Spring Boot v3.5.8, Spring v6.2.14
2026-01-08T12:50:48.436+09:00  INFO 5336 --- [main] c.i.backend.BackendApplication           : The following 1 profile is active: "dev"
2026-01-08T12:50:50.644+09:00 DEBUG 5336 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Searching for mappers annotated with @Mapper
2026-01-08T12:50:50.646+09:00 DEBUG 5336 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Using auto-configuration base package 'com.innersignature.backend'
2026-01-08T12:50:51.112+09:00 DEBUG 5336 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AccountCodeMappingMapper.class]
2026-01-08T12:50:51.121+09:00 DEBUG 5336 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AuditLogMapper.class]
2026-01-08T12:50:51.122+09:00 DEBUG 5336 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AuditRuleMapper.class]
2026-01-08T12:50:51.125+09:00 DEBUG 5336 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\BudgetMapper.class]
2026-01-08T12:50:51.127+09:00 DEBUG 5336 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CompanyCardMapper.class]
2026-01-08T12:50:51.128+09:00 DEBUG 5336 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CompanyMapper.class]
2026-01-08T12:50:51.131+09:00 DEBUG 5336 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CreditMapper.class]
2026-01-08T12:50:51.133+09:00 DEBUG 5336 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\ExpenseCategoryMapper.class]
2026-01-08T12:50:51.137+09:00 DEBUG 5336 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\ExpenseMapper.class]
2026-01-08T12:50:51.138+09:00 DEBUG 5336 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\MonthlyClosingMapper.class]
2026-01-08T12:50:51.146+09:00 DEBUG 5336 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PasswordResetTokenMapper.class]
2026-01-08T12:50:51.149+09:00 DEBUG 5336 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PaymentMapper.class]
2026-01-08T12:50:51.153+09:00 DEBUG 5336 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionMapper.class]
2026-01-08T12:50:51.154+09:00 DEBUG 5336 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionPlanMapper.class]
2026-01-08T12:50:51.161+09:00 DEBUG 5336 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserApproverMapper.class]
2026-01-08T12:50:51.167+09:00 DEBUG 5336 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserCardMapper.class]
2026-01-08T12:50:51.169+09:00 DEBUG 5336 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserMapper.class]
2026-01-08T12:50:51.171+09:00 DEBUG 5336 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserSignatureMapper.class]
2026-01-08T12:50:51.191+09:00 DEBUG 5336 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'accountCodeMappingMapper' and 'com.innersignature.backend.mapper.AccountCodeMappingMapper' mapperInterface
2026-01-08T12:50:51.282+09:00 DEBUG 5336 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'auditLogMapper' and 'com.innersignature.backend.mapper.AuditLogMapper' mapperInterface
2026-01-08T12:50:51.366+09:00 DEBUG 5336 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'auditRuleMapper' and 'com.innersignature.backend.mapper.AuditRuleMapper' mapperInterface
2026-01-08T12:50:51.397+09:00 DEBUG 5336 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'budgetMapper' and 'com.innersignature.backend.mapper.BudgetMapper' mapperInterface
2026-01-08T12:50:51.402+09:00 DEBUG 5336 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'companyCardMapper' and 'com.innersignature.backend.mapper.CompanyCardMapper' mapperInterface
2026-01-08T12:50:51.410+09:00 DEBUG 5336 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'companyMapper' and 'com.innersignature.backend.mapper.CompanyMapper' mapperInterface
2026-01-08T12:50:51.416+09:00 DEBUG 5336 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'creditMapper' and 'com.innersignature.backend.mapper.CreditMapper' mapperInterface
2026-01-08T12:50:51.420+09:00 DEBUG 5336 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'expenseCategoryMapper' and 'com.innersignature.backend.mapper.ExpenseCategoryMapper' mapperInterface
2026-01-08T12:50:51.434+09:00 DEBUG 5336 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'expenseMapper' and 'com.innersignature.backend.mapper.ExpenseMapper' mapperInterface
2026-01-08T12:50:51.436+09:00 DEBUG 5336 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'monthlyClosingMapper' and 'com.innersignature.backend.mapper.MonthlyClosingMapper' mapperInterface
2026-01-08T12:50:51.448+09:00 DEBUG 5336 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'passwordResetTokenMapper' and 'com.innersignature.backend.mapper.PasswordResetTokenMapper' mapperInterface
2026-01-08T12:50:51.461+09:00 DEBUG 5336 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'paymentMapper' and 'com.innersignature.backend.mapper.PaymentMapper' mapperInterface
2026-01-08T12:50:51.465+09:00 DEBUG 5336 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionMapper' and 'com.innersignature.backend.mapper.SubscriptionMapper' mapperInterface
2026-01-08T12:50:51.475+09:00 DEBUG 5336 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionPlanMapper' and 'com.innersignature.backend.mapper.SubscriptionPlanMapper' mapperInterface
2026-01-08T12:50:51.481+09:00 DEBUG 5336 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userApproverMapper' and 'com.innersignature.backend.mapper.UserApproverMapper' mapperInterface
2026-01-08T12:50:51.486+09:00 DEBUG 5336 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userCardMapper' and 'com.innersignature.backend.mapper.UserCardMapper' mapperInterface
2026-01-08T12:50:51.490+09:00 DEBUG 5336 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'com.innersignature.backend.mapper.UserMapper' mapperInterface
2026-01-08T12:50:51.496+09:00 DEBUG 5336 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userSignatureMapper' and 'com.innersignature.backend.mapper.UserSignatureMapper' mapperInterface
2026-01-08T12:50:52.637+09:00  INFO 5336 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2026-01-08T12:50:52.660+09:00  INFO 5336 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-08T12:50:52.662+09:00  INFO 5336 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.49]
2026-01-08T12:50:52.860+09:00  INFO 5336 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-08T12:50:52.868+09:00  INFO 5336 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4318 ms
2026-01-08T12:50:53.005+09:00 DEBUG 5336 --- [main] c.i.b.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2026-01-08T12:50:53.005+09:00 DEBUG 5336 --- [main] c.i.backend.security.RateLimitFilter     : Filter 'rateLimitFilter' configured for use
2026-01-08T12:50:53.674+09:00 DEBUG 5336 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\AccountCodeMappingMapper.xml]'
2026-01-08T12:50:53.704+09:00 DEBUG 5336 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\AuditLogMapper.xml]'
2026-01-08T12:50:53.730+09:00 DEBUG 5336 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\AuditRuleMapper.xml]'
2026-01-08T12:50:53.788+09:00 DEBUG 5336 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\BudgetMapper.xml]'
2026-01-08T12:50:53.813+09:00 DEBUG 5336 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CompanyCardMapper.xml]'
2026-01-08T12:50:53.853+09:00 DEBUG 5336 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CompanyMapper.xml]'
2026-01-08T12:50:53.982+09:00 DEBUG 5336 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CreditMapper.xml]'
2026-01-08T12:50:54.266+09:00 DEBUG 5336 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\ExpenseCategoryMapper.xml]'
2026-01-08T12:50:54.646+09:00 DEBUG 5336 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\ExpenseMapper.xml]'
2026-01-08T12:50:54.835+09:00 DEBUG 5336 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\MonthlyClosingMapper.xml]'
2026-01-08T12:50:54.878+09:00 DEBUG 5336 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PasswordResetTokenMapper.xml]'
2026-01-08T12:50:54.988+09:00 DEBUG 5336 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PaymentMapper.xml]'
2026-01-08T12:50:55.088+09:00 DEBUG 5336 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionMapper.xml]'
2026-01-08T12:50:55.167+09:00 DEBUG 5336 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionPlanMapper.xml]'
2026-01-08T12:50:55.190+09:00 DEBUG 5336 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserApproverMapper.xml]'
2026-01-08T12:50:55.228+09:00 DEBUG 5336 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserCardMapper.xml]'
2026-01-08T12:50:55.288+09:00 DEBUG 5336 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserMappeer.xml]'
2026-01-08T12:50:55.329+09:00 DEBUG 5336 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserSignatureMapper.xml]'
2026-01-08T12:50:57.431+09:00 DEBUG 5336 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 153 mappings in 'requestMappingHandlerMapping'
2026-01-08T12:50:57.636+09:00 DEBUG 5336 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /api/uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2026-01-08T12:50:57.685+09:00  WARN 5336 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 40045de7-1697-4faa-b4cb-7f5701e209a1

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-01-08T12:50:57.816+09:00  INFO 5336 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2026-01-08T12:50:58.087+09:00 DEBUG 5336 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, RateLimitFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-08T12:50:58.440+09:00 DEBUG 5336 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-08T12:50:58.586+09:00 DEBUG 5336 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-08T12:50:58.600+09:00 DEBUG 5336 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2026-01-08T12:50:58.910+09:00  INFO 5336 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2026-01-08T12:50:58.965+09:00  INFO 5336 --- [main] c.i.backend.BackendApplication           : Started BackendApplication in 11.428 seconds (process running for 11.954)
2026-01-08T12:51:09.920+09:00  INFO 5336 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-08T12:51:09.990+09:00  INFO 5336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-08T12:51:09.995+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2026-01-08T12:51:09.996+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2026-01-08T12:51:10.048+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2026-01-08T12:51:10.078+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@43fd77d8
2026-01-08T12:51:10.112+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@324e8baa
2026-01-08T12:51:10.116+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2026-01-08T12:51:10.119+09:00  INFO 5336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 124 ms
2026-01-08T12:51:10.174+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/account-codes/create
2026-01-08T12:51:10.213+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/account-codes/create
2026-01-08T12:51:10.431+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/account-codes/create
2026-01-08T12:51:10.444+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/account-codes/create
2026-01-08T12:51:10.459+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/account-codes/create", parameters={}
2026-01-08T12:51:10.465+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AccountCodeController#createMapping(AccountCodeMappingDto)
2026-01-08T12:51:10.589+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AccountCodeMappingDto(mappingId=null, companyId=null, category=식대, merchantKeyword=null, accountCode (truncated)...]
2026-01-08T12:51:10.605+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.createMapping(com.innersignature.backend.dto.AccountCodeMappingDto); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:51:10.634+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.createMapping(com.innersignature.backend.dto.AccountCodeMappingDto); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:51:10.645+09:00  INFO 5336 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-08T12:51:10.969+09:00  INFO 5336 --- [http-nio-8080-exec-1] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7430a897
2026-01-08T12:51:10.974+09:00  INFO 5336 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-08T12:51:10.989+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:51:10.996+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@268ec7e7]
2026-01-08T12:51:11.008+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@386581213 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will be managed by Spring
2026-01-08T12:51:11.020+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.AccountCodeMappingMapper.insert  : ==>  Preparing: INSERT INTO account_code_mapping_tb ( company_id, category, merchant_keyword, account_code, account_name ) VALUES ( ?, ?, ?, ?, ? )
2026-01-08T12:51:11.076+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.AccountCodeMappingMapper.insert  : ==> Parameters: null, 식대(String), null, 5310(String), 식대비(String)
2026-01-08T12:51:11.097+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.AccountCodeMappingMapper.insert  : <==    Updates: 1
2026-01-08T12:51:11.110+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@268ec7e7]
2026-01-08T12:51:11.113+09:00  INFO 5336 --- [http-nio-8080-exec-1] c.i.backend.service.AccountCodeService   : 계정 과목 매핑 생성 완료 - mappingId: 2, companyId: null, role: SUPERADMIN
2026-01-08T12:51:11.118+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@268ec7e7] from current transaction
2026-01-08T12:51:11.127+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.A.findById                       : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE mapping_id = ? AND (company_id = ? OR company_id IS NULL)
2026-01-08T12:51:11.136+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.A.findById                       : ==> Parameters: 2(Long), null
2026-01-08T12:51:11.170+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.A.findById                       : <==      Total: 1
2026-01-08T12:51:11.178+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@268ec7e7]
2026-01-08T12:51:11.180+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@268ec7e7]
2026-01-08T12:51:11.181+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@268ec7e7]
2026-01-08T12:51:11.183+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@268ec7e7]
2026-01-08T12:51:11.243+09:00  INFO 5336 --- [http-nio-8080-exec-1] c.i.b.controller.AccountCodeController   : 계정 과목 매핑 생성 완료 - mappingId: 2
2026-01-08T12:51:11.280+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:51:11.293+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=계정 과목 매핑이 생성되었습니다., data=AccountCodeMappingDto(mappingId=2, compan (truncated)...]
2026-01-08T12:51:11.334+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:51:12.370+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/account-codes/list
2026-01-08T12:51:12.382+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/account-codes/list
2026-01-08T12:51:12.391+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/account-codes/list
2026-01-08T12:51:12.395+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/account-codes/list
2026-01-08T12:51:12.397+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/account-codes/list", parameters={}
2026-01-08T12:51:12.398+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AccountCodeController#getMappingList()
2026-01-08T12:51:12.400+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:51:12.402+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:51:12.405+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:51:12.416+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@490d1360] was not registered for synchronization because synchronization is not active
2026-01-08T12:51:12.421+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@824627701 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:51:12.427+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.A.findAll                        : ==>  Preparing: SELECT * FROM account_code_mapping_tb ORDER BY company_id DESC, category ASC, account_name ASC
2026-01-08T12:51:12.428+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.A.findAll                        : ==> Parameters: 
2026-01-08T12:51:12.433+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.A.findAll                        : <==      Total: 1
2026-01-08T12:51:12.434+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@490d1360]
2026-01-08T12:51:12.436+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:51:12.436+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[AccountCodeMappingDto(mappingId=2, companyId=null, ca (truncated)...]
2026-01-08T12:51:12.443+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:51:14.637+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/global
2026-01-08T12:51:14.709+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/global
2026-01-08T12:51:14.818+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/expense-categories/global
2026-01-08T12:51:14.830+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/global
2026-01-08T12:51:14.831+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/global", parameters={}
2026-01-08T12:51:14.833+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getGlobalCategories()
2026-01-08T12:51:14.834+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getGlobalCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:51:14.836+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getGlobalCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:51:14.846+09:00  INFO 5336 --- [http-nio-8080-exec-5] c.i.b.service.ExpenseCategoryService     : 전역 카테고리 조회 시작
2026-01-08T12:51:14.847+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:51:14.847+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28aaebc8] was not registered for synchronization because synchronization is not active
2026-01-08T12:51:14.850+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@575832248 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:51:14.851+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.E.findGlobalCategories           : ==>  Preparing: SELECT ec.*, 1 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec LEFT JOIN user_tb u ON ec.created_by = u.user_id WHERE ec.company_id IS NULL AND (ec.is_active IS NULL OR ec.is_active = 1) ORDER BY ec.display_order ASC, ec.category_name ASC
2026-01-08T12:51:14.852+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.E.findGlobalCategories           : ==> Parameters: 
2026-01-08T12:51:14.864+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.E.findGlobalCategories           : <==      Total: 12
2026-01-08T12:51:14.865+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28aaebc8]
2026-01-08T12:51:14.867+09:00  INFO 5336 --- [http-nio-8080-exec-5] c.i.b.service.ExpenseCategoryService     : 전역 카테고리 조회 완료 - 항목 수: 12
2026-01-08T12:51:14.872+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=1, name=식비/회식, order=0, active=true
2026-01-08T12:51:14.882+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=3, name=거래처 접대, order=1, active=true
2026-01-08T12:51:14.882+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=2, name=출장/교통비, order=2, active=true
2026-01-08T12:51:14.887+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=5, name=수수료, order=3, active=true
2026-01-08T12:51:14.905+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=6, name=광고/홍보, order=4, active=true
2026-01-08T12:51:14.907+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=4, name=사무용품, order=5, active=true
2026-01-08T12:51:14.910+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=7, name=통신비, order=6, active=true
2026-01-08T12:51:14.911+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=8, name=차량비, order=7, active=true
2026-01-08T12:51:14.913+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=9, name=도서/인쇄, order=8, active=true
2026-01-08T12:51:14.914+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=10, name=세금/공과금, order=9, active=true
2026-01-08T12:51:14.916+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=11, name=급여, order=10, active=true
2026-01-08T12:51:14.918+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=12, name=기타, order=11, active=true
2026-01-08T12:51:14.921+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:51:14.934+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-08T12:51:14.963+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:51:16.280+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/account-codes/list
2026-01-08T12:51:16.300+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/account-codes/list
2026-01-08T12:51:16.318+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/account-codes/list
2026-01-08T12:51:16.321+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/account-codes/list
2026-01-08T12:51:16.323+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/account-codes/list", parameters={}
2026-01-08T12:51:16.326+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AccountCodeController#getMappingList()
2026-01-08T12:51:16.329+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:51:16.330+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:51:16.337+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:51:16.351+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c6294b7] was not registered for synchronization because synchronization is not active
2026-01-08T12:51:16.362+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@827128867 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:51:16.365+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.A.findAll                        : ==>  Preparing: SELECT * FROM account_code_mapping_tb ORDER BY company_id DESC, category ASC, account_name ASC
2026-01-08T12:51:16.365+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.A.findAll                        : ==> Parameters: 
2026-01-08T12:51:16.368+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.A.findAll                        : <==      Total: 1
2026-01-08T12:51:16.369+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c6294b7]
2026-01-08T12:51:16.371+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:51:16.372+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[AccountCodeMappingDto(mappingId=2, companyId=null, ca (truncated)...]
2026-01-08T12:51:16.376+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:51:18.453+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/account-codes/2
2026-01-08T12:51:18.462+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing DELETE /api/account-codes/2
2026-01-08T12:51:18.466+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/account-codes/2
2026-01-08T12:51:18.467+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured DELETE /api/account-codes/2
2026-01-08T12:51:18.470+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : DELETE "/api/account-codes/2", parameters={}
2026-01-08T12:51:18.544+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AccountCodeController#deleteMapping(Long)
2026-01-08T12:51:18.567+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.deleteMapping(java.lang.Long); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:51:18.580+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.deleteMapping(java.lang.Long); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:51:18.601+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:51:18.602+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e8bb816]
2026-01-08T12:51:18.603+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2090947242 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will be managed by Spring
2026-01-08T12:51:18.603+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.A.findById                       : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE mapping_id = ? AND (company_id = ? OR company_id IS NULL)
2026-01-08T12:51:18.604+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.A.findById                       : ==> Parameters: 2(Long), null
2026-01-08T12:51:18.612+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.A.findById                       : <==      Total: 1
2026-01-08T12:51:18.614+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e8bb816]
2026-01-08T12:51:18.614+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e8bb816] from current transaction
2026-01-08T12:51:18.614+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.AccountCodeMappingMapper.delete  : ==>  Preparing: DELETE FROM account_code_mapping_tb WHERE mapping_id = ? AND (company_id = ? OR company_id IS NULL)
2026-01-08T12:51:18.615+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.AccountCodeMappingMapper.delete  : ==> Parameters: 2(Long), null
2026-01-08T12:51:18.618+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.AccountCodeMappingMapper.delete  : <==    Updates: 1
2026-01-08T12:51:18.618+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e8bb816]
2026-01-08T12:51:18.618+09:00  INFO 5336 --- [http-nio-8080-exec-9] c.i.backend.service.AccountCodeService   : 계정 과목 매핑 삭제 완료 - mappingId: 2, companyId: null, role: SUPERADMIN
2026-01-08T12:51:18.619+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e8bb816]
2026-01-08T12:51:18.619+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e8bb816]
2026-01-08T12:51:18.620+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e8bb816]
2026-01-08T12:51:18.629+09:00  INFO 5336 --- [http-nio-8080-exec-9] c.i.b.controller.AccountCodeController   : 계정 과목 매핑 삭제 완료 - mappingId: 2
2026-01-08T12:51:18.630+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:51:18.630+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=계정 과목 매핑이 삭제되었습니다., data=null)]
2026-01-08T12:51:18.631+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:51:19.241+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/account-codes/list
2026-01-08T12:51:19.251+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/account-codes/list
2026-01-08T12:51:19.255+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/account-codes/list
2026-01-08T12:51:19.263+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/account-codes/list
2026-01-08T12:51:19.263+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/account-codes/list", parameters={}
2026-01-08T12:51:19.264+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AccountCodeController#getMappingList()
2026-01-08T12:51:19.265+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:51:19.266+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:51:19.268+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:51:19.268+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@220650b8] was not registered for synchronization because synchronization is not active
2026-01-08T12:51:19.271+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@139428049 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:51:19.276+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.A.findAll                        : ==>  Preparing: SELECT * FROM account_code_mapping_tb ORDER BY company_id DESC, category ASC, account_name ASC
2026-01-08T12:51:19.277+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.A.findAll                        : ==> Parameters: 
2026-01-08T12:51:19.285+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.A.findAll                        : <==      Total: 0
2026-01-08T12:51:19.287+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@220650b8]
2026-01-08T12:51:19.288+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:51:19.295+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-01-08T12:51:19.298+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:51:20.351+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/global
2026-01-08T12:51:20.358+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/global
2026-01-08T12:51:20.382+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/expense-categories/global
2026-01-08T12:51:20.384+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/global
2026-01-08T12:51:20.385+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/global", parameters={}
2026-01-08T12:51:20.386+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getGlobalCategories()
2026-01-08T12:51:20.387+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getGlobalCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:51:20.391+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getGlobalCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:51:20.393+09:00  INFO 5336 --- [http-nio-8080-exec-3] c.i.b.service.ExpenseCategoryService     : 전역 카테고리 조회 시작
2026-01-08T12:51:20.395+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:51:20.396+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40133402] was not registered for synchronization because synchronization is not active
2026-01-08T12:51:20.399+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@133124911 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:51:20.402+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.E.findGlobalCategories           : ==>  Preparing: SELECT ec.*, 1 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec LEFT JOIN user_tb u ON ec.created_by = u.user_id WHERE ec.company_id IS NULL AND (ec.is_active IS NULL OR ec.is_active = 1) ORDER BY ec.display_order ASC, ec.category_name ASC
2026-01-08T12:51:20.406+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.E.findGlobalCategories           : ==> Parameters: 
2026-01-08T12:51:20.427+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.E.findGlobalCategories           : <==      Total: 12
2026-01-08T12:51:20.434+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40133402]
2026-01-08T12:51:20.435+09:00  INFO 5336 --- [http-nio-8080-exec-3] c.i.b.service.ExpenseCategoryService     : 전역 카테고리 조회 완료 - 항목 수: 12
2026-01-08T12:51:20.437+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=1, name=식비/회식, order=0, active=true
2026-01-08T12:51:20.437+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=3, name=거래처 접대, order=1, active=true
2026-01-08T12:51:20.438+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=2, name=출장/교통비, order=2, active=true
2026-01-08T12:51:20.438+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=5, name=수수료, order=3, active=true
2026-01-08T12:51:20.438+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=6, name=광고/홍보, order=4, active=true
2026-01-08T12:51:20.440+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=4, name=사무용품, order=5, active=true
2026-01-08T12:51:20.441+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=7, name=통신비, order=6, active=true
2026-01-08T12:51:20.442+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=8, name=차량비, order=7, active=true
2026-01-08T12:51:20.443+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=9, name=도서/인쇄, order=8, active=true
2026-01-08T12:51:20.444+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=10, name=세금/공과금, order=9, active=true
2026-01-08T12:51:20.445+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=11, name=급여, order=10, active=true
2026-01-08T12:51:20.445+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=12, name=기타, order=11, active=true
2026-01-08T12:51:20.446+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:51:20.447+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-08T12:51:20.450+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:52:54.562+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/account-codes/list
2026-01-08T12:52:54.896+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/account-codes/list
2026-01-08T12:52:54.909+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/account-codes/list
2026-01-08T12:52:54.917+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/account-codes/list
2026-01-08T12:52:54.925+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/account-codes/list", parameters={}
2026-01-08T12:52:54.928+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AccountCodeController#getMappingList()
2026-01-08T12:52:54.933+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:52:54.999+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:52:55.078+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:52:55.080+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44066157] was not registered for synchronization because synchronization is not active
2026-01-08T12:52:55.128+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1325271591 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:52:55.135+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.m.A.findAll                        : ==>  Preparing: SELECT * FROM account_code_mapping_tb ORDER BY company_id DESC, category ASC, account_name ASC
2026-01-08T12:52:55.146+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.m.A.findAll                        : ==> Parameters: 
2026-01-08T12:52:55.169+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.m.A.findAll                        : <==      Total: 0
2026-01-08T12:52:55.191+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44066157]
2026-01-08T12:52:55.194+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:52:55.206+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-01-08T12:52:55.217+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:52:58.624+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:52:58.669+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T12:52:58.669+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/users
2026-01-08T12:52:58.672+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/reports/summary
2026-01-08T12:52:58.674+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/subscriptions
2026-01-08T12:52:58.674+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/companies
2026-01-08T12:52:58.684+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/payments
2026-01-08T12:52:58.719+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/expenses?page=1&size=1
2026-01-08T12:52:58.730+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2026-01-08T12:52:58.733+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:52:58.735+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T12:52:58.738+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/reports/summary
2026-01-08T12:52:58.743+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/users
2026-01-08T12:52:58.744+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/companies
2026-01-08T12:52:58.759+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/subscriptions
2026-01-08T12:52:58.759+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/payments
2026-01-08T12:52:58.760+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/expenses?page=1&size=1
2026-01-08T12:52:58.761+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:52:58.799+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T12:52:58.823+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/expenses/pending-approvals
2026-01-08T12:52:58.800+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/users
2026-01-08T12:52:58.826+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/expenses/tax/revision-requests
2026-01-08T12:52:58.800+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/reports/summary
2026-01-08T12:52:58.825+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:52:58.829+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T12:52:58.830+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/superadmin/users
2026-01-08T12:52:58.830+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:52:58.831+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/superadmin/reports/summary
2026-01-08T12:52:58.849+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/subscriptions
2026-01-08T12:52:58.850+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/companies
2026-01-08T12:52:58.863+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T12:52:58.899+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/users
2026-01-08T12:52:58.917+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T12:52:58.901+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:52:58.903+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/reports/summary
2026-01-08T12:52:58.910+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/superadmin/subscriptions
2026-01-08T12:52:58.913+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/superadmin/companies
2026-01-08T12:52:58.917+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/users", parameters={}
2026-01-08T12:52:58.919+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:52:58.924+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:52:58.931+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/reports/summary", parameters={}
2026-01-08T12:52:58.932+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/subscriptions
2026-01-08T12:52:58.933+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/companies
2026-01-08T12:52:58.934+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllUsers()
2026-01-08T12:52:58.934+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@703c175e] was not registered for synchronization because synchronization is not active
2026-01-08T12:52:58.935+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a0163c7] was not registered for synchronization because synchronization is not active
2026-01-08T12:52:58.935+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getDashboardSummary()
2026-01-08T12:52:58.935+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/subscriptions", parameters={}
2026-01-08T12:52:58.936+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/companies", parameters={}
2026-01-08T12:52:58.939+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllUsers(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:52:58.942+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getDashboardSummary(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:52:58.942+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllSubscriptions()
2026-01-08T12:52:58.943+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllCompanies()
2026-01-08T12:52:58.944+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllUsers(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:52:58.945+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getDashboardSummary(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:52:58.945+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllSubscriptions(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:52:58.945+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllCompanies(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:52:58.946+09:00  INFO 5336 --- [http-nio-8080-exec-6] c.i.b.controller.SuperAdminController    : 전체 사용자 목록 조회 요청 - userId: 9
2026-01-08T12:52:58.946+09:00  INFO 5336 --- [http-nio-8080-exec-7] c.i.b.controller.SuperAdminController    : 대시보드 요약 통계 조회 요청 - userId: 9
2026-01-08T12:52:58.947+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllSubscriptions(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:52:58.948+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllCompanies(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:52:58.955+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:52:58.956+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:52:58.957+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1570929684 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:52:58.957+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2065951323 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:52:58.965+09:00  INFO 5336 --- [http-nio-8080-exec-10] c.i.b.controller.SuperAdminController    : 전체 구독 목록 조회 요청 - userId: 9
2026-01-08T12:52:58.968+09:00  INFO 5336 --- [http-nio-8080-exec-8] c.i.b.controller.SuperAdminController    : 전체 회사 목록 조회 요청 - userId: 9
2026-01-08T12:52:58.968+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c87596d] was not registered for synchronization because synchronization is not active
2026-01-08T12:52:58.969+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c08196] was not registered for synchronization because synchronization is not active
2026-01-08T12:52:58.969+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T12:52:58.976+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:52:58.976+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:52:58.981+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:52:58.984+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: null, 9(Long)
2026-01-08T12:52:58.997+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a07e517] was not registered for synchronization because synchronization is not active
2026-01-08T12:52:58.997+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@175cccf1] was not registered for synchronization because synchronization is not active
2026-01-08T12:52:58.998+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 9(Long), null
2026-01-08T12:52:59.010+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1406195253 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:52:59.011+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1809015507 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ac0fa7] will not be managed by Spring
2026-01-08T12:52:59.016+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectAllUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status, created_at, updated_at FROM user_tb ORDER BY user_id
2026-01-08T12:52:59.017+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectAllUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status, created_at, updated_at FROM user_tb ORDER BY user_id
2026-01-08T12:52:59.018+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectAllUsers   : ==> Parameters: 
2026-01-08T12:52:59.018+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T12:52:59.018+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T12:52:59.018+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@905780764 wrapping com.mysql.cj.jdbc.ConnectionImpl@70ff8e67] will not be managed by Spring
2026-01-08T12:52:59.026+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectAllUsers   : ==> Parameters: 
2026-01-08T12:52:59.028+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a0163c7]
2026-01-08T12:52:59.028+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@703c175e]
2026-01-08T12:52:59.028+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.SubscriptionMapper.findAll  : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id ORDER BY s.created_at DESC
2026-01-08T12:52:59.029+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@497330049 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:52:59.030+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:52:59.031+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.SubscriptionMapper.findAll  : ==> Parameters: 
2026-01-08T12:52:59.034+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.mapper.CompanyMapper.findAll       : ==>  Preparing: SELECT * FROM company_tb ORDER BY created_at DESC
2026-01-08T12:52:59.034+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:52:59.035+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T12:52:59.039+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectAllUsers   : <==      Total: 12
2026-01-08T12:52:59.040+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectAllUsers   : <==      Total: 12
2026-01-08T12:52:59.043+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T12:52:59.043+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.mapper.CompanyMapper.findAll       : ==> Parameters: 
2026-01-08T12:52:59.044+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c08196]
2026-01-08T12:52:59.044+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c87596d]
2026-01-08T12:52:59.044+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:52:59.045+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:52:59.047+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:52:59.047+09:00  INFO 5336 --- [http-nio-8080-exec-6] c.i.b.controller.SuperAdminController    : 전체 사용자 목록 조회 완료 - count: 12
2026-01-08T12:52:59.050+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23958918] was not registered for synchronization because synchronization is not active
2026-01-08T12:52:59.051+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:52:59.059+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/expenses?page=1&size=1
2026-01-08T12:52:59.059+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/payments
2026-01-08T12:52:59.067+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1774072453 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:52:59.099+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.mapper.CompanyMapper.findAll       : ==>  Preparing: SELECT * FROM company_tb ORDER BY created_at DESC
2026-01-08T12:52:59.076+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.mapper.CompanyMapper.findAll       : <==      Total: 7
2026-01-08T12:52:59.081+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:52:59.090+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passwo (truncated)...]
2026-01-08T12:52:59.095+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/superadmin/payments
2026-01-08T12:52:59.098+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/superadmin/expenses
2026-01-08T12:52:59.101+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.mapper.CompanyMapper.findAll       : ==> Parameters: 
2026-01-08T12:52:59.119+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@175cccf1]
2026-01-08T12:52:59.121+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:52:59.141+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:52:59.146+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/payments
2026-01-08T12:52:59.149+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/expenses?page=1&size=1
2026-01-08T12:52:59.150+09:00  INFO 5336 --- [http-nio-8080-exec-8] c.i.b.controller.SuperAdminController    : 전체 회사 목록 조회 완료 - count: 7
2026-01-08T12:52:59.150+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/payments", parameters={}
2026-01-08T12:52:59.151+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/expenses?page=1&size=1", parameters={masked}
2026-01-08T12:52:59.151+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllPayments()
2026-01-08T12:52:59.151+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:52:59.151+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getExpenseListForSuperAdmin(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, Long)
2026-01-08T12:52:59.152+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllPayments(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:52:59.152+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 회사 목록 조회 성공, data=[CompanyDto(companyId=7, companyCode=PC8UJT,  (truncated)...]
2026-01-08T12:52:59.157+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getExpenseListForSuperAdmin(int,int,java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.lang.String[],java.lang.String,java.lang.Boolean,java.lang.Boolean,java.lang.String,java.lang.Long); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:52:59.154+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllPayments(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:52:59.159+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:52:59.160+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getExpenseListForSuperAdmin(int,int,java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.lang.String[],java.lang.String,java.lang.Boolean,java.lang.Boolean,java.lang.String,java.lang.Long); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:52:59.160+09:00  INFO 5336 --- [http-nio-8080-exec-9] c.i.b.controller.SuperAdminController    : 전체 결제 내역 조회 요청 - userId: 9
2026-01-08T12:52:59.161+09:00  INFO 5336 --- [http-nio-8080-exec-2] c.i.b.controller.SuperAdminController    : 회사별 지출결의서 목록 조회 요청 - userId: 9, companyId: null, page: 1, size: 1
2026-01-08T12:52:59.162+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:52:59.163+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:52:59.163+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a5d1c22] was not registered for synchronization because synchronization is not active
2026-01-08T12:52:59.164+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11bdc755] was not registered for synchronization because synchronization is not active
2026-01-08T12:52:59.164+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2072166094 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:52:59.164+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.mapper.PaymentMapper.findAll       : ==>  Preparing: SELECT p.* FROM payment_tb p ORDER BY p.payment_date DESC, p.created_at DESC
2026-01-08T12:52:59.165+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.mapper.PaymentMapper.findAll       : ==> Parameters: 
2026-01-08T12:52:59.174+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:52:59.181+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/expenses/pending-approvals
2026-01-08T12:52:59.182+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T12:52:59.182+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:52:59.183+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:52:59.184+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:52:59.190+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/expenses/tax/revision-requests
2026-01-08T12:52:59.191+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T12:52:59.190+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:52:59.192+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56648da5] was not registered for synchronization because synchronization is not active
2026-01-08T12:52:59.192+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T12:52:59.193+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T12:52:59.193+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:52:59.193+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1435868747 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:52:59.197+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:52:59.196+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ca405e4] was not registered for synchronization because synchronization is not active
2026-01-08T12:52:59.198+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1074559288 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ac0fa7] will not be managed by Spring
2026-01-08T12:52:59.199+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T12:52:59.200+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: null, 9(Long)
2026-01-08T12:52:59.198+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 9(Long), null
2026-01-08T12:52:59.211+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:52:59.214+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.SubscriptionMapper.findAll  : <==      Total: 7
2026-01-08T12:52:59.215+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a07e517]
2026-01-08T12:52:59.215+09:00  INFO 5336 --- [http-nio-8080-exec-10] c.i.b.controller.SuperAdminController    : 전체 구독 목록 조회 완료 - count: 7
2026-01-08T12:52:59.216+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:52:59.233+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T12:52:59.234+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.mapper.CompanyMapper.findAll       : <==      Total: 7
2026-01-08T12:52:59.233+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:52:59.235+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56648da5]
2026-01-08T12:52:59.240+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 2(Long)
2026-01-08T12:52:59.235+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23958918]
2026-01-08T12:52:59.241+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:52:59.242+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:52:59.242+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T12:52:59.248+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1980408731 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:52:59.264+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 구독 목록 조회 성공, data=[SubscriptionDto(subscriptionId=7, companyId= (truncated)...]
2026-01-08T12:52:59.264+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T12:52:59.267+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65c7bc11] was not registered for synchronization because synchronization is not active
2026-01-08T12:52:59.268+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:52:59.275+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.E.countExpenseListForSuperAdmin  : ==>  Preparing: SELECT COUNT(*) FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id
2026-01-08T12:52:59.292+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:52:59.293+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ca405e4]
2026-01-08T12:52:59.294+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@389827155 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:52:59.299+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/users
2026-01-08T12:52:59.313+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.E.countExpenseListForSuperAdmin  : ==> Parameters: 
2026-01-08T12:52:59.313+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:52:59.323+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/reports/summary
2026-01-08T12:52:59.326+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.mapper.SubscriptionMapper.findAll  : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id ORDER BY s.created_at DESC
2026-01-08T12:52:59.326+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:52:59.329+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:52:59.342+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 7(Long)
2026-01-08T12:52:59.332+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/superadmin/users
2026-01-08T12:52:59.343+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/users
2026-01-08T12:52:59.334+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.mapper.SubscriptionMapper.findAll  : ==> Parameters: 
2026-01-08T12:52:59.335+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/superadmin/reports/summary
2026-01-08T12:52:59.336+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T12:52:59.346+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/users", parameters={}
2026-01-08T12:52:59.350+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:52:59.349+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/reports/summary
2026-01-08T12:52:59.350+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllUsers()
2026-01-08T12:52:59.357+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/companies
2026-01-08T12:52:59.358+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/reports/summary", parameters={}
2026-01-08T12:52:59.369+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getDashboardSummary()
2026-01-08T12:52:59.379+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getDashboardSummary(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:52:59.366+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllUsers(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:52:59.375+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/superadmin/companies
2026-01-08T12:52:59.380+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getDashboardSummary(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:52:59.380+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllUsers(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:52:59.381+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/companies
2026-01-08T12:52:59.381+09:00  INFO 5336 --- [http-nio-8080-exec-5] c.i.b.controller.SuperAdminController    : 대시보드 요약 통계 조회 요청 - userId: 9
2026-01-08T12:52:59.381+09:00  INFO 5336 --- [http-nio-8080-exec-4] c.i.b.controller.SuperAdminController    : 전체 사용자 목록 조회 요청 - userId: 9
2026-01-08T12:52:59.384+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:52:59.385+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.E.countExpenseListForSuperAdmin  : <==      Total: 1
2026-01-08T12:52:59.395+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11bdc755]
2026-01-08T12:52:59.392+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/companies", parameters={}
2026-01-08T12:52:59.393+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:52:59.394+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:52:59.395+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:52:59.397+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:52:59.398+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllCompanies()
2026-01-08T12:52:59.399+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4257ebac] was not registered for synchronization because synchronization is not active
2026-01-08T12:52:59.399+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f86dab8] was not registered for synchronization because synchronization is not active
2026-01-08T12:52:59.400+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 1(Long)
2026-01-08T12:52:59.400+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a26adc0] was not registered for synchronization because synchronization is not active
2026-01-08T12:52:59.400+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllCompanies(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:52:59.401+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1076882579 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:52:59.402+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1486946370 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ac0fa7] will not be managed by Spring
2026-01-08T12:52:59.409+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@743166095 wrapping com.mysql.cj.jdbc.ConnectionImpl@70ff8e67] will not be managed by Spring
2026-01-08T12:52:59.410+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllCompanies(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:52:59.410+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectAllUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status, created_at, updated_at FROM user_tb ORDER BY user_id
2026-01-08T12:52:59.415+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectAllUsers   : ==> Parameters: 
2026-01-08T12:52:59.411+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectAllUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status, created_at, updated_at FROM user_tb ORDER BY user_id
2026-01-08T12:52:59.411+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListForSuperAdmin : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, c.company_name AS companyName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id LEFT JOIN company_tb c ON r.company_id = c.company_id ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:52:59.414+09:00  INFO 5336 --- [http-nio-8080-exec-6] c.i.b.controller.SuperAdminController    : 전체 회사 목록 조회 요청 - userId: 9
2026-01-08T12:52:59.416+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectAllUsers   : ==> Parameters: 
2026-01-08T12:52:59.417+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:52:59.417+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListForSuperAdmin : ==> Parameters: 1(Integer), 0(Integer)
2026-01-08T12:52:59.423+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:52:59.433+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ba5f99f] was not registered for synchronization because synchronization is not active
2026-01-08T12:52:59.434+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:52:59.440+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@286378694 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:52:59.442+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.mapper.CompanyMapper.findAll       : ==>  Preparing: SELECT * FROM company_tb ORDER BY created_at DESC
2026-01-08T12:52:59.454+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionPlanMapper.findById  : ======>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:52:59.455+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectAllUsers   : <==      Total: 12
2026-01-08T12:52:59.457+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectAllUsers   : <==      Total: 12
2026-01-08T12:52:59.464+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.mapper.CompanyMapper.findAll       : ==> Parameters: 
2026-01-08T12:52:59.465+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionPlanMapper.findById  : ======> Parameters: 1(Long)
2026-01-08T12:52:59.465+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f86dab8]
2026-01-08T12:52:59.465+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4257ebac]
2026-01-08T12:52:59.467+09:00  INFO 5336 --- [http-nio-8080-exec-4] c.i.b.controller.SuperAdminController    : 전체 사용자 목록 조회 완료 - count: 12
2026-01-08T12:52:59.469+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:52:59.476+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:52:59.476+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@503ed03f] was not registered for synchronization because synchronization is not active
2026-01-08T12:52:59.477+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passwo (truncated)...]
2026-01-08T12:52:59.477+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@759778079 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:52:59.589+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.mapper.CompanyMapper.findAll       : ==>  Preparing: SELECT * FROM company_tb ORDER BY created_at DESC
2026-01-08T12:52:59.590+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:52:59.481+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:52:59.590+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.mapper.CompanyMapper.findAll       : ==> Parameters: 
2026-01-08T12:52:59.592+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2026-01-08T12:52:59.598+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.mapper.SubscriptionMapper.findAll  : <==      Total: 7
2026-01-08T12:52:59.601+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/companies
2026-01-08T12:52:59.605+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65c7bc11]
2026-01-08T12:52:59.606+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2026-01-08T12:52:59.608+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2026-01-08T12:52:59.607+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:52:59.608+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2026-01-08T12:52:59.608+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c67475a] was not registered for synchronization because synchronization is not active
2026-01-08T12:52:59.609+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:52:59.610+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@234eb9d7] was not registered for synchronization because synchronization is not active
2026-01-08T12:52:59.609+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1513849034 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:52:59.612+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1109099098 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ac0fa7] will not be managed by Spring
2026-01-08T12:52:59.748+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionPlanMapper.findById  : <======      Total: 1
2026-01-08T12:52:59.756+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.mapper.CompanyMapper.findAll       : <==      Total: 7
2026-01-08T12:52:59.756+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.mapper.CompanyMapper.findAll       : <==      Total: 7
2026-01-08T12:52:59.877+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:52:59.850+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.mapper.PaymentMapper.findAll       : ==>  Preparing: SELECT p.* FROM payment_tb p ORDER BY p.payment_date DESC, p.created_at DESC
2026-01-08T12:52:59.901+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.mapper.PaymentMapper.findAll       : ==> Parameters: 
2026-01-08T12:52:59.876+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2026-01-08T12:52:59.907+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 9(Long)
2026-01-08T12:52:59.877+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ba5f99f]
2026-01-08T12:52:59.877+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@503ed03f]
2026-01-08T12:52:59.877+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.mapper.PaymentMapper.findAll       : <==      Total: 4
2026-01-08T12:52:59.928+09:00  INFO 5336 --- [http-nio-8080-exec-6] c.i.b.controller.SuperAdminController    : 전체 회사 목록 조회 완료 - count: 7
2026-01-08T12:52:59.946+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:52:59.947+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a5d1c22]
2026-01-08T12:52:59.954+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListForSuperAdmin : <==      Total: 1
2026-01-08T12:52:59.961+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:52:59.962+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c5654ae] was not registered for synchronization because synchronization is not active
2026-01-08T12:52:59.963+09:00  INFO 5336 --- [http-nio-8080-exec-9] c.i.b.controller.SuperAdminController    : 전체 결제 내역 조회 완료 - count: 4
2026-01-08T12:52:59.963+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a26adc0]
2026-01-08T12:52:59.964+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:52:59.963+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 회사 목록 조회 성공, data=[CompanyDto(companyId=7, companyCode=PC8UJT,  (truncated)...]
2026-01-08T12:52:59.964+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@727492186 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:52:59.965+09:00  INFO 5336 --- [http-nio-8080-exec-2] c.i.b.controller.SuperAdminController    : 회사별 지출결의서 목록 조회 완료 - totalElements: 29
2026-01-08T12:52:59.965+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 결제 내역 조회 성공, data=[PaymentDto(paymentId=11, subscriptionId=2, a (truncated)...]
2026-01-08T12:52:59.967+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:52:59.967+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.mapper.SubscriptionMapper.findAll  : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id ORDER BY s.created_at DESC
2026-01-08T12:52:59.968+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:52:59.976+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:52:59.977+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.mapper.SubscriptionMapper.findAll  : ==> Parameters: 
2026-01-08T12:52:59.994+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=지출결의서 목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expen (truncated)...]
2026-01-08T12:53:00.001+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 1
2026-01-08T12:53:00.001+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:53:00.015+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/subscriptions
2026-01-08T12:53:00.015+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/expenses?page=1&size=1
2026-01-08T12:53:00.018+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@234eb9d7]
2026-01-08T12:53:00.021+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 2(Long)
2026-01-08T12:53:00.027+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:00.057+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:53:00.080+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/superadmin/subscriptions
2026-01-08T12:53:00.084+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/superadmin/expenses
2026-01-08T12:53:00.086+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:00.104+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/payments
2026-01-08T12:53:00.105+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:53:00.151+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:53:00.165+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/subscriptions
2026-01-08T12:53:00.250+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/subscriptions", parameters={}
2026-01-08T12:53:00.180+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/expenses?page=1&size=1
2026-01-08T12:53:00.181+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=4, companyCode=JIIST3, companyNa (truncated)...]
2026-01-08T12:53:00.184+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/superadmin/payments
2026-01-08T12:53:00.219+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:53:00.245+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:53:00.252+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllSubscriptions()
2026-01-08T12:53:00.285+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 7(Long)
2026-01-08T12:53:00.265+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/expenses?page=1&size=1", parameters={masked}
2026-01-08T12:53:00.269+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/payments
2026-01-08T12:53:00.271+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:00.285+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.mapper.SubscriptionMapper.findAll  : <==      Total: 7
2026-01-08T12:53:00.285+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllSubscriptions(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:53:00.292+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getExpenseListForSuperAdmin(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, Long)
2026-01-08T12:53:00.297+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/payments", parameters={}
2026-01-08T12:53:00.303+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:53:00.328+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:53:00.339+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c5654ae]
2026-01-08T12:53:00.354+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:00.349+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllSubscriptions(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:53:00.350+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getExpenseListForSuperAdmin(int,int,java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.lang.String[],java.lang.String,java.lang.Boolean,java.lang.Boolean,java.lang.String,java.lang.Long); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:53:00.350+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllPayments()
2026-01-08T12:53:00.351+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:53:00.357+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T12:53:00.358+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47af5e65] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:00.359+09:00  INFO 5336 --- [http-nio-8080-exec-8] c.i.b.controller.SuperAdminController    : 전체 구독 목록 조회 요청 - userId: 9
2026-01-08T12:53:00.359+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getExpenseListForSuperAdmin(int,int,java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.lang.String[],java.lang.String,java.lang.Boolean,java.lang.Boolean,java.lang.String,java.lang.Long); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:53:00.360+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllPayments(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:53:00.360+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 1(Long)
2026-01-08T12:53:00.362+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@709207119 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:53:00.368+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/reports/summary
2026-01-08T12:53:00.375+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:00.376+09:00  INFO 5336 --- [http-nio-8080-exec-3] c.i.b.controller.SuperAdminController    : 회사별 지출결의서 목록 조회 요청 - userId: 9, companyId: null, page: 1, size: 1
2026-01-08T12:53:00.377+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllPayments(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:53:00.385+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.mapper.PaymentMapper.findAll       : ==>  Preparing: SELECT p.* FROM payment_tb p ORDER BY p.payment_date DESC, p.created_at DESC
2026-01-08T12:53:00.392+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionPlanMapper.findById  : ======>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:53:00.395+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73598721] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:00.401+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:00.402+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/users
2026-01-08T12:53:00.402+09:00  INFO 5336 --- [http-nio-8080-exec-10] c.i.b.controller.SuperAdminController    : 전체 결제 내역 조회 요청 - userId: 9
2026-01-08T12:53:00.409+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.mapper.PaymentMapper.findAll       : ==> Parameters: 
2026-01-08T12:53:00.409+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionPlanMapper.findById  : ======> Parameters: 1(Long)
2026-01-08T12:53:00.409+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1002125318 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:53:00.410+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27ba66ee] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:00.417+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:00.431+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1623122316 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ac0fa7] will not be managed by Spring
2026-01-08T12:53:00.423+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/companies
2026-01-08T12:53:00.430+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.mapper.SubscriptionMapper.findAll  : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id ORDER BY s.created_at DESC
2026-01-08T12:53:00.431+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a4a1586] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:00.432+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.E.countExpenseListForSuperAdmin  : ==>  Preparing: SELECT COUNT(*) FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id
2026-01-08T12:53:00.457+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/subscriptions
2026-01-08T12:53:00.466+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.E.countExpenseListForSuperAdmin  : ==> Parameters: 
2026-01-08T12:53:00.458+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.mapper.SubscriptionMapper.findAll  : ==> Parameters: 
2026-01-08T12:53:00.461+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionPlanMapper.findById  : <======      Total: 1
2026-01-08T12:53:00.461+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:53:00.465+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@959943834 wrapping com.mysql.cj.jdbc.ConnectionImpl@70ff8e67] will not be managed by Spring
2026-01-08T12:53:00.481+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/payments
2026-01-08T12:53:00.526+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:53:00.532+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 2(Long)
2026-01-08T12:53:00.535+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.E.countExpenseListForSuperAdmin  : <==      Total: 1
2026-01-08T12:53:00.538+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:53:00.566+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.PaymentMapper.findAll       : ==>  Preparing: SELECT p.* FROM payment_tb p ORDER BY p.payment_date DESC, p.created_at DESC
2026-01-08T12:53:00.581+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:53:00.580+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.mapper.PaymentMapper.findAll       : <==      Total: 4
2026-01-08T12:53:00.580+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27ba66ee]
2026-01-08T12:53:00.581+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.PaymentMapper.findAll       : ==> Parameters: 
2026-01-08T12:53:00.582+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c67475a]
2026-01-08T12:53:00.582+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:00.599+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/expenses?page=1&size=1
2026-01-08T12:53:00.601+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3396b99f] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:00.608+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:00.609+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1198466069 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ac0fa7] will not be managed by Spring
2026-01-08T12:53:00.615+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:53:00.616+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:53:00.625+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:53:00.628+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListForSuperAdmin : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, c.company_name AS companyName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id LEFT JOIN company_tb c ON r.company_id = c.company_id ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:53:00.629+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.mapper.SubscriptionMapper.findAll  : <==      Total: 7
2026-01-08T12:53:00.645+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListForSuperAdmin : ==> Parameters: 1(Integer), 0(Integer)
2026-01-08T12:53:00.630+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 요약 통계 조회 성공, data=AdminReportService.DashboardSummaryDto(tota (truncated)...]
2026-01-08T12:53:00.635+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:53:00.643+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:53:00.645+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73598721]
2026-01-08T12:53:00.649+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 7(Long)
2026-01-08T12:53:00.647+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/expenses/pending-approvals
2026-01-08T12:53:00.648+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:00.649+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 2(Long)
2026-01-08T12:53:00.649+09:00  INFO 5336 --- [http-nio-8080-exec-8] c.i.b.controller.SuperAdminController    : 전체 구독 목록 조회 완료 - count: 7
2026-01-08T12:53:00.726+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:53:00.742+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:53:00.745+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListForSuperAdmin : <==      Total: 1
2026-01-08T12:53:00.797+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T12:53:00.817+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:00.826+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:53:00.836+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:53:00.838+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3396b99f]
2026-01-08T12:53:00.838+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:53:00.840+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:53:00.840+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 구독 목록 조회 성공, data=[SubscriptionDto(subscriptionId=7, companyId= (truncated)...]
2026-01-08T12:53:00.842+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/expenses/tax/revision-requests
2026-01-08T12:53:00.897+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:53:00.898+09:00  INFO 5336 --- [http-nio-8080-exec-3] c.i.b.controller.SuperAdminController    : 회사별 지출결의서 목록 조회 완료 - totalElements: 29
2026-01-08T12:53:00.898+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 1(Long)
2026-01-08T12:53:00.899+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 7(Long)
2026-01-08T12:53:00.959+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:00.970+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T12:53:00.983+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:00.984+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:01.002+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/reports/summary
2026-01-08T12:53:01.002+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T12:53:01.009+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionPlanMapper.findById  : ======>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:53:01.010+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:53:01.010+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ddfdd6c] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:01.014+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=지출결의서 목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expen (truncated)...]
2026-01-08T12:53:01.014+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T12:53:01.015+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionPlanMapper.findById  : ======> Parameters: 1(Long)
2026-01-08T12:53:01.017+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:53:01.017+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/superadmin/reports/summary
2026-01-08T12:53:01.017+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1935099644 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:53:01.023+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:01.024+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:01.028+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 1(Long)
2026-01-08T12:53:01.028+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/reports/summary
2026-01-08T12:53:01.029+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:53:01.029+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38cc3c9f] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:01.031+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/users
2026-01-08T12:53:01.035+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/reports/summary", parameters={}
2026-01-08T12:53:01.043+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 9(Long), null
2026-01-08T12:53:01.044+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1847241296 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ac0fa7] will not be managed by Spring
2026-01-08T12:53:01.046+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/superadmin/users
2026-01-08T12:53:01.047+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionPlanMapper.findById  : <======      Total: 1
2026-01-08T12:53:01.074+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:53:01.050+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getDashboardSummary()
2026-01-08T12:53:01.061+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T12:53:01.061+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/users
2026-01-08T12:53:01.062+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.SubscriptionPlanMapper.findById  : ======>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:53:01.075+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.mapper.PaymentMapper.findAll       : <==      Total: 4
2026-01-08T12:53:01.078+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getDashboardSummary(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:53:01.079+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T12:53:01.084+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: null, 9(Long)
2026-01-08T12:53:01.105+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ddfdd6c]
2026-01-08T12:53:01.085+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/users", parameters={}
2026-01-08T12:53:01.107+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllUsers()
2026-01-08T12:53:01.102+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.SubscriptionPlanMapper.findById  : ======> Parameters: 1(Long)
2026-01-08T12:53:01.108+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllUsers(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:53:01.104+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47af5e65]
2026-01-08T12:53:01.105+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getDashboardSummary(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:53:01.107+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:01.109+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllUsers(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:53:01.128+09:00  INFO 5336 --- [http-nio-8080-exec-1] c.i.b.controller.SuperAdminController    : 대시보드 요약 통계 조회 요청 - userId: 9
2026-01-08T12:53:01.128+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:01.144+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T12:53:01.145+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T12:53:01.146+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.SubscriptionPlanMapper.findById  : <======      Total: 1
2026-01-08T12:53:01.162+09:00  INFO 5336 --- [http-nio-8080-exec-6] c.i.b.controller.SuperAdminController    : 전체 사용자 목록 조회 요청 - userId: 9
2026-01-08T12:53:01.179+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:01.165+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:01.166+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 요약 통계 조회 성공, data=AdminReportService.DashboardSummaryDto(tota (truncated)...]
2026-01-08T12:53:01.170+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38cc3c9f]
2026-01-08T12:53:01.173+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:01.176+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:53:01.180+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@524af3b4] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:01.180+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e1ddbc9] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:01.182+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:01.192+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:01.205+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/companies
2026-01-08T12:53:01.209+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.PaymentMapper.findAll       : <==      Total: 4
2026-01-08T12:53:01.213+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1757393735 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ac0fa7] will not be managed by Spring
2026-01-08T12:53:01.213+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T12:53:01.215+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/subscriptions
2026-01-08T12:53:01.217+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a4a1586]
2026-01-08T12:53:01.217+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectAllUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status, created_at, updated_at FROM user_tb ORDER BY user_id
2026-01-08T12:53:01.220+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:01.223+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/superadmin/companies
2026-01-08T12:53:01.250+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/companies
2026-01-08T12:53:01.240+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/superadmin/subscriptions
2026-01-08T12:53:01.245+09:00  INFO 5336 --- [http-nio-8080-exec-10] c.i.b.controller.SuperAdminController    : 전체 결제 내역 조회 완료 - count: 4
2026-01-08T12:53:01.245+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectAllUsers   : ==> Parameters: 
2026-01-08T12:53:01.247+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@914882864 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:53:01.258+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/payments
2026-01-08T12:53:01.262+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/companies", parameters={}
2026-01-08T12:53:01.267+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllCompanies()
2026-01-08T12:53:01.263+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/subscriptions
2026-01-08T12:53:01.265+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:01.266+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectAllUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status, created_at, updated_at FROM user_tb ORDER BY user_id
2026-01-08T12:53:01.268+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllCompanies(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:53:01.269+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/subscriptions", parameters={}
2026-01-08T12:53:01.271+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/superadmin/payments
2026-01-08T12:53:01.273+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 결제 내역 조회 성공, data=[PaymentDto(paymentId=11, subscriptionId=2, a (truncated)...]
2026-01-08T12:53:01.274+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectAllUsers   : ==> Parameters: 
2026-01-08T12:53:01.275+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllCompanies(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:53:01.282+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllSubscriptions()
2026-01-08T12:53:01.282+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/payments
2026-01-08T12:53:01.284+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:01.285+09:00  INFO 5336 --- [http-nio-8080-exec-9] c.i.b.controller.SuperAdminController    : 전체 회사 목록 조회 요청 - userId: 9
2026-01-08T12:53:01.285+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllSubscriptions(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:53:01.286+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/payments", parameters={}
2026-01-08T12:53:01.295+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/expenses?page=1&size=1
2026-01-08T12:53:01.300+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:01.302+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllSubscriptions(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:53:01.302+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllPayments()
2026-01-08T12:53:01.307+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/superadmin/expenses
2026-01-08T12:53:01.318+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectAllUsers   : <==      Total: 12
2026-01-08T12:53:01.329+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e11a05e] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:01.330+09:00  INFO 5336 --- [http-nio-8080-exec-7] c.i.b.controller.SuperAdminController    : 전체 구독 목록 조회 요청 - userId: 9
2026-01-08T12:53:01.331+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllPayments(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:53:01.332+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/expenses?page=1&size=1
2026-01-08T12:53:01.337+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectAllUsers   : <==      Total: 12
2026-01-08T12:53:01.346+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e1ddbc9]
2026-01-08T12:53:01.348+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1643603024 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:53:01.349+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:01.363+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllPayments(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:53:01.380+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/expenses?page=1&size=1", parameters={masked}
2026-01-08T12:53:01.381+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@524af3b4]
2026-01-08T12:53:01.382+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:01.383+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.mapper.CompanyMapper.findAll       : ==>  Preparing: SELECT * FROM company_tb ORDER BY created_at DESC
2026-01-08T12:53:01.384+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8542524] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:01.384+09:00  INFO 5336 --- [http-nio-8080-exec-8] c.i.b.controller.SuperAdminController    : 전체 결제 내역 조회 요청 - userId: 9
2026-01-08T12:53:01.389+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:01.385+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getExpenseListForSuperAdmin(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, Long)
2026-01-08T12:53:01.385+09:00  INFO 5336 --- [http-nio-8080-exec-6] c.i.b.controller.SuperAdminController    : 전체 사용자 목록 조회 완료 - count: 12
2026-01-08T12:53:01.385+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49bf305d] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:01.386+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.mapper.CompanyMapper.findAll       : ==> Parameters: 
2026-01-08T12:53:01.390+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b2fc265] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:01.391+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getExpenseListForSuperAdmin(int,int,java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.lang.String[],java.lang.String,java.lang.Boolean,java.lang.Boolean,java.lang.String,java.lang.Long); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:53:01.392+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:01.393+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getExpenseListForSuperAdmin(int,int,java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.lang.String[],java.lang.String,java.lang.Boolean,java.lang.Boolean,java.lang.String,java.lang.Long); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:53:01.392+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2035054896 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ac0fa7] will not be managed by Spring
2026-01-08T12:53:01.393+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@89245904 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:53:01.394+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passwo (truncated)...]
2026-01-08T12:53:01.394+09:00  INFO 5336 --- [http-nio-8080-exec-3] c.i.b.controller.SuperAdminController    : 회사별 지출결의서 목록 조회 요청 - userId: 9, companyId: null, page: 1, size: 1
2026-01-08T12:53:01.397+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.mapper.CompanyMapper.findAll       : ==>  Preparing: SELECT * FROM company_tb ORDER BY created_at DESC
2026-01-08T12:53:01.401+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:01.400+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.mapper.PaymentMapper.findAll       : ==>  Preparing: SELECT p.* FROM payment_tb p ORDER BY p.payment_date DESC, p.created_at DESC
2026-01-08T12:53:01.400+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:01.401+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.mapper.CompanyMapper.findAll       : ==> Parameters: 
2026-01-08T12:53:01.405+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.mapper.PaymentMapper.findAll       : ==> Parameters: 
2026-01-08T12:53:01.405+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@481c848f] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:01.408+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1321244242 wrapping com.mysql.cj.jdbc.ConnectionImpl@70ff8e67] will not be managed by Spring
2026-01-08T12:53:01.410+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@811398161 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:53:01.413+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.mapper.CompanyMapper.findAll       : <==      Total: 7
2026-01-08T12:53:01.418+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.E.countExpenseListForSuperAdmin  : ==>  Preparing: SELECT COUNT(*) FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id
2026-01-08T12:53:01.418+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.mapper.SubscriptionMapper.findAll  : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id ORDER BY s.created_at DESC
2026-01-08T12:53:01.420+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:53:01.428+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.mapper.CompanyMapper.findAll       : <==      Total: 7
2026-01-08T12:53:01.430+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e11a05e]
2026-01-08T12:53:01.434+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49bf305d]
2026-01-08T12:53:01.431+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.E.countExpenseListForSuperAdmin  : ==> Parameters: 
2026-01-08T12:53:01.432+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.mapper.SubscriptionMapper.findAll  : ==> Parameters: 
2026-01-08T12:53:01.433+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 2(Long)
2026-01-08T12:53:01.434+09:00  INFO 5336 --- [http-nio-8080-exec-9] c.i.b.controller.SuperAdminController    : 전체 회사 목록 조회 완료 - count: 7
2026-01-08T12:53:01.434+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:01.443+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:01.444+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69b640d1] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:01.447+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 회사 목록 조회 성공, data=[CompanyDto(companyId=7, companyCode=PC8UJT,  (truncated)...]
2026-01-08T12:53:01.448+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1505474658 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ac0fa7] will not be managed by Spring
2026-01-08T12:53:01.449+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.mapper.SubscriptionMapper.findAll  : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id ORDER BY s.created_at DESC
2026-01-08T12:53:01.451+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:01.452+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.mapper.SubscriptionMapper.findAll  : ==> Parameters: 
2026-01-08T12:53:01.453+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:53:01.459+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:53:01.465+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:53:01.460+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.E.countExpenseListForSuperAdmin  : <==      Total: 1
2026-01-08T12:53:01.465+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:53:01.466+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 7(Long)
2026-01-08T12:53:01.467+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@481c848f]
2026-01-08T12:53:01.473+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:01.474+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7084d047] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:01.479+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1544555044 wrapping com.mysql.cj.jdbc.ConnectionImpl@70ff8e67] will not be managed by Spring
2026-01-08T12:53:01.480+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:53:01.480+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:53:01.481+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListForSuperAdmin : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, c.company_name AS companyName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id LEFT JOIN company_tb c ON r.company_id = c.company_id ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:53:01.481+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.mapper.SubscriptionMapper.findAll  : <==      Total: 7
2026-01-08T12:53:01.482+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:53:01.483+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8542524]
2026-01-08T12:53:01.483+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListForSuperAdmin : ==> Parameters: 1(Integer), 0(Integer)
2026-01-08T12:53:01.484+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 1(Long)
2026-01-08T12:53:01.484+09:00  INFO 5336 --- [http-nio-8080-exec-7] c.i.b.controller.SuperAdminController    : 전체 구독 목록 조회 완료 - count: 7
2026-01-08T12:53:01.487+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:01.484+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:53:01.491+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 구독 목록 조회 성공, data=[SubscriptionDto(subscriptionId=7, companyId= (truncated)...]
2026-01-08T12:53:01.491+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:53:01.493+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:01.513+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionPlanMapper.findById  : ======>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:53:01.514+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListForSuperAdmin : <==      Total: 1
2026-01-08T12:53:01.519+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7084d047]
2026-01-08T12:53:01.515+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:53:01.519+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionPlanMapper.findById  : ======> Parameters: 1(Long)
2026-01-08T12:53:01.521+09:00  INFO 5336 --- [http-nio-8080-exec-3] c.i.b.controller.SuperAdminController    : 회사별 지출결의서 목록 조회 완료 - totalElements: 29
2026-01-08T12:53:01.522+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.mapper.SubscriptionMapper.findAll  : <==      Total: 7
2026-01-08T12:53:01.523+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:01.524+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69b640d1]
2026-01-08T12:53:01.524+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=지출결의서 목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expen (truncated)...]
2026-01-08T12:53:01.525+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:01.526+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:01.529+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@733e4b90] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:01.530+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@506322639 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ac0fa7] will not be managed by Spring
2026-01-08T12:53:01.540+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.mapper.PaymentMapper.findAll       : ==>  Preparing: SELECT p.* FROM payment_tb p ORDER BY p.payment_date DESC, p.created_at DESC
2026-01-08T12:53:01.546+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionPlanMapper.findById  : <======      Total: 1
2026-01-08T12:53:01.546+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.mapper.PaymentMapper.findAll       : ==> Parameters: 
2026-01-08T12:53:01.547+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:53:01.561+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.mapper.PaymentMapper.findAll       : <==      Total: 4
2026-01-08T12:53:01.564+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b2fc265]
2026-01-08T12:53:01.566+09:00  INFO 5336 --- [http-nio-8080-exec-8] c.i.b.controller.SuperAdminController    : 전체 결제 내역 조회 완료 - count: 4
2026-01-08T12:53:01.566+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:53:01.567+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:01.568+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 2(Long)
2026-01-08T12:53:01.570+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 결제 내역 조회 성공, data=[PaymentDto(paymentId=11, subscriptionId=2, a (truncated)...]
2026-01-08T12:53:01.580+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:01.592+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:53:01.597+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:53:01.598+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 7(Long)
2026-01-08T12:53:01.603+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:53:01.608+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:53:01.613+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 1(Long)
2026-01-08T12:53:01.628+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionPlanMapper.findById  : ======>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:53:01.633+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionPlanMapper.findById  : ======> Parameters: 1(Long)
2026-01-08T12:53:01.653+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionPlanMapper.findById  : <======      Total: 1
2026-01-08T12:53:01.660+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:53:01.660+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.mapper.PaymentMapper.findAll       : <==      Total: 4
2026-01-08T12:53:01.662+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@733e4b90]
2026-01-08T12:53:01.665+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:01.667+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 요약 통계 조회 성공, data=AdminReportService.DashboardSummaryDto(tota (truncated)...]
2026-01-08T12:53:01.669+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:21.954+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/global
2026-01-08T12:53:21.955+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/global
2026-01-08T12:53:21.970+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/global
2026-01-08T12:53:21.978+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/global
2026-01-08T12:53:21.990+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/expense-categories/global
2026-01-08T12:53:21.991+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/expense-categories/global
2026-01-08T12:53:22.000+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/global
2026-01-08T12:53:22.001+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/global
2026-01-08T12:53:22.001+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/global", parameters={}
2026-01-08T12:53:22.001+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/global", parameters={}
2026-01-08T12:53:22.001+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getGlobalCategories()
2026-01-08T12:53:22.003+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getGlobalCategories()
2026-01-08T12:53:22.006+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getGlobalCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:53:22.006+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getGlobalCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:53:22.008+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getGlobalCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:53:22.008+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getGlobalCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:53:22.008+09:00  INFO 5336 --- [http-nio-8080-exec-4] c.i.b.service.ExpenseCategoryService     : 전역 카테고리 조회 시작
2026-01-08T12:53:22.009+09:00  INFO 5336 --- [http-nio-8080-exec-10] c.i.b.service.ExpenseCategoryService     : 전역 카테고리 조회 시작
2026-01-08T12:53:22.009+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:22.009+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:22.009+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72bb8bdb] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:22.009+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12199f51] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:22.033+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@272178884 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ac0fa7] will not be managed by Spring
2026-01-08T12:53:22.033+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1568872532 wrapping com.mysql.cj.jdbc.ConnectionImpl@70ff8e67] will not be managed by Spring
2026-01-08T12:53:22.034+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.E.findGlobalCategories           : ==>  Preparing: SELECT ec.*, 1 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec LEFT JOIN user_tb u ON ec.created_by = u.user_id WHERE ec.company_id IS NULL AND (ec.is_active IS NULL OR ec.is_active = 1) ORDER BY ec.display_order ASC, ec.category_name ASC
2026-01-08T12:53:22.034+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.E.findGlobalCategories           : ==>  Preparing: SELECT ec.*, 1 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec LEFT JOIN user_tb u ON ec.created_by = u.user_id WHERE ec.company_id IS NULL AND (ec.is_active IS NULL OR ec.is_active = 1) ORDER BY ec.display_order ASC, ec.category_name ASC
2026-01-08T12:53:22.035+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.E.findGlobalCategories           : ==> Parameters: 
2026-01-08T12:53:22.035+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.E.findGlobalCategories           : ==> Parameters: 
2026-01-08T12:53:22.041+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.E.findGlobalCategories           : <==      Total: 12
2026-01-08T12:53:22.042+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.E.findGlobalCategories           : <==      Total: 12
2026-01-08T12:53:22.045+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72bb8bdb]
2026-01-08T12:53:22.046+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12199f51]
2026-01-08T12:53:22.046+09:00  INFO 5336 --- [http-nio-8080-exec-4] c.i.b.service.ExpenseCategoryService     : 전역 카테고리 조회 완료 - 항목 수: 12
2026-01-08T12:53:22.047+09:00  INFO 5336 --- [http-nio-8080-exec-10] c.i.b.service.ExpenseCategoryService     : 전역 카테고리 조회 완료 - 항목 수: 12
2026-01-08T12:53:22.047+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=1, name=식비/회식, order=0, active=true
2026-01-08T12:53:22.047+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=1, name=식비/회식, order=0, active=true
2026-01-08T12:53:22.047+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=3, name=거래처 접대, order=1, active=true
2026-01-08T12:53:22.047+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=3, name=거래처 접대, order=1, active=true
2026-01-08T12:53:22.048+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=2, name=출장/교통비, order=2, active=true
2026-01-08T12:53:22.048+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=2, name=출장/교통비, order=2, active=true
2026-01-08T12:53:22.049+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=5, name=수수료, order=3, active=true
2026-01-08T12:53:22.049+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=5, name=수수료, order=3, active=true
2026-01-08T12:53:22.050+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=6, name=광고/홍보, order=4, active=true
2026-01-08T12:53:22.051+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=6, name=광고/홍보, order=4, active=true
2026-01-08T12:53:22.051+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=4, name=사무용품, order=5, active=true
2026-01-08T12:53:22.051+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=4, name=사무용품, order=5, active=true
2026-01-08T12:53:22.051+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=7, name=통신비, order=6, active=true
2026-01-08T12:53:22.052+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=7, name=통신비, order=6, active=true
2026-01-08T12:53:22.052+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=8, name=차량비, order=7, active=true
2026-01-08T12:53:22.052+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=8, name=차량비, order=7, active=true
2026-01-08T12:53:22.054+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=9, name=도서/인쇄, order=8, active=true
2026-01-08T12:53:22.054+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=9, name=도서/인쇄, order=8, active=true
2026-01-08T12:53:22.055+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=10, name=세금/공과금, order=9, active=true
2026-01-08T12:53:22.055+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=10, name=세금/공과금, order=9, active=true
2026-01-08T12:53:22.056+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=11, name=급여, order=10, active=true
2026-01-08T12:53:22.056+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=11, name=급여, order=10, active=true
2026-01-08T12:53:22.056+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=12, name=기타, order=11, active=true
2026-01-08T12:53:22.056+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=12, name=기타, order=11, active=true
2026-01-08T12:53:22.057+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:22.057+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:22.058+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-08T12:53:22.059+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-08T12:53:22.061+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:22.063+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:23.274+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/account-codes/list
2026-01-08T12:53:23.282+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/account-codes/list
2026-01-08T12:53:23.290+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/account-codes/list
2026-01-08T12:53:23.293+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/account-codes/list
2026-01-08T12:53:23.294+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/account-codes/list", parameters={}
2026-01-08T12:53:23.294+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AccountCodeController#getMappingList()
2026-01-08T12:53:23.295+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:53:23.295+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:53:23.296+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:23.296+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35a98269] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:23.298+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1267903470 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:53:23.299+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.m.A.findAll                        : ==>  Preparing: SELECT * FROM account_code_mapping_tb ORDER BY company_id DESC, category ASC, account_name ASC
2026-01-08T12:53:23.299+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.m.A.findAll                        : ==> Parameters: 
2026-01-08T12:53:23.301+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.m.A.findAll                        : <==      Total: 0
2026-01-08T12:53:23.308+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35a98269]
2026-01-08T12:53:23.313+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:23.313+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-01-08T12:53:23.314+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:24.684+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2026-01-08T12:53:24.693+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2026-01-08T12:53:24.697+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/logout
2026-01-08T12:53:24.699+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2026-01-08T12:53:24.700+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2026-01-08T12:53:24.701+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2026-01-08T12:53:24.706+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiI5IiwidXNlcm5hbWUiOiJ (truncated)...]
2026-01-08T12:53:24.713+09:00  INFO 5336 --- [http-nio-8080-exec-9] SECURITY                                 : LOGOUT userId=9
2026-01-08T12:53:24.715+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:24.715+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2026-01-08T12:53:24.732+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:29.111+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2026-01-08T12:53:29.115+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2026-01-08T12:53:29.118+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-08T12:53:29.118+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2026-01-08T12:53:29.119+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2026-01-08T12:53:29.125+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2026-01-08T12:53:29.130+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_ceo, password=1234)]
2026-01-08T12:53:29.131+09:00  INFO 5336 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 로그인 시도 - username: test_ceo
2026-01-08T12:53:29.132+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:29.133+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f054182] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:29.136+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1652407175 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:53:29.138+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2026-01-08T12:53:29.141+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_ceo(String)
2026-01-08T12:53:29.143+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2026-01-08T12:53:29.144+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f054182]
2026-01-08T12:53:29.234+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:29.234+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4da47f60] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:29.234+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@236733914 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:53:29.235+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:53:29.236+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2026-01-08T12:53:29.239+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2026-01-08T12:53:29.241+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4da47f60]
2026-01-08T12:53:29.261+09:00  INFO 5336 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 로그인 성공 - userId: 1, role: CEO, companyId: 1
2026-01-08T12:53:29.261+09:00  INFO 5336 --- [http-nio-8080-exec-7] SECURITY                                 : LOGIN_SUCCESS userId=1 username=test_ceo role=CEO
2026-01-08T12:53:29.262+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:29.264+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=1, username=test_ceo, password=n (truncated)...]
2026-01-08T12:53:29.265+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:29.538+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2026-01-08T12:53:29.545+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2026-01-08T12:53:29.549+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/companies
2026-01-08T12:53:29.555+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2026-01-08T12:53:29.558+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2026-01-08T12:53:29.559+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2026-01-08T12:53:29.560+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:29.561+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e92098] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:29.565+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1671005068 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:53:29.573+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2026-01-08T12:53:29.576+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 1(Long)
2026-01-08T12:53:29.580+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 7
2026-01-08T12:53:29.587+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e92098]
2026-01-08T12:53:29.587+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:29.589+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2026-01-08T12:53:29.591+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:29.772+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:53:29.776+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2026-01-08T12:53:29.780+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T12:53:29.780+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-08T12:53:29.783+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:53:29.793+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2026-01-08T12:53:29.931+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2026-01-08T12:53:29.948+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/credits/total
2026-01-08T12:53:29.951+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2026-01-08T12:53:29.954+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-08T12:53:29.954+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:53:30.008+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2026-01-08T12:53:30.008+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2026-01-08T12:53:30.009+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/credits/total
2026-01-08T12:53:30.009+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:53:30.010+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2026-01-08T12:53:30.010+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T12:53:30.018+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-08T12:53:30.022+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2026-01-08T12:53:30.023+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/credits/total
2026-01-08T12:53:30.026+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:53:30.026+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2026-01-08T12:53:30.027+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T12:53:30.029+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-08T12:53:30.031+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:53:30.031+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2026-01-08T12:53:30.040+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2026-01-08T12:53:30.040+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:53:30.045+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T12:53:30.046+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2026-01-08T12:53:30.047+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:53:30.051+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:53:30.047+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2026-01-08T12:53:30.048+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:53:30.048+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2026-01-08T12:53:30.050+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T12:53:30.050+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-08T12:53:30.054+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:53:30.062+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2026-01-08T12:53:30.063+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:53:30.063+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2026-01-08T12:53:30.063+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T12:53:30.064+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-08T12:53:30.064+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:53:30.067+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2026-01-08T12:53:30.078+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:53:30.078+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2026-01-08T12:53:30.079+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T12:53:30.079+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T12:53:30.080+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:30.084+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:30.085+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:30.085+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2026-01-08T12:53:30.087+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:30.087+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bc499cd] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:30.088+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:30.089+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bacdcdf] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:30.089+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c24a1e6] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:30.090+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1da4b6d5] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:30.090+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:30.091+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2104e61d] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:30.095+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ac6b156] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:30.107+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@524497262 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:53:30.107+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@510111726 wrapping com.mysql.cj.jdbc.ConnectionImpl@70ff8e67] will not be managed by Spring
2026-01-08T12:53:30.108+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2008182025 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ac0fa7] will not be managed by Spring
2026-01-08T12:53:30.108+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1895994676 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:53:30.110+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T12:53:30.111+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:53:30.111+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:53:30.112+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:53:30.117+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:53:30.118+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:53:30.123+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@348623782 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:53:30.123+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@32464366 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:53:30.125+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:53:30.127+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2026-01-08T12:53:30.130+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:53:30.130+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:53:30.132+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T12:53:30.133+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2026-01-08T12:53:30.137+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:53:30.138+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1da4b6d5]
2026-01-08T12:53:30.142+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:30.143+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2026-01-08T12:53:30.145+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2026-01-08T12:53:30.145+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2026-01-08T12:53:30.147+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T12:53:30.148+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bacdcdf]
2026-01-08T12:53:30.148+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c24a1e6]
2026-01-08T12:53:30.148+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bc499cd]
2026-01-08T12:53:30.149+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:30.150+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:30.150+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:30.150+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:30.152+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:53:30.156+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2026-01-08T12:53:30.161+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dbfdbdf] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:30.163+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-08T12:53:30.193+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2026-01-08T12:53:30.194+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-08T12:53:30.195+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-08T12:53:30.197+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T12:53:30.199+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:30.199+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e2eb1d3] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:30.203+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1448847601 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:53:30.204+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:53:30.168+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@599ed8bd] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:30.173+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ffc20e6] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:30.173+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2104e61d]
2026-01-08T12:53:30.190+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ac6b156]
2026-01-08T12:53:30.191+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2020693609 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:53:30.205+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:53:30.213+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1592259085 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ac0fa7] will not be managed by Spring
2026-01-08T12:53:30.213+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1848967242 wrapping com.mysql.cj.jdbc.ConnectionImpl@70ff8e67] will not be managed by Spring
2026-01-08T12:53:30.213+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:30.213+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:30.217+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40305a77] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:30.214+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2026-01-08T12:53:30.215+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:53:30.216+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:53:30.217+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@726c9c16] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:30.230+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1848720543 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:53:30.221+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1046190365 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:53:30.231+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2026-01-08T12:53:30.223+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2026-01-08T12:53:30.225+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:53:30.227+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:53:30.228+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:53:30.231+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:53:30.232+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2026-01-08T12:53:30.233+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e2eb1d3]
2026-01-08T12:53:30.234+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:53:30.235+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:30.238+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e361069] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:30.239+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1976405077 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:53:30.241+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:53:30.247+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:53:30.248+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2026-01-08T12:53:30.248+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:53:30.248+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:53:30.249+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:53:30.249+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2026-01-08T12:53:30.250+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40305a77]
2026-01-08T12:53:30.250+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ffc20e6]
2026-01-08T12:53:30.252+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@599ed8bd]
2026-01-08T12:53:30.261+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@726c9c16]
2026-01-08T12:53:30.263+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dbfdbdf]
2026-01-08T12:53:30.264+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:30.265+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:30.266+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:30.267+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:30.269+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:30.272+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-01-08T12:53:30.273+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=26, drafterId= (truncated)...]
2026-01-08T12:53:30.274+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=26, drafterId= (truncated)...]
2026-01-08T12:53:30.275+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14514ce5] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:30.276+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-01-08T12:53:30.277+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:30.280+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:30.282+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:30.283+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@538083774 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:53:30.284+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:30.289+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:53:30.290+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/credits/total
2026-01-08T12:53:30.291+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2026-01-08T12:53:30.293+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:53:30.294+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2026-01-08T12:53:30.295+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:53:30.307+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:53:30.308+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/credits/total
2026-01-08T12:53:30.346+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/credits/total
2026-01-08T12:53:30.311+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2026-01-08T12:53:30.327+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:53:30.334+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2026-01-08T12:53:30.372+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2026-01-08T12:53:30.340+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e361069]
2026-01-08T12:53:30.340+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:53:30.347+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/credits/total", parameters={}
2026-01-08T12:53:30.348+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2026-01-08T12:53:30.383+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2026-01-08T12:53:30.372+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2026-01-08T12:53:30.380+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:30.380+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:53:30.383+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CreditController#getTotalAvailableAmount()
2026-01-08T12:53:30.384+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2026-01-08T12:53:30.395+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2026-01-08T12:53:30.384+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2026-01-08T12:53:30.385+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57da632f] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:30.393+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:53:30.395+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2026-01-08T12:53:30.397+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2026-01-08T12:53:30.405+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:30.405+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c0362e0] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:30.406+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@986943951 wrapping com.mysql.cj.jdbc.ConnectionImpl@70ff8e67] will not be managed by Spring
2026-01-08T12:53:30.407+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2026-01-08T12:53:30.398+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:30.399+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1232176357 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:53:30.399+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:30.400+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2026-01-08T12:53:30.411+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2026-01-08T12:53:30.413+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:30.411+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b2b4a3a] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:30.412+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:53:30.412+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f500548] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:30.413+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@398e307c] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:30.414+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@420301978 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:53:30.421+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:53:30.422+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:53:30.424+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1325316148 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ac0fa7] will not be managed by Spring
2026-01-08T12:53:30.425+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1229649021 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:53:30.425+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:53:30.426+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14514ce5]
2026-01-08T12:53:30.426+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:53:30.426+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.C.getTotalAvailableAmount        : ==>  Preparing: SELECT COALESCE(SUM(amount - used_amount), 0) FROM credit_tb WHERE company_id = ? AND (expires_at IS NULL OR expires_at >= ?)
2026-01-08T12:53:30.428+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:53:30.428+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2026-01-08T12:53:30.432+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:30.433+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:53:30.434+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.C.getTotalAvailableAmount        : ==> Parameters: 1(Long), 2026-01-08(LocalDate)
2026-01-08T12:53:30.434+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:53:30.437+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f9996bf] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:30.440+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:53:30.465+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2026-01-08T12:53:30.477+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57da632f]
2026-01-08T12:53:30.466+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2026-01-08T12:53:30.481+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f500548]
2026-01-08T12:53:30.474+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2000122529 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:53:30.477+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b2b4a3a]
2026-01-08T12:53:30.480+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:30.481+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:30.484+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.C.getTotalAvailableAmount        : <==      Total: 1
2026-01-08T12:53:30.483+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:53:30.489+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:53:30.483+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a13c33c] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:30.484+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:30.484+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:53:30.484+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1965a10a] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:30.484+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@398e307c]
2026-01-08T12:53:30.497+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1749987944 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:53:30.508+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2026-01-08T12:53:30.519+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 1
2026-01-08T12:53:30.531+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1448119595 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ac0fa7] will not be managed by Spring
2026-01-08T12:53:30.532+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:30.546+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:53:30.548+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c0362e0]
2026-01-08T12:53:30.567+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:53:30.548+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:30.549+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:53:30.550+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data={totalAmount=5145})]
2026-01-08T12:53:30.553+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:53:30.578+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f9996bf]
2026-01-08T12:53:30.567+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:30.571+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2026-01-08T12:53:30.575+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:53:30.577+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:30.580+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:30.580+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=SubscriptionDto(subscriptionId=1, companyId=1, planId= (truncated)...]
2026-01-08T12:53:30.597+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2026-01-08T12:53:30.599+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:53:30.604+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:53:30.605+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@246dab7d] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:30.608+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:30.613+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2026-01-08T12:53:30.613+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a13c33c]
2026-01-08T12:53:30.616+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:53:30.622+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:53:30.623+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1859309704 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:53:30.626+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2026-01-08T12:53:30.631+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2026-01-08T12:53:30.631+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:30.631+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:53:30.633+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1965a10a]
2026-01-08T12:53:30.633+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T12:53:30.644+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2026-01-08T12:53:30.644+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55707600] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:30.644+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2026-01-08T12:53:30.644+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:53:30.645+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:30.646+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T12:53:30.646+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:30.647+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2026-01-08T12:53:30.648+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1737960335 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:53:30.649+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:53:30.651+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=26, drafterId= (truncated)...]
2026-01-08T12:53:30.654+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39259fdc] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:30.655+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2026-01-08T12:53:30.656+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T12:53:30.657+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:30.658+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:30.658+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1460819629 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:53:30.659+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2026-01-08T12:53:30.660+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T12:53:30.662+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b66dc60] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:30.663+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:53:30.671+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T12:53:30.665+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T12:53:30.665+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2026-01-08T12:53:30.666+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1494690144 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:53:30.672+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2026-01-08T12:53:30.673+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@246dab7d]
2026-01-08T12:53:30.677+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2026-01-08T12:53:30.677+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T12:53:30.677+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:53:30.679+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:30.684+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:53:30.679+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:30.684+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@447f73b4] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:30.687+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1652875037 wrapping com.mysql.cj.jdbc.ConnectionImpl@70ff8e67] will not be managed by Spring
2026-01-08T12:53:30.679+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T12:53:30.684+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T12:53:30.684+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77fa94e] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:30.689+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2026-01-08T12:53:30.691+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2026-01-08T12:53:30.692+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T12:53:30.692+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55707600]
2026-01-08T12:53:30.693+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@897508699 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:53:30.694+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2026-01-08T12:53:30.695+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2026-01-08T12:53:30.695+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39259fdc]
2026-01-08T12:53:30.697+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T12:53:30.697+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:30.698+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:53:30.700+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b66dc60]
2026-01-08T12:53:30.701+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:30.701+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5838a53b] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:30.702+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:30.706+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:53:30.707+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:30.708+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a2fa466] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:30.711+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@203893157 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:53:30.712+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63a76bee] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:30.713+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@205e4489] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:30.713+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@534843776 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:53:30.714+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:53:30.716+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@756190316 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ac0fa7] will not be managed by Spring
2026-01-08T12:53:30.716+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:53:30.717+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@760617278 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:53:30.717+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2026-01-08T12:53:30.721+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:53:30.725+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T12:53:30.725+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:53:30.726+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:53:30.726+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:53:30.727+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2026-01-08T12:53:30.727+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77fa94e]
2026-01-08T12:53:30.728+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:53:30.734+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:53:30.744+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:30.745+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13665a24] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:30.755+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@796826171 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:53:30.757+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:53:30.759+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2026-01-08T12:53:30.759+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:53:30.759+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T12:53:30.759+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:53:30.761+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:53:30.762+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:53:30.764+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a2fa466]
2026-01-08T12:53:30.766+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 1
2026-01-08T12:53:30.769+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@447f73b4]
2026-01-08T12:53:30.766+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63a76bee]
2026-01-08T12:53:30.767+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@205e4489]
2026-01-08T12:53:30.767+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5838a53b]
2026-01-08T12:53:30.769+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:30.772+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:30.774+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:30.775+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:30.777+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:30.778+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:53:30.778+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-01-08T12:53:30.780+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=SubscriptionDto(subscriptionId=1, companyId=1, planId= (truncated)...]
2026-01-08T12:53:30.781+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T12:53:30.781+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=26, drafterId= (truncated)...]
2026-01-08T12:53:30.791+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:30.781+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c8bb993] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:30.840+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@294110276 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:53:30.841+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:53:30.841+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:53:30.782+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13665a24]
2026-01-08T12:53:30.842+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:30.783+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:30.786+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:30.796+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:30.850+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2026-01-08T12:53:30.810+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/credits/total
2026-01-08T12:53:30.845+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2afbe91f] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:30.847+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-08T12:53:30.854+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2026-01-08T12:53:30.861+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2026-01-08T12:53:30.854+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2026-01-08T12:53:30.858+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/credits/total
2026-01-08T12:53:30.860+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@200089886 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:53:30.862+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2026-01-08T12:53:30.864+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-08T12:53:30.864+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2026-01-08T12:53:30.864+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/credits/total
2026-01-08T12:53:30.864+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T12:53:30.865+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2026-01-08T12:53:30.933+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:53:30.939+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-08T12:53:30.960+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2026-01-08T12:53:30.960+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/credits/total", parameters={}
2026-01-08T12:53:30.963+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T12:53:30.963+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2026-01-08T12:53:30.964+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c8bb993]
2026-01-08T12:53:30.965+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T12:53:30.966+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2026-01-08T12:53:30.966+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CreditController#getTotalAvailableAmount()
2026-01-08T12:53:30.967+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2026-01-08T12:53:30.967+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:30.968+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:30.970+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:30.992+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2026-01-08T12:53:30.998+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T12:53:31.010+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cef600f] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:31.010+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2026-01-08T12:53:31.010+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ee5c0fa] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:31.010+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ac8f60] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:31.011+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2026-01-08T12:53:31.011+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2afbe91f]
2026-01-08T12:53:31.012+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1299776800 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:53:31.022+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2026-01-08T12:53:31.024+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1307019226 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:53:31.024+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@528640357 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:53:31.024+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:31.025+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:31.025+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T12:53:31.026+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:31.028+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46920f9e] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:31.027+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:53:31.027+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:53:31.027+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79e0850b] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:31.027+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ad4a435] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:31.028+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T12:53:31.028+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1917553591 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ac0fa7] will not be managed by Spring
2026-01-08T12:53:31.029+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:53:31.030+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2026-01-08T12:53:31.030+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1444209082 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:53:31.030+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1603408737 wrapping com.mysql.cj.jdbc.ConnectionImpl@70ff8e67] will not be managed by Spring
2026-01-08T12:53:31.031+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2026-01-08T12:53:31.033+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.C.getTotalAvailableAmount        : ==>  Preparing: SELECT COALESCE(SUM(amount - used_amount), 0) FROM credit_tb WHERE company_id = ? AND (expires_at IS NULL OR expires_at >= ?)
2026-01-08T12:53:31.034+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:53:31.040+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.C.getTotalAvailableAmount        : ==> Parameters: 1(Long), 2026-01-08(LocalDate)
2026-01-08T12:53:31.035+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2026-01-08T12:53:31.036+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:53:31.038+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2026-01-08T12:53:31.038+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T12:53:31.041+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:53:31.041+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ee5c0fa]
2026-01-08T12:53:31.042+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ac8f60]
2026-01-08T12:53:31.045+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cef600f]
2026-01-08T12:53:31.047+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:31.047+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:31.048+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:31.048+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.C.getTotalAvailableAmount        : <==      Total: 1
2026-01-08T12:53:31.048+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:53:31.049+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e912e93] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:31.049+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31ae1077] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:31.049+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:53:31.049+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61f9744f] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:31.050+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79e0850b]
2026-01-08T12:53:31.051+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:53:31.053+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2121515947 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:53:31.054+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1444830893 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:53:31.055+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ad4a435]
2026-01-08T12:53:31.057+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@429643642 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:53:31.057+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:31.057+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:53:31.058+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2026-01-08T12:53:31.064+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:31.064+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:53:31.065+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:53:31.065+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data={totalAmount=5145})]
2026-01-08T12:53:31.065+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:53:31.065+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2026-01-08T12:53:31.066+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T12:53:31.066+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:53:31.071+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 1
2026-01-08T12:53:31.072+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:31.079+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46920f9e]
2026-01-08T12:53:31.080+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:31.083+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:31.087+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/credits/total
2026-01-08T12:53:31.093+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=SubscriptionDto(subscriptionId=1, companyId=1, planId= (truncated)...]
2026-01-08T12:53:31.096+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:31.096+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/credits/total
2026-01-08T12:53:31.097+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2026-01-08T12:53:31.097+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:53:31.097+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:53:31.104+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/credits/total
2026-01-08T12:53:31.105+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31ae1077]
2026-01-08T12:53:31.110+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e912e93]
2026-01-08T12:53:31.111+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61f9744f]
2026-01-08T12:53:31.120+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:31.116+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/credits/total", parameters={}
2026-01-08T12:53:31.118+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:31.118+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:31.121+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T12:53:31.123+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CreditController#getTotalAvailableAmount()
2026-01-08T12:53:31.123+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-01-08T12:53:31.123+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a995ed8] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:31.125+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:31.125+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2026-01-08T12:53:31.127+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:31.128+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2097876142 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:53:31.148+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:53:31.146+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2026-01-08T12:53:31.150+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:53:31.156+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:31.164+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50830a37] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:31.223+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:53:31.249+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a995ed8]
2026-01-08T12:53:31.250+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:31.253+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2df850e4] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:31.256+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@528416618 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:53:31.241+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@136569810 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ac0fa7] will not be managed by Spring
2026-01-08T12:53:31.257+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:53:31.260+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.C.getTotalAvailableAmount        : ==>  Preparing: SELECT COALESCE(SUM(amount - used_amount), 0) FROM credit_tb WHERE company_id = ? AND (expires_at IS NULL OR expires_at >= ?)
2026-01-08T12:53:31.260+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:53:31.261+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.C.getTotalAvailableAmount        : ==> Parameters: 1(Long), 2026-01-08(LocalDate)
2026-01-08T12:53:31.277+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:53:31.279+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2df850e4]
2026-01-08T12:53:31.280+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.C.getTotalAvailableAmount        : <==      Total: 1
2026-01-08T12:53:31.282+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:31.282+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50830a37]
2026-01-08T12:53:31.282+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20ac5742] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:31.285+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:31.286+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1337744579 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:53:31.290+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data={totalAmount=5145})]
2026-01-08T12:53:31.292+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T12:53:31.295+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:31.297+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T12:53:31.303+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T12:53:31.310+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20ac5742]
2026-01-08T12:53:31.312+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:31.312+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34159c48] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:31.313+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1984027599 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:53:31.314+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:53:31.320+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:53:31.326+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:53:31.328+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34159c48]
2026-01-08T12:53:31.329+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:31.329+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77b489f0] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:31.330+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1868283026 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:53:31.330+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:53:31.331+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:53:31.348+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:53:31.350+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77b489f0]
2026-01-08T12:53:31.351+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:31.351+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7abb2ea9] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:31.352+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@689160967 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:53:31.357+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T12:53:31.404+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T12:53:31.420+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T12:53:31.425+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7abb2ea9]
2026-01-08T12:53:31.426+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:31.429+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68b9b7c8] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:31.429+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1263800848 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:53:31.432+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:53:31.432+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:53:31.445+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:53:31.474+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68b9b7c8]
2026-01-08T12:53:31.482+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:31.484+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T12:53:31.496+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:33.719+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:53:33.721+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2026-01-08T12:53:33.724+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T12:53:33.726+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/merged
2026-01-08T12:53:33.727+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/merged
2026-01-08T12:53:33.736+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:53:33.743+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2026-01-08T12:53:33.748+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:53:33.743+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T12:53:33.750+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2026-01-08T12:53:33.757+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2026-01-08T12:53:33.750+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:53:33.757+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2026-01-08T12:53:33.757+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:53:33.758+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2026-01-08T12:53:33.759+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T12:53:33.759+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:53:33.761+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:33.762+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/merged
2026-01-08T12:53:33.766+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T12:53:33.766+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/merged
2026-01-08T12:53:33.767+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:33.767+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@549e7aac] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:33.768+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T12:53:33.774+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expense-categories/merged
2026-01-08T12:53:33.774+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expense-categories/merged
2026-01-08T12:53:33.779+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33715a4d] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:33.781+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T12:53:33.781+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/merged
2026-01-08T12:53:33.781+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/merged
2026-01-08T12:53:33.784+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:33.784+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33214758] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:33.784+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/merged", parameters={}
2026-01-08T12:53:33.791+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getMergedCategories()
2026-01-08T12:53:33.784+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/merged", parameters={}
2026-01-08T12:53:33.792+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:53:33.794+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getMergedCategories()
2026-01-08T12:53:33.796+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:53:33.800+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:53:33.801+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1442973473 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:53:33.801+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@633125616 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ac0fa7] will not be managed by Spring
2026-01-08T12:53:33.801+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:33.802+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1701093784 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:53:33.802+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T12:53:33.802+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:53:33.804+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:53:33.805+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@458ab2f1] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:33.806+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:53:33.806+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:53:33.808+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:33.809+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:53:33.813+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2026-01-08T12:53:33.813+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15b3cb0d] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:33.813+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@440047046 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:53:33.814+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T12:53:33.815+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.E.findMergedCategories           : ==>  Preparing: ( -- 전역 카테고리 (회사별 오버라이드가 있으면 회사별 값 사용) SELECT COALESCE(ec_company.category_id, ec_global.category_id) AS category_id, COALESCE(ec_company.company_id, ec_global.company_id) AS company_id, COALESCE(ec_company.category_name, ec_global.category_name) AS category_name, COALESCE(ec_company.display_order, ec_global.display_order) AS display_order, COALESCE(ec_company.is_active, ec_global.is_active) AS is_active, COALESCE(ec_company.created_by, ec_global.created_by) AS created_by, COALESCE(ec_company.created_at, ec_global.created_at) AS created_at, COALESCE(ec_company.updated_at, ec_global.updated_at) AS updated_at, CASE WHEN ec_company.category_id IS NOT NULL THEN 0 ELSE 1 END AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_global LEFT JOIN expense_category_tb ec_company ON ec_global.category_name = ec_company.category_name AND ec_company.company_id = ? LEFT JOIN user_tb u ON COALESCE(ec_company.created_by, ec_global.created_by) = u.user_id WHERE ec_global.company_id IS NULL AND (ec_global.is_active IS NULL OR ec_global.is_active = 1) AND (ec_company.category_id IS NULL OR ec_company.is_active IS NULL OR ec_company.is_active = 1) ) UNION ( -- 회사별 카테고리 (전역에 없는 새로운 카테고리만) SELECT ec_company.category_id, ec_company.company_id, ec_company.category_name, ec_company.display_order, ec_company.is_active, ec_company.created_by, ec_company.created_at, ec_company.updated_at, 0 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_company LEFT JOIN expense_category_tb ec_global ON ec_company.category_name = ec_global.category_name AND ec_global.company_id IS NULL LEFT JOIN user_tb u ON ec_company.created_by = u.user_id WHERE ec_company.company_id = ? AND (ec_company.is_active IS NULL OR ec_company.is_active = 1) AND ec_global.category_id IS NULL -- 전역에 없는 회사별 카테고리만 ) ORDER BY display_order ASC, category_name ASC
2026-01-08T12:53:33.816+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33214758]
2026-01-08T12:53:33.816+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2026-01-08T12:53:33.822+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:33.816+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2026-01-08T12:53:33.817+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1530820868 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:53:33.820+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.E.findMergedCategories           : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:53:33.823+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33715a4d]
2026-01-08T12:53:33.824+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T12:53:33.837+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:33.824+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@549e7aac]
2026-01-08T12:53:33.825+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.E.findMergedCategories           : ==>  Preparing: ( -- 전역 카테고리 (회사별 오버라이드가 있으면 회사별 값 사용) SELECT COALESCE(ec_company.category_id, ec_global.category_id) AS category_id, COALESCE(ec_company.company_id, ec_global.company_id) AS company_id, COALESCE(ec_company.category_name, ec_global.category_name) AS category_name, COALESCE(ec_company.display_order, ec_global.display_order) AS display_order, COALESCE(ec_company.is_active, ec_global.is_active) AS is_active, COALESCE(ec_company.created_by, ec_global.created_by) AS created_by, COALESCE(ec_company.created_at, ec_global.created_at) AS created_at, COALESCE(ec_company.updated_at, ec_global.updated_at) AS updated_at, CASE WHEN ec_company.category_id IS NOT NULL THEN 0 ELSE 1 END AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_global LEFT JOIN expense_category_tb ec_company ON ec_global.category_name = ec_company.category_name AND ec_company.company_id = ? LEFT JOIN user_tb u ON COALESCE(ec_company.created_by, ec_global.created_by) = u.user_id WHERE ec_global.company_id IS NULL AND (ec_global.is_active IS NULL OR ec_global.is_active = 1) AND (ec_company.category_id IS NULL OR ec_company.is_active IS NULL OR ec_company.is_active = 1) ) UNION ( -- 회사별 카테고리 (전역에 없는 새로운 카테고리만) SELECT ec_company.category_id, ec_company.company_id, ec_company.category_name, ec_company.display_order, ec_company.is_active, ec_company.created_by, ec_company.created_at, ec_company.updated_at, 0 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_company LEFT JOIN expense_category_tb ec_global ON ec_company.category_name = ec_global.category_name AND ec_global.company_id IS NULL LEFT JOIN user_tb u ON ec_company.created_by = u.user_id WHERE ec_company.company_id = ? AND (ec_company.is_active IS NULL OR ec_company.is_active = 1) AND ec_global.category_id IS NULL -- 전역에 없는 회사별 카테고리만 ) ORDER BY display_order ASC, category_name ASC
2026-01-08T12:53:33.833+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:33.843+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:33.848+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e9781ab] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:33.849+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b55c014] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:33.849+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.E.findMergedCategories           : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:53:33.849+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@395871613 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ac0fa7] will not be managed by Spring
2026-01-08T12:53:33.850+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1587702355 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:53:33.853+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:53:33.857+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2026-01-08T12:53:33.857+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:53:33.857+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.E.findMergedCategories           : <==      Total: 12
2026-01-08T12:53:33.857+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2026-01-08T12:53:33.858+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@458ab2f1]
2026-01-08T12:53:33.861+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:53:33.861+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:33.862+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e9781ab]
2026-01-08T12:53:33.862+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2026-01-08T12:53:33.862+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-08T12:53:33.864+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:33.864+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b55c014]
2026-01-08T12:53:33.865+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:33.868+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=26, drafterId= (truncated)...]
2026-01-08T12:53:33.868+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:33.872+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:33.875+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-01-08T12:53:33.878+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:33.885+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.E.findMergedCategories           : <==      Total: 12
2026-01-08T12:53:33.893+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15b3cb0d]
2026-01-08T12:53:33.895+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:33.895+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-08T12:53:33.902+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:34.694+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/account-codes/list
2026-01-08T12:53:34.711+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/account-codes/list
2026-01-08T12:53:34.713+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/account-codes/list
2026-01-08T12:53:34.713+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/account-codes/list
2026-01-08T12:53:34.714+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/account-codes/list", parameters={}
2026-01-08T12:53:34.714+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AccountCodeController#getMappingList()
2026-01-08T12:53:34.715+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:53:34.717+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@25b42d1d and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('SUPERADMIN', 'TAX_ACCOUNTANT')]
2026-01-08T12:53:34.725+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.innersignature.backend.exception.GlobalExceptionHandler#handleAccessDeniedException(AccessDeniedException)
2026-01-08T12:53:34.726+09:00  WARN 5336 --- [http-nio-8080-exec-3] c.i.b.exception.GlobalExceptionHandler   : 권한 부족: Access Denied
2026-01-08T12:53:34.728+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:34.729+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, message=접근 권한이 없습니다., data=null)]
2026-01-08T12:53:34.733+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2026-01-08T12:53:34.741+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 403 FORBIDDEN
2026-01-08T12:53:36.844+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/merged
2026-01-08T12:53:36.866+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/merged
2026-01-08T12:53:36.873+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expense-categories/merged
2026-01-08T12:53:36.876+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/merged
2026-01-08T12:53:36.876+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/merged", parameters={}
2026-01-08T12:53:36.877+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getMergedCategories()
2026-01-08T12:53:36.877+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:53:36.878+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:53:36.879+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:36.879+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@294cfd4b] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:36.882+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1207438720 wrapping com.mysql.cj.jdbc.ConnectionImpl@70ff8e67] will not be managed by Spring
2026-01-08T12:53:36.882+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.E.findMergedCategories           : ==>  Preparing: ( -- 전역 카테고리 (회사별 오버라이드가 있으면 회사별 값 사용) SELECT COALESCE(ec_company.category_id, ec_global.category_id) AS category_id, COALESCE(ec_company.company_id, ec_global.company_id) AS company_id, COALESCE(ec_company.category_name, ec_global.category_name) AS category_name, COALESCE(ec_company.display_order, ec_global.display_order) AS display_order, COALESCE(ec_company.is_active, ec_global.is_active) AS is_active, COALESCE(ec_company.created_by, ec_global.created_by) AS created_by, COALESCE(ec_company.created_at, ec_global.created_at) AS created_at, COALESCE(ec_company.updated_at, ec_global.updated_at) AS updated_at, CASE WHEN ec_company.category_id IS NOT NULL THEN 0 ELSE 1 END AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_global LEFT JOIN expense_category_tb ec_company ON ec_global.category_name = ec_company.category_name AND ec_company.company_id = ? LEFT JOIN user_tb u ON COALESCE(ec_company.created_by, ec_global.created_by) = u.user_id WHERE ec_global.company_id IS NULL AND (ec_global.is_active IS NULL OR ec_global.is_active = 1) AND (ec_company.category_id IS NULL OR ec_company.is_active IS NULL OR ec_company.is_active = 1) ) UNION ( -- 회사별 카테고리 (전역에 없는 새로운 카테고리만) SELECT ec_company.category_id, ec_company.company_id, ec_company.category_name, ec_company.display_order, ec_company.is_active, ec_company.created_by, ec_company.created_at, ec_company.updated_at, 0 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_company LEFT JOIN expense_category_tb ec_global ON ec_company.category_name = ec_global.category_name AND ec_global.company_id IS NULL LEFT JOIN user_tb u ON ec_company.created_by = u.user_id WHERE ec_company.company_id = ? AND (ec_company.is_active IS NULL OR ec_company.is_active = 1) AND ec_global.category_id IS NULL -- 전역에 없는 회사별 카테고리만 ) ORDER BY display_order ASC, category_name ASC
2026-01-08T12:53:36.889+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.E.findMergedCategories           : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:53:36.895+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.E.findMergedCategories           : <==      Total: 12
2026-01-08T12:53:36.896+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@294cfd4b]
2026-01-08T12:53:36.896+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:36.897+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-08T12:53:36.898+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:38.116+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:53:38.116+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2026-01-08T12:53:38.122+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-08T12:53:38.125+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T12:53:38.125+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:53:38.125+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2026-01-08T12:53:38.144+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:53:38.146+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2026-01-08T12:53:38.148+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2026-01-08T12:53:38.132+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2026-01-08T12:53:38.132+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/credits/total
2026-01-08T12:53:38.135+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2026-01-08T12:53:38.142+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-08T12:53:38.150+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/credits/total
2026-01-08T12:53:38.193+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T12:53:38.158+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:53:38.161+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2026-01-08T12:53:38.166+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-08T12:53:38.199+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2026-01-08T12:53:38.174+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:53:38.179+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2026-01-08T12:53:38.197+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T12:53:38.198+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:53:38.200+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2026-01-08T12:53:38.200+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2026-01-08T12:53:38.201+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:53:38.206+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2026-01-08T12:53:38.207+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T12:53:38.207+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:53:38.316+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-08T12:53:38.328+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2026-01-08T12:53:38.328+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:53:38.328+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2026-01-08T12:53:38.330+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2026-01-08T12:53:38.329+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T12:53:38.329+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:53:38.329+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-08T12:53:38.329+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2026-01-08T12:53:38.330+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:53:38.330+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2026-01-08T12:53:38.330+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T12:53:38.332+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:53:38.333+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T12:53:38.339+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:38.333+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:38.343+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b51d996] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:38.334+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:53:38.334+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:38.344+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:38.334+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:38.345+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60cc71cb] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:38.336+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:38.343+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@459e001c] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:38.344+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@442b4731] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:38.344+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58d084a3] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:38.346+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ef2cd24] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:38.392+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@380632157 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:53:38.392+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1229140727 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:53:38.392+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@635135478 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:53:38.392+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2062267754 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:53:38.392+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1766331806 wrapping com.mysql.cj.jdbc.ConnectionImpl@70ff8e67] will not be managed by Spring
2026-01-08T12:53:38.393+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@606780845 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ac0fa7] will not be managed by Spring
2026-01-08T12:53:38.398+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:53:38.399+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:53:38.399+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T12:53:38.399+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:53:38.399+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:53:38.402+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:53:38.407+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:53:38.408+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:53:38.408+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:53:38.410+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2026-01-08T12:53:38.413+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:53:38.428+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2026-01-08T12:53:38.440+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:53:38.441+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2026-01-08T12:53:38.445+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@459e001c]
2026-01-08T12:53:38.446+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ef2cd24]
2026-01-08T12:53:38.447+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T12:53:38.448+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2026-01-08T12:53:38.448+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2026-01-08T12:53:38.449+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2026-01-08T12:53:38.450+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:38.450+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:38.450+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60cc71cb]
2026-01-08T12:53:38.450+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58d084a3]
2026-01-08T12:53:38.453+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@442b4731]
2026-01-08T12:53:38.453+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b51d996]
2026-01-08T12:53:38.454+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bfa8368] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:38.454+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23c852d2] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:38.455+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:38.455+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:38.457+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T12:53:38.456+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:38.456+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:38.457+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@995757483 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:53:38.457+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1866100144 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:53:38.458+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ca9922a] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:38.459+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:38.460+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cbcd79c] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:38.462+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7327e940] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:38.462+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:53:38.462+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:53:38.463+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@10180576 wrapping com.mysql.cj.jdbc.ConnectionImpl@70ff8e67] will not be managed by Spring
2026-01-08T12:53:38.464+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:53:38.465+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1239664058 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ac0fa7] will not be managed by Spring
2026-01-08T12:53:38.466+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@166414669 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:53:38.466+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:53:38.467+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:53:38.468+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:53:38.468+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2026-01-08T12:53:38.470+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2026-01-08T12:53:38.471+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:53:38.472+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:53:38.472+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2026-01-08T12:53:38.473+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2026-01-08T12:53:38.473+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:53:38.474+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:53:38.479+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:53:38.480+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:53:38.480+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:53:38.480+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2026-01-08T12:53:38.480+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:53:38.480+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2026-01-08T12:53:38.480+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:38.480+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bfa8368]
2026-01-08T12:53:38.481+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ca9922a]
2026-01-08T12:53:38.481+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7327e940]
2026-01-08T12:53:38.481+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23c852d2]
2026-01-08T12:53:38.481+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cbcd79c]
2026-01-08T12:53:38.482+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44f530c4] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:38.482+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:38.483+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:38.484+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:38.485+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:38.485+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:38.486+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a6c9a88] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:38.486+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@931337134 wrapping com.mysql.cj.jdbc.ConnectionImpl@70ff8e67] will not be managed by Spring
2026-01-08T12:53:38.487+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=26, drafterId= (truncated)...]
2026-01-08T12:53:38.487+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-01-08T12:53:38.487+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=26, drafterId= (truncated)...]
2026-01-08T12:53:38.489+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-01-08T12:53:38.490+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@84060526 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:53:38.491+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:53:38.492+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:38.492+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:38.493+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:38.496+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:38.497+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:53:38.498+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:53:38.513+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:53:38.501+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2026-01-08T12:53:38.504+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2026-01-08T12:53:38.508+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2026-01-08T12:53:38.508+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/credits/total
2026-01-08T12:53:38.527+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2026-01-08T12:53:38.528+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2026-01-08T12:53:38.528+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2026-01-08T12:53:38.516+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2026-01-08T12:53:38.522+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2026-01-08T12:53:38.528+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/credits/total
2026-01-08T12:53:38.529+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2026-01-08T12:53:38.532+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2026-01-08T12:53:38.533+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2026-01-08T12:53:38.534+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/credits/total
2026-01-08T12:53:38.550+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:38.550+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2026-01-08T12:53:38.551+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2026-01-08T12:53:38.578+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2026-01-08T12:53:38.551+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/credits/total", parameters={}
2026-01-08T12:53:38.552+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:53:38.561+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2026-01-08T12:53:38.577+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c6118cb] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:38.577+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2026-01-08T12:53:38.579+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2026-01-08T12:53:38.580+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CreditController#getTotalAvailableAmount()
2026-01-08T12:53:38.580+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a6c9a88]
2026-01-08T12:53:38.581+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44f530c4]
2026-01-08T12:53:38.582+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1028537555 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:53:38.583+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:38.584+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2026-01-08T12:53:38.597+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2026-01-08T12:53:38.598+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:38.598+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:38.606+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@537d6e42] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:38.599+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:53:38.600+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31163f20] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:38.600+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:38.601+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2026-01-08T12:53:38.606+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77bc11ea] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:38.607+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1046681593 wrapping com.mysql.cj.jdbc.ConnectionImpl@70ff8e67] will not be managed by Spring
2026-01-08T12:53:38.612+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@434793807 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:53:38.608+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2026-01-08T12:53:38.609+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@516376373 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:53:38.609+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15593f11] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:38.610+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:38.613+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:53:38.613+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:53:38.614+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:53:38.671+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@813936819 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ac0fa7] will not be managed by Spring
2026-01-08T12:53:38.671+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2026-01-08T12:53:38.672+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b2faf04] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:38.673+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:53:38.673+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:53:38.674+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2026-01-08T12:53:38.674+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2026-01-08T12:53:38.674+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c6118cb]
2026-01-08T12:53:38.675+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@103678181 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:53:38.676+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2026-01-08T12:53:38.677+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:38.680+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.m.C.getTotalAvailableAmount        : ==>  Preparing: SELECT COALESCE(SUM(amount - used_amount), 0) FROM credit_tb WHERE company_id = ? AND (expires_at IS NULL OR expires_at >= ?)
2026-01-08T12:53:38.682+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2026-01-08T12:53:38.683+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.m.C.getTotalAvailableAmount        : ==> Parameters: 1(Long), 2026-01-08(LocalDate)
2026-01-08T12:53:38.683+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:53:38.683+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2026-01-08T12:53:38.683+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:53:38.689+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:38.695+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@537d6e42]
2026-01-08T12:53:38.695+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31163f20]
2026-01-08T12:53:38.697+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2026-01-08T12:53:38.695+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77bc11ea]
2026-01-08T12:53:38.696+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:38.697+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:38.698+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:38.699+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=26, drafterId= (truncated)...]
2026-01-08T12:53:38.699+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2026-01-08T12:53:38.699+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3346a06f] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:38.700+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@112cb388] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:38.702+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:38.705+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:53:38.709+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2026-01-08T12:53:38.711+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@858351128 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:53:38.714+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.m.C.getTotalAvailableAmount        : <==      Total: 1
2026-01-08T12:53:38.715+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@101241606 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:53:38.726+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-08T12:53:38.729+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:53:38.730+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2026-01-08T12:53:38.731+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2026-01-08T12:53:38.731+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b2faf04]
2026-01-08T12:53:38.731+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T12:53:38.733+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2026-01-08T12:53:38.737+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2026-01-08T12:53:38.738+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2026-01-08T12:53:38.741+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:38.742+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T12:53:38.742+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-08T12:53:38.743+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2026-01-08T12:53:38.745+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data={totalAmount=5145})]
2026-01-08T12:53:38.746+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:53:38.749+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:38.747+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-08T12:53:38.748+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2026-01-08T12:53:38.749+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 1
2026-01-08T12:53:38.753+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/credits/total
2026-01-08T12:53:38.756+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T12:53:38.760+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:38.760+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15593f11]
2026-01-08T12:53:38.763+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T12:53:38.764+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/credits/total
2026-01-08T12:53:38.765+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2026-01-08T12:53:38.772+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:38.772+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e89ec60] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:38.773+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:38.773+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@112cb388]
2026-01-08T12:53:38.774+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/credits/total
2026-01-08T12:53:38.799+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3346a06f]
2026-01-08T12:53:38.800+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40466365] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:38.802+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1040258905 wrapping com.mysql.cj.jdbc.ConnectionImpl@70ff8e67] will not be managed by Spring
2026-01-08T12:53:38.806+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=SubscriptionDto(subscriptionId=1, companyId=1, planId= (truncated)...]
2026-01-08T12:53:38.807+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:38.807+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/credits/total", parameters={}
2026-01-08T12:53:38.808+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:38.809+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@216530884 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:53:38.809+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2026-01-08T12:53:38.810+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a11dc16] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:38.811+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CreditController#getTotalAvailableAmount()
2026-01-08T12:53:38.811+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:38.813+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-01-08T12:53:38.813+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:53:38.814+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2026-01-08T12:53:38.815+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@777360431 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:53:38.817+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2026-01-08T12:53:38.821+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:38.823+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:53:38.826+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:53:38.827+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2026-01-08T12:53:38.832+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:53:38.832+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:38.834+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:53:38.840+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:53:38.840+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44c266c] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:38.840+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:53:38.841+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40466365]
2026-01-08T12:53:38.844+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1710471925 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:53:38.845+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:38.845+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.C.getTotalAvailableAmount        : ==>  Preparing: SELECT COALESCE(SUM(amount - used_amount), 0) FROM credit_tb WHERE company_id = ? AND (expires_at IS NULL OR expires_at >= ?)
2026-01-08T12:53:38.845+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@163f033c] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:38.846+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:53:38.847+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.C.getTotalAvailableAmount        : ==> Parameters: 1(Long), 2026-01-08(LocalDate)
2026-01-08T12:53:38.847+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1704007637 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:53:38.850+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:53:38.847+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a11dc16]
2026-01-08T12:53:38.850+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:53:38.851+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 1
2026-01-08T12:53:38.853+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:38.854+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:53:38.855+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e89ec60]
2026-01-08T12:53:38.855+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30ad37e3] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:38.858+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:38.858+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1686682764 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:53:38.858+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=SubscriptionDto(subscriptionId=1, companyId=1, planId= (truncated)...]
2026-01-08T12:53:38.859+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.C.getTotalAvailableAmount        : <==      Total: 1
2026-01-08T12:53:38.861+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:53:38.872+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:38.876+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44c266c]
2026-01-08T12:53:38.876+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:53:38.878+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:38.879+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data={totalAmount=5145})]
2026-01-08T12:53:38.881+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:53:38.895+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:38.896+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@163f033c]
2026-01-08T12:53:38.898+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:38.906+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:53:38.909+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22ab6d41] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:38.909+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30ad37e3]
2026-01-08T12:53:38.912+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1281604811 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:53:38.913+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:38.914+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:53:38.914+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27aac3e3] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:38.916+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:53:38.917+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2120350426 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:53:38.918+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T12:53:38.925+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T12:53:38.926+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:53:38.927+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22ab6d41]
2026-01-08T12:53:38.927+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:38.928+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29f9dc58] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:38.929+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T12:53:38.930+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1354857795 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:53:38.931+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27aac3e3]
2026-01-08T12:53:38.932+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:53:38.932+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:38.932+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:53:38.932+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c872e25] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:38.933+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1027819917 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:53:38.939+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:53:38.940+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:53:38.942+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:53:38.943+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29f9dc58]
2026-01-08T12:53:38.943+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:38.945+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29355336] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:38.946+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1321812308 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:53:38.965+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T12:53:38.966+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T12:53:38.975+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:53:38.975+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T12:53:38.983+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c872e25]
2026-01-08T12:53:38.983+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29355336]
2026-01-08T12:53:38.985+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:38.986+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:38.987+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T12:53:38.987+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c3694de] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:38.989+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:38.991+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1067043981 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:53:38.992+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:53:38.995+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:53:39.013+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:53:39.016+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c3694de]
2026-01-08T12:53:39.017+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:39.018+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@660fbc55] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:39.029+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1855411246 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:53:39.031+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:53:39.032+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:53:39.043+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:53:39.047+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@660fbc55]
2026-01-08T12:53:39.051+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:39.051+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53c7325c] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:39.056+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1219613029 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:53:39.058+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T12:53:39.061+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T12:53:39.073+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T12:53:39.099+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53c7325c]
2026-01-08T12:53:39.109+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:39.111+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b09ec8e] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:39.116+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@834035809 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:53:39.117+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:53:39.117+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:53:39.143+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:53:39.150+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b09ec8e]
2026-01-08T12:53:39.158+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:39.158+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T12:53:39.161+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:57.797+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2026-01-08T12:53:57.797+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:53:57.798+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T12:53:57.798+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/merged
2026-01-08T12:53:57.798+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/merged
2026-01-08T12:53:57.826+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2026-01-08T12:53:57.826+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:53:57.826+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T12:53:57.828+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/merged
2026-01-08T12:53:57.829+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2026-01-08T12:53:57.830+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:53:57.830+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T12:53:57.831+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2026-01-08T12:53:57.831+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expense-categories/merged
2026-01-08T12:53:57.832+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:53:57.832+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T12:53:57.832+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2026-01-08T12:53:57.833+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T12:53:57.833+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/merged
2026-01-08T12:53:57.833+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/merged
2026-01-08T12:53:57.833+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:53:57.834+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2026-01-08T12:53:57.834+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T12:53:57.837+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expense-categories/merged
2026-01-08T12:53:57.838+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/merged", parameters={}
2026-01-08T12:53:57.839+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:53:57.840+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:57.841+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:57.841+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/merged
2026-01-08T12:53:57.841+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getMergedCategories()
2026-01-08T12:53:57.844+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:57.844+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60fdd087] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:57.845+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33ff8b8c] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:57.846+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/merged", parameters={}
2026-01-08T12:53:57.847+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:53:57.847+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ead8243] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:57.848+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getMergedCategories()
2026-01-08T12:53:57.849+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:53:57.850+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:53:57.850+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:57.852+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:53:57.852+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@713e2976] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:57.853+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:57.857+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75483959] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:57.863+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@597031241 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:53:57.863+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@391714089 wrapping com.mysql.cj.jdbc.ConnectionImpl@70ff8e67] will not be managed by Spring
2026-01-08T12:53:57.864+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@509600342 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:53:57.864+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1208105568 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:53:57.867+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1669732301 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:53:57.868+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.E.findMergedCategories           : ==>  Preparing: ( -- 전역 카테고리 (회사별 오버라이드가 있으면 회사별 값 사용) SELECT COALESCE(ec_company.category_id, ec_global.category_id) AS category_id, COALESCE(ec_company.company_id, ec_global.company_id) AS company_id, COALESCE(ec_company.category_name, ec_global.category_name) AS category_name, COALESCE(ec_company.display_order, ec_global.display_order) AS display_order, COALESCE(ec_company.is_active, ec_global.is_active) AS is_active, COALESCE(ec_company.created_by, ec_global.created_by) AS created_by, COALESCE(ec_company.created_at, ec_global.created_at) AS created_at, COALESCE(ec_company.updated_at, ec_global.updated_at) AS updated_at, CASE WHEN ec_company.category_id IS NOT NULL THEN 0 ELSE 1 END AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_global LEFT JOIN expense_category_tb ec_company ON ec_global.category_name = ec_company.category_name AND ec_company.company_id = ? LEFT JOIN user_tb u ON COALESCE(ec_company.created_by, ec_global.created_by) = u.user_id WHERE ec_global.company_id IS NULL AND (ec_global.is_active IS NULL OR ec_global.is_active = 1) AND (ec_company.category_id IS NULL OR ec_company.is_active IS NULL OR ec_company.is_active = 1) ) UNION ( -- 회사별 카테고리 (전역에 없는 새로운 카테고리만) SELECT ec_company.category_id, ec_company.company_id, ec_company.category_name, ec_company.display_order, ec_company.is_active, ec_company.created_by, ec_company.created_at, ec_company.updated_at, 0 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_company LEFT JOIN expense_category_tb ec_global ON ec_company.category_name = ec_global.category_name AND ec_global.company_id IS NULL LEFT JOIN user_tb u ON ec_company.created_by = u.user_id WHERE ec_company.company_id = ? AND (ec_company.is_active IS NULL OR ec_company.is_active = 1) AND ec_global.category_id IS NULL -- 전역에 없는 회사별 카테고리만 ) ORDER BY display_order ASC, category_name ASC
2026-01-08T12:53:57.873+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:53:57.879+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:53:57.880+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T12:53:57.880+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.E.findMergedCategories           : ==>  Preparing: ( -- 전역 카테고리 (회사별 오버라이드가 있으면 회사별 값 사용) SELECT COALESCE(ec_company.category_id, ec_global.category_id) AS category_id, COALESCE(ec_company.company_id, ec_global.company_id) AS company_id, COALESCE(ec_company.category_name, ec_global.category_name) AS category_name, COALESCE(ec_company.display_order, ec_global.display_order) AS display_order, COALESCE(ec_company.is_active, ec_global.is_active) AS is_active, COALESCE(ec_company.created_by, ec_global.created_by) AS created_by, COALESCE(ec_company.created_at, ec_global.created_at) AS created_at, COALESCE(ec_company.updated_at, ec_global.updated_at) AS updated_at, CASE WHEN ec_company.category_id IS NOT NULL THEN 0 ELSE 1 END AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_global LEFT JOIN expense_category_tb ec_company ON ec_global.category_name = ec_company.category_name AND ec_company.company_id = ? LEFT JOIN user_tb u ON COALESCE(ec_company.created_by, ec_global.created_by) = u.user_id WHERE ec_global.company_id IS NULL AND (ec_global.is_active IS NULL OR ec_global.is_active = 1) AND (ec_company.category_id IS NULL OR ec_company.is_active IS NULL OR ec_company.is_active = 1) ) UNION ( -- 회사별 카테고리 (전역에 없는 새로운 카테고리만) SELECT ec_company.category_id, ec_company.company_id, ec_company.category_name, ec_company.display_order, ec_company.is_active, ec_company.created_by, ec_company.created_at, ec_company.updated_at, 0 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_company LEFT JOIN expense_category_tb ec_global ON ec_company.category_name = ec_global.category_name AND ec_global.company_id IS NULL LEFT JOIN user_tb u ON ec_company.created_by = u.user_id WHERE ec_company.company_id = ? AND (ec_company.is_active IS NULL OR ec_company.is_active = 1) AND ec_global.category_id IS NULL -- 전역에 없는 회사별 카테고리만 ) ORDER BY display_order ASC, category_name ASC
2026-01-08T12:53:57.882+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.E.findMergedCategories           : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:53:57.883+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:53:57.884+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2026-01-08T12:53:57.886+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:53:57.894+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.E.findMergedCategories           : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:53:57.900+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T12:53:57.901+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.E.findMergedCategories           : <==      Total: 12
2026-01-08T12:53:57.902+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2026-01-08T12:53:57.902+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2026-01-08T12:53:57.904+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.E.findMergedCategories           : <==      Total: 12
2026-01-08T12:53:57.908+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33ff8b8c]
2026-01-08T12:53:57.908+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75483959]
2026-01-08T12:53:57.908+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ead8243]
2026-01-08T12:53:57.908+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60fdd087]
2026-01-08T12:53:57.909+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@713e2976]
2026-01-08T12:53:57.910+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:57.910+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:57.910+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:57.910+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:57.910+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:53:57.911+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T12:53:57.911+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-08T12:53:57.911+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-08T12:53:57.911+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ea0954e] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:57.911+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cdac549] was not registered for synchronization because synchronization is not active
2026-01-08T12:53:57.912+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:57.912+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:57.913+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:57.914+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@25644523 wrapping com.mysql.cj.jdbc.ConnectionImpl@70ff8e67] will not be managed by Spring
2026-01-08T12:53:57.915+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@150558932 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:53:57.919+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:53:57.921+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2026-01-08T12:53:57.921+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:53:57.922+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2026-01-08T12:53:57.946+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:53:57.946+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2026-01-08T12:53:57.949+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ea0954e]
2026-01-08T12:53:57.950+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cdac549]
2026-01-08T12:53:57.950+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:57.951+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:57.957+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=26, drafterId= (truncated)...]
2026-01-08T12:53:57.957+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-01-08T12:53:57.958+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:57.959+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:53:58.613+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/account-codes/list
2026-01-08T12:53:58.630+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/account-codes/list
2026-01-08T12:53:58.699+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/account-codes/list
2026-01-08T12:53:58.710+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/account-codes/list
2026-01-08T12:53:58.712+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/account-codes/list", parameters={}
2026-01-08T12:53:58.713+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AccountCodeController#getMappingList()
2026-01-08T12:53:58.713+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:53:58.716+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@25b42d1d and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('SUPERADMIN', 'TAX_ACCOUNTANT')]
2026-01-08T12:53:58.718+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.innersignature.backend.exception.GlobalExceptionHandler#handleAccessDeniedException(AccessDeniedException)
2026-01-08T12:53:58.719+09:00  WARN 5336 --- [http-nio-8080-exec-5] c.i.b.exception.GlobalExceptionHandler   : 권한 부족: Access Denied
2026-01-08T12:53:58.721+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:53:58.722+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, message=접근 권한이 없습니다., data=null)]
2026-01-08T12:53:58.724+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2026-01-08T12:53:58.725+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 403 FORBIDDEN
2026-01-08T12:54:00.581+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:54:00.582+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2026-01-08T12:54:00.582+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T12:54:00.583+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-08T12:54:00.584+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:54:00.586+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2026-01-08T12:54:00.594+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2026-01-08T12:54:00.594+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/credits/total
2026-01-08T12:54:00.597+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2026-01-08T12:54:00.598+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-08T12:54:00.600+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:54:00.603+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2026-01-08T12:54:00.605+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2026-01-08T12:54:00.614+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/credits/total
2026-01-08T12:54:00.614+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:54:00.614+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2026-01-08T12:54:00.622+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:54:00.615+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T12:54:00.615+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-08T12:54:00.615+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:54:00.623+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2026-01-08T12:54:00.633+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2026-01-08T12:54:00.625+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:54:00.628+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2026-01-08T12:54:00.631+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T12:54:00.634+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T12:54:00.638+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T12:54:00.633+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:54:00.633+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2026-01-08T12:54:00.633+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-08T12:54:00.634+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:54:00.639+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2026-01-08T12:54:00.640+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T12:54:00.640+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:54:00.640+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2026-01-08T12:54:00.640+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-08T12:54:00.640+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:54:00.641+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2026-01-08T12:54:00.641+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:54:00.641+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:00.641+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:54:00.641+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2026-01-08T12:54:00.641+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T12:54:00.642+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:00.642+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7576691b] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:00.641+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:00.641+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2026-01-08T12:54:00.641+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a915d29] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:00.642+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:00.643+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:00.644+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4119e947] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:00.646+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2026-01-08T12:54:00.646+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1232364400 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:54:00.648+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:54:00.646+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ffee46c] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:00.647+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11338b58] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:00.647+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@165599824 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ac0fa7] will not be managed by Spring
2026-01-08T12:54:00.647+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:00.650+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@656825303 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:54:00.650+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2026-01-08T12:54:00.658+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T12:54:00.658+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a367ef6] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:00.659+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@132715806 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:54:00.659+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:54:00.660+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:54:00.661+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:54:00.662+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@427043063 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:54:00.663+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:54:00.663+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@397771169 wrapping com.mysql.cj.jdbc.ConnectionImpl@70ff8e67] will not be managed by Spring
2026-01-08T12:54:00.664+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2026-01-08T12:54:00.665+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:54:00.665+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:54:00.672+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:54:00.666+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T12:54:00.673+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a915d29]
2026-01-08T12:54:00.666+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:54:00.667+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7576691b]
2026-01-08T12:54:00.675+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:00.679+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2026-01-08T12:54:00.678+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2026-01-08T12:54:00.678+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:00.679+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T12:54:00.679+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4119e947]
2026-01-08T12:54:00.680+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:00.679+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e197aa9] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:00.680+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:00.680+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@85a7855] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:00.681+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@760835924 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:54:00.682+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:54:00.682+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2026-01-08T12:54:00.687+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2026-01-08T12:54:00.688+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@246130215 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:54:00.691+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2026-01-08T12:54:00.691+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11338b58]
2026-01-08T12:54:00.703+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:00.703+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57b0df61] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:00.692+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ffee46c]
2026-01-08T12:54:00.708+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:00.697+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2026-01-08T12:54:00.700+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2026-01-08T12:54:00.700+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:54:00.701+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2026-01-08T12:54:00.707+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1133006089 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:54:00.710+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c290403] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:00.710+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a367ef6]
2026-01-08T12:54:00.711+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2026-01-08T12:54:00.711+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:54:00.712+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:54:00.713+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@789043278 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:54:00.713+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:00.714+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2026-01-08T12:54:00.714+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2026-01-08T12:54:00.715+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:54:00.716+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:54:00.716+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68a9009f] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:00.719+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:54:00.719+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2026-01-08T12:54:00.720+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e197aa9]
2026-01-08T12:54:00.723+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:54:00.724+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1253518091 wrapping com.mysql.cj.jdbc.ConnectionImpl@70ff8e67] will not be managed by Spring
2026-01-08T12:54:00.724+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@85a7855]
2026-01-08T12:54:00.725+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2026-01-08T12:54:00.725+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:00.726+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:54:00.726+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2026-01-08T12:54:00.727+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:00.727+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:54:00.727+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2026-01-08T12:54:00.727+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-01-08T12:54:00.728+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57b0df61]
2026-01-08T12:54:00.728+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2026-01-08T12:54:00.728+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=26, drafterId= (truncated)...]
2026-01-08T12:54:00.730+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c290403]
2026-01-08T12:54:00.730+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:00.731+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:00.732+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:00.742+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:00.742+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:00.742+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2026-01-08T12:54:00.755+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68a9009f]
2026-01-08T12:54:00.756+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:00.757+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-01-08T12:54:00.758+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:00.742+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f8ca52f] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:00.748+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-08T12:54:00.748+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69b3a61] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:00.766+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1468118532 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:54:00.766+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2026-01-08T12:54:00.750+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:54:00.753+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=26, drafterId= (truncated)...]
2026-01-08T12:54:00.764+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2026-01-08T12:54:00.765+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1695307637 wrapping com.mysql.cj.jdbc.ConnectionImpl@70ff8e67] will not be managed by Spring
2026-01-08T12:54:00.766+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:54:00.767+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-08T12:54:00.781+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:54:00.770+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:54:00.777+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:00.783+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:54:00.788+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:54:00.780+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2026-01-08T12:54:00.780+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2026-01-08T12:54:00.781+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-08T12:54:00.807+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T12:54:00.787+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/credits/total
2026-01-08T12:54:00.788+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:54:00.789+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2026-01-08T12:54:00.802+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2026-01-08T12:54:00.810+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:00.815+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/credits/total
2026-01-08T12:54:00.816+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:00.817+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:54:00.829+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2026-01-08T12:54:00.829+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25100d15] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:00.831+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@489121931 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:54:00.829+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/credits/total
2026-01-08T12:54:00.830+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e06b8fb] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:00.830+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69b3a61]
2026-01-08T12:54:00.830+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2026-01-08T12:54:00.832+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:54:00.832+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/credits/total", parameters={}
2026-01-08T12:54:00.833+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@410482608 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:54:00.838+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:00.839+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:00.840+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:54:00.842+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CreditController#getTotalAvailableAmount()
2026-01-08T12:54:00.847+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2026-01-08T12:54:00.843+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:54:00.843+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32b7fe35] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:00.852+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1839239728 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:54:00.843+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51bbb78e] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:00.845+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:54:00.848+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2026-01-08T12:54:00.850+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:54:00.853+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:54:00.854+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@154626289 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:54:00.854+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:54:00.855+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:00.855+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:54:00.855+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:54:00.856+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9a405da] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:00.859+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:54:00.864+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2026-01-08T12:54:00.864+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@727880783 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ac0fa7] will not be managed by Spring
2026-01-08T12:54:00.866+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:54:00.867+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2026-01-08T12:54:00.867+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25100d15]
2026-01-08T12:54:00.868+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.C.getTotalAvailableAmount        : ==>  Preparing: SELECT COALESCE(SUM(amount - used_amount), 0) FROM credit_tb WHERE company_id = ? AND (expires_at IS NULL OR expires_at >= ?)
2026-01-08T12:54:00.876+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:54:00.879+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 1
2026-01-08T12:54:00.880+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e06b8fb]
2026-01-08T12:54:00.881+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:00.884+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39e2ff27] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:00.882+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2026-01-08T12:54:00.886+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51bbb78e]
2026-01-08T12:54:00.882+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.C.getTotalAvailableAmount        : ==> Parameters: 1(Long), 2026-01-08(LocalDate)
2026-01-08T12:54:00.889+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:00.882+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32b7fe35]
2026-01-08T12:54:00.883+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f8ca52f]
2026-01-08T12:54:00.883+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:00.885+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@482293163 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:54:00.890+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7128ca4d] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:00.890+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:00.892+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:00.893+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@367df29a] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:00.893+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:54:00.894+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2107835425 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:54:00.895+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63b0888e] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:00.896+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=SubscriptionDto(subscriptionId=1, companyId=1, planId= (truncated)...]
2026-01-08T12:54:00.896+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1027036622 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:54:00.906+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:54:00.908+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:54:00.896+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:54:00.897+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2026-01-08T12:54:00.898+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1861977243 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:54:00.899+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:00.914+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2026-01-08T12:54:00.914+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T12:54:00.917+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2026-01-08T12:54:00.928+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T12:54:00.930+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2026-01-08T12:54:00.940+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2026-01-08T12:54:00.940+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.C.getTotalAvailableAmount        : <==      Total: 1
2026-01-08T12:54:00.940+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2026-01-08T12:54:00.941+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:54:00.941+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:54:00.944+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2026-01-08T12:54:00.949+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9a405da]
2026-01-08T12:54:00.950+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7128ca4d]
2026-01-08T12:54:00.950+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T12:54:00.956+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39e2ff27]
2026-01-08T12:54:00.957+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@367df29a]
2026-01-08T12:54:00.961+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:00.961+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=26, drafterId= (truncated)...]
2026-01-08T12:54:00.963+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:00.958+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2026-01-08T12:54:00.958+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:00.991+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data={totalAmount=5145})]
2026-01-08T12:54:00.958+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:00.992+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:00.959+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63b0888e]
2026-01-08T12:54:00.960+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:00.975+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2026-01-08T12:54:00.978+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2026-01-08T12:54:01.008+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2026-01-08T12:54:00.992+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-01-08T12:54:01.003+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/credits/total
2026-01-08T12:54:01.007+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:01.007+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a37dff1] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:01.008+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:01.012+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1149378135 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:54:01.009+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2026-01-08T12:54:01.009+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:01.010+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6946290c] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:01.012+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/credits/total
2026-01-08T12:54:01.012+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@401aa394] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:01.013+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:54:01.013+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2026-01-08T12:54:01.015+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@248850514 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:54:01.015+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/credits/total
2026-01-08T12:54:01.015+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1171477772 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:54:01.017+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:54:01.020+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2026-01-08T12:54:01.021+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:54:01.021+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/credits/total", parameters={}
2026-01-08T12:54:01.038+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2026-01-08T12:54:01.058+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2026-01-08T12:54:01.059+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:54:01.063+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:54:01.065+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CreditController#getTotalAvailableAmount()
2026-01-08T12:54:01.066+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2026-01-08T12:54:01.067+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:01.072+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a37dff1]
2026-01-08T12:54:01.073+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2026-01-08T12:54:01.073+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2aa24d9b] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:01.073+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:01.080+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2026-01-08T12:54:01.081+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:54:01.082+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:54:01.083+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@70018181 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:54:01.088+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48caf6f5] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:01.092+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:01.093+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:54:01.093+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6946290c]
2026-01-08T12:54:01.094+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:54:01.094+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@475426890 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:54:01.097+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2026-01-08T12:54:01.095+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7840d773] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:01.096+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:01.097+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:54:01.107+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:54:01.105+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1489870108 wrapping com.mysql.cj.jdbc.ConnectionImpl@70ff8e67] will not be managed by Spring
2026-01-08T12:54:01.106+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26d2d724] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:01.108+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.C.getTotalAvailableAmount        : ==>  Preparing: SELECT COALESCE(SUM(amount - used_amount), 0) FROM credit_tb WHERE company_id = ? AND (expires_at IS NULL OR expires_at >= ?)
2026-01-08T12:54:01.109+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2122618043 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:54:01.109+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.C.getTotalAvailableAmount        : ==> Parameters: 1(Long), 2026-01-08(LocalDate)
2026-01-08T12:54:01.111+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:54:01.112+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:54:01.115+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:54:01.113+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2026-01-08T12:54:01.114+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:54:01.115+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 1
2026-01-08T12:54:01.116+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48caf6f5]
2026-01-08T12:54:01.118+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2aa24d9b]
2026-01-08T12:54:01.121+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@401aa394]
2026-01-08T12:54:01.122+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:01.125+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:01.126+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:01.128+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4245705f] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:01.128+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2026-01-08T12:54:01.129+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=SubscriptionDto(subscriptionId=1, companyId=1, planId= (truncated)...]
2026-01-08T12:54:01.130+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:54:01.131+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.C.getTotalAvailableAmount        : <==      Total: 1
2026-01-08T12:54:01.132+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1571249084 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:54:01.135+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:01.139+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:01.143+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26d2d724]
2026-01-08T12:54:01.144+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7840d773]
2026-01-08T12:54:01.146+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T12:54:01.150+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:01.156+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2027172a] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:01.153+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:01.154+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T12:54:01.157+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@284987389 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:54:01.158+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data={totalAmount=5145})]
2026-01-08T12:54:01.162+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T12:54:01.164+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:01.165+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T12:54:01.178+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T12:54:01.192+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4245705f]
2026-01-08T12:54:01.193+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:01.193+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fda4c25] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:01.197+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1182012937 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:54:01.204+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T12:54:01.213+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:54:01.213+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2027172a]
2026-01-08T12:54:01.215+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:54:01.216+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:01.220+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36eb4578] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:01.221+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@778930888 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:54:01.230+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:54:01.247+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:54:01.249+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:54:01.250+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fda4c25]
2026-01-08T12:54:01.256+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:01.257+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3601903b] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:01.259+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:54:01.260+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1271351738 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:54:01.260+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36eb4578]
2026-01-08T12:54:01.260+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:54:01.260+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:01.260+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:54:01.261+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T12:54:01.264+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:01.268+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:54:01.274+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3601903b]
2026-01-08T12:54:01.279+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:01.280+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@429d8736] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:01.281+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2015840022 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:54:01.282+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T12:54:01.299+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T12:54:01.317+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T12:54:01.324+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@429d8736]
2026-01-08T12:54:01.325+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:01.325+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a6e99ed] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:01.326+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@610536353 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:54:01.330+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:54:01.332+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:54:01.359+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:54:01.359+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a6e99ed]
2026-01-08T12:54:01.361+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:01.361+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T12:54:01.362+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:01.712+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2026-01-08T12:54:01.714+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2026-01-08T12:54:01.715+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/logout
2026-01-08T12:54:01.716+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2026-01-08T12:54:01.717+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2026-01-08T12:54:01.717+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2026-01-08T12:54:01.720+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxIiwidXNlcm5hbWUiOiJ (truncated)...]
2026-01-08T12:54:01.723+09:00  INFO 5336 --- [http-nio-8080-exec-7] SECURITY                                 : LOGOUT userId=1
2026-01-08T12:54:01.723+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:01.724+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2026-01-08T12:54:01.725+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:04.815+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2026-01-08T12:54:04.818+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2026-01-08T12:54:04.819+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-08T12:54:04.819+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2026-01-08T12:54:04.820+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2026-01-08T12:54:04.820+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2026-01-08T12:54:04.821+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_tax, password=1234)]
2026-01-08T12:54:04.822+09:00  INFO 5336 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 로그인 시도 - username: test_tax
2026-01-08T12:54:04.823+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:04.823+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e398437] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:04.825+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2019943103 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ac0fa7] will not be managed by Spring
2026-01-08T12:54:04.825+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2026-01-08T12:54:04.826+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_tax(String)
2026-01-08T12:54:04.829+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2026-01-08T12:54:04.829+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e398437]
2026-01-08T12:54:04.913+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:04.914+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@adfa5c] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:04.914+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@286390664 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ac0fa7] will not be managed by Spring
2026-01-08T12:54:04.914+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:54:04.915+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 12(Long)
2026-01-08T12:54:04.916+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2026-01-08T12:54:04.917+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@adfa5c]
2026-01-08T12:54:04.918+09:00  INFO 5336 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 로그인 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1
2026-01-08T12:54:04.919+09:00  INFO 5336 --- [http-nio-8080-exec-3] SECURITY                                 : LOGIN_SUCCESS userId=12 username=test_tax role=TAX_ACCOUNTANT
2026-01-08T12:54:04.920+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:04.920+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=12, username=test_tax, password= (truncated)...]
2026-01-08T12:54:04.921+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:05.220+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2026-01-08T12:54:05.230+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2026-01-08T12:54:05.232+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/companies
2026-01-08T12:54:05.233+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2026-01-08T12:54:05.234+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2026-01-08T12:54:05.235+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2026-01-08T12:54:05.236+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:05.237+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@164a4949] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:05.247+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1600608880 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:54:05.271+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2026-01-08T12:54:05.276+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 12(Long)
2026-01-08T12:54:05.314+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2026-01-08T12:54:05.317+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@164a4949]
2026-01-08T12:54:05.323+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:05.324+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2026-01-08T12:54:05.348+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:05.350+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:54:05.351+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T12:54:05.352+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-08T12:54:05.357+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:54:05.358+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-08T12:54:05.365+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:54:05.389+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:54:05.390+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T12:54:05.394+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-08T12:54:05.395+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:54:05.397+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T12:54:05.397+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:54:05.400+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:54:05.415+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T12:54:05.416+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-08T12:54:05.416+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:54:05.429+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-08T12:54:05.421+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-08T12:54:05.423+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:54:05.431+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:54:05.424+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-08T12:54:05.427+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T12:54:05.429+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:54:05.430+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-08T12:54:05.443+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T12:54:05.432+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:54:05.432+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:54:05.436+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-08T12:54:05.446+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:05.438+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T12:54:05.438+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:54:05.444+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:05.446+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:54:05.446+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-08T12:54:05.447+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6dde7e0f] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:05.447+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T12:54:05.447+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:54:05.448+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@314c1324] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:05.448+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:54:05.454+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:54:05.449+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-08T12:54:05.449+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@9720732 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:54:05.450+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:05.450+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:05.456+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:54:05.457+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T12:54:05.457+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:54:05.457+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a6dac3e] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:05.458+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4dc468c9] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:05.460+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:05.464+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dd73de9] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:05.461+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:05.463+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@589154384 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:54:05.463+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T12:54:05.465+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6618e3ad] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:05.466+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:54:05.467+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:54:05.472+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@864130013 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:54:05.472+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@733917371 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ac0fa7] will not be managed by Spring
2026-01-08T12:54:05.473+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2008373388 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:54:05.473+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1765357673 wrapping com.mysql.cj.jdbc.ConnectionImpl@70ff8e67] will not be managed by Spring
2026-01-08T12:54:05.473+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T12:54:05.478+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:54:05.479+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T12:54:05.479+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:54:05.480+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:54:05.480+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6dde7e0f]
2026-01-08T12:54:05.481+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:54:05.481+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 12(Long)
2026-01-08T12:54:05.483+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T12:54:05.483+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T12:54:05.487+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:05.495+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:54:05.487+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:54:05.494+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T12:54:05.494+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T12:54:05.495+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T12:54:05.496+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6618e3ad]
2026-01-08T12:54:05.496+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@314c1324]
2026-01-08T12:54:05.498+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:05.496+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T12:54:05.497+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a6dac3e]
2026-01-08T12:54:05.497+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dd73de9]
2026-01-08T12:54:05.498+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:05.498+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:05.499+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a864f2f] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:05.499+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4dc468c9]
2026-01-08T12:54:05.500+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:05.503+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:05.503+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39cd9a02] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:05.506+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@474704094 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:54:05.509+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:54:05.506+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T12:54:05.506+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:05.507+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T12:54:05.507+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T12:54:05.508+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@885418296 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:54:05.510+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:54:05.511+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T12:54:05.511+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:05.512+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T12:54:05.513+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:05.513+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:54:05.515+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:05.517+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:54:05.522+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T12:54:05.523+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:54:05.523+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-08T12:54:05.524+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:54:05.528+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-08T12:54:05.524+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T12:54:05.528+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:54:05.528+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a864f2f]
2026-01-08T12:54:05.529+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-08T12:54:05.529+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T12:54:05.531+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:54:05.531+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:05.532+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:54:05.532+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-08T12:54:05.532+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:05.532+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:54:05.532+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f87ead0] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:05.533+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39cd9a02]
2026-01-08T12:54:05.533+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T12:54:05.534+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52d69ad7] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:05.540+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:05.540+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1806438121 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:54:05.537+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:54:05.538+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@657473336 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:54:05.538+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:05.540+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@370a7c9f] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:05.540+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T12:54:05.542+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:05.543+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:54:05.544+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b66151c] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:05.544+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1392958938 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:54:05.545+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a2f0bc9] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:05.545+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 12(Long)
2026-01-08T12:54:05.546+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:54:05.547+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@237931000 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:54:05.548+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:54:05.547+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:54:05.554+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:54:05.547+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@69906608 wrapping com.mysql.cj.jdbc.ConnectionImpl@70ff8e67] will not be managed by Spring
2026-01-08T12:54:05.549+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T12:54:05.556+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52d69ad7]
2026-01-08T12:54:05.557+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:05.551+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:54:05.557+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f87ead0]
2026-01-08T12:54:05.554+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:54:05.555+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:54:05.557+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T12:54:05.559+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:54:05.562+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:05.564+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T12:54:05.565+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b66151c]
2026-01-08T12:54:05.565+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a5b1ddc] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:05.565+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:05.566+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:05.570+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@710584621 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:54:05.572+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:54:05.580+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T12:54:05.580+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32a3aaa5] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:05.581+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:54:05.581+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@370a7c9f]
2026-01-08T12:54:05.581+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a2f0bc9]
2026-01-08T12:54:05.582+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1493604120 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:54:05.583+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:54:05.584+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:54:05.583+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:05.588+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@760495e9] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:05.583+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:05.584+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:54:05.590+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:54:05.589+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@302969138 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:54:05.589+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T12:54:05.591+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a5b1ddc]
2026-01-08T12:54:05.592+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:54:05.594+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:54:05.596+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:05.598+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:05.598+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:54:05.599+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32a3aaa5]
2026-01-08T12:54:05.599+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@390e6bd1] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:05.605+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@454636753 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:54:05.607+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:54:05.600+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:05.612+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ff22d88] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:05.612+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:54:05.616+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@808143441 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:54:05.622+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:54:05.623+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:54:05.626+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:54:05.627+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:54:05.627+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@760495e9]
2026-01-08T12:54:05.628+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@390e6bd1]
2026-01-08T12:54:05.628+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:05.629+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a44d780] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:05.628+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:05.630+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2025698556 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:54:05.631+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44b58bf3] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:05.632+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:54:05.632+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@237973591 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:54:05.633+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:54:05.634+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:54:05.634+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:54:05.635+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ff22d88]
2026-01-08T12:54:05.637+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:54:05.639+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:05.639+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@138febd1] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:05.646+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@488577605 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:54:05.648+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:54:05.653+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44b58bf3]
2026-01-08T12:54:05.649+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:54:05.650+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:54:05.656+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:54:05.655+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:05.658+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17d6633c] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:05.655+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a44d780]
2026-01-08T12:54:05.662+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2144634918 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:54:05.662+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:05.662+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:54:05.663+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72865e81] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:05.663+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:54:05.664+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2129821574 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:54:05.664+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:54:05.666+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:54:05.671+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:54:05.671+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@138febd1]
2026-01-08T12:54:05.672+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:05.674+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:54:05.677+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fc481f2] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:05.677+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17d6633c]
2026-01-08T12:54:05.678+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@58273464 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:54:05.680+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:05.680+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:54:05.681+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T12:54:05.682+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:54:05.685+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:05.700+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:54:05.700+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:54:05.701+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72865e81]
2026-01-08T12:54:05.704+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fc481f2]
2026-01-08T12:54:05.705+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:05.706+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:05.710+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ca80cba] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:05.712+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T12:54:05.712+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1285171704 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:54:05.714+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:05.715+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:54:05.726+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:54:05.744+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:54:05.745+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ca80cba]
2026-01-08T12:54:05.746+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:05.747+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@237141c3] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:05.748+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1878021323 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:54:05.754+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:54:05.756+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:54:05.780+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:54:05.782+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@237141c3]
2026-01-08T12:54:05.783+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:05.783+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18a6fea0] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:05.784+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@829479726 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:54:05.789+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:54:05.790+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:54:05.799+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:54:05.807+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18a6fea0]
2026-01-08T12:54:05.808+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:05.811+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T12:54:05.817+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:07.402+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:54:07.403+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/merged
2026-01-08T12:54:07.403+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T12:54:07.406+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/merged
2026-01-08T12:54:07.414+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:54:07.427+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/merged
2026-01-08T12:54:07.431+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:54:07.437+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expense-categories/merged
2026-01-08T12:54:07.439+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:54:07.439+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/merged
2026-01-08T12:54:07.440+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T12:54:07.444+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/merged
2026-01-08T12:54:07.445+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:54:07.446+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/merged", parameters={}
2026-01-08T12:54:07.447+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T12:54:07.447+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expense-categories/merged
2026-01-08T12:54:07.448+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:54:07.448+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getMergedCategories()
2026-01-08T12:54:07.449+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T12:54:07.449+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/merged
2026-01-08T12:54:07.450+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:07.450+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:54:07.452+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T12:54:07.454+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T12:54:07.456+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:07.457+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@131a8ecc] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:07.453+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/merged", parameters={}
2026-01-08T12:54:07.453+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18679c88] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:07.454+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:54:07.463+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:07.464+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c2755c5] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:07.461+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getMergedCategories()
2026-01-08T12:54:07.469+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:54:07.473+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:54:07.477+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:07.480+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45963c37] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:07.482+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1408057841 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:54:07.482+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1628567107 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:54:07.482+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1075258248 wrapping com.mysql.cj.jdbc.ConnectionImpl@70ff8e67] will not be managed by Spring
2026-01-08T12:54:07.483+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:54:07.483+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.E.findMergedCategories           : ==>  Preparing: ( -- 전역 카테고리 (회사별 오버라이드가 있으면 회사별 값 사용) SELECT COALESCE(ec_company.category_id, ec_global.category_id) AS category_id, COALESCE(ec_company.company_id, ec_global.company_id) AS company_id, COALESCE(ec_company.category_name, ec_global.category_name) AS category_name, COALESCE(ec_company.display_order, ec_global.display_order) AS display_order, COALESCE(ec_company.is_active, ec_global.is_active) AS is_active, COALESCE(ec_company.created_by, ec_global.created_by) AS created_by, COALESCE(ec_company.created_at, ec_global.created_at) AS created_at, COALESCE(ec_company.updated_at, ec_global.updated_at) AS updated_at, CASE WHEN ec_company.category_id IS NOT NULL THEN 0 ELSE 1 END AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_global LEFT JOIN expense_category_tb ec_company ON ec_global.category_name = ec_company.category_name AND ec_company.company_id = ? LEFT JOIN user_tb u ON COALESCE(ec_company.created_by, ec_global.created_by) = u.user_id WHERE ec_global.company_id IS NULL AND (ec_global.is_active IS NULL OR ec_global.is_active = 1) AND (ec_company.category_id IS NULL OR ec_company.is_active IS NULL OR ec_company.is_active = 1) ) UNION ( -- 회사별 카테고리 (전역에 없는 새로운 카테고리만) SELECT ec_company.category_id, ec_company.company_id, ec_company.category_name, ec_company.display_order, ec_company.is_active, ec_company.created_by, ec_company.created_at, ec_company.updated_at, 0 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_company LEFT JOIN expense_category_tb ec_global ON ec_company.category_name = ec_global.category_name AND ec_global.company_id IS NULL LEFT JOIN user_tb u ON ec_company.created_by = u.user_id WHERE ec_company.company_id = ? AND (ec_company.is_active IS NULL OR ec_company.is_active = 1) AND ec_global.category_id IS NULL -- 전역에 없는 회사별 카테고리만 ) ORDER BY display_order ASC, category_name ASC
2026-01-08T12:54:07.484+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T12:54:07.488+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@976443787 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:54:07.490+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T12:54:07.493+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.E.findMergedCategories           : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:54:07.495+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 12(Long)
2026-01-08T12:54:07.495+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.E.findMergedCategories           : ==>  Preparing: ( -- 전역 카테고리 (회사별 오버라이드가 있으면 회사별 값 사용) SELECT COALESCE(ec_company.category_id, ec_global.category_id) AS category_id, COALESCE(ec_company.company_id, ec_global.company_id) AS company_id, COALESCE(ec_company.category_name, ec_global.category_name) AS category_name, COALESCE(ec_company.display_order, ec_global.display_order) AS display_order, COALESCE(ec_company.is_active, ec_global.is_active) AS is_active, COALESCE(ec_company.created_by, ec_global.created_by) AS created_by, COALESCE(ec_company.created_at, ec_global.created_at) AS created_at, COALESCE(ec_company.updated_at, ec_global.updated_at) AS updated_at, CASE WHEN ec_company.category_id IS NOT NULL THEN 0 ELSE 1 END AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_global LEFT JOIN expense_category_tb ec_company ON ec_global.category_name = ec_company.category_name AND ec_company.company_id = ? LEFT JOIN user_tb u ON COALESCE(ec_company.created_by, ec_global.created_by) = u.user_id WHERE ec_global.company_id IS NULL AND (ec_global.is_active IS NULL OR ec_global.is_active = 1) AND (ec_company.category_id IS NULL OR ec_company.is_active IS NULL OR ec_company.is_active = 1) ) UNION ( -- 회사별 카테고리 (전역에 없는 새로운 카테고리만) SELECT ec_company.category_id, ec_company.company_id, ec_company.category_name, ec_company.display_order, ec_company.is_active, ec_company.created_by, ec_company.created_at, ec_company.updated_at, 0 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_company LEFT JOIN expense_category_tb ec_global ON ec_company.category_name = ec_global.category_name AND ec_global.company_id IS NULL LEFT JOIN user_tb u ON ec_company.created_by = u.user_id WHERE ec_company.company_id = ? AND (ec_company.is_active IS NULL OR ec_company.is_active = 1) AND ec_global.category_id IS NULL -- 전역에 없는 회사별 카테고리만 ) ORDER BY display_order ASC, category_name ASC
2026-01-08T12:54:07.505+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.E.findMergedCategories           : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:54:07.522+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T12:54:07.525+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.E.findMergedCategories           : <==      Total: 12
2026-01-08T12:54:07.525+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T12:54:07.526+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.E.findMergedCategories           : <==      Total: 12
2026-01-08T12:54:07.532+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@131a8ecc]
2026-01-08T12:54:07.533+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c2755c5]
2026-01-08T12:54:07.533+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18679c88]
2026-01-08T12:54:07.533+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45963c37]
2026-01-08T12:54:07.535+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:07.535+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:07.537+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:07.542+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:07.547+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-08T12:54:07.544+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T12:54:07.544+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-08T12:54:07.545+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T12:54:07.563+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:07.550+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:07.560+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:07.563+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:08.237+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/account-codes/list
2026-01-08T12:54:08.279+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/account-codes/list
2026-01-08T12:54:08.283+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/account-codes/list
2026-01-08T12:54:08.286+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/account-codes/list
2026-01-08T12:54:08.298+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/account-codes/list", parameters={}
2026-01-08T12:54:08.306+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AccountCodeController#getMappingList()
2026-01-08T12:54:08.312+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:54:08.317+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:54:08.322+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:08.323+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d6b483f] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:08.332+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1971970571 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:54:08.333+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCompanyId                : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE company_id = ? OR company_id IS NULL ORDER BY company_id DESC, category ASC, account_name ASC
2026-01-08T12:54:08.338+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCompanyId                : ==> Parameters: 1(Long)
2026-01-08T12:54:08.343+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.A.findByCompanyId                : <==      Total: 12
2026-01-08T12:54:08.347+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d6b483f]
2026-01-08T12:54:08.348+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:08.348+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[AccountCodeMappingDto(mappingId=5, companyId=null, ca (truncated)...]
2026-01-08T12:54:08.352+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:18.069+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:54:18.071+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T12:54:18.071+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-08T12:54:18.071+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:54:18.072+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-08T12:54:18.072+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:54:18.078+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:54:18.078+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T12:54:18.079+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-08T12:54:18.080+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:54:18.089+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:54:18.080+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-08T12:54:18.081+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:54:18.093+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-08T12:54:18.082+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:54:18.082+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T12:54:18.082+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-08T12:54:18.098+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-08T12:54:18.092+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:54:18.093+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:54:18.113+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:54:18.114+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:54:18.094+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-08T12:54:18.094+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:54:18.097+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T12:54:18.102+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-08T12:54:18.103+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:54:18.114+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:54:18.115+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-08T12:54:18.116+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:54:18.116+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T12:54:18.120+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T12:54:18.120+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:54:18.123+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:18.121+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:18.122+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T12:54:18.122+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:54:18.127+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:18.122+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T12:54:18.123+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:18.128+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@570a3078] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:18.123+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@745c5815] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:18.124+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f683f81] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:18.127+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:18.127+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e493976] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:18.128+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:18.130+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@682a9d54] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:18.132+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@586ba5c1] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:18.149+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1805346716 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ac0fa7] will not be managed by Spring
2026-01-08T12:54:18.149+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@29202171 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:54:18.149+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1964669376 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:54:18.149+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1291946206 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:54:18.150+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:54:18.150+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:54:18.150+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:54:18.153+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:54:18.154+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:54:18.156+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1302130836 wrapping com.mysql.cj.jdbc.ConnectionImpl@70ff8e67] will not be managed by Spring
2026-01-08T12:54:18.160+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:54:18.157+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T12:54:18.157+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@753318376 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:54:18.157+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:54:18.159+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T12:54:18.162+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:54:18.162+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T12:54:18.164+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T12:54:18.171+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e493976]
2026-01-08T12:54:18.176+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 12(Long)
2026-01-08T12:54:18.177+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:18.177+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T12:54:18.178+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@617242e] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:18.178+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f683f81]
2026-01-08T12:54:18.181+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1119518654 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ac0fa7] will not be managed by Spring
2026-01-08T12:54:18.181+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:18.182+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:54:18.182+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T12:54:18.184+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:54:18.189+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:18.191+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T12:54:18.191+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:54:18.192+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@682a9d54]
2026-01-08T12:54:18.191+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T12:54:18.192+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T12:54:18.193+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@745c5815]
2026-01-08T12:54:18.193+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:18.193+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@570a3078]
2026-01-08T12:54:18.193+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@586ba5c1]
2026-01-08T12:54:18.194+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:18.195+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T12:54:18.195+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:54:18.196+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:18.196+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:18.196+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b249552] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:18.197+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@617242e]
2026-01-08T12:54:18.197+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:18.199+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T12:54:18.200+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T12:54:18.200+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1346391871 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:54:18.209+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:54:18.204+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:18.208+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:18.209+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:18.210+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:54:18.211+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42703753] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:18.214+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2105101671 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ac0fa7] will not be managed by Spring
2026-01-08T12:54:18.217+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:54:18.223+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:54:18.223+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:54:18.223+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b249552]
2026-01-08T12:54:18.224+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:18.224+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c26f2b0] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:18.225+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@856128099 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:54:18.227+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:54:18.229+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:54:18.232+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:54:18.232+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:54:18.237+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42703753]
2026-01-08T12:54:18.238+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c26f2b0]
2026-01-08T12:54:18.239+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:18.240+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:18.240+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74a54259] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:18.245+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b10b0] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:18.248+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@925641009 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ac0fa7] will not be managed by Spring
2026-01-08T12:54:18.250+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@736346493 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:54:18.256+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:54:18.257+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:54:18.257+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:54:18.258+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:54:18.265+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:54:18.265+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:54:18.265+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74a54259]
2026-01-08T12:54:18.265+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b10b0]
2026-01-08T12:54:18.266+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:18.267+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:18.267+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1061e26c] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:18.267+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2541a446] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:18.271+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1317588403 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ac0fa7] will not be managed by Spring
2026-01-08T12:54:18.272+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2112347854 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:54:18.272+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:54:18.272+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:54:18.273+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:54:18.274+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:54:18.281+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:54:18.282+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:54:18.292+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1061e26c]
2026-01-08T12:54:18.292+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2541a446]
2026-01-08T12:54:18.293+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:18.293+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:18.294+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52be345b] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:18.294+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10cdc453] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:18.307+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1297342178 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ac0fa7] will not be managed by Spring
2026-01-08T12:54:18.316+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@939925912 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:54:18.316+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:54:18.316+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:54:18.317+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:54:18.319+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:54:18.329+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:54:18.329+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:54:18.331+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52be345b]
2026-01-08T12:54:18.332+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10cdc453]
2026-01-08T12:54:18.332+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:18.334+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:18.334+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@542c37b] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:18.336+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63f70d94] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:18.338+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@645735268 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ac0fa7] will not be managed by Spring
2026-01-08T12:54:18.339+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@501658341 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:54:18.340+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:54:18.340+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:54:18.342+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:54:18.344+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:54:18.347+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:54:18.347+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:54:18.348+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@542c37b]
2026-01-08T12:54:18.349+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63f70d94]
2026-01-08T12:54:18.351+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:18.353+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:18.355+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T12:54:18.355+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T12:54:18.361+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:18.364+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:21.769+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:54:21.770+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/merged
2026-01-08T12:54:21.770+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T12:54:21.770+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/merged
2026-01-08T12:54:21.788+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:54:21.791+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:54:21.798+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:54:21.792+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/merged
2026-01-08T12:54:21.792+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T12:54:21.793+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/merged
2026-01-08T12:54:21.808+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expense-categories/merged
2026-01-08T12:54:21.799+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:54:21.802+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expense-categories/merged
2026-01-08T12:54:21.805+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T12:54:21.810+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/merged
2026-01-08T12:54:21.810+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:54:21.810+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/merged
2026-01-08T12:54:21.813+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T12:54:21.828+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/merged", parameters={}
2026-01-08T12:54:21.839+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getMergedCategories()
2026-01-08T12:54:21.840+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:54:21.841+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:54:21.844+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:21.845+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@522e7a84] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:21.829+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:21.847+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6608f178] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:21.829+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/merged", parameters={}
2026-01-08T12:54:21.833+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T12:54:21.850+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getMergedCategories()
2026-01-08T12:54:21.851+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T12:54:21.855+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:54:21.856+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:21.856+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1352189756 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:54:21.858+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:54:21.858+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@481dccdf] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:21.860+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.E.findMergedCategories           : ==>  Preparing: ( -- 전역 카테고리 (회사별 오버라이드가 있으면 회사별 값 사용) SELECT COALESCE(ec_company.category_id, ec_global.category_id) AS category_id, COALESCE(ec_company.company_id, ec_global.company_id) AS company_id, COALESCE(ec_company.category_name, ec_global.category_name) AS category_name, COALESCE(ec_company.display_order, ec_global.display_order) AS display_order, COALESCE(ec_company.is_active, ec_global.is_active) AS is_active, COALESCE(ec_company.created_by, ec_global.created_by) AS created_by, COALESCE(ec_company.created_at, ec_global.created_at) AS created_at, COALESCE(ec_company.updated_at, ec_global.updated_at) AS updated_at, CASE WHEN ec_company.category_id IS NOT NULL THEN 0 ELSE 1 END AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_global LEFT JOIN expense_category_tb ec_company ON ec_global.category_name = ec_company.category_name AND ec_company.company_id = ? LEFT JOIN user_tb u ON COALESCE(ec_company.created_by, ec_global.created_by) = u.user_id WHERE ec_global.company_id IS NULL AND (ec_global.is_active IS NULL OR ec_global.is_active = 1) AND (ec_company.category_id IS NULL OR ec_company.is_active IS NULL OR ec_company.is_active = 1) ) UNION ( -- 회사별 카테고리 (전역에 없는 새로운 카테고리만) SELECT ec_company.category_id, ec_company.company_id, ec_company.category_name, ec_company.display_order, ec_company.is_active, ec_company.created_by, ec_company.created_at, ec_company.updated_at, 0 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_company LEFT JOIN expense_category_tb ec_global ON ec_company.category_name = ec_global.category_name AND ec_global.company_id IS NULL LEFT JOIN user_tb u ON ec_company.created_by = u.user_id WHERE ec_company.company_id = ? AND (ec_company.is_active IS NULL OR ec_company.is_active = 1) AND ec_global.category_id IS NULL -- 전역에 없는 회사별 카테고리만 ) ORDER BY display_order ASC, category_name ASC
2026-01-08T12:54:21.861+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1807214240 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:54:21.867+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:54:21.861+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:21.865+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@553876145 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:54:21.867+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.E.findMergedCategories           : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:54:21.870+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T12:54:21.871+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@569276bf] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:21.872+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T12:54:21.872+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 12(Long)
2026-01-08T12:54:21.875+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T12:54:21.875+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1022959884 wrapping com.mysql.cj.jdbc.ConnectionImpl@70ff8e67] will not be managed by Spring
2026-01-08T12:54:21.875+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.E.findMergedCategories           : <==      Total: 12
2026-01-08T12:54:21.876+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6608f178]
2026-01-08T12:54:21.877+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.E.findMergedCategories           : ==>  Preparing: ( -- 전역 카테고리 (회사별 오버라이드가 있으면 회사별 값 사용) SELECT COALESCE(ec_company.category_id, ec_global.category_id) AS category_id, COALESCE(ec_company.company_id, ec_global.company_id) AS company_id, COALESCE(ec_company.category_name, ec_global.category_name) AS category_name, COALESCE(ec_company.display_order, ec_global.display_order) AS display_order, COALESCE(ec_company.is_active, ec_global.is_active) AS is_active, COALESCE(ec_company.created_by, ec_global.created_by) AS created_by, COALESCE(ec_company.created_at, ec_global.created_at) AS created_at, COALESCE(ec_company.updated_at, ec_global.updated_at) AS updated_at, CASE WHEN ec_company.category_id IS NOT NULL THEN 0 ELSE 1 END AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_global LEFT JOIN expense_category_tb ec_company ON ec_global.category_name = ec_company.category_name AND ec_company.company_id = ? LEFT JOIN user_tb u ON COALESCE(ec_company.created_by, ec_global.created_by) = u.user_id WHERE ec_global.company_id IS NULL AND (ec_global.is_active IS NULL OR ec_global.is_active = 1) AND (ec_company.category_id IS NULL OR ec_company.is_active IS NULL OR ec_company.is_active = 1) ) UNION ( -- 회사별 카테고리 (전역에 없는 새로운 카테고리만) SELECT ec_company.category_id, ec_company.company_id, ec_company.category_name, ec_company.display_order, ec_company.is_active, ec_company.created_by, ec_company.created_at, ec_company.updated_at, 0 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_company LEFT JOIN expense_category_tb ec_global ON ec_company.category_name = ec_global.category_name AND ec_global.company_id IS NULL LEFT JOIN user_tb u ON ec_company.created_by = u.user_id WHERE ec_company.company_id = ? AND (ec_company.is_active IS NULL OR ec_company.is_active = 1) AND ec_global.category_id IS NULL -- 전역에 없는 회사별 카테고리만 ) ORDER BY display_order ASC, category_name ASC
2026-01-08T12:54:21.878+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@522e7a84]
2026-01-08T12:54:21.879+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:21.881+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T12:54:21.883+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.E.findMergedCategories           : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:54:21.883+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:21.884+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T12:54:21.886+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@481dccdf]
2026-01-08T12:54:21.889+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-08T12:54:21.889+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:21.891+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:21.893+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:21.898+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T12:54:21.910+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:21.914+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.E.findMergedCategories           : <==      Total: 12
2026-01-08T12:54:21.938+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@569276bf]
2026-01-08T12:54:21.939+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:21.940+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-08T12:54:21.941+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:26.292+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/account-codes/list
2026-01-08T12:54:26.296+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/account-codes/list
2026-01-08T12:54:26.306+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/account-codes/list
2026-01-08T12:54:26.307+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/account-codes/list
2026-01-08T12:54:26.308+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/account-codes/list", parameters={}
2026-01-08T12:54:26.310+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AccountCodeController#getMappingList()
2026-01-08T12:54:26.313+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:54:26.314+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:54:26.317+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:26.344+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3838dc33] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:26.371+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1166063223 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:54:26.411+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCompanyId                : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE company_id = ? OR company_id IS NULL ORDER BY company_id DESC, category ASC, account_name ASC
2026-01-08T12:54:26.423+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCompanyId                : ==> Parameters: 1(Long)
2026-01-08T12:54:26.445+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCompanyId                : <==      Total: 12
2026-01-08T12:54:26.445+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3838dc33]
2026-01-08T12:54:26.446+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:26.448+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[AccountCodeMappingDto(mappingId=5, companyId=null, ca (truncated)...]
2026-01-08T12:54:26.452+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:43.268+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:54:43.271+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T12:54:43.272+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-08T12:54:43.273+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:54:43.273+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-08T12:54:43.276+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:54:43.287+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T12:54:43.287+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:54:43.288+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-08T12:54:43.289+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:54:43.289+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-08T12:54:43.292+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T12:54:43.301+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T12:54:43.292+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:54:43.294+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-08T12:54:43.295+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:54:43.298+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:54:43.305+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:54:43.305+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:54:43.298+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-08T12:54:43.303+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T12:54:43.306+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T12:54:43.304+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:54:43.304+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-08T12:54:43.305+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:54:43.306+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:54:43.306+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-08T12:54:43.310+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:43.310+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:54:43.311+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-08T12:54:43.311+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:54:43.312+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:43.312+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-08T12:54:43.319+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T12:54:43.312+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67df0fa0] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:43.313+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:54:43.313+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T12:54:43.314+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:54:43.326+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:43.316+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e2f697d] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:43.321+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:43.324+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:43.326+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:54:43.326+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@433f479f] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:43.326+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1602569908 wrapping com.mysql.cj.jdbc.ConnectionImpl@70ff8e67] will not be managed by Spring
2026-01-08T12:54:43.327+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f15e65d] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:43.327+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cf34c2e] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:43.328+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:43.329+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@424122196 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:54:43.329+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T12:54:43.332+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@325fd7ae] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:43.332+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:54:43.333+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 12(Long)
2026-01-08T12:54:43.339+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@534541025 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ac0fa7] will not be managed by Spring
2026-01-08T12:54:43.340+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T12:54:43.340+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:54:43.341+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1023878227 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:54:43.341+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@748182875 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:54:43.342+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1661953709 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:54:43.342+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:54:43.342+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:54:43.342+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:54:43.343+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:54:43.344+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T12:54:43.346+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:54:43.344+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T12:54:43.345+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T12:54:43.346+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:54:43.346+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T12:54:43.346+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67df0fa0]
2026-01-08T12:54:43.346+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e2f697d]
2026-01-08T12:54:43.347+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@433f479f]
2026-01-08T12:54:43.350+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:43.351+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:43.351+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:43.352+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T12:54:43.352+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T12:54:43.352+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:54:43.352+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T12:54:43.352+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T12:54:43.352+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a749db] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:43.353+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cf34c2e]
2026-01-08T12:54:43.353+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@325fd7ae]
2026-01-08T12:54:43.353+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f15e65d]
2026-01-08T12:54:43.354+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:43.356+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:43.356+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2034638266 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ac0fa7] will not be managed by Spring
2026-01-08T12:54:43.359+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:43.360+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:43.360+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:43.364+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:54:43.364+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T12:54:43.365+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T12:54:43.366+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:43.365+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31d5a12] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:43.365+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:54:43.366+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:43.373+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1819981746 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:54:43.375+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:54:43.376+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:54:43.376+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:54:43.376+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a749db]
2026-01-08T12:54:43.377+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:43.377+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@522c0b7d] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:43.378+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:54:43.379+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1778284914 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ac0fa7] will not be managed by Spring
2026-01-08T12:54:43.379+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31d5a12]
2026-01-08T12:54:43.380+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:54:43.380+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:43.382+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@545b1e90] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:43.382+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:54:43.383+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1040126915 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:54:43.386+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:54:43.390+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:54:43.390+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:54:43.390+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@522c0b7d]
2026-01-08T12:54:43.392+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:43.392+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cf9145b] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:43.392+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@515675482 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ac0fa7] will not be managed by Spring
2026-01-08T12:54:43.394+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:54:43.394+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:54:43.395+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:54:43.397+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@545b1e90]
2026-01-08T12:54:43.398+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:43.399+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@341db699] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:43.399+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:54:43.400+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@943620372 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:54:43.400+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cf9145b]
2026-01-08T12:54:43.402+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:54:43.402+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:43.402+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:54:43.402+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@445e156c] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:43.405+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@543267440 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ac0fa7] will not be managed by Spring
2026-01-08T12:54:43.406+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:54:43.406+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:54:43.406+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@341db699]
2026-01-08T12:54:43.407+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:54:43.408+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:43.408+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7637693d] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:43.408+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@793223196 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:54:43.408+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:54:43.412+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:54:43.412+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:54:43.413+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@445e156c]
2026-01-08T12:54:43.413+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:43.413+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4450efde] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:43.414+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1888577357 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ac0fa7] will not be managed by Spring
2026-01-08T12:54:43.414+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:54:43.414+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:54:43.415+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:54:43.417+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7637693d]
2026-01-08T12:54:43.417+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:54:43.418+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:43.418+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4450efde]
2026-01-08T12:54:43.418+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49ebe659] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:43.418+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:43.419+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68ddf902] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:43.419+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@81264856 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:54:43.419+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@724616664 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ac0fa7] will not be managed by Spring
2026-01-08T12:54:43.419+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:54:43.419+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:54:43.420+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:54:43.420+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:54:43.422+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:54:43.422+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:54:43.423+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68ddf902]
2026-01-08T12:54:43.423+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49ebe659]
2026-01-08T12:54:43.423+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:43.423+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:43.423+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18a814b5] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:43.424+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T12:54:43.424+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@250077399 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:54:43.424+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:54:43.424+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:54:43.426+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:43.430+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:54:43.431+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18a814b5]
2026-01-08T12:54:43.431+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:43.432+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T12:54:43.433+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:45.325+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2026-01-08T12:54:45.331+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2026-01-08T12:54:45.332+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/logout
2026-01-08T12:54:45.333+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2026-01-08T12:54:45.337+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2026-01-08T12:54:45.338+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2026-01-08T12:54:45.338+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxMiIsInVzZXJuYW1lIjo (truncated)...]
2026-01-08T12:54:45.340+09:00  INFO 5336 --- [http-nio-8080-exec-9] SECURITY                                 : LOGOUT userId=12
2026-01-08T12:54:45.340+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:45.341+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2026-01-08T12:54:45.341+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:50.783+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2026-01-08T12:54:50.790+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2026-01-08T12:54:50.792+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-08T12:54:50.792+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2026-01-08T12:54:50.800+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2026-01-08T12:54:50.803+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2026-01-08T12:54:50.804+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_admin, password=1234)]
2026-01-08T12:54:50.805+09:00  INFO 5336 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 로그인 시도 - username: test_admin
2026-01-08T12:54:50.806+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:50.806+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ffc6250] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:50.814+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2146698986 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:54:50.822+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2026-01-08T12:54:50.824+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_admin(String)
2026-01-08T12:54:50.842+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2026-01-08T12:54:50.842+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ffc6250]
2026-01-08T12:54:50.926+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:50.926+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33b421c] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:50.926+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1994635879 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:54:50.927+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:54:50.927+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 9(Long)
2026-01-08T12:54:50.930+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2026-01-08T12:54:50.930+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33b421c]
2026-01-08T12:54:50.931+09:00  INFO 5336 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 로그인 성공 - userId: 9, role: SUPERADMIN, companyId: null
2026-01-08T12:54:50.931+09:00  INFO 5336 --- [http-nio-8080-exec-7] SECURITY                                 : LOGIN_SUCCESS userId=9 username=test_admin role=SUPERADMIN
2026-01-08T12:54:50.932+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:50.933+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=9, username=test_admin, password (truncated)...]
2026-01-08T12:54:50.934+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:51.232+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2026-01-08T12:54:51.263+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:54:51.264+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T12:54:51.264+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/reports/summary
2026-01-08T12:54:51.265+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/users
2026-01-08T12:54:51.266+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/companies
2026-01-08T12:54:51.266+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/subscriptions
2026-01-08T12:54:51.273+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/payments
2026-01-08T12:54:51.278+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/expenses?page=1&size=1
2026-01-08T12:54:51.279+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/reports/summary
2026-01-08T12:54:51.280+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/users
2026-01-08T12:54:51.282+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/companies
2026-01-08T12:54:51.283+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/subscriptions
2026-01-08T12:54:51.288+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/payments
2026-01-08T12:54:51.290+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2026-01-08T12:54:51.290+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/expenses?page=1&size=1
2026-01-08T12:54:51.293+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:54:51.294+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T12:54:51.296+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/reports/summary
2026-01-08T12:54:51.297+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/users
2026-01-08T12:54:51.297+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/companies
2026-01-08T12:54:51.300+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/expenses/pending-approvals
2026-01-08T12:54:51.306+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/superadmin/users
2026-01-08T12:54:51.301+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/companies
2026-01-08T12:54:51.304+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/expenses/tax/revision-requests
2026-01-08T12:54:51.305+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/superadmin/reports/summary
2026-01-08T12:54:51.305+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2026-01-08T12:54:51.306+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:54:51.306+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/users
2026-01-08T12:54:51.306+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T12:54:51.307+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/reports/summary
2026-01-08T12:54:51.307+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/superadmin/companies
2026-01-08T12:54:51.307+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2026-01-08T12:54:51.307+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:54:51.308+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/users", parameters={}
2026-01-08T12:54:51.308+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T12:54:51.308+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/reports/summary", parameters={}
2026-01-08T12:54:51.308+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/companies
2026-01-08T12:54:51.309+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2026-01-08T12:54:51.309+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:54:51.309+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllUsers()
2026-01-08T12:54:51.310+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T12:54:51.310+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getDashboardSummary()
2026-01-08T12:54:51.310+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/companies", parameters={}
2026-01-08T12:54:51.311+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:51.311+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:51.311+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllUsers(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:54:51.312+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:51.312+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getDashboardSummary(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:54:51.312+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllCompanies()
2026-01-08T12:54:51.312+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fdccb23] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:51.312+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a97007e] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:51.313+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllUsers(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:54:51.313+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@193aea63] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:51.314+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getDashboardSummary(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:54:51.314+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllCompanies(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:54:51.315+09:00  INFO 5336 --- [http-nio-8080-exec-7] c.i.b.controller.SuperAdminController    : 전체 사용자 목록 조회 요청 - userId: 9
2026-01-08T12:54:51.319+09:00  INFO 5336 --- [http-nio-8080-exec-8] c.i.b.controller.SuperAdminController    : 대시보드 요약 통계 조회 요청 - userId: 9
2026-01-08T12:54:51.320+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@132198810 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:54:51.320+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1604337220 wrapping com.mysql.cj.jdbc.ConnectionImpl@70ff8e67] will not be managed by Spring
2026-01-08T12:54:51.322+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllCompanies(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:54:51.322+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:51.322+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:51.322+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1913165953 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:54:51.323+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:54:51.323+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2026-01-08T12:54:51.323+09:00  INFO 5336 --- [http-nio-8080-exec-6] c.i.b.controller.SuperAdminController    : 전체 회사 목록 조회 요청 - userId: 9
2026-01-08T12:54:51.323+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c39c42a] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:51.325+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50e3f8b4] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:51.327+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T12:54:51.328+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 9(Long), null
2026-01-08T12:54:51.328+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 9(Long)
2026-01-08T12:54:51.328+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:51.329+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@365642771 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:54:51.330+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: null, 9(Long)
2026-01-08T12:54:51.331+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34b62cac] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:51.331+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectAllUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status, created_at, updated_at FROM user_tb ORDER BY user_id
2026-01-08T12:54:51.334+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectAllUsers   : ==> Parameters: 
2026-01-08T12:54:51.337+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@124784671 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ac0fa7] will not be managed by Spring
2026-01-08T12:54:51.342+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1572024096 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:54:51.342+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 1
2026-01-08T12:54:51.342+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T12:54:51.342+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T12:54:51.342+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectAllUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status, created_at, updated_at FROM user_tb ORDER BY user_id
2026-01-08T12:54:51.343+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.mapper.CompanyMapper.findAll       : ==>  Preparing: SELECT * FROM company_tb ORDER BY created_at DESC
2026-01-08T12:54:51.343+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fdccb23]
2026-01-08T12:54:51.343+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@193aea63]
2026-01-08T12:54:51.343+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a97007e]
2026-01-08T12:54:51.344+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectAllUsers   : ==> Parameters: 
2026-01-08T12:54:51.345+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.mapper.CompanyMapper.findAll       : ==> Parameters: 
2026-01-08T12:54:51.345+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:51.347+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:51.347+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:51.349+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=4, companyCode=JIIST3, companyNa (truncated)...]
2026-01-08T12:54:51.354+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T12:54:51.354+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T12:54:51.356+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:51.357+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:51.359+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:51.364+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/subscriptions
2026-01-08T12:54:51.370+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/payments
2026-01-08T12:54:51.373+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/reports/summary
2026-01-08T12:54:51.375+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/superadmin/payments
2026-01-08T12:54:51.378+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/superadmin/reports/summary
2026-01-08T12:54:51.375+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/superadmin/subscriptions
2026-01-08T12:54:51.385+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/subscriptions
2026-01-08T12:54:51.379+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/payments
2026-01-08T12:54:51.380+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/reports/summary
2026-01-08T12:54:51.381+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectAllUsers   : <==      Total: 12
2026-01-08T12:54:51.381+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectAllUsers   : <==      Total: 12
2026-01-08T12:54:51.398+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/subscriptions", parameters={}
2026-01-08T12:54:51.412+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllSubscriptions()
2026-01-08T12:54:51.413+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllSubscriptions(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:54:51.414+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllSubscriptions(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:54:51.414+09:00  INFO 5336 --- [http-nio-8080-exec-10] c.i.b.controller.SuperAdminController    : 전체 구독 목록 조회 요청 - userId: 9
2026-01-08T12:54:51.415+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:51.415+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a5d855f] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:51.415+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@98631083 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:54:51.399+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/payments", parameters={}
2026-01-08T12:54:51.399+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/reports/summary", parameters={}
2026-01-08T12:54:51.399+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50e3f8b4]
2026-01-08T12:54:51.400+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.mapper.CompanyMapper.findAll       : <==      Total: 7
2026-01-08T12:54:51.411+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c39c42a]
2026-01-08T12:54:51.422+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.SubscriptionMapper.findAll  : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id ORDER BY s.created_at DESC
2026-01-08T12:54:51.424+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.SubscriptionMapper.findAll  : ==> Parameters: 
2026-01-08T12:54:51.422+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllPayments()
2026-01-08T12:54:51.425+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllPayments(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:54:51.423+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getDashboardSummary()
2026-01-08T12:54:51.423+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:51.423+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34b62cac]
2026-01-08T12:54:51.424+09:00  INFO 5336 --- [http-nio-8080-exec-7] c.i.b.controller.SuperAdminController    : 전체 사용자 목록 조회 완료 - count: 12
2026-01-08T12:54:51.427+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllPayments(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:54:51.428+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33856ab9] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:51.428+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getDashboardSummary(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:54:51.428+09:00  INFO 5336 --- [http-nio-8080-exec-6] c.i.b.controller.SuperAdminController    : 전체 회사 목록 조회 완료 - count: 7
2026-01-08T12:54:51.429+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:51.429+09:00  INFO 5336 --- [http-nio-8080-exec-1] c.i.b.controller.SuperAdminController    : 전체 결제 내역 조회 요청 - userId: 9
2026-01-08T12:54:51.430+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1395834226 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ac0fa7] will not be managed by Spring
2026-01-08T12:54:51.437+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getDashboardSummary(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:54:51.439+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:51.440+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passwo (truncated)...]
2026-01-08T12:54:51.440+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:51.440+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.mapper.CompanyMapper.findAll       : ==>  Preparing: SELECT * FROM company_tb ORDER BY created_at DESC
2026-01-08T12:54:51.441+09:00  INFO 5336 --- [http-nio-8080-exec-2] c.i.b.controller.SuperAdminController    : 대시보드 요약 통계 조회 요청 - userId: 9
2026-01-08T12:54:51.442+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 회사 목록 조회 성공, data=[CompanyDto(companyId=7, companyCode=PC8UJT,  (truncated)...]
2026-01-08T12:54:51.443+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:51.443+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@600cb40d] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:51.444+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.mapper.CompanyMapper.findAll       : ==> Parameters: 
2026-01-08T12:54:51.445+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:51.446+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:51.446+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1427327233 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:54:51.456+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.mapper.PaymentMapper.findAll       : ==>  Preparing: SELECT p.* FROM payment_tb p ORDER BY p.payment_date DESC, p.created_at DESC
2026-01-08T12:54:51.457+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.mapper.PaymentMapper.findAll       : ==> Parameters: 
2026-01-08T12:54:51.447+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/users
2026-01-08T12:54:51.447+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74d0ee1c] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:51.460+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1946615114 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:54:51.449+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/companies
2026-01-08T12:54:51.452+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:54:51.460+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/superadmin/users
2026-01-08T12:54:51.461+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectAllUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status, created_at, updated_at FROM user_tb ORDER BY user_id
2026-01-08T12:54:51.462+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/superadmin/companies
2026-01-08T12:54:51.463+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:54:51.464+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.mapper.CompanyMapper.findAll       : <==      Total: 7
2026-01-08T12:54:51.465+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/users
2026-01-08T12:54:51.465+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectAllUsers   : ==> Parameters: 
2026-01-08T12:54:51.468+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/companies
2026-01-08T12:54:51.470+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33856ab9]
2026-01-08T12:54:51.477+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:51.470+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/users", parameters={}
2026-01-08T12:54:51.472+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:54:51.480+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectAllUsers   : <==      Total: 12
2026-01-08T12:54:51.473+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/companies", parameters={}
2026-01-08T12:54:51.473+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:54:51.478+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48eb4c78] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:51.478+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllUsers()
2026-01-08T12:54:51.481+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 2(Long)
2026-01-08T12:54:51.481+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74d0ee1c]
2026-01-08T12:54:51.481+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllCompanies()
2026-01-08T12:54:51.481+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.SubscriptionMapper.findAll  : <==      Total: 7
2026-01-08T12:54:51.482+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1344481150 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ac0fa7] will not be managed by Spring
2026-01-08T12:54:51.486+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.mapper.SubscriptionMapper.findAll  : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id ORDER BY s.created_at DESC
2026-01-08T12:54:51.482+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllUsers(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:54:51.485+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:51.486+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllCompanies(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:54:51.486+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a5d855f]
2026-01-08T12:54:51.487+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.mapper.SubscriptionMapper.findAll  : ==> Parameters: 
2026-01-08T12:54:51.488+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllUsers(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:54:51.488+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3df486d7] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:51.488+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllCompanies(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:54:51.490+09:00  INFO 5336 --- [http-nio-8080-exec-10] c.i.b.controller.SuperAdminController    : 전체 구독 목록 조회 완료 - count: 7
2026-01-08T12:54:51.493+09:00  INFO 5336 --- [http-nio-8080-exec-3] c.i.b.controller.SuperAdminController    : 전체 사용자 목록 조회 요청 - userId: 9
2026-01-08T12:54:51.494+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:54:51.497+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1319579515 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:54:51.497+09:00  INFO 5336 --- [http-nio-8080-exec-5] c.i.b.controller.SuperAdminController    : 전체 회사 목록 조회 요청 - userId: 9
2026-01-08T12:54:51.498+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:51.498+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:51.498+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:54:51.498+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.mapper.CompanyMapper.findAll       : ==>  Preparing: SELECT * FROM company_tb ORDER BY created_at DESC
2026-01-08T12:54:51.499+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:51.500+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:54:51.505+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bda9717] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:51.505+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 구독 목록 조회 성공, data=[SubscriptionDto(subscriptionId=7, companyId= (truncated)...]
2026-01-08T12:54:51.505+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 7(Long)
2026-01-08T12:54:51.505+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.mapper.CompanyMapper.findAll       : ==> Parameters: 
2026-01-08T12:54:51.505+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d12ca2b] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:51.506+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:54:51.506+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1991515930 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:54:51.507+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:51.508+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@740093310 wrapping com.mysql.cj.jdbc.ConnectionImpl@70ff8e67] will not be managed by Spring
2026-01-08T12:54:51.509+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectAllUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status, created_at, updated_at FROM user_tb ORDER BY user_id
2026-01-08T12:54:51.512+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/expenses?page=1&size=1
2026-01-08T12:54:51.512+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.mapper.CompanyMapper.findAll       : ==>  Preparing: SELECT * FROM company_tb ORDER BY created_at DESC
2026-01-08T12:54:51.512+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectAllUsers   : ==> Parameters: 
2026-01-08T12:54:51.513+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.mapper.CompanyMapper.findAll       : ==> Parameters: 
2026-01-08T12:54:51.514+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/superadmin/expenses
2026-01-08T12:54:51.517+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:54:51.520+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:54:51.520+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.mapper.CompanyMapper.findAll       : <==      Total: 7
2026-01-08T12:54:51.520+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectAllUsers   : <==      Total: 12
2026-01-08T12:54:51.520+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.mapper.CompanyMapper.findAll       : <==      Total: 7
2026-01-08T12:54:51.521+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/expenses?page=1&size=1
2026-01-08T12:54:51.522+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.mapper.SubscriptionMapper.findAll  : <==      Total: 7
2026-01-08T12:54:51.522+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:54:51.522+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3df486d7]
2026-01-08T12:54:51.523+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bda9717]
2026-01-08T12:54:51.523+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d12ca2b]
2026-01-08T12:54:51.523+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/expenses?page=1&size=1", parameters={masked}
2026-01-08T12:54:51.523+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48eb4c78]
2026-01-08T12:54:51.524+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 1(Long)
2026-01-08T12:54:51.524+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:51.525+09:00  INFO 5336 --- [http-nio-8080-exec-3] c.i.b.controller.SuperAdminController    : 전체 사용자 목록 조회 완료 - count: 12
2026-01-08T12:54:51.525+09:00  INFO 5336 --- [http-nio-8080-exec-5] c.i.b.controller.SuperAdminController    : 전체 회사 목록 조회 완료 - count: 7
2026-01-08T12:54:51.526+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getExpenseListForSuperAdmin(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, Long)
2026-01-08T12:54:51.528+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:51.529+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46b5528e] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:51.529+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:51.530+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:51.531+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d65dfad] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:51.531+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getExpenseListForSuperAdmin(int,int,java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.lang.String[],java.lang.String,java.lang.Boolean,java.lang.Boolean,java.lang.String,java.lang.Long); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:54:51.531+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1609475761 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:54:51.531+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passwo (truncated)...]
2026-01-08T12:54:51.532+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 회사 목록 조회 성공, data=[CompanyDto(companyId=7, companyCode=PC8UJT,  (truncated)...]
2026-01-08T12:54:51.532+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionPlanMapper.findById  : ======>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:54:51.540+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:51.532+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@884219816 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ac0fa7] will not be managed by Spring
2026-01-08T12:54:51.536+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getExpenseListForSuperAdmin(int,int,java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.lang.String[],java.lang.String,java.lang.Boolean,java.lang.Boolean,java.lang.String,java.lang.Long); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:54:51.536+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.mapper.SubscriptionMapper.findAll  : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id ORDER BY s.created_at DESC
2026-01-08T12:54:51.537+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:51.540+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionPlanMapper.findById  : ======> Parameters: 1(Long)
2026-01-08T12:54:51.545+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/subscriptions
2026-01-08T12:54:51.545+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.mapper.PaymentMapper.findAll       : ==>  Preparing: SELECT p.* FROM payment_tb p ORDER BY p.payment_date DESC, p.created_at DESC
2026-01-08T12:54:51.546+09:00  INFO 5336 --- [http-nio-8080-exec-9] c.i.b.controller.SuperAdminController    : 회사별 지출결의서 목록 조회 요청 - userId: 9, companyId: null, page: 1, size: 1
2026-01-08T12:54:51.547+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.mapper.SubscriptionMapper.findAll  : ==> Parameters: 
2026-01-08T12:54:51.549+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/payments
2026-01-08T12:54:51.549+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.mapper.PaymentMapper.findAll       : ==> Parameters: 
2026-01-08T12:54:51.552+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/superadmin/subscriptions
2026-01-08T12:54:51.554+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:51.556+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/subscriptions
2026-01-08T12:54:51.556+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d4541c3] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:51.556+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/subscriptions", parameters={}
2026-01-08T12:54:51.557+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/superadmin/payments
2026-01-08T12:54:51.558+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionPlanMapper.findById  : <======      Total: 1
2026-01-08T12:54:51.558+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@495967841 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:54:51.559+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllSubscriptions()
2026-01-08T12:54:51.560+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/payments
2026-01-08T12:54:51.560+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:54:51.560+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.E.countExpenseListForSuperAdmin  : ==>  Preparing: SELECT COUNT(*) FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id
2026-01-08T12:54:51.561+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllSubscriptions(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:54:51.561+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/payments", parameters={}
2026-01-08T12:54:51.561+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:54:51.562+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.mapper.PaymentMapper.findAll       : <==      Total: 4
2026-01-08T12:54:51.562+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.E.countExpenseListForSuperAdmin  : ==> Parameters: 
2026-01-08T12:54:51.562+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:54:51.562+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllSubscriptions(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:54:51.562+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllPayments()
2026-01-08T12:54:51.563+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 2(Long)
2026-01-08T12:54:51.563+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@600cb40d]
2026-01-08T12:54:51.563+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:54:51.564+09:00  INFO 5336 --- [http-nio-8080-exec-4] c.i.b.controller.SuperAdminController    : 전체 구독 목록 조회 요청 - userId: 9
2026-01-08T12:54:51.564+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllPayments(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:54:51.565+09:00  INFO 5336 --- [http-nio-8080-exec-1] c.i.b.controller.SuperAdminController    : 전체 결제 내역 조회 완료 - count: 4
2026-01-08T12:54:51.565+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.E.countExpenseListForSuperAdmin  : <==      Total: 1
2026-01-08T12:54:51.565+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:51.567+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:54:51.567+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:54:51.572+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:54:51.567+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllPayments(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:54:51.569+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:51.569+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d4541c3]
2026-01-08T12:54:51.570+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5109a1fe] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:51.572+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.mapper.SubscriptionMapper.findAll  : <==      Total: 7
2026-01-08T12:54:51.573+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 7(Long)
2026-01-08T12:54:51.574+09:00  INFO 5336 --- [http-nio-8080-exec-7] c.i.b.controller.SuperAdminController    : 전체 결제 내역 조회 요청 - userId: 9
2026-01-08T12:54:51.576+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 결제 내역 조회 성공, data=[PaymentDto(paymentId=11, subscriptionId=2, a (truncated)...]
2026-01-08T12:54:51.576+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:51.579+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e53e137] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:51.577+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1617831523 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:54:51.577+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46b5528e]
2026-01-08T12:54:51.590+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:51.592+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a7499dc] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:51.577+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:51.580+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:51.586+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1495267431 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:54:51.590+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.mapper.SubscriptionMapper.findAll  : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id ORDER BY s.created_at DESC
2026-01-08T12:54:51.593+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@537230605 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:54:51.593+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2eb79583] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:51.594+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:54:51.597+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/expenses?page=1&size=1
2026-01-08T12:54:51.597+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListForSuperAdmin : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, c.company_name AS companyName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id LEFT JOIN company_tb c ON r.company_id = c.company_id ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:54:51.605+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListForSuperAdmin : ==> Parameters: 1(Integer), 0(Integer)
2026-01-08T12:54:51.598+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.mapper.SubscriptionMapper.findAll  : ==> Parameters: 
2026-01-08T12:54:51.598+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.mapper.PaymentMapper.findAll       : ==>  Preparing: SELECT p.* FROM payment_tb p ORDER BY p.payment_date DESC, p.created_at DESC
2026-01-08T12:54:51.598+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@741149931 wrapping com.mysql.cj.jdbc.ConnectionImpl@70ff8e67] will not be managed by Spring
2026-01-08T12:54:51.599+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:54:51.603+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/superadmin/expenses
2026-01-08T12:54:51.609+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.mapper.PaymentMapper.findAll       : ==> Parameters: 
2026-01-08T12:54:51.610+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.mapper.PaymentMapper.findAll       : ==>  Preparing: SELECT p.* FROM payment_tb p ORDER BY p.payment_date DESC, p.created_at DESC
2026-01-08T12:54:51.612+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 1(Long)
2026-01-08T12:54:51.613+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/expenses?page=1&size=1
2026-01-08T12:54:51.613+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.mapper.PaymentMapper.findAll       : ==> Parameters: 
2026-01-08T12:54:51.616+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListForSuperAdmin : <==      Total: 1
2026-01-08T12:54:51.618+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:54:51.621+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/expenses?page=1&size=1", parameters={masked}
2026-01-08T12:54:51.621+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e53e137]
2026-01-08T12:54:51.622+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:54:51.622+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getExpenseListForSuperAdmin(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, Long)
2026-01-08T12:54:51.623+09:00  INFO 5336 --- [http-nio-8080-exec-9] c.i.b.controller.SuperAdminController    : 회사별 지출결의서 목록 조회 완료 - totalElements: 29
2026-01-08T12:54:51.623+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionPlanMapper.findById  : ======>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:54:51.623+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:54:51.623+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:54:51.624+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:51.624+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getExpenseListForSuperAdmin(int,int,java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.lang.String[],java.lang.String,java.lang.Boolean,java.lang.Boolean,java.lang.String,java.lang.Long); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:54:51.624+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionPlanMapper.findById  : ======> Parameters: 1(Long)
2026-01-08T12:54:51.624+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 2(Long)
2026-01-08T12:54:51.625+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 2(Long)
2026-01-08T12:54:51.625+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=지출결의서 목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expen (truncated)...]
2026-01-08T12:54:51.625+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:54:51.627+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getExpenseListForSuperAdmin(int,int,java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.lang.String[],java.lang.String,java.lang.Boolean,java.lang.Boolean,java.lang.String,java.lang.Long); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:54:51.627+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:51.628+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.mapper.SubscriptionMapper.findAll  : <==      Total: 7
2026-01-08T12:54:51.631+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:54:51.629+09:00  INFO 5336 --- [http-nio-8080-exec-6] c.i.b.controller.SuperAdminController    : 회사별 지출결의서 목록 조회 요청 - userId: 9, companyId: null, page: 1, size: 1
2026-01-08T12:54:51.631+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5109a1fe]
2026-01-08T12:54:51.635+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:51.635+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T12:54:51.635+09:00  INFO 5336 --- [http-nio-8080-exec-4] c.i.b.controller.SuperAdminController    : 전체 구독 목록 조회 완료 - count: 7
2026-01-08T12:54:51.636+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionPlanMapper.findById  : <======      Total: 1
2026-01-08T12:54:51.636+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:54:51.637+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:54:51.639+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7dc5c600] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:51.640+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:51.641+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:54:51.642+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 구독 목록 조회 성공, data=[SubscriptionDto(subscriptionId=7, companyId= (truncated)...]
2026-01-08T12:54:51.641+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/reports/summary
2026-01-08T12:54:51.641+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:54:51.642+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:54:51.642+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@227537032 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:54:51.643+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.mapper.PaymentMapper.findAll       : <==      Total: 4
2026-01-08T12:54:51.644+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:51.648+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d65dfad]
2026-01-08T12:54:51.647+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/users
2026-01-08T12:54:51.647+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 7(Long)
2026-01-08T12:54:51.648+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 7(Long)
2026-01-08T12:54:51.648+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.m.E.countExpenseListForSuperAdmin  : ==>  Preparing: SELECT COUNT(*) FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id
2026-01-08T12:54:51.649+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:51.650+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/companies
2026-01-08T12:54:51.656+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.m.E.countExpenseListForSuperAdmin  : ==> Parameters: 
2026-01-08T12:54:51.656+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 요약 통계 조회 성공, data=AdminReportService.DashboardSummaryDto(tota (truncated)...]
2026-01-08T12:54:51.659+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/payments
2026-01-08T12:54:51.663+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:51.655+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/subscriptions
2026-01-08T12:54:51.666+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/expenses?page=1&size=1
2026-01-08T12:54:51.666+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:54:51.669+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/expenses/pending-approvals
2026-01-08T12:54:51.671+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:54:51.671+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T12:54:51.672+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:54:51.672+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:54:51.673+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:51.673+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f8d840d] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:51.674+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@507635361 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:54:51.674+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:54:51.674+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/expenses/tax/revision-requests
2026-01-08T12:54:51.675+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 9(Long), null
2026-01-08T12:54:51.675+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T12:54:51.675+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T12:54:51.677+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T12:54:51.678+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:51.678+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45dcdda1] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:51.678+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@175212578 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:54:51.679+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T12:54:51.679+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: null, 9(Long)
2026-01-08T12:54:51.680+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/reports/summary
2026-01-08T12:54:51.682+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:54:51.682+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:54:51.683+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:54:51.707+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 1(Long)
2026-01-08T12:54:51.693+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/superadmin/reports/summary
2026-01-08T12:54:51.700+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:54:51.712+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 1(Long)
2026-01-08T12:54:51.709+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/reports/summary
2026-01-08T12:54:51.711+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T12:54:51.711+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.m.E.countExpenseListForSuperAdmin  : <==      Total: 1
2026-01-08T12:54:51.711+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T12:54:51.714+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f8d840d]
2026-01-08T12:54:51.716+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:51.716+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T12:54:51.721+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:51.713+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/reports/summary", parameters={}
2026-01-08T12:54:51.713+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45dcdda1]
2026-01-08T12:54:51.714+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7dc5c600]
2026-01-08T12:54:51.729+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:51.730+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bc76f32] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:51.731+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2019645836 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:54:51.725+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/users
2026-01-08T12:54:51.728+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getDashboardSummary()
2026-01-08T12:54:51.729+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:51.733+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListForSuperAdmin : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, c.company_name AS companyName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id LEFT JOIN company_tb c ON r.company_id = c.company_id ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:54:51.741+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListForSuperAdmin : ==> Parameters: 1(Integer), 0(Integer)
2026-01-08T12:54:51.739+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/superadmin/users
2026-01-08T12:54:51.739+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getDashboardSummary(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:54:51.740+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T12:54:51.745+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionPlanMapper.findById  : ======>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:54:51.748+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/users
2026-01-08T12:54:51.751+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getDashboardSummary(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:54:51.753+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:51.755+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionPlanMapper.findById  : ======> Parameters: 1(Long)
2026-01-08T12:54:51.755+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/users", parameters={}
2026-01-08T12:54:51.756+09:00  INFO 5336 --- [http-nio-8080-exec-10] c.i.b.controller.SuperAdminController    : 대시보드 요약 통계 조회 요청 - userId: 9
2026-01-08T12:54:51.758+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListForSuperAdmin : <==      Total: 1
2026-01-08T12:54:51.758+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : ======>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:54:51.760+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/companies
2026-01-08T12:54:51.767+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllUsers()
2026-01-08T12:54:51.768+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:51.768+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bc76f32]
2026-01-08T12:54:51.769+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : ======> Parameters: 1(Long)
2026-01-08T12:54:51.770+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/superadmin/companies
2026-01-08T12:54:51.770+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllUsers(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:54:51.770+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a734748] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:51.772+09:00  INFO 5336 --- [http-nio-8080-exec-6] c.i.b.controller.SuperAdminController    : 회사별 지출결의서 목록 조회 완료 - totalElements: 29
2026-01-08T12:54:51.773+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/companies
2026-01-08T12:54:51.773+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllUsers(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:54:51.774+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@947714056 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:54:51.774+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:51.775+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/companies", parameters={}
2026-01-08T12:54:51.776+09:00  INFO 5336 --- [http-nio-8080-exec-9] c.i.b.controller.SuperAdminController    : 전체 사용자 목록 조회 요청 - userId: 9
2026-01-08T12:54:51.776+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : <======      Total: 1
2026-01-08T12:54:51.777+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectAllUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status, created_at, updated_at FROM user_tb ORDER BY user_id
2026-01-08T12:54:51.778+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=지출결의서 목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expen (truncated)...]
2026-01-08T12:54:51.779+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionPlanMapper.findById  : <======      Total: 1
2026-01-08T12:54:51.782+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:54:51.779+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllCompanies()
2026-01-08T12:54:51.780+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:51.780+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:54:51.780+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectAllUsers   : ==> Parameters: 
2026-01-08T12:54:51.781+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:51.783+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.mapper.PaymentMapper.findAll       : <==      Total: 4
2026-01-08T12:54:51.795+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2eb79583]
2026-01-08T12:54:51.786+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllCompanies(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:54:51.786+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d7c2cfb] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:51.788+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.mapper.PaymentMapper.findAll       : <==      Total: 4
2026-01-08T12:54:51.798+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a7499dc]
2026-01-08T12:54:51.795+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/payments
2026-01-08T12:54:51.796+09:00  INFO 5336 --- [http-nio-8080-exec-7] c.i.b.controller.SuperAdminController    : 전체 결제 내역 조회 완료 - count: 4
2026-01-08T12:54:51.806+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:51.806+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectAllUsers   : <==      Total: 12
2026-01-08T12:54:51.798+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllCompanies(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:54:51.798+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2095527994 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:54:51.799+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:51.805+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/superadmin/payments
2026-01-08T12:54:51.806+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 결제 내역 조회 성공, data=[PaymentDto(paymentId=11, subscriptionId=2, a (truncated)...]
2026-01-08T12:54:51.807+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a734748]
2026-01-08T12:54:51.807+09:00  INFO 5336 --- [http-nio-8080-exec-8] c.i.b.controller.SuperAdminController    : 전체 회사 목록 조회 요청 - userId: 9
2026-01-08T12:54:51.807+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectAllUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status, created_at, updated_at FROM user_tb ORDER BY user_id
2026-01-08T12:54:51.807+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 요약 통계 조회 성공, data=AdminReportService.DashboardSummaryDto(tota (truncated)...]
2026-01-08T12:54:51.808+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/payments
2026-01-08T12:54:51.809+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:51.813+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:51.821+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@795c157] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:51.822+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@670867434 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:54:51.822+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.CompanyMapper.findAll       : ==>  Preparing: SELECT * FROM company_tb ORDER BY created_at DESC
2026-01-08T12:54:51.822+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.CompanyMapper.findAll       : ==> Parameters: 
2026-01-08T12:54:51.814+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:51.814+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectAllUsers   : ==> Parameters: 
2026-01-08T12:54:51.815+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:51.816+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/payments", parameters={}
2026-01-08T12:54:51.831+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllPayments()
2026-01-08T12:54:51.821+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/expenses?page=1&size=1
2026-01-08T12:54:51.828+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a4d6ee8] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:51.834+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1409478910 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ac0fa7] will not be managed by Spring
2026-01-08T12:54:51.837+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.mapper.CompanyMapper.findAll       : ==>  Preparing: SELECT * FROM company_tb ORDER BY created_at DESC
2026-01-08T12:54:51.837+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.mapper.CompanyMapper.findAll       : ==> Parameters: 
2026-01-08T12:54:51.831+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/subscriptions
2026-01-08T12:54:51.832+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllPayments(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:54:51.838+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllPayments(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:54:51.836+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/superadmin/expenses
2026-01-08T12:54:51.838+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/superadmin/subscriptions
2026-01-08T12:54:51.839+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/subscriptions
2026-01-08T12:54:51.839+09:00  INFO 5336 --- [http-nio-8080-exec-5] c.i.b.controller.SuperAdminController    : 전체 결제 내역 조회 요청 - userId: 9
2026-01-08T12:54:51.839+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/expenses?page=1&size=1
2026-01-08T12:54:51.842+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/expenses?page=1&size=1", parameters={masked}
2026-01-08T12:54:51.845+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getExpenseListForSuperAdmin(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, Long)
2026-01-08T12:54:51.848+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getExpenseListForSuperAdmin(int,int,java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.lang.String[],java.lang.String,java.lang.Boolean,java.lang.Boolean,java.lang.String,java.lang.Long); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:54:51.863+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getExpenseListForSuperAdmin(int,int,java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.lang.String[],java.lang.String,java.lang.Boolean,java.lang.Boolean,java.lang.String,java.lang.Long); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:54:51.840+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/subscriptions", parameters={}
2026-01-08T12:54:51.878+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllSubscriptions()
2026-01-08T12:54:51.879+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllSubscriptions(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:54:51.883+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllSubscriptions(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:54:51.884+09:00  INFO 5336 --- [http-nio-8080-exec-4] c.i.b.controller.SuperAdminController    : 전체 구독 목록 조회 요청 - userId: 9
2026-01-08T12:54:51.885+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:51.840+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:51.885+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@427c5205] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:51.886+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2038733811 wrapping com.mysql.cj.jdbc.ConnectionImpl@70ff8e67] will not be managed by Spring
2026-01-08T12:54:51.877+09:00  INFO 5336 --- [http-nio-8080-exec-1] c.i.b.controller.SuperAdminController    : 회사별 지출결의서 목록 조회 요청 - userId: 9, companyId: null, page: 1, size: 1
2026-01-08T12:54:51.885+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@304b8dcc] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:51.886+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.mapper.PaymentMapper.findAll       : ==>  Preparing: SELECT p.* FROM payment_tb p ORDER BY p.payment_date DESC, p.created_at DESC
2026-01-08T12:54:51.886+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:51.886+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1401276964 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:54:51.887+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.mapper.PaymentMapper.findAll       : ==> Parameters: 
2026-01-08T12:54:51.887+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12ce8005] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:51.887+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.mapper.SubscriptionMapper.findAll  : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id ORDER BY s.created_at DESC
2026-01-08T12:54:51.889+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@346773946 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:54:51.890+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.mapper.SubscriptionMapper.findAll  : ==> Parameters: 
2026-01-08T12:54:51.890+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.E.countExpenseListForSuperAdmin  : ==>  Preparing: SELECT COUNT(*) FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id
2026-01-08T12:54:51.891+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.E.countExpenseListForSuperAdmin  : ==> Parameters: 
2026-01-08T12:54:51.920+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.mapper.CompanyMapper.findAll       : <==      Total: 7
2026-01-08T12:54:51.920+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectAllUsers   : <==      Total: 12
2026-01-08T12:54:51.921+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.CompanyMapper.findAll       : <==      Total: 7
2026-01-08T12:54:51.952+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a4d6ee8]
2026-01-08T12:54:51.952+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d7c2cfb]
2026-01-08T12:54:51.953+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@795c157]
2026-01-08T12:54:51.954+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:54:51.953+09:00  INFO 5336 --- [http-nio-8080-exec-8] c.i.b.controller.SuperAdminController    : 전체 회사 목록 조회 완료 - count: 7
2026-01-08T12:54:51.953+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:54:51.953+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.E.countExpenseListForSuperAdmin  : <==      Total: 1
2026-01-08T12:54:51.972+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 2(Long)
2026-01-08T12:54:51.953+09:00  INFO 5336 --- [http-nio-8080-exec-9] c.i.b.controller.SuperAdminController    : 전체 사용자 목록 조회 완료 - count: 12
2026-01-08T12:54:51.954+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:51.954+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:54:51.960+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:51.972+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12ce8005]
2026-01-08T12:54:51.974+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:51.974+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52f40a19] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:51.986+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 회사 목록 조회 성공, data=[CompanyDto(companyId=7, companyCode=PC8UJT,  (truncated)...]
2026-01-08T12:54:51.988+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:51.989+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passwo (truncated)...]
2026-01-08T12:54:51.990+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2067986025 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:54:51.994+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:54:52.003+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69ba42b0] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:52.004+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:52.004+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:52.010+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:54:52.012+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.SubscriptionMapper.findAll  : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id ORDER BY s.created_at DESC
2026-01-08T12:54:52.012+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:54:52.014+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@261237034 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:54:52.016+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] c.i.b.mapper.SubscriptionMapper.findAll  : <==      Total: 7
2026-01-08T12:54:52.022+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.SubscriptionMapper.findAll  : ==> Parameters: 
2026-01-08T12:54:52.023+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 7(Long)
2026-01-08T12:54:52.024+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListForSuperAdmin : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, c.company_name AS companyName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id LEFT JOIN company_tb c ON r.company_id = c.company_id ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:54:52.024+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@304b8dcc]
2026-01-08T12:54:52.026+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:54:52.026+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:54:52.027+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListForSuperAdmin : ==> Parameters: 1(Integer), 0(Integer)
2026-01-08T12:54:52.027+09:00  INFO 5336 --- [http-nio-8080-exec-4] c.i.b.controller.SuperAdminController    : 전체 구독 목록 조회 완료 - count: 7
2026-01-08T12:54:52.028+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:54:52.029+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:54:52.029+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:52.030+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 1(Long)
2026-01-08T12:54:52.031+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 구독 목록 조회 성공, data=[SubscriptionDto(subscriptionId=7, companyId= (truncated)...]
2026-01-08T12:54:52.032+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListForSuperAdmin : <==      Total: 1
2026-01-08T12:54:52.034+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:52.038+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69ba42b0]
2026-01-08T12:54:52.040+09:00  INFO 5336 --- [http-nio-8080-exec-1] c.i.b.controller.SuperAdminController    : 회사별 지출결의서 목록 조회 완료 - totalElements: 29
2026-01-08T12:54:52.042+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:54:52.042+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionPlanMapper.findById  : ======>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:54:52.043+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:52.044+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.SubscriptionMapper.findAll  : <==      Total: 7
2026-01-08T12:54:52.044+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionPlanMapper.findById  : ======> Parameters: 1(Long)
2026-01-08T12:54:52.044+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=지출결의서 목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expen (truncated)...]
2026-01-08T12:54:52.045+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52f40a19]
2026-01-08T12:54:52.046+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:52.046+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:52.048+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4eb28671] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:52.053+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@581947504 wrapping com.mysql.cj.jdbc.ConnectionImpl@7430a897] will not be managed by Spring
2026-01-08T12:54:52.053+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.PaymentMapper.findAll       : ==>  Preparing: SELECT p.* FROM payment_tb p ORDER BY p.payment_date DESC, p.created_at DESC
2026-01-08T12:54:52.054+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.PaymentMapper.findAll       : ==> Parameters: 
2026-01-08T12:54:52.060+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionPlanMapper.findById  : <======      Total: 1
2026-01-08T12:54:52.071+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:54:52.074+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:54:52.076+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.mapper.PaymentMapper.findAll       : <==      Total: 4
2026-01-08T12:54:52.077+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 2(Long)
2026-01-08T12:54:52.087+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@427c5205]
2026-01-08T12:54:52.088+09:00  INFO 5336 --- [http-nio-8080-exec-5] c.i.b.controller.SuperAdminController    : 전체 결제 내역 조회 완료 - count: 4
2026-01-08T12:54:52.092+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:52.093+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 결제 내역 조회 성공, data=[PaymentDto(paymentId=11, subscriptionId=2, a (truncated)...]
2026-01-08T12:54:52.094+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:52.096+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:54:52.115+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:54:52.118+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 7(Long)
2026-01-08T12:54:52.124+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:54:52.126+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:54:52.130+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 1(Long)
2026-01-08T12:54:52.156+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.SubscriptionPlanMapper.findById  : ======>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:54:52.160+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.SubscriptionPlanMapper.findById  : ======> Parameters: 1(Long)
2026-01-08T12:54:52.174+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.SubscriptionPlanMapper.findById  : <======      Total: 1
2026-01-08T12:54:52.175+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:54:52.178+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] c.i.b.mapper.PaymentMapper.findAll       : <==      Total: 4
2026-01-08T12:54:52.178+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4eb28671]
2026-01-08T12:54:52.179+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:52.179+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 요약 통계 조회 성공, data=AdminReportService.DashboardSummaryDto(tota (truncated)...]
2026-01-08T12:54:52.180+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:53.262+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/expenses?page=1&size=20
2026-01-08T12:54:53.304+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/expenses?page=1&size=20
2026-01-08T12:54:53.317+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/superadmin/expenses
2026-01-08T12:54:53.321+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/expenses?page=1&size=20
2026-01-08T12:54:53.323+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/expenses?page=1&size=20", parameters={masked}
2026-01-08T12:54:53.326+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getExpenseListForSuperAdmin(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, Long)
2026-01-08T12:54:53.328+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getExpenseListForSuperAdmin(int,int,java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.lang.String[],java.lang.String,java.lang.Boolean,java.lang.Boolean,java.lang.String,java.lang.Long); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:54:53.337+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getExpenseListForSuperAdmin(int,int,java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.lang.String[],java.lang.String,java.lang.Boolean,java.lang.Boolean,java.lang.String,java.lang.Long); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:54:53.339+09:00  INFO 5336 --- [http-nio-8080-exec-6] c.i.b.controller.SuperAdminController    : 회사별 지출결의서 목록 조회 요청 - userId: 9, companyId: null, page: 1, size: 20
2026-01-08T12:54:53.341+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:53.341+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bf9e869] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:53.344+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@696794884 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:54:53.347+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.m.E.countExpenseListForSuperAdmin  : ==>  Preparing: SELECT COUNT(*) FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id
2026-01-08T12:54:53.349+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.m.E.countExpenseListForSuperAdmin  : ==> Parameters: 
2026-01-08T12:54:53.357+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.m.E.countExpenseListForSuperAdmin  : <==      Total: 1
2026-01-08T12:54:53.410+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bf9e869]
2026-01-08T12:54:53.410+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:53.410+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@600e64ef] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:53.412+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@112804173 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:54:53.413+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListForSuperAdmin : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, c.company_name AS companyName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id LEFT JOIN company_tb c ON r.company_id = c.company_id ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:54:53.430+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListForSuperAdmin : ==> Parameters: 20(Integer), 0(Integer)
2026-01-08T12:54:53.513+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListForSuperAdmin : <==      Total: 20
2026-01-08T12:54:53.540+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@600e64ef]
2026-01-08T12:54:53.552+09:00  INFO 5336 --- [http-nio-8080-exec-6] c.i.b.controller.SuperAdminController    : 회사별 지출결의서 목록 조회 완료 - totalElements: 29
2026-01-08T12:54:53.554+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:53.557+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=지출결의서 목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expen (truncated)...]
2026-01-08T12:54:53.558+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:54.192+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/global
2026-01-08T12:54:54.193+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/global
2026-01-08T12:54:54.212+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/global
2026-01-08T12:54:54.215+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/global
2026-01-08T12:54:54.256+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/expense-categories/global
2026-01-08T12:54:54.247+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/expense-categories/global
2026-01-08T12:54:54.444+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/global
2026-01-08T12:54:54.594+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/global", parameters={}
2026-01-08T12:54:54.570+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/global
2026-01-08T12:54:54.595+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getGlobalCategories()
2026-01-08T12:54:54.596+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/global", parameters={}
2026-01-08T12:54:54.597+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getGlobalCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:54:54.598+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getGlobalCategories()
2026-01-08T12:54:54.598+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getGlobalCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:54:54.599+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getGlobalCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:54:54.601+09:00  INFO 5336 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리 조회 시작
2026-01-08T12:54:54.611+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getGlobalCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:54:54.611+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:54.612+09:00  INFO 5336 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리 조회 시작
2026-01-08T12:54:54.612+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@626abe60] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:54.612+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:54.612+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@847268c] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:54.659+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2047521173 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ac0fa7] will not be managed by Spring
2026-01-08T12:54:54.660+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2068747317 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:54:54.664+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.E.findGlobalCategories           : ==>  Preparing: SELECT ec.*, 1 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec LEFT JOIN user_tb u ON ec.created_by = u.user_id WHERE ec.company_id IS NULL AND (ec.is_active IS NULL OR ec.is_active = 1) ORDER BY ec.display_order ASC, ec.category_name ASC
2026-01-08T12:54:54.665+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.E.findGlobalCategories           : ==>  Preparing: SELECT ec.*, 1 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec LEFT JOIN user_tb u ON ec.created_by = u.user_id WHERE ec.company_id IS NULL AND (ec.is_active IS NULL OR ec.is_active = 1) ORDER BY ec.display_order ASC, ec.category_name ASC
2026-01-08T12:54:54.665+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.E.findGlobalCategories           : ==> Parameters: 
2026-01-08T12:54:54.666+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.E.findGlobalCategories           : ==> Parameters: 
2026-01-08T12:54:54.700+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.E.findGlobalCategories           : <==      Total: 12
2026-01-08T12:54:54.700+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.E.findGlobalCategories           : <==      Total: 12
2026-01-08T12:54:54.707+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@847268c]
2026-01-08T12:54:54.708+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@626abe60]
2026-01-08T12:54:54.715+09:00  INFO 5336 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리 조회 완료 - 항목 수: 12
2026-01-08T12:54:54.716+09:00  INFO 5336 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리 조회 완료 - 항목 수: 12
2026-01-08T12:54:54.719+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=1, name=식비/회식, order=0, active=true
2026-01-08T12:54:54.721+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=1, name=식비/회식, order=0, active=true
2026-01-08T12:54:54.725+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=3, name=거래처 접대, order=1, active=true
2026-01-08T12:54:54.726+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=3, name=거래처 접대, order=1, active=true
2026-01-08T12:54:54.726+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=2, name=출장/교통비, order=2, active=true
2026-01-08T12:54:54.727+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=2, name=출장/교통비, order=2, active=true
2026-01-08T12:54:54.727+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=5, name=수수료, order=3, active=true
2026-01-08T12:54:54.727+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=5, name=수수료, order=3, active=true
2026-01-08T12:54:54.728+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=6, name=광고/홍보, order=4, active=true
2026-01-08T12:54:54.730+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=6, name=광고/홍보, order=4, active=true
2026-01-08T12:54:54.730+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=4, name=사무용품, order=5, active=true
2026-01-08T12:54:54.731+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=4, name=사무용품, order=5, active=true
2026-01-08T12:54:54.731+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=7, name=통신비, order=6, active=true
2026-01-08T12:54:54.732+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=7, name=통신비, order=6, active=true
2026-01-08T12:54:54.732+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=8, name=차량비, order=7, active=true
2026-01-08T12:54:54.732+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=8, name=차량비, order=7, active=true
2026-01-08T12:54:54.733+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=9, name=도서/인쇄, order=8, active=true
2026-01-08T12:54:54.738+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=9, name=도서/인쇄, order=8, active=true
2026-01-08T12:54:54.739+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=10, name=세금/공과금, order=9, active=true
2026-01-08T12:54:54.739+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=10, name=세금/공과금, order=9, active=true
2026-01-08T12:54:54.739+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=11, name=급여, order=10, active=true
2026-01-08T12:54:54.740+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=11, name=급여, order=10, active=true
2026-01-08T12:54:54.741+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=12, name=기타, order=11, active=true
2026-01-08T12:54:54.741+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=12, name=기타, order=11, active=true
2026-01-08T12:54:54.742+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:54.743+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:54.745+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-08T12:54:54.746+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-08T12:54:54.747+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:54.749+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:54:56.414+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/account-codes/list
2026-01-08T12:54:56.445+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/account-codes/list
2026-01-08T12:54:56.470+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/account-codes/list
2026-01-08T12:54:56.472+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/account-codes/list
2026-01-08T12:54:56.491+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/account-codes/list", parameters={}
2026-01-08T12:54:56.502+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AccountCodeController#getMappingList()
2026-01-08T12:54:56.503+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:54:56.505+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:54:56.506+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:54:56.508+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b45641c] was not registered for synchronization because synchronization is not active
2026-01-08T12:54:56.512+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1318370399 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:54:56.513+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.A.findAll                        : ==>  Preparing: SELECT * FROM account_code_mapping_tb ORDER BY company_id DESC, category ASC, account_name ASC
2026-01-08T12:54:56.514+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.A.findAll                        : ==> Parameters: 
2026-01-08T12:54:56.518+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.A.findAll                        : <==      Total: 12
2026-01-08T12:54:56.520+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b45641c]
2026-01-08T12:54:56.521+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:54:56.524+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[AccountCodeMappingDto(mappingId=5, companyId=null, ca (truncated)...]
2026-01-08T12:54:56.525+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:55:04.003+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/global
2026-01-08T12:55:04.003+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/global
2026-01-08T12:55:04.028+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/global
2026-01-08T12:55:04.030+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/global
2026-01-08T12:55:04.035+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/expense-categories/global
2026-01-08T12:55:04.037+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/expense-categories/global
2026-01-08T12:55:04.037+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/global
2026-01-08T12:55:04.038+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/global
2026-01-08T12:55:04.038+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/global", parameters={}
2026-01-08T12:55:04.039+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/global", parameters={}
2026-01-08T12:55:04.039+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getGlobalCategories()
2026-01-08T12:55:04.039+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getGlobalCategories()
2026-01-08T12:55:04.039+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getGlobalCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:55:04.040+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getGlobalCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:55:04.043+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getGlobalCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:55:04.044+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getGlobalCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:55:04.048+09:00  INFO 5336 --- [http-nio-8080-exec-3] c.i.b.service.ExpenseCategoryService     : 전역 카테고리 조회 시작
2026-01-08T12:55:04.053+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:55:04.049+09:00  INFO 5336 --- [http-nio-8080-exec-6] c.i.b.service.ExpenseCategoryService     : 전역 카테고리 조회 시작
2026-01-08T12:55:04.063+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a330af6] was not registered for synchronization because synchronization is not active
2026-01-08T12:55:04.064+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:55:04.066+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23c1ad6d] was not registered for synchronization because synchronization is not active
2026-01-08T12:55:04.077+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@331833394 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:55:04.077+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1066877530 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:55:04.124+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.E.findGlobalCategories           : ==>  Preparing: SELECT ec.*, 1 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec LEFT JOIN user_tb u ON ec.created_by = u.user_id WHERE ec.company_id IS NULL AND (ec.is_active IS NULL OR ec.is_active = 1) ORDER BY ec.display_order ASC, ec.category_name ASC
2026-01-08T12:55:04.079+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.m.E.findGlobalCategories           : ==>  Preparing: SELECT ec.*, 1 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec LEFT JOIN user_tb u ON ec.created_by = u.user_id WHERE ec.company_id IS NULL AND (ec.is_active IS NULL OR ec.is_active = 1) ORDER BY ec.display_order ASC, ec.category_name ASC
2026-01-08T12:55:04.125+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.E.findGlobalCategories           : ==> Parameters: 
2026-01-08T12:55:04.126+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.m.E.findGlobalCategories           : ==> Parameters: 
2026-01-08T12:55:04.158+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.m.E.findGlobalCategories           : <==      Total: 12
2026-01-08T12:55:04.158+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.E.findGlobalCategories           : <==      Total: 12
2026-01-08T12:55:04.160+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23c1ad6d]
2026-01-08T12:55:04.160+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a330af6]
2026-01-08T12:55:04.161+09:00  INFO 5336 --- [http-nio-8080-exec-6] c.i.b.service.ExpenseCategoryService     : 전역 카테고리 조회 완료 - 항목 수: 12
2026-01-08T12:55:04.161+09:00  INFO 5336 --- [http-nio-8080-exec-3] c.i.b.service.ExpenseCategoryService     : 전역 카테고리 조회 완료 - 항목 수: 12
2026-01-08T12:55:04.161+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=1, name=식비/회식, order=0, active=true
2026-01-08T12:55:04.162+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=1, name=식비/회식, order=0, active=true
2026-01-08T12:55:04.162+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=3, name=거래처 접대, order=1, active=true
2026-01-08T12:55:04.179+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=3, name=거래처 접대, order=1, active=true
2026-01-08T12:55:04.180+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=2, name=출장/교통비, order=2, active=true
2026-01-08T12:55:04.181+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=2, name=출장/교통비, order=2, active=true
2026-01-08T12:55:04.181+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=5, name=수수료, order=3, active=true
2026-01-08T12:55:04.181+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=5, name=수수료, order=3, active=true
2026-01-08T12:55:04.182+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=6, name=광고/홍보, order=4, active=true
2026-01-08T12:55:04.182+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=6, name=광고/홍보, order=4, active=true
2026-01-08T12:55:04.185+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=4, name=사무용품, order=5, active=true
2026-01-08T12:55:04.182+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=4, name=사무용품, order=5, active=true
2026-01-08T12:55:04.185+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=7, name=통신비, order=6, active=true
2026-01-08T12:55:04.186+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=7, name=통신비, order=6, active=true
2026-01-08T12:55:04.186+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=8, name=차량비, order=7, active=true
2026-01-08T12:55:04.187+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=8, name=차량비, order=7, active=true
2026-01-08T12:55:04.187+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=9, name=도서/인쇄, order=8, active=true
2026-01-08T12:55:04.187+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=9, name=도서/인쇄, order=8, active=true
2026-01-08T12:55:04.187+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=10, name=세금/공과금, order=9, active=true
2026-01-08T12:55:04.187+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=10, name=세금/공과금, order=9, active=true
2026-01-08T12:55:04.188+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=11, name=급여, order=10, active=true
2026-01-08T12:55:04.188+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=11, name=급여, order=10, active=true
2026-01-08T12:55:04.188+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=12, name=기타, order=11, active=true
2026-01-08T12:55:04.188+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=12, name=기타, order=11, active=true
2026-01-08T12:55:04.188+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:55:04.188+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:55:04.189+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-08T12:55:04.189+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-08T12:55:04.189+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:55:04.189+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:55:05.492+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/global
2026-01-08T12:55:05.492+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/global
2026-01-08T12:55:05.506+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/global
2026-01-08T12:55:05.507+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/global
2026-01-08T12:55:05.509+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/expense-categories/global
2026-01-08T12:55:05.512+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/global
2026-01-08T12:55:05.512+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/global", parameters={}
2026-01-08T12:55:05.511+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/expense-categories/global
2026-01-08T12:55:05.524+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/global
2026-01-08T12:55:05.524+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/global", parameters={}
2026-01-08T12:55:05.522+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getGlobalCategories()
2026-01-08T12:55:05.525+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getGlobalCategories()
2026-01-08T12:55:05.525+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getGlobalCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:55:05.526+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getGlobalCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:55:05.526+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getGlobalCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:55:05.528+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getGlobalCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:55:05.528+09:00  INFO 5336 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리 조회 시작
2026-01-08T12:55:05.528+09:00  INFO 5336 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리 조회 시작
2026-01-08T12:55:05.529+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:55:05.529+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:55:05.529+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f1653b7] was not registered for synchronization because synchronization is not active
2026-01-08T12:55:05.529+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b3d571] was not registered for synchronization because synchronization is not active
2026-01-08T12:55:05.560+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1913959565 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ac0fa7] will not be managed by Spring
2026-01-08T12:55:05.560+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@610665283 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:55:05.613+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.E.findGlobalCategories           : ==>  Preparing: SELECT ec.*, 1 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec LEFT JOIN user_tb u ON ec.created_by = u.user_id WHERE ec.company_id IS NULL AND (ec.is_active IS NULL OR ec.is_active = 1) ORDER BY ec.display_order ASC, ec.category_name ASC
2026-01-08T12:55:05.613+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.E.findGlobalCategories           : ==>  Preparing: SELECT ec.*, 1 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec LEFT JOIN user_tb u ON ec.created_by = u.user_id WHERE ec.company_id IS NULL AND (ec.is_active IS NULL OR ec.is_active = 1) ORDER BY ec.display_order ASC, ec.category_name ASC
2026-01-08T12:55:05.614+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.E.findGlobalCategories           : ==> Parameters: 
2026-01-08T12:55:05.614+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.E.findGlobalCategories           : ==> Parameters: 
2026-01-08T12:55:05.648+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.E.findGlobalCategories           : <==      Total: 12
2026-01-08T12:55:05.648+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.E.findGlobalCategories           : <==      Total: 12
2026-01-08T12:55:05.655+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f1653b7]
2026-01-08T12:55:05.656+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b3d571]
2026-01-08T12:55:05.677+09:00  INFO 5336 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리 조회 완료 - 항목 수: 12
2026-01-08T12:55:05.677+09:00  INFO 5336 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리 조회 완료 - 항목 수: 12
2026-01-08T12:55:05.677+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=1, name=식비/회식, order=0, active=true
2026-01-08T12:55:05.677+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=1, name=식비/회식, order=0, active=true
2026-01-08T12:55:05.678+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=3, name=거래처 접대, order=1, active=true
2026-01-08T12:55:05.678+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=3, name=거래처 접대, order=1, active=true
2026-01-08T12:55:05.678+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=2, name=출장/교통비, order=2, active=true
2026-01-08T12:55:05.678+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=2, name=출장/교통비, order=2, active=true
2026-01-08T12:55:05.678+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=5, name=수수료, order=3, active=true
2026-01-08T12:55:05.678+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=5, name=수수료, order=3, active=true
2026-01-08T12:55:05.678+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=6, name=광고/홍보, order=4, active=true
2026-01-08T12:55:05.679+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=6, name=광고/홍보, order=4, active=true
2026-01-08T12:55:05.679+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=4, name=사무용품, order=5, active=true
2026-01-08T12:55:05.679+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=4, name=사무용품, order=5, active=true
2026-01-08T12:55:05.679+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=7, name=통신비, order=6, active=true
2026-01-08T12:55:05.679+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=7, name=통신비, order=6, active=true
2026-01-08T12:55:05.679+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=8, name=차량비, order=7, active=true
2026-01-08T12:55:05.679+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=8, name=차량비, order=7, active=true
2026-01-08T12:55:05.680+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=9, name=도서/인쇄, order=8, active=true
2026-01-08T12:55:05.680+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=9, name=도서/인쇄, order=8, active=true
2026-01-08T12:55:05.680+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=10, name=세금/공과금, order=9, active=true
2026-01-08T12:55:05.680+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=10, name=세금/공과금, order=9, active=true
2026-01-08T12:55:05.680+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=11, name=급여, order=10, active=true
2026-01-08T12:55:05.680+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=11, name=급여, order=10, active=true
2026-01-08T12:55:05.680+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=12, name=기타, order=11, active=true
2026-01-08T12:55:05.680+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=12, name=기타, order=11, active=true
2026-01-08T12:55:05.681+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:55:05.681+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:55:05.681+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-08T12:55:05.681+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-08T12:55:05.682+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:55:05.686+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:57:31.736+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/global
2026-01-08T12:57:31.737+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/expense-categories/global
2026-01-08T12:57:31.738+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/global
2026-01-08T12:57:31.738+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/global", parameters={}
2026-01-08T12:57:31.738+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getGlobalCategories()
2026-01-08T12:57:31.739+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getGlobalCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:57:31.739+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getGlobalCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:57:31.741+09:00  INFO 5336 --- [http-nio-8080-exec-7] c.i.b.service.ExpenseCategoryService     : 전역 카테고리 조회 시작
2026-01-08T12:57:31.741+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:57:31.741+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@683f6f39] was not registered for synchronization because synchronization is not active
2026-01-08T12:57:31.744+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1559804346 wrapping com.mysql.cj.jdbc.ConnectionImpl@70ff8e67] will not be managed by Spring
2026-01-08T12:57:31.745+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.E.findGlobalCategories           : ==>  Preparing: SELECT ec.*, 1 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec LEFT JOIN user_tb u ON ec.created_by = u.user_id WHERE ec.company_id IS NULL AND (ec.is_active IS NULL OR ec.is_active = 1) ORDER BY ec.display_order ASC, ec.category_name ASC
2026-01-08T12:57:31.753+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.E.findGlobalCategories           : ==> Parameters: 
2026-01-08T12:57:31.755+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.E.findGlobalCategories           : <==      Total: 12
2026-01-08T12:57:31.760+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@683f6f39]
2026-01-08T12:57:31.773+09:00  INFO 5336 --- [http-nio-8080-exec-7] c.i.b.service.ExpenseCategoryService     : 전역 카테고리 조회 완료 - 항목 수: 12
2026-01-08T12:57:31.774+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=1, name=식비/회식, order=0, active=true
2026-01-08T12:57:31.777+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=3, name=거래처 접대, order=1, active=true
2026-01-08T12:57:31.790+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=2, name=출장/교통비, order=2, active=true
2026-01-08T12:57:31.790+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=5, name=수수료, order=3, active=true
2026-01-08T12:57:31.802+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=6, name=광고/홍보, order=4, active=true
2026-01-08T12:57:31.803+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=4, name=사무용품, order=5, active=true
2026-01-08T12:57:31.804+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=7, name=통신비, order=6, active=true
2026-01-08T12:57:31.810+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=8, name=차량비, order=7, active=true
2026-01-08T12:57:31.854+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=9, name=도서/인쇄, order=8, active=true
2026-01-08T12:57:31.855+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=10, name=세금/공과금, order=9, active=true
2026-01-08T12:57:31.856+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=11, name=급여, order=10, active=true
2026-01-08T12:57:31.857+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=12, name=기타, order=11, active=true
2026-01-08T12:57:31.858+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:57:31.960+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-08T12:57:32.019+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:57:32.031+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/global
2026-01-08T12:57:32.037+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/expense-categories/global
2026-01-08T12:57:32.045+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/global
2026-01-08T12:57:32.047+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/global", parameters={}
2026-01-08T12:57:32.048+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getGlobalCategories()
2026-01-08T12:57:32.050+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getGlobalCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:57:32.053+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getGlobalCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:57:32.054+09:00  INFO 5336 --- [http-nio-8080-exec-2] c.i.b.service.ExpenseCategoryService     : 전역 카테고리 조회 시작
2026-01-08T12:57:32.054+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:57:32.054+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34ab1eae] was not registered for synchronization because synchronization is not active
2026-01-08T12:57:32.058+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@135389222 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:57:32.067+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.E.findGlobalCategories           : ==>  Preparing: SELECT ec.*, 1 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec LEFT JOIN user_tb u ON ec.created_by = u.user_id WHERE ec.company_id IS NULL AND (ec.is_active IS NULL OR ec.is_active = 1) ORDER BY ec.display_order ASC, ec.category_name ASC
2026-01-08T12:57:32.068+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.E.findGlobalCategories           : ==> Parameters: 
2026-01-08T12:57:32.080+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.E.findGlobalCategories           : <==      Total: 12
2026-01-08T12:57:32.082+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34ab1eae]
2026-01-08T12:57:32.083+09:00  INFO 5336 --- [http-nio-8080-exec-2] c.i.b.service.ExpenseCategoryService     : 전역 카테고리 조회 완료 - 항목 수: 12
2026-01-08T12:57:32.085+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=1, name=식비/회식, order=0, active=true
2026-01-08T12:57:32.085+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=3, name=거래처 접대, order=1, active=true
2026-01-08T12:57:32.086+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=2, name=출장/교통비, order=2, active=true
2026-01-08T12:57:32.086+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=5, name=수수료, order=3, active=true
2026-01-08T12:57:32.086+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=6, name=광고/홍보, order=4, active=true
2026-01-08T12:57:32.086+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=4, name=사무용품, order=5, active=true
2026-01-08T12:57:32.086+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=7, name=통신비, order=6, active=true
2026-01-08T12:57:32.087+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=8, name=차량비, order=7, active=true
2026-01-08T12:57:32.087+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=9, name=도서/인쇄, order=8, active=true
2026-01-08T12:57:32.089+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=10, name=세금/공과금, order=9, active=true
2026-01-08T12:57:32.089+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=11, name=급여, order=10, active=true
2026-01-08T12:57:32.089+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=12, name=기타, order=11, active=true
2026-01-08T12:57:32.090+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:57:32.106+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-08T12:57:32.108+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:57:33.793+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/global
2026-01-08T12:57:33.794+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/expense-categories/global
2026-01-08T12:57:33.794+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/global
2026-01-08T12:57:33.795+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/global", parameters={}
2026-01-08T12:57:33.795+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getGlobalCategories()
2026-01-08T12:57:33.795+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getGlobalCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:57:33.797+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getGlobalCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:57:33.801+09:00  INFO 5336 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리 조회 시작
2026-01-08T12:57:33.802+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:57:33.802+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@526c6835] was not registered for synchronization because synchronization is not active
2026-01-08T12:57:33.804+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@830978643 wrapping com.mysql.cj.jdbc.ConnectionImpl@4ac0fa7] will not be managed by Spring
2026-01-08T12:57:33.805+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.E.findGlobalCategories           : ==>  Preparing: SELECT ec.*, 1 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec LEFT JOIN user_tb u ON ec.created_by = u.user_id WHERE ec.company_id IS NULL AND (ec.is_active IS NULL OR ec.is_active = 1) ORDER BY ec.display_order ASC, ec.category_name ASC
2026-01-08T12:57:33.806+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.E.findGlobalCategories           : ==> Parameters: 
2026-01-08T12:57:33.809+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.m.E.findGlobalCategories           : <==      Total: 12
2026-01-08T12:57:33.809+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@526c6835]
2026-01-08T12:57:33.809+09:00  INFO 5336 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리 조회 완료 - 항목 수: 12
2026-01-08T12:57:33.809+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=1, name=식비/회식, order=0, active=true
2026-01-08T12:57:33.810+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=3, name=거래처 접대, order=1, active=true
2026-01-08T12:57:33.812+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=2, name=출장/교통비, order=2, active=true
2026-01-08T12:57:33.812+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=5, name=수수료, order=3, active=true
2026-01-08T12:57:33.819+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=6, name=광고/홍보, order=4, active=true
2026-01-08T12:57:33.819+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=4, name=사무용품, order=5, active=true
2026-01-08T12:57:33.820+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=7, name=통신비, order=6, active=true
2026-01-08T12:57:33.820+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=8, name=차량비, order=7, active=true
2026-01-08T12:57:33.820+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=9, name=도서/인쇄, order=8, active=true
2026-01-08T12:57:33.821+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=10, name=세금/공과금, order=9, active=true
2026-01-08T12:57:33.822+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=11, name=급여, order=10, active=true
2026-01-08T12:57:33.822+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=12, name=기타, order=11, active=true
2026-01-08T12:57:33.823+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:57:33.823+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-08T12:57:33.824+09:00 DEBUG 5336 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:57:33.826+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/global
2026-01-08T12:57:33.833+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/expense-categories/global
2026-01-08T12:57:33.835+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/global
2026-01-08T12:57:33.836+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/global", parameters={}
2026-01-08T12:57:33.836+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getGlobalCategories()
2026-01-08T12:57:33.836+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getGlobalCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:57:33.836+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getGlobalCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:57:33.836+09:00  INFO 5336 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리 조회 시작
2026-01-08T12:57:33.837+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:57:33.837+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62f8ac97] was not registered for synchronization because synchronization is not active
2026-01-08T12:57:33.839+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1805836886 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:57:33.840+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.E.findGlobalCategories           : ==>  Preparing: SELECT ec.*, 1 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec LEFT JOIN user_tb u ON ec.created_by = u.user_id WHERE ec.company_id IS NULL AND (ec.is_active IS NULL OR ec.is_active = 1) ORDER BY ec.display_order ASC, ec.category_name ASC
2026-01-08T12:57:33.841+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.E.findGlobalCategories           : ==> Parameters: 
2026-01-08T12:57:33.844+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.m.E.findGlobalCategories           : <==      Total: 12
2026-01-08T12:57:33.846+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62f8ac97]
2026-01-08T12:57:33.849+09:00  INFO 5336 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리 조회 완료 - 항목 수: 12
2026-01-08T12:57:33.849+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=1, name=식비/회식, order=0, active=true
2026-01-08T12:57:33.850+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=3, name=거래처 접대, order=1, active=true
2026-01-08T12:57:33.850+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=2, name=출장/교통비, order=2, active=true
2026-01-08T12:57:33.851+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=5, name=수수료, order=3, active=true
2026-01-08T12:57:33.851+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=6, name=광고/홍보, order=4, active=true
2026-01-08T12:57:33.851+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=4, name=사무용품, order=5, active=true
2026-01-08T12:57:33.852+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=7, name=통신비, order=6, active=true
2026-01-08T12:57:33.852+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=8, name=차량비, order=7, active=true
2026-01-08T12:57:33.852+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=9, name=도서/인쇄, order=8, active=true
2026-01-08T12:57:33.852+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=10, name=세금/공과금, order=9, active=true
2026-01-08T12:57:33.852+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=11, name=급여, order=10, active=true
2026-01-08T12:57:33.853+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=12, name=기타, order=11, active=true
2026-01-08T12:57:33.853+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:57:33.853+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-08T12:57:33.855+09:00 DEBUG 5336 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:57:35.944+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/expenses?page=1&size=20
2026-01-08T12:57:35.945+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/superadmin/expenses
2026-01-08T12:57:35.945+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/expenses?page=1&size=20
2026-01-08T12:57:35.946+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/expenses?page=1&size=20", parameters={masked}
2026-01-08T12:57:35.946+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getExpenseListForSuperAdmin(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, Long)
2026-01-08T12:57:35.947+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getExpenseListForSuperAdmin(int,int,java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.lang.String[],java.lang.String,java.lang.Boolean,java.lang.Boolean,java.lang.String,java.lang.Long); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:57:35.949+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getExpenseListForSuperAdmin(int,int,java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.lang.String[],java.lang.String,java.lang.Boolean,java.lang.Boolean,java.lang.String,java.lang.Long); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:57:35.950+09:00  INFO 5336 --- [http-nio-8080-exec-1] c.i.b.controller.SuperAdminController    : 회사별 지출결의서 목록 조회 요청 - userId: 9, companyId: null, page: 1, size: 20
2026-01-08T12:57:35.950+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:57:35.951+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a97297d] was not registered for synchronization because synchronization is not active
2026-01-08T12:57:35.958+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1166573181 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:57:35.968+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.E.countExpenseListForSuperAdmin  : ==>  Preparing: SELECT COUNT(*) FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id
2026-01-08T12:57:35.968+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.E.countExpenseListForSuperAdmin  : ==> Parameters: 
2026-01-08T12:57:35.971+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.E.countExpenseListForSuperAdmin  : <==      Total: 1
2026-01-08T12:57:35.976+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a97297d]
2026-01-08T12:57:35.977+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:57:35.980+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47c6da9d] was not registered for synchronization because synchronization is not active
2026-01-08T12:57:35.980+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@874937198 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:57:35.983+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListForSuperAdmin : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, c.company_name AS companyName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id LEFT JOIN company_tb c ON r.company_id = c.company_id ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:57:35.986+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListForSuperAdmin : ==> Parameters: 20(Integer), 0(Integer)
2026-01-08T12:57:35.991+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListForSuperAdmin : <==      Total: 20
2026-01-08T12:57:35.992+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47c6da9d]
2026-01-08T12:57:35.993+09:00  INFO 5336 --- [http-nio-8080-exec-1] c.i.b.controller.SuperAdminController    : 회사별 지출결의서 목록 조회 완료 - totalElements: 29
2026-01-08T12:57:35.993+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:57:35.994+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=지출결의서 목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expen (truncated)...]
2026-01-08T12:57:35.996+09:00 DEBUG 5336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:57:36.357+09:00 DEBUG 5336 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/reports/revenue?from=2025-12-09&to=2026-01-08
2026-01-08T12:57:36.357+09:00 DEBUG 5336 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/reports/user-signups?from=2025-12-09&to=2026-01-08
2026-01-08T12:57:36.365+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/reports/user-signups?from=2025-12-09&to=2026-01-08
2026-01-08T12:57:36.365+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/reports/revenue?from=2025-12-09&to=2026-01-08
2026-01-08T12:57:36.366+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/superadmin/reports/user-signups
2026-01-08T12:57:36.367+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/reports/user-signups?from=2025-12-09&to=2026-01-08
2026-01-08T12:57:36.367+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/superadmin/reports/revenue
2026-01-08T12:57:36.368+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/reports/user-signups?from=2025-12-09&to=2026-01-08", parameters={masked}
2026-01-08T12:57:36.368+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/reports/revenue?from=2025-12-09&to=2026-01-08
2026-01-08T12:57:36.368+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getUserSignupTrend(LocalDate, LocalDate)
2026-01-08T12:57:36.368+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/reports/revenue?from=2025-12-09&to=2026-01-08", parameters={masked}
2026-01-08T12:57:36.369+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getRevenueTrend(LocalDate, LocalDate)
2026-01-08T12:57:36.374+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getRevenueTrend(java.time.LocalDate,java.time.LocalDate); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:57:36.375+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getUserSignupTrend(java.time.LocalDate,java.time.LocalDate); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:57:36.376+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getRevenueTrend(java.time.LocalDate,java.time.LocalDate); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:57:36.376+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getUserSignupTrend(java.time.LocalDate,java.time.LocalDate); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:57:36.377+09:00  INFO 5336 --- [http-nio-8080-exec-5] c.i.b.controller.SuperAdminController    : 매출 추이 조회 요청 - userId: 9, from: 2025-12-09, to: 2026-01-08
2026-01-08T12:57:36.377+09:00  INFO 5336 --- [http-nio-8080-exec-3] c.i.b.controller.SuperAdminController    : 사용자 가입 추이 조회 요청 - userId: 9, from: 2025-12-09, to: 2026-01-08
2026-01-08T12:57:36.378+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:57:36.378+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:57:36.381+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@490043b7] was not registered for synchronization because synchronization is not active
2026-01-08T12:57:36.382+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b7094e1] was not registered for synchronization because synchronization is not active
2026-01-08T12:57:36.388+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1792287815 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b3c69fc] will not be managed by Spring
2026-01-08T12:57:36.388+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1277567248 wrapping com.mysql.cj.jdbc.ConnectionImpl@70ff8e67] will not be managed by Spring
2026-01-08T12:57:36.389+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.U.selectUserSignupTrend          : ==>  Preparing: SELECT DATE(created_at) AS date, COUNT(*) AS count FROM user_tb WHERE DATE(created_at) BETWEEN ? AND ? GROUP BY DATE(created_at) ORDER BY date ASC
2026-01-08T12:57:36.390+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.mapper.PaymentMapper.findAll       : ==>  Preparing: SELECT p.* FROM payment_tb p ORDER BY p.payment_date DESC, p.created_at DESC
2026-01-08T12:57:36.391+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.U.selectUserSignupTrend          : ==> Parameters: 2025-12-09(LocalDate), 2026-01-08(LocalDate)
2026-01-08T12:57:36.391+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.mapper.PaymentMapper.findAll       : ==> Parameters: 
2026-01-08T12:57:36.393+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:57:36.393+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] c.i.b.m.U.selectUserSignupTrend          : <==      Total: 3
2026-01-08T12:57:36.393+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 2(Long)
2026-01-08T12:57:36.394+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b7094e1]
2026-01-08T12:57:36.395+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:57:36.402+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용자 가입 추이 조회 성공, data=[AdminReportService.UserSignupTrendDto(date= (truncated)...]
2026-01-08T12:57:36.402+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:57:36.403+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:57:36.403+09:00 DEBUG 5336 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:57:36.407+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 7(Long)
2026-01-08T12:57:36.409+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:57:36.410+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:57:36.410+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 1(Long)
2026-01-08T12:57:36.412+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionPlanMapper.findById  : ======>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:57:36.416+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionPlanMapper.findById  : ======> Parameters: 1(Long)
2026-01-08T12:57:36.418+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionPlanMapper.findById  : <======      Total: 1
2026-01-08T12:57:36.418+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:57:36.419+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] c.i.b.mapper.PaymentMapper.findAll       : <==      Total: 4
2026-01-08T12:57:36.419+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@490043b7]
2026-01-08T12:57:36.422+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:57:36.422+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=매출 추이 조회 성공, data=[AdminReportService.RevenueTrendDto(date=2025-12 (truncated)...]
2026-01-08T12:57:36.425+09:00 DEBUG 5336 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:57:36.818+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/expenses?page=1&size=20
2026-01-08T12:57:36.819+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/superadmin/expenses
2026-01-08T12:57:36.819+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/expenses?page=1&size=20
2026-01-08T12:57:36.819+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/expenses?page=1&size=20", parameters={masked}
2026-01-08T12:57:36.820+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getExpenseListForSuperAdmin(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, Long)
2026-01-08T12:57:36.820+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getExpenseListForSuperAdmin(int,int,java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.lang.String[],java.lang.String,java.lang.Boolean,java.lang.Boolean,java.lang.String,java.lang.Long); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:57:36.821+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getExpenseListForSuperAdmin(int,int,java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.lang.String[],java.lang.String,java.lang.Boolean,java.lang.Boolean,java.lang.String,java.lang.Long); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:57:36.822+09:00  INFO 5336 --- [http-nio-8080-exec-6] c.i.b.controller.SuperAdminController    : 회사별 지출결의서 목록 조회 요청 - userId: 9, companyId: null, page: 1, size: 20
2026-01-08T12:57:36.823+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:57:36.836+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2943190e] was not registered for synchronization because synchronization is not active
2026-01-08T12:57:36.865+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@626388244 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:57:36.873+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.m.E.countExpenseListForSuperAdmin  : ==>  Preparing: SELECT COUNT(*) FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id
2026-01-08T12:57:36.882+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.m.E.countExpenseListForSuperAdmin  : ==> Parameters: 
2026-01-08T12:57:36.892+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.m.E.countExpenseListForSuperAdmin  : <==      Total: 1
2026-01-08T12:57:36.893+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2943190e]
2026-01-08T12:57:36.894+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:57:36.898+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28267bb2] was not registered for synchronization because synchronization is not active
2026-01-08T12:57:36.900+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2073908245 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a6c16ae] will not be managed by Spring
2026-01-08T12:57:36.908+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListForSuperAdmin : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, c.company_name AS companyName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id LEFT JOIN company_tb c ON r.company_id = c.company_id ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:57:36.911+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListForSuperAdmin : ==> Parameters: 20(Integer), 0(Integer)
2026-01-08T12:57:36.922+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListForSuperAdmin : <==      Total: 20
2026-01-08T12:57:36.925+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28267bb2]
2026-01-08T12:57:36.927+09:00  INFO 5336 --- [http-nio-8080-exec-6] c.i.b.controller.SuperAdminController    : 회사별 지출결의서 목록 조회 완료 - totalElements: 29
2026-01-08T12:57:36.928+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:57:36.934+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=지출결의서 목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expen (truncated)...]
2026-01-08T12:57:36.936+09:00 DEBUG 5336 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:57:37.341+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/reports/user-signups?from=2025-12-09&to=2026-01-08
2026-01-08T12:57:37.341+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/reports/revenue?from=2025-12-09&to=2026-01-08
2026-01-08T12:57:37.351+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/superadmin/reports/revenue
2026-01-08T12:57:37.352+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/reports/revenue?from=2025-12-09&to=2026-01-08
2026-01-08T12:57:37.351+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/superadmin/reports/user-signups
2026-01-08T12:57:37.355+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/reports/revenue?from=2025-12-09&to=2026-01-08", parameters={masked}
2026-01-08T12:57:37.355+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/reports/user-signups?from=2025-12-09&to=2026-01-08
2026-01-08T12:57:37.356+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getRevenueTrend(LocalDate, LocalDate)
2026-01-08T12:57:37.356+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/reports/user-signups?from=2025-12-09&to=2026-01-08", parameters={masked}
2026-01-08T12:57:37.359+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getRevenueTrend(java.time.LocalDate,java.time.LocalDate); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:57:37.360+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getUserSignupTrend(LocalDate, LocalDate)
2026-01-08T12:57:37.361+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getRevenueTrend(java.time.LocalDate,java.time.LocalDate); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:57:37.361+09:00  INFO 5336 --- [http-nio-8080-exec-2] c.i.b.controller.SuperAdminController    : 매출 추이 조회 요청 - userId: 9, from: 2025-12-09, to: 2026-01-08
2026-01-08T12:57:37.361+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getUserSignupTrend(java.time.LocalDate,java.time.LocalDate); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:57:37.362+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:57:37.366+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getUserSignupTrend(java.time.LocalDate,java.time.LocalDate); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:57:37.366+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49a6788b] was not registered for synchronization because synchronization is not active
2026-01-08T12:57:37.367+09:00  INFO 5336 --- [http-nio-8080-exec-7] c.i.b.controller.SuperAdminController    : 사용자 가입 추이 조회 요청 - userId: 9, from: 2025-12-09, to: 2026-01-08
2026-01-08T12:57:37.367+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:57:37.368+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37694e75] was not registered for synchronization because synchronization is not active
2026-01-08T12:57:37.370+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@311389231 wrapping com.mysql.cj.jdbc.ConnectionImpl@1589b443] will not be managed by Spring
2026-01-08T12:57:37.371+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.mapper.PaymentMapper.findAll       : ==>  Preparing: SELECT p.* FROM payment_tb p ORDER BY p.payment_date DESC, p.created_at DESC
2026-01-08T12:57:37.371+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1693672872 wrapping com.mysql.cj.jdbc.ConnectionImpl@70ff8e67] will not be managed by Spring
2026-01-08T12:57:37.371+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.mapper.PaymentMapper.findAll       : ==> Parameters: 
2026-01-08T12:57:37.372+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.U.selectUserSignupTrend          : ==>  Preparing: SELECT DATE(created_at) AS date, COUNT(*) AS count FROM user_tb WHERE DATE(created_at) BETWEEN ? AND ? GROUP BY DATE(created_at) ORDER BY date ASC
2026-01-08T12:57:37.372+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.U.selectUserSignupTrend          : ==> Parameters: 2025-12-09(LocalDate), 2026-01-08(LocalDate)
2026-01-08T12:57:37.373+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:57:37.374+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] c.i.b.m.U.selectUserSignupTrend          : <==      Total: 3
2026-01-08T12:57:37.374+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 2(Long)
2026-01-08T12:57:37.375+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37694e75]
2026-01-08T12:57:37.375+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:57:37.375+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용자 가입 추이 조회 성공, data=[AdminReportService.UserSignupTrendDto(date= (truncated)...]
2026-01-08T12:57:37.376+09:00 DEBUG 5336 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:57:37.377+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:57:37.378+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:57:37.379+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 7(Long)
2026-01-08T12:57:37.383+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:57:37.383+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:57:37.386+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 1(Long)
2026-01-08T12:57:37.388+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : ======>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:57:37.389+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : ======> Parameters: 1(Long)
2026-01-08T12:57:37.390+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : <======      Total: 1
2026-01-08T12:57:37.390+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:57:37.391+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] c.i.b.mapper.PaymentMapper.findAll       : <==      Total: 4
2026-01-08T12:57:37.391+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49a6788b]
2026-01-08T12:57:37.392+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:57:37.392+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=매출 추이 조회 성공, data=[AdminReportService.RevenueTrendDto(date=2025-12 (truncated)...]
2026-01-08T12:57:37.393+09:00 DEBUG 5336 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T13:08:47.150+09:00  INFO 23788 --- [main] c.i.backend.BackendApplication           : Starting BackendApplication using Java 17.0.17 with PID 23788 (C:\InnerSignature\backend\target\classes started by owner in C:\InnerSignature\backend)
2026-01-08T13:08:47.186+09:00 DEBUG 23788 --- [main] c.i.backend.BackendApplication           : Running with Spring Boot v3.5.8, Spring v6.2.14
2026-01-08T13:08:47.236+09:00  INFO 23788 --- [main] c.i.backend.BackendApplication           : The following 1 profile is active: "dev"
2026-01-08T13:08:50.407+09:00 DEBUG 23788 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Searching for mappers annotated with @Mapper
2026-01-08T13:08:50.409+09:00 DEBUG 23788 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Using auto-configuration base package 'com.innersignature.backend'
2026-01-08T13:08:50.989+09:00 DEBUG 23788 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AccountCodeMappingMapper.class]
2026-01-08T13:08:50.993+09:00 DEBUG 23788 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AuditLogMapper.class]
2026-01-08T13:08:51.000+09:00 DEBUG 23788 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AuditRuleMapper.class]
2026-01-08T13:08:51.001+09:00 DEBUG 23788 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\BudgetMapper.class]
2026-01-08T13:08:51.014+09:00 DEBUG 23788 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CompanyCardMapper.class]
2026-01-08T13:08:51.033+09:00 DEBUG 23788 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CompanyMapper.class]
2026-01-08T13:08:51.039+09:00 DEBUG 23788 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CreditMapper.class]
2026-01-08T13:08:51.040+09:00 DEBUG 23788 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\ExpenseCategoryMapper.class]
2026-01-08T13:08:51.059+09:00 DEBUG 23788 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\ExpenseMapper.class]
2026-01-08T13:08:51.066+09:00 DEBUG 23788 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\MonthlyClosingMapper.class]
2026-01-08T13:08:51.067+09:00 DEBUG 23788 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PasswordResetTokenMapper.class]
2026-01-08T13:08:51.068+09:00 DEBUG 23788 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PaymentMapper.class]
2026-01-08T13:08:51.068+09:00 DEBUG 23788 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionMapper.class]
2026-01-08T13:08:51.069+09:00 DEBUG 23788 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionPlanMapper.class]
2026-01-08T13:08:51.070+09:00 DEBUG 23788 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserApproverMapper.class]
2026-01-08T13:08:51.072+09:00 DEBUG 23788 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserCardMapper.class]
2026-01-08T13:08:51.073+09:00 DEBUG 23788 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserMapper.class]
2026-01-08T13:08:51.073+09:00 DEBUG 23788 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserSignatureMapper.class]
2026-01-08T13:08:51.076+09:00 DEBUG 23788 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'accountCodeMappingMapper' and 'com.innersignature.backend.mapper.AccountCodeMappingMapper' mapperInterface
2026-01-08T13:08:51.083+09:00 DEBUG 23788 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'auditLogMapper' and 'com.innersignature.backend.mapper.AuditLogMapper' mapperInterface
2026-01-08T13:08:51.085+09:00 DEBUG 23788 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'auditRuleMapper' and 'com.innersignature.backend.mapper.AuditRuleMapper' mapperInterface
2026-01-08T13:08:51.088+09:00 DEBUG 23788 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'budgetMapper' and 'com.innersignature.backend.mapper.BudgetMapper' mapperInterface
2026-01-08T13:08:51.090+09:00 DEBUG 23788 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'companyCardMapper' and 'com.innersignature.backend.mapper.CompanyCardMapper' mapperInterface
2026-01-08T13:08:51.092+09:00 DEBUG 23788 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'companyMapper' and 'com.innersignature.backend.mapper.CompanyMapper' mapperInterface
2026-01-08T13:08:51.094+09:00 DEBUG 23788 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'creditMapper' and 'com.innersignature.backend.mapper.CreditMapper' mapperInterface
2026-01-08T13:08:51.098+09:00 DEBUG 23788 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'expenseCategoryMapper' and 'com.innersignature.backend.mapper.ExpenseCategoryMapper' mapperInterface
2026-01-08T13:08:51.100+09:00 DEBUG 23788 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'expenseMapper' and 'com.innersignature.backend.mapper.ExpenseMapper' mapperInterface
2026-01-08T13:08:51.102+09:00 DEBUG 23788 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'monthlyClosingMapper' and 'com.innersignature.backend.mapper.MonthlyClosingMapper' mapperInterface
2026-01-08T13:08:51.103+09:00 DEBUG 23788 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'passwordResetTokenMapper' and 'com.innersignature.backend.mapper.PasswordResetTokenMapper' mapperInterface
2026-01-08T13:08:51.104+09:00 DEBUG 23788 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'paymentMapper' and 'com.innersignature.backend.mapper.PaymentMapper' mapperInterface
2026-01-08T13:08:51.106+09:00 DEBUG 23788 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionMapper' and 'com.innersignature.backend.mapper.SubscriptionMapper' mapperInterface
2026-01-08T13:08:51.107+09:00 DEBUG 23788 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionPlanMapper' and 'com.innersignature.backend.mapper.SubscriptionPlanMapper' mapperInterface
2026-01-08T13:08:51.109+09:00 DEBUG 23788 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userApproverMapper' and 'com.innersignature.backend.mapper.UserApproverMapper' mapperInterface
2026-01-08T13:08:51.111+09:00 DEBUG 23788 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userCardMapper' and 'com.innersignature.backend.mapper.UserCardMapper' mapperInterface
2026-01-08T13:08:51.115+09:00 DEBUG 23788 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'com.innersignature.backend.mapper.UserMapper' mapperInterface
2026-01-08T13:08:51.117+09:00 DEBUG 23788 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userSignatureMapper' and 'com.innersignature.backend.mapper.UserSignatureMapper' mapperInterface
2026-01-08T13:08:52.317+09:00  INFO 23788 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2026-01-08T13:08:52.343+09:00  INFO 23788 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-08T13:08:52.355+09:00  INFO 23788 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.49]
2026-01-08T13:08:52.556+09:00  INFO 23788 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-08T13:08:52.570+09:00  INFO 23788 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 5239 ms
2026-01-08T13:08:52.735+09:00 DEBUG 23788 --- [main] c.i.b.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2026-01-08T13:08:52.774+09:00 DEBUG 23788 --- [main] c.i.backend.security.RateLimitFilter     : Filter 'rateLimitFilter' configured for use
2026-01-08T13:08:54.200+09:00 DEBUG 23788 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\AccountCodeMappingMapper.xml]'
2026-01-08T13:08:54.218+09:00 DEBUG 23788 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\AuditLogMapper.xml]'
2026-01-08T13:08:54.243+09:00 DEBUG 23788 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\AuditRuleMapper.xml]'
2026-01-08T13:08:54.267+09:00 DEBUG 23788 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\BudgetMapper.xml]'
2026-01-08T13:08:54.292+09:00 DEBUG 23788 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CompanyCardMapper.xml]'
2026-01-08T13:08:54.310+09:00 DEBUG 23788 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CompanyMapper.xml]'
2026-01-08T13:08:54.336+09:00 DEBUG 23788 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CreditMapper.xml]'
2026-01-08T13:08:54.392+09:00 DEBUG 23788 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\ExpenseCategoryMapper.xml]'
2026-01-08T13:08:54.489+09:00 DEBUG 23788 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\ExpenseMapper.xml]'
2026-01-08T13:08:54.519+09:00 DEBUG 23788 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\MonthlyClosingMapper.xml]'
2026-01-08T13:08:54.555+09:00 DEBUG 23788 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PasswordResetTokenMapper.xml]'
2026-01-08T13:08:54.601+09:00 DEBUG 23788 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PaymentMapper.xml]'
2026-01-08T13:08:54.648+09:00 DEBUG 23788 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionMapper.xml]'
2026-01-08T13:08:54.656+09:00 DEBUG 23788 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionPlanMapper.xml]'
2026-01-08T13:08:54.680+09:00 DEBUG 23788 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserApproverMapper.xml]'
2026-01-08T13:08:54.691+09:00 DEBUG 23788 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserCardMapper.xml]'
2026-01-08T13:08:54.746+09:00 DEBUG 23788 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserMappeer.xml]'
2026-01-08T13:08:54.775+09:00 DEBUG 23788 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserSignatureMapper.xml]'
2026-01-08T13:08:57.403+09:00 DEBUG 23788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 153 mappings in 'requestMappingHandlerMapping'
2026-01-08T13:08:57.821+09:00 DEBUG 23788 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /api/uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2026-01-08T13:08:58.007+09:00  WARN 23788 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 23ecd94d-4ce6-49d7-9282-3b324f40fd64

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-01-08T13:08:58.082+09:00  INFO 23788 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2026-01-08T13:08:58.806+09:00 DEBUG 23788 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, RateLimitFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-08T13:08:59.392+09:00 DEBUG 23788 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-08T13:08:59.821+09:00 DEBUG 23788 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-08T13:09:00.029+09:00 DEBUG 23788 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2026-01-08T13:09:01.363+09:00  INFO 23788 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2026-01-08T13:09:01.386+09:00  INFO 23788 --- [main] c.i.backend.BackendApplication           : Started BackendApplication in 15.416 seconds (process running for 16.064)
2026-01-08T13:09:29.097+09:00  INFO 23788 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-08T13:09:29.098+09:00  INFO 23788 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-08T13:09:29.098+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2026-01-08T13:09:29.098+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2026-01-08T13:09:29.099+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2026-01-08T13:09:29.100+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5432dca2
2026-01-08T13:09:29.100+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@64420e34
2026-01-08T13:09:29.101+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2026-01-08T13:09:29.102+09:00  INFO 23788 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2026-01-08T13:09:29.164+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2026-01-08T13:09:29.465+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: null, uri: /api/logout
2026-01-08T13:09:29.470+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2026-01-08T13:09:29.475+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2026-01-08T13:09:29.477+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2026-01-08T13:09:29.572+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiI5IiwidXNlcm5hbWUiOiJ (truncated)...]
2026-01-08T13:09:29.580+09:00  INFO 23788 --- [http-nio-8080-exec-2] SECURITY                                 : LOGOUT userId=9
2026-01-08T13:09:29.608+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T13:09:29.615+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2026-01-08T13:09:29.634+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T13:09:36.657+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2026-01-08T13:09:36.658+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-08T13:09:36.661+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2026-01-08T13:09:36.664+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2026-01-08T13:09:36.664+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2026-01-08T13:09:36.667+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_user1, password=1234)]
2026-01-08T13:09:36.668+09:00  INFO 23788 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 로그인 시도 - username: test_user1
2026-01-08T13:09:36.678+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:36.684+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78373341] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:36.696+09:00  INFO 23788 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-08T13:09:37.020+09:00  INFO 23788 --- [http-nio-8080-exec-1] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@350f0148
2026-01-08T13:09:37.023+09:00  INFO 23788 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-08T13:09:37.031+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1691178188 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:37.041+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2026-01-08T13:09:37.104+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user1(String)
2026-01-08T13:09:37.367+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2026-01-08T13:09:37.431+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78373341]
2026-01-08T13:09:37.589+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:37.590+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e32bd97] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:37.590+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1754474906 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:37.591+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T13:09:37.594+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 2(Long)
2026-01-08T13:09:37.598+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2026-01-08T13:09:37.598+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e32bd97]
2026-01-08T13:09:37.625+09:00  INFO 23788 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 로그인 성공 - userId: 2, role: USER, companyId: 1
2026-01-08T13:09:37.628+09:00  INFO 23788 --- [http-nio-8080-exec-1] SECURITY                                 : LOGIN_SUCCESS userId=2 username=test_user1 role=USER
2026-01-08T13:09:37.629+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T13:09:37.637+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=2, username=test_user1, password (truncated)...]
2026-01-08T13:09:37.651+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T13:09:39.281+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2026-01-08T13:09:39.289+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/companies
2026-01-08T13:09:39.291+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2026-01-08T13:09:39.294+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2026-01-08T13:09:39.296+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2026-01-08T13:09:39.299+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:39.300+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@99a5ba] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:39.303+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1023274078 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:39.305+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2026-01-08T13:09:39.307+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 2(Long)
2026-01-08T13:09:39.339+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&drafterName=test_user1
2026-01-08T13:09:39.365+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2026-01-08T13:09:39.347+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000&drafterName=test_user1
2026-01-08T13:09:39.362+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T13:09:39.363+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T13:09:39.367+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@99a5ba]
2026-01-08T13:09:39.374+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&drafterName=test_user1
2026-01-08T13:09:39.384+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T13:09:39.379+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T13:09:39.392+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T13:09:39.387+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T13:09:39.391+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses
2026-01-08T13:09:39.397+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2026-01-08T13:09:39.397+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T13:09:39.400+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T13:09:39.403+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T13:09:39.402+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&drafterName=test_user1
2026-01-08T13:09:39.406+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T13:09:39.402+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T13:09:39.404+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T13:09:39.407+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&drafterName=test_user1", parameters={masked}
2026-01-08T13:09:39.407+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:39.416+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1862a87e] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:39.417+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@379929858 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:39.409+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:39.412+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T13:09:39.419+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T13:09:39.419+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50a6ff9f] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:39.423+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 2(Long)
2026-01-08T13:09:39.423+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:39.425+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3553bee7] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:39.435+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@620473651 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b736c58] will not be managed by Spring
2026-01-08T13:09:39.436+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T13:09:39.438+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T13:09:39.438+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1862a87e]
2026-01-08T13:09:39.439+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@844856830 wrapping com.mysql.cj.jdbc.ConnectionImpl@78ca4c08] will not be managed by Spring
2026-01-08T13:09:39.439+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2026-01-08T13:09:39.439+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:39.440+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T13:09:39.441+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-08T13:09:39.441+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T13:09:39.445+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T13:09:39.472+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T13:09:39.488+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2026-01-08T13:09:39.489+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:39.518+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3553bee7]
2026-01-08T13:09:39.507+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T13:09:39.517+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50a6ff9f]
2026-01-08T13:09:39.518+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:39.534+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T13:09:39.536+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:39.541+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3044daa0] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:39.545+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@440695468 wrapping com.mysql.cj.jdbc.ConnectionImpl@78ca4c08] will not be managed by Spring
2026-01-08T13:09:39.541+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T13:09:39.542+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1022e730] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:39.548+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:39.572+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T13:09:39.583+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2086267948 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b736c58] will not be managed by Spring
2026-01-08T13:09:39.584+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-08T13:09:39.586+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:39.589+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:39.596+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ac34935] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:39.598+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-08T13:09:39.598+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@604283421 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:39.599+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T13:09:39.601+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:39.601+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 2(Long)
2026-01-08T13:09:39.602+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3044daa0]
2026-01-08T13:09:39.604+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:39.605+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:39.606+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ee69274] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:39.606+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1022e730]
2026-01-08T13:09:39.607+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T13:09:39.608+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T13:09:39.633+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2026-01-08T13:09:39.636+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ac34935]
2026-01-08T13:09:39.649+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T13:09:39.666+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T13:09:39.668+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1958123681 wrapping com.mysql.cj.jdbc.ConnectionImpl@78ca4c08] will not be managed by Spring
2026-01-08T13:09:39.672+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T13:09:39.672+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T13:09:39.675+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T13:09:39.675+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-08T13:09:39.706+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T13:09:39.718+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T13:09:39.733+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 12
2026-01-08T13:09:39.738+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T13:09:39.747+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ee69274]
2026-01-08T13:09:39.747+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T13:09:39.747+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:39.749+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b690968] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:39.750+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1984284339 wrapping com.mysql.cj.jdbc.ConnectionImpl@78ca4c08] will not be managed by Spring
2026-01-08T13:09:39.750+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:39.751+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-08T13:09:39.748+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T13:09:39.754+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:39.756+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@186b6033] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:39.756+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:39.764+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b690968]
2026-01-08T13:09:39.756+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@380407118 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:39.766+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:39.766+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T13:09:39.766+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40c2ecfe] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:39.768+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2026-01-08T13:09:39.770+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1501962222 wrapping com.mysql.cj.jdbc.ConnectionImpl@78ca4c08] will not be managed by Spring
2026-01-08T13:09:39.775+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T13:09:39.783+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 24(Long), 8(Long), 7(Long), 6(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T13:09:39.788+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2026-01-08T13:09:39.790+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@186b6033]
2026-01-08T13:09:39.791+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:39.791+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@157137bf] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:39.792+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@953223672 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:39.792+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:39.793+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-08T13:09:39.799+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:39.800+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@157137bf]
2026-01-08T13:09:39.801+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T13:09:39.802+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 12
2026-01-08T13:09:39.803+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2026-01-08T13:09:39.803+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40c2ecfe]
2026-01-08T13:09:39.803+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T13:09:39.804+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:39.804+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64f19cc3] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:39.805+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1463866142 wrapping com.mysql.cj.jdbc.ConnectionImpl@78ca4c08] will not be managed by Spring
2026-01-08T13:09:39.806+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T13:09:39.808+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-08T13:09:39.814+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T13:09:39.822+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 12
2026-01-08T13:09:39.823+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64f19cc3]
2026-01-08T13:09:39.824+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:39.824+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79e64317] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:39.825+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1335983935 wrapping com.mysql.cj.jdbc.ConnectionImpl@78ca4c08] will not be managed by Spring
2026-01-08T13:09:39.825+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:39.826+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T13:09:39.829+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-08T13:09:39.831+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T13:09:39.832+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T13:09:39.832+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T13:09:39.833+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:39.834+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11814c25] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:39.834+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2111981693 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:39.835+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T13:09:39.838+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2026-01-08T13:09:39.848+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2026-01-08T13:09:39.850+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11814c25]
2026-01-08T13:09:39.851+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:39.852+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66070545] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:39.851+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:39.853+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@426716168 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:39.854+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79e64317]
2026-01-08T13:09:39.854+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:39.855+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:39.855+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-08T13:09:39.856+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32a8bc3a] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:39.858+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@968529593 wrapping com.mysql.cj.jdbc.ConnectionImpl@78ca4c08] will not be managed by Spring
2026-01-08T13:09:39.858+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T13:09:39.864+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 24(Long), 8(Long), 7(Long), 6(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T13:09:39.881+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:39.884+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66070545]
2026-01-08T13:09:39.886+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 12
2026-01-08T13:09:39.886+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T13:09:39.887+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32a8bc3a]
2026-01-08T13:09:39.887+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2026-01-08T13:09:39.887+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:39.888+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d192173] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:39.888+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@262649284 wrapping com.mysql.cj.jdbc.ConnectionImpl@78ca4c08] will not be managed by Spring
2026-01-08T13:09:39.889+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T13:09:39.889+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:39.889+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-08T13:09:39.898+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T13:09:39.899+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:39.900+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d192173]
2026-01-08T13:09:39.902+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T13:09:39.904+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T13:09:39.905+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T13:09:39.906+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T13:09:39.908+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T13:09:39.921+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T13:09:39.923+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T13:09:39.924+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:39.932+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c41abbe] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:39.934+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1633123323 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:39.934+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T13:09:39.936+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2026-01-08T13:09:39.951+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&drafterName=test_user1
2026-01-08T13:09:39.956+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses
2026-01-08T13:09:39.960+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&drafterName=test_user1
2026-01-08T13:09:39.962+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&drafterName=test_user1", parameters={masked}
2026-01-08T13:09:39.964+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T13:09:39.965+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:39.966+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@444ca24c] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:39.966+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1991992685 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b736c58] will not be managed by Spring
2026-01-08T13:09:39.967+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:39.968+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-08T13:09:39.983+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2026-01-08T13:09:39.983+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c41abbe]
2026-01-08T13:09:39.984+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:39.984+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b3b4152] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:39.984+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@705038288 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:39.985+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:39.985+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-08T13:09:39.989+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:39.989+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@444ca24c]
2026-01-08T13:09:39.990+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:39.990+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e37fabe] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:39.991+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1598581238 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b736c58] will not be managed by Spring
2026-01-08T13:09:39.991+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:39.992+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-08T13:09:40.001+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:40.001+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b3b4152]
2026-01-08T13:09:40.002+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T13:09:40.003+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2026-01-08T13:09:40.005+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T13:09:40.017+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:40.018+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e37fabe]
2026-01-08T13:09:40.018+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:40.018+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e61f664] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:40.019+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1061290268 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b736c58] will not be managed by Spring
2026-01-08T13:09:40.019+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T13:09:40.021+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-08T13:09:40.031+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 12
2026-01-08T13:09:40.032+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e61f664]
2026-01-08T13:09:40.033+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:40.033+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e8ad5c8] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:40.034+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@262786731 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b736c58] will not be managed by Spring
2026-01-08T13:09:40.035+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:40.035+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-08T13:09:40.039+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:40.040+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e8ad5c8]
2026-01-08T13:09:40.041+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:40.042+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4dbeff61] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:40.045+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1697798027 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b736c58] will not be managed by Spring
2026-01-08T13:09:40.046+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T13:09:40.048+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 24(Long), 8(Long), 7(Long), 6(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T13:09:40.057+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 12
2026-01-08T13:09:40.057+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4dbeff61]
2026-01-08T13:09:40.058+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:40.059+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f0cd000] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:40.060+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@41169938 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b736c58] will not be managed by Spring
2026-01-08T13:09:40.062+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T13:09:40.064+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-08T13:09:40.070+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 12
2026-01-08T13:09:40.071+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f0cd000]
2026-01-08T13:09:40.071+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:40.072+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33bc8388] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:40.072+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2063190319 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b736c58] will not be managed by Spring
2026-01-08T13:09:40.073+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:40.073+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-08T13:09:40.076+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:40.079+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33bc8388]
2026-01-08T13:09:40.082+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:40.083+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e80c171] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:40.085+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@837223604 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b736c58] will not be managed by Spring
2026-01-08T13:09:40.087+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T13:09:40.088+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 24(Long), 8(Long), 7(Long), 6(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T13:09:40.095+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 12
2026-01-08T13:09:40.097+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e80c171]
2026-01-08T13:09:40.098+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:40.099+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d982c85] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:40.100+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1570862869 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b736c58] will not be managed by Spring
2026-01-08T13:09:40.100+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:40.100+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-08T13:09:40.104+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:40.107+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d982c85]
2026-01-08T13:09:40.108+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T13:09:40.113+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T13:09:40.134+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T13:09:40.165+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000&drafterName=test_user1
2026-01-08T13:09:40.182+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses
2026-01-08T13:09:40.190+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000&drafterName=test_user1
2026-01-08T13:09:40.199+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000&drafterName=test_user1", parameters={masked}
2026-01-08T13:09:40.200+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T13:09:40.207+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:40.216+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1663d709] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:40.220+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1503211918 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:40.225+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:40.227+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-08T13:09:40.239+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:40.248+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1663d709]
2026-01-08T13:09:40.249+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:40.250+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@209fe983] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:40.251+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@253566701 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:40.251+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:40.254+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-08T13:09:40.262+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:40.264+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@209fe983]
2026-01-08T13:09:40.266+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:40.266+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@271203c] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:40.267+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1568477696 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:40.269+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T13:09:40.272+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-08T13:09:40.291+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 12
2026-01-08T13:09:40.293+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@271203c]
2026-01-08T13:09:40.297+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:40.301+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2826d9fb] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:40.304+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@593325059 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:40.305+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:40.306+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-08T13:09:40.321+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:40.323+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2826d9fb]
2026-01-08T13:09:40.324+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:40.331+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@286279ab] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:40.338+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@915772509 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:40.339+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T13:09:40.350+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 24(Long), 8(Long), 7(Long), 6(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T13:09:40.356+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 12
2026-01-08T13:09:40.358+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@286279ab]
2026-01-08T13:09:40.362+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:40.365+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44643d09] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:40.366+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2146482959 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:40.366+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T13:09:40.369+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-08T13:09:40.374+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 12
2026-01-08T13:09:40.376+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44643d09]
2026-01-08T13:09:40.380+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:40.384+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2215995] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:40.385+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@143168894 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:40.386+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:40.387+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-08T13:09:40.388+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:40.389+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2215995]
2026-01-08T13:09:40.390+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:40.391+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@229db15e] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:40.393+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@720943465 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:40.397+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T13:09:40.400+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 24(Long), 8(Long), 7(Long), 6(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T13:09:40.408+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 12
2026-01-08T13:09:40.412+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@229db15e]
2026-01-08T13:09:40.414+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:40.417+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8979456] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:40.419+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1359528443 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:40.420+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:40.421+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-08T13:09:40.427+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:40.431+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8979456]
2026-01-08T13:09:40.433+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T13:09:40.446+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T13:09:40.449+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T13:09:44.501+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2026-01-08T13:09:44.516+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/logout
2026-01-08T13:09:44.518+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2026-01-08T13:09:44.518+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2026-01-08T13:09:44.519+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2026-01-08T13:09:44.521+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIyIiwidXNlcm5hbWUiOiJ (truncated)...]
2026-01-08T13:09:44.524+09:00  INFO 23788 --- [http-nio-8080-exec-3] SECURITY                                 : LOGOUT userId=2
2026-01-08T13:09:44.528+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T13:09:44.531+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2026-01-08T13:09:44.534+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T13:09:46.935+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2026-01-08T13:09:46.936+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-08T13:09:46.937+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2026-01-08T13:09:46.937+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2026-01-08T13:09:46.938+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2026-01-08T13:09:46.941+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_user3, password=1234)]
2026-01-08T13:09:46.945+09:00  INFO 23788 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 로그인 시도 - username: test_user3
2026-01-08T13:09:46.945+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:46.946+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57984f39] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:46.950+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1720057853 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:46.951+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2026-01-08T13:09:46.952+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user3(String)
2026-01-08T13:09:46.959+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2026-01-08T13:09:46.962+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57984f39]
2026-01-08T13:09:47.060+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:47.062+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37b7b076] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:47.062+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1277110576 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:47.063+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T13:09:47.064+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 4(Long)
2026-01-08T13:09:47.066+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2026-01-08T13:09:47.066+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37b7b076]
2026-01-08T13:09:47.068+09:00  INFO 23788 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 로그인 성공 - userId: 4, role: ACCOUNTANT, companyId: 1
2026-01-08T13:09:47.069+09:00  INFO 23788 --- [http-nio-8080-exec-6] SECURITY                                 : LOGIN_SUCCESS userId=4 username=test_user3 role=ACCOUNTANT
2026-01-08T13:09:47.069+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T13:09:47.070+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=4, username=test_user3, password (truncated)...]
2026-01-08T13:09:47.071+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T13:09:47.350+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2026-01-08T13:09:47.353+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/companies
2026-01-08T13:09:47.355+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2026-01-08T13:09:47.370+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2026-01-08T13:09:47.372+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2026-01-08T13:09:47.376+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:47.379+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@131bf598] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:47.382+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1014482654 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b736c58] will not be managed by Spring
2026-01-08T13:09:47.383+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2026-01-08T13:09:47.389+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 4(Long)
2026-01-08T13:09:47.406+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T13:09:47.406+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-08T13:09:47.406+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T13:09:47.414+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-08T13:09:47.422+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-08T13:09:47.423+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-08T13:09:47.418+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T13:09:47.421+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T13:09:47.424+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T13:09:47.431+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:47.432+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61b6989c] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:47.433+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@31061966 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:47.435+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:47.425+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T13:09:47.429+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T13:09:47.437+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:47.437+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T13:09:47.438+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T13:09:47.440+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 1
2026-01-08T13:09:47.448+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@131bf598]
2026-01-08T13:09:47.445+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T13:09:47.446+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:47.448+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T13:09:47.449+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T13:09:47.452+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2026-01-08T13:09:47.450+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:47.450+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61b6989c]
2026-01-08T13:09:47.451+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:47.454+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6539a826] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:47.454+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T13:09:47.455+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:47.455+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ab85e23] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:47.455+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1426313045 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:47.456+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20e93315] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:47.458+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@921192452 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b736c58] will not be managed by Spring
2026-01-08T13:09:47.467+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T13:09:47.459+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T13:09:47.470+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-08T13:09:47.473+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-08T13:09:47.474+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1005044492 wrapping com.mysql.cj.jdbc.ConnectionImpl@78ca4c08] will not be managed by Spring
2026-01-08T13:09:47.475+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:47.480+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:47.483+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T13:09:47.484+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 6
2026-01-08T13:09:47.486+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ab85e23]
2026-01-08T13:09:47.487+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6539a826]
2026-01-08T13:09:47.488+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:47.488+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:47.489+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20e93315]
2026-01-08T13:09:47.488+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T13:09:47.489+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dc6b26f] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:47.489+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T13:09:47.490+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@85350249 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:47.489+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:47.490+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:47.490+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a084095] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:47.491+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:47.491+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T13:09:47.491+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1580017525 wrapping com.mysql.cj.jdbc.ConnectionImpl@78ca4c08] will not be managed by Spring
2026-01-08T13:09:47.498+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T13:09:47.501+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T13:09:47.502+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T13:09:47.506+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:47.507+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dc6b26f]
2026-01-08T13:09:47.509+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T13:09:47.512+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2026-01-08T13:09:47.511+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T13:09:47.515+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T13:09:47.515+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T13:09:47.518+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T13:09:47.520+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T13:09:47.520+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T13:09:47.520+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a084095]
2026-01-08T13:09:47.521+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T13:09:47.521+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:47.522+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:47.522+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d12ece8] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:47.522+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@652a4905] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:47.522+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1963332919 wrapping com.mysql.cj.jdbc.ConnectionImpl@78ca4c08] will not be managed by Spring
2026-01-08T13:09:47.523+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2076051330 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:47.523+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T13:09:47.523+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:47.524+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T13:09:47.524+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T13:09:47.524+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:47.525+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-08T13:09:47.525+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T13:09:47.530+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T13:09:47.530+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T13:09:47.530+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:47.531+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:47.531+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@652a4905]
2026-01-08T13:09:47.531+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d12ece8]
2026-01-08T13:09:47.532+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46b1373] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:47.532+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T13:09:47.532+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:47.533+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1435231101 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:47.533+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T13:09:47.533+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2290d5be] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:47.534+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T13:09:47.535+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T13:09:47.537+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1486821544 wrapping com.mysql.cj.jdbc.ConnectionImpl@78ca4c08] will not be managed by Spring
2026-01-08T13:09:47.538+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-08T13:09:47.538+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T13:09:47.541+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T13:09:47.548+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 6
2026-01-08T13:09:47.549+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T13:09:47.550+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2290d5be]
2026-01-08T13:09:47.549+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46b1373]
2026-01-08T13:09:47.554+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:47.554+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:47.554+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63bf4c08] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:47.555+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ee22ccf] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:47.556+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1202079972 wrapping com.mysql.cj.jdbc.ConnectionImpl@78ca4c08] will not be managed by Spring
2026-01-08T13:09:47.556+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1120818411 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:47.556+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T13:09:47.556+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:47.557+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:47.557+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T13:09:47.568+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:47.570+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T13:09:47.572+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ee22ccf]
2026-01-08T13:09:47.573+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63bf4c08]
2026-01-08T13:09:47.573+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T13:09:47.574+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:47.575+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2026-01-08T13:09:47.575+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e47e283] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:47.576+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@990506233 wrapping com.mysql.cj.jdbc.ConnectionImpl@78ca4c08] will not be managed by Spring
2026-01-08T13:09:47.576+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T13:09:47.580+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:47.583+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T13:09:47.583+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:47.586+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T13:09:47.588+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T13:09:47.590+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T13:09:47.590+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:47.591+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T13:09:47.591+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e47e283]
2026-01-08T13:09:47.591+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:47.592+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:47.594+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b9441cc] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:47.641+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@142a9630] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:47.684+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@661962303 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b736c58] will not be managed by Spring
2026-01-08T13:09:47.698+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@368586188 wrapping com.mysql.cj.jdbc.ConnectionImpl@78ca4c08] will not be managed by Spring
2026-01-08T13:09:47.699+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T13:09:47.699+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T13:09:47.701+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-08T13:09:47.701+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T13:09:47.708+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 6
2026-01-08T13:09:47.708+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T13:09:47.712+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b9441cc]
2026-01-08T13:09:47.712+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@142a9630]
2026-01-08T13:09:47.713+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:47.713+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:47.713+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7500df1f] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:47.714+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71ecb3de] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:47.714+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1812163154 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b736c58] will not be managed by Spring
2026-01-08T13:09:47.714+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@834089157 wrapping com.mysql.cj.jdbc.ConnectionImpl@78ca4c08] will not be managed by Spring
2026-01-08T13:09:47.714+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:47.715+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:47.725+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:47.736+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:47.745+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:47.745+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:47.747+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71ecb3de]
2026-01-08T13:09:47.748+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7500df1f]
2026-01-08T13:09:47.748+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T13:09:47.749+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T13:09:47.750+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T13:09:47.750+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2026-01-08T13:09:47.752+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T13:09:47.752+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T13:09:47.757+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T13:09:47.758+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-08T13:09:47.773+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T13:09:47.780+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-08T13:09:47.781+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-08T13:09:47.780+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T13:09:47.782+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-08T13:09:47.782+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T13:09:47.784+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T13:09:47.784+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T13:09:47.786+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:47.797+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ebba42d] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:47.799+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1701011947 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:47.800+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:47.794+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:47.803+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:47.804+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f543540] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:47.806+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@201627923 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b736c58] will not be managed by Spring
2026-01-08T13:09:47.807+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T13:09:47.822+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-08T13:09:47.823+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:47.833+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ebba42d]
2026-01-08T13:09:47.835+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:47.836+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b38c63b] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:47.837+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 6
2026-01-08T13:09:47.837+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2014415293 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:47.837+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f543540]
2026-01-08T13:09:47.838+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:47.838+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:47.838+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@306e0b09] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:47.838+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:47.839+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1850660465 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b736c58] will not be managed by Spring
2026-01-08T13:09:47.839+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:47.839+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:47.840+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:47.841+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b38c63b]
2026-01-08T13:09:47.842+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:47.847+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:47.848+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@306e0b09]
2026-01-08T13:09:47.848+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11a10b2a] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:47.849+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T13:09:47.849+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@480579131 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:47.850+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2026-01-08T13:09:47.850+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T13:09:47.851+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T13:09:47.853+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T13:09:47.863+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T13:09:47.865+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11a10b2a]
2026-01-08T13:09:47.865+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:47.866+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d8c3c14] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:47.866+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1552126318 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:47.868+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:47.870+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:47.875+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:47.891+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d8c3c14]
2026-01-08T13:09:47.898+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:47.899+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@489db53f] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:47.902+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1951222948 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:47.914+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T13:09:47.915+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T13:09:47.924+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T13:09:47.926+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@489db53f]
2026-01-08T13:09:47.931+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:47.932+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4afbc1ba] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:47.933+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1869263255 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:47.935+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T13:09:47.936+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T13:09:47.946+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T13:09:47.952+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4afbc1ba]
2026-01-08T13:09:47.953+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:47.954+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@689d1580] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:47.955+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2097151800 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:47.957+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:47.959+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:47.986+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:47.987+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@689d1580]
2026-01-08T13:09:47.987+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:47.988+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50ace627] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:47.989+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1344133287 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:47.990+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T13:09:47.991+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T13:09:48.006+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T13:09:48.007+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50ace627]
2026-01-08T13:09:48.007+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:48.008+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d9cfc3e] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:48.009+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@985054836 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:48.034+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:48.036+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:48.084+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:48.098+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d9cfc3e]
2026-01-08T13:09:48.099+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T13:09:48.106+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T13:09:48.108+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T13:09:48.134+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-08T13:09:48.158+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-08T13:09:48.168+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-08T13:09:48.169+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-08T13:09:48.171+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T13:09:48.183+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:48.196+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39c7582e] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:48.199+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@871983968 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:48.200+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:48.230+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:48.243+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:48.249+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39c7582e]
2026-01-08T13:09:48.252+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:48.253+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61bb4199] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:48.254+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1656644520 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:48.258+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:48.263+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:48.274+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:48.275+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61bb4199]
2026-01-08T13:09:48.279+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:48.280+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4838198c] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:48.282+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1932799643 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:48.287+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T13:09:48.291+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T13:09:48.306+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T13:09:48.309+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4838198c]
2026-01-08T13:09:48.314+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:48.314+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d6a69c4] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:48.317+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1427570588 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:48.319+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:48.321+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:48.331+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:48.333+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d6a69c4]
2026-01-08T13:09:48.334+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:48.335+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50d6c6c5] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:48.336+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1585226066 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:48.337+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T13:09:48.338+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T13:09:48.347+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T13:09:48.348+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50d6c6c5]
2026-01-08T13:09:48.349+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:48.350+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@194f8d18] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:48.351+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2135523354 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:48.352+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T13:09:48.355+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T13:09:48.365+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T13:09:48.390+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@194f8d18]
2026-01-08T13:09:48.391+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:48.408+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a9673b1] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:48.414+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1070863030 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:48.424+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:48.436+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:48.455+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:48.459+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a9673b1]
2026-01-08T13:09:48.463+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:48.469+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e0c854b] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:48.470+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@133068992 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:48.480+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T13:09:48.482+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T13:09:48.486+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T13:09:48.488+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e0c854b]
2026-01-08T13:09:48.488+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:48.489+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6482fa15] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:48.489+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1856904467 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:48.489+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:48.489+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:48.491+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:48.492+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6482fa15]
2026-01-08T13:09:48.494+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T13:09:48.497+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T13:09:48.500+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T13:09:49.448+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T13:09:49.448+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T13:09:49.450+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/merged
2026-01-08T13:09:49.451+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T13:09:49.454+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expense-categories/merged
2026-01-08T13:09:49.454+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T13:09:49.457+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T13:09:49.458+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/merged
2026-01-08T13:09:49.462+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T13:09:49.459+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T13:09:49.462+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/merged", parameters={}
2026-01-08T13:09:49.463+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T13:09:49.463+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T13:09:49.463+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getMergedCategories()
2026-01-08T13:09:49.464+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:49.465+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6de2bf3d] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:49.464+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T13:09:49.468+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T13:09:49.470+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:49.471+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10293b35] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:49.473+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1021004245 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b736c58] will not be managed by Spring
2026-01-08T13:09:49.482+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T13:09:49.489+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T13:09:49.489+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-08T13:09:49.489+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1375104273 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:49.490+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:49.490+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T13:09:49.491+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d1c8464] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:49.492+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-08T13:09:49.498+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 6
2026-01-08T13:09:49.499+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6de2bf3d]
2026-01-08T13:09:49.499+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@602809727 wrapping com.mysql.cj.jdbc.ConnectionImpl@78ca4c08] will not be managed by Spring
2026-01-08T13:09:49.499+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T13:09:49.500+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:49.502+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] c.i.b.m.E.findMergedCategories           : ==>  Preparing: ( -- 전역 카테고리 (회사별 오버라이드가 있으면 회사별 값 사용) SELECT COALESCE(ec_company.category_id, ec_global.category_id) AS category_id, COALESCE(ec_company.company_id, ec_global.company_id) AS company_id, COALESCE(ec_company.category_name, ec_global.category_name) AS category_name, COALESCE(ec_company.display_order, ec_global.display_order) AS display_order, COALESCE(ec_company.is_active, ec_global.is_active) AS is_active, COALESCE(ec_company.created_by, ec_global.created_by) AS created_by, COALESCE(ec_company.created_at, ec_global.created_at) AS created_at, COALESCE(ec_company.updated_at, ec_global.updated_at) AS updated_at, CASE WHEN ec_company.category_id IS NOT NULL THEN 0 ELSE 1 END AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_global LEFT JOIN expense_category_tb ec_company ON ec_global.category_name = ec_company.category_name AND ec_company.company_id = ? LEFT JOIN user_tb u ON COALESCE(ec_company.created_by, ec_global.created_by) = u.user_id WHERE ec_global.company_id IS NULL AND (ec_global.is_active IS NULL OR ec_global.is_active = 1) AND (ec_company.category_id IS NULL OR ec_company.is_active IS NULL OR ec_company.is_active = 1) ) UNION ( -- 회사별 카테고리 (전역에 없는 새로운 카테고리만) SELECT ec_company.category_id, ec_company.company_id, ec_company.category_name, ec_company.display_order, ec_company.is_active, ec_company.created_by, ec_company.created_at, ec_company.updated_at, 0 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_company LEFT JOIN expense_category_tb ec_global ON ec_company.category_name = ec_global.category_name AND ec_global.company_id IS NULL LEFT JOIN user_tb u ON ec_company.created_by = u.user_id WHERE ec_company.company_id = ? AND (ec_company.is_active IS NULL OR ec_company.is_active = 1) AND ec_global.category_id IS NULL -- 전역에 없는 회사별 카테고리만 ) ORDER BY display_order ASC, category_name ASC
2026-01-08T13:09:49.502+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10293b35]
2026-01-08T13:09:49.505+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T13:09:49.502+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c04ed3a] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:49.512+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1395418781 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b736c58] will not be managed by Spring
2026-01-08T13:09:49.513+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:49.507+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] c.i.b.m.E.findMergedCategories           : ==> Parameters: 1(Long), 1(Long)
2026-01-08T13:09:49.509+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T13:09:49.515+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:49.517+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T13:09:49.531+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:49.534+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] c.i.b.m.E.findMergedCategories           : <==      Total: 12
2026-01-08T13:09:49.535+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c04ed3a]
2026-01-08T13:09:49.535+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d1c8464]
2026-01-08T13:09:49.536+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T13:09:49.537+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T13:09:49.537+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2026-01-08T13:09:49.537+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-08T13:09:49.538+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T13:09:49.543+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T13:09:49.555+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/merged
2026-01-08T13:09:49.572+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expense-categories/merged
2026-01-08T13:09:49.578+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/merged
2026-01-08T13:09:49.579+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/merged", parameters={}
2026-01-08T13:09:49.580+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getMergedCategories()
2026-01-08T13:09:49.586+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T13:09:49.645+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T13:09:49.654+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:49.672+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2297fdf2] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:49.700+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@356707012 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:49.703+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] c.i.b.m.E.findMergedCategories           : ==>  Preparing: ( -- 전역 카테고리 (회사별 오버라이드가 있으면 회사별 값 사용) SELECT COALESCE(ec_company.category_id, ec_global.category_id) AS category_id, COALESCE(ec_company.company_id, ec_global.company_id) AS company_id, COALESCE(ec_company.category_name, ec_global.category_name) AS category_name, COALESCE(ec_company.display_order, ec_global.display_order) AS display_order, COALESCE(ec_company.is_active, ec_global.is_active) AS is_active, COALESCE(ec_company.created_by, ec_global.created_by) AS created_by, COALESCE(ec_company.created_at, ec_global.created_at) AS created_at, COALESCE(ec_company.updated_at, ec_global.updated_at) AS updated_at, CASE WHEN ec_company.category_id IS NOT NULL THEN 0 ELSE 1 END AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_global LEFT JOIN expense_category_tb ec_company ON ec_global.category_name = ec_company.category_name AND ec_company.company_id = ? LEFT JOIN user_tb u ON COALESCE(ec_company.created_by, ec_global.created_by) = u.user_id WHERE ec_global.company_id IS NULL AND (ec_global.is_active IS NULL OR ec_global.is_active = 1) AND (ec_company.category_id IS NULL OR ec_company.is_active IS NULL OR ec_company.is_active = 1) ) UNION ( -- 회사별 카테고리 (전역에 없는 새로운 카테고리만) SELECT ec_company.category_id, ec_company.company_id, ec_company.category_name, ec_company.display_order, ec_company.is_active, ec_company.created_by, ec_company.created_at, ec_company.updated_at, 0 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_company LEFT JOIN expense_category_tb ec_global ON ec_company.category_name = ec_global.category_name AND ec_global.company_id IS NULL LEFT JOIN user_tb u ON ec_company.created_by = u.user_id WHERE ec_company.company_id = ? AND (ec_company.is_active IS NULL OR ec_company.is_active = 1) AND ec_global.category_id IS NULL -- 전역에 없는 회사별 카테고리만 ) ORDER BY display_order ASC, category_name ASC
2026-01-08T13:09:49.705+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] c.i.b.m.E.findMergedCategories           : ==> Parameters: 1(Long), 1(Long)
2026-01-08T13:09:49.712+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] c.i.b.m.E.findMergedCategories           : <==      Total: 12
2026-01-08T13:09:49.717+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2297fdf2]
2026-01-08T13:09:49.718+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T13:09:49.719+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-08T13:09:49.721+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T13:09:50.855+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T13:09:50.857+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-08T13:09:50.857+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T13:09:50.862+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-08T13:09:50.862+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T13:09:50.864+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T13:09:50.863+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-08T13:09:50.863+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T13:09:50.865+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T13:09:50.866+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-08T13:09:50.867+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T13:09:50.868+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T13:09:50.868+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T13:09:50.868+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T13:09:50.869+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:50.870+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T13:09:50.871+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:50.871+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d4c5ddb] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:50.871+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@447546d4] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:50.871+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:50.872+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1748ab77] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:50.875+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1914628438 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:50.875+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@186102203 wrapping com.mysql.cj.jdbc.ConnectionImpl@78ca4c08] will not be managed by Spring
2026-01-08T13:09:50.878+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T13:09:50.879+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T13:09:50.881+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-08T13:09:50.882+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-08T13:09:50.882+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1079524405 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b736c58] will not be managed by Spring
2026-01-08T13:09:50.882+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:50.882+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:50.885+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T13:09:50.885+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1748ab77]
2026-01-08T13:09:50.886+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T13:09:50.887+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T13:09:50.887+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T13:09:50.899+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:50.899+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@447546d4]
2026-01-08T13:09:50.900+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 6
2026-01-08T13:09:50.901+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:50.902+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d4c5ddb]
2026-01-08T13:09:50.902+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@651fdd3d] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:50.902+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:50.903+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3397deeb] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:50.903+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@648619389 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b736c58] will not be managed by Spring
2026-01-08T13:09:50.903+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1292465324 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:50.903+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:50.903+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:50.904+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:50.904+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:50.910+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:50.910+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:50.912+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@651fdd3d]
2026-01-08T13:09:50.913+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3397deeb]
2026-01-08T13:09:50.915+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:50.915+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T13:09:50.916+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ff05033] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:50.916+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2026-01-08T13:09:50.917+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@614302917 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b736c58] will not be managed by Spring
2026-01-08T13:09:50.918+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T13:09:50.918+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T13:09:50.920+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T13:09:50.931+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T13:09:50.934+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T13:09:50.935+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T13:09:50.936+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T13:09:50.936+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T13:09:50.938+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:50.938+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f2a3c6b] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:50.938+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1339836612 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:50.939+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T13:09:50.940+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-08T13:09:50.944+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T13:09:50.945+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ff05033]
2026-01-08T13:09:50.947+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:50.947+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@642e73c5] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:50.949+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1499649723 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b736c58] will not be managed by Spring
2026-01-08T13:09:50.949+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:50.950+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:50.954+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:50.954+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 6
2026-01-08T13:09:50.954+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@642e73c5]
2026-01-08T13:09:50.955+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f2a3c6b]
2026-01-08T13:09:50.955+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:50.955+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:50.955+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cd3a8c5] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:50.956+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4130b11b] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:50.957+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1274300609 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b736c58] will not be managed by Spring
2026-01-08T13:09:50.957+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@531039282 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:50.958+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T13:09:50.958+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:50.959+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:50.959+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T13:09:50.968+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:50.968+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T13:09:50.968+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4130b11b]
2026-01-08T13:09:50.969+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cd3a8c5]
2026-01-08T13:09:50.970+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T13:09:50.970+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:50.970+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2026-01-08T13:09:50.970+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bb56443] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:50.971+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1524720240 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b736c58] will not be managed by Spring
2026-01-08T13:09:50.971+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T13:09:50.972+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T13:09:50.974+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T13:09:50.975+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T13:09:50.979+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T13:09:50.980+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bb56443]
2026-01-08T13:09:50.982+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T13:09:50.982+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:50.982+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53f6e918] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:50.982+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T13:09:50.982+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1666254937 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b736c58] will not be managed by Spring
2026-01-08T13:09:50.983+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T13:09:50.983+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:50.983+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T13:09:50.983+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:50.983+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:50.984+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@100127af] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:50.984+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2056668317 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:50.985+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T13:09:50.985+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:50.986+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-08T13:09:50.986+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53f6e918]
2026-01-08T13:09:50.986+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:50.986+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55f206a1] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:50.988+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@833129262 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b736c58] will not be managed by Spring
2026-01-08T13:09:50.989+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T13:09:50.990+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T13:09:50.993+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 6
2026-01-08T13:09:50.997+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@100127af]
2026-01-08T13:09:50.998+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:50.998+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7507fcc2] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:50.998+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1822589330 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:50.999+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:51.000+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:51.002+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T13:09:51.002+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:51.002+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55f206a1]
2026-01-08T13:09:51.002+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7507fcc2]
2026-01-08T13:09:51.003+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:51.004+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T13:09:51.004+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78a50e75] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:51.005+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2026-01-08T13:09:51.006+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1026017486 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b736c58] will not be managed by Spring
2026-01-08T13:09:51.007+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:51.007+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T13:09:51.007+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:51.016+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:51.017+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78a50e75]
2026-01-08T13:09:51.018+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T13:09:51.018+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T13:09:51.020+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T13:09:51.024+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-08T13:09:51.033+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-08T13:09:51.035+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-08T13:09:51.036+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-08T13:09:51.037+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T13:09:51.040+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:51.040+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bfe247f] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:51.041+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1669818590 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:51.041+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:51.044+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:51.049+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:51.050+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bfe247f]
2026-01-08T13:09:51.050+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:51.050+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1859f2df] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:51.051+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@43966583 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:51.051+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:51.051+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:51.054+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:51.054+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1859f2df]
2026-01-08T13:09:51.054+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:51.054+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38300b93] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:51.055+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1873336640 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:51.056+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T13:09:51.058+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T13:09:51.065+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T13:09:51.066+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38300b93]
2026-01-08T13:09:51.066+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:51.068+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7debe709] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:51.068+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1170151348 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:51.068+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:51.069+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:51.071+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:51.072+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7debe709]
2026-01-08T13:09:51.072+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:51.073+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76a2245f] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:51.074+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1414747693 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:51.075+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T13:09:51.076+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T13:09:51.084+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T13:09:51.085+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76a2245f]
2026-01-08T13:09:51.085+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:51.085+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20f5d077] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:51.086+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1192401130 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:51.086+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T13:09:51.088+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T13:09:51.092+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T13:09:51.098+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20f5d077]
2026-01-08T13:09:51.098+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:51.099+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7113551] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:51.099+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@157891500 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:51.099+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:51.099+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:51.102+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:51.103+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7113551]
2026-01-08T13:09:51.104+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:51.104+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21ca7661] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:51.105+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@796882100 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:51.105+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T13:09:51.106+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T13:09:51.109+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T13:09:51.111+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21ca7661]
2026-01-08T13:09:51.112+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:51.113+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cfafec1] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:51.113+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1056043073 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:51.114+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:51.114+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:51.116+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:51.117+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cfafec1]
2026-01-08T13:09:51.119+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T13:09:51.119+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T13:09:51.120+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T13:09:54.102+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-08T13:09:54.103+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-08T13:09:54.103+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T13:09:54.103+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T13:09:54.103+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-08T13:09:54.107+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T13:09:54.105+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/my-approvals
2026-01-08T13:09:54.108+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T13:09:54.108+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-08T13:09:54.111+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-08T13:09:54.112+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T13:09:54.114+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/my-approvals
2026-01-08T13:09:54.115+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T13:09:54.115+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-08T13:09:54.116+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T13:09:54.117+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/my-approvals
2026-01-08T13:09:54.117+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T13:09:54.118+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-08T13:09:54.118+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-08T13:09:54.119+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T13:09:54.120+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/my-approvals", parameters={}
2026-01-08T13:09:54.120+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T13:09:54.121+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-08T13:09:54.122+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T13:09:54.122+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:54.122+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMyApprovals()
2026-01-08T13:09:54.124+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:54.123+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:54.123+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10&status%5B%5D=APPROVED", parameters={masked}
2026-01-08T13:09:54.124+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8a19138] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:54.124+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:54.125+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1302db9a] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:54.128+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@603d6648] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:54.130+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T13:09:54.131+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@358e8f5] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:54.134+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@703307577 wrapping com.mysql.cj.jdbc.ConnectionImpl@78ca4c08] will not be managed by Spring
2026-01-08T13:09:54.135+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:54.137+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T13:09:54.137+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e5dec6c] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:54.139+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-08T13:09:54.146+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2046926437 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b736c58] will not be managed by Spring
2026-01-08T13:09:54.146+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1379387432 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:54.150+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T13:09:54.150+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:54.150+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-08T13:09:54.150+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:54.152+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1597173837 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c7264f1] will not be managed by Spring
2026-01-08T13:09:54.152+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@63737596 wrapping com.mysql.cj.jdbc.ConnectionImpl@89fb78d] will not be managed by Spring
2026-01-08T13:09:54.153+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 6
2026-01-08T13:09:54.154+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:54.154+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] .i.b.m.E.selectMyApprovedReportsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status IN ('APPROVED', 'REJECTED') AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T13:09:54.154+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8a19138]
2026-01-08T13:09:54.155+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:54.157+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T13:09:54.158+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:54.158+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] .i.b.m.E.selectMyApprovedReportsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-08T13:09:54.162+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:54.164+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1302db9a]
2026-01-08T13:09:54.164+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@603d6648]
2026-01-08T13:09:54.165+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@341fcadb] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:54.165+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:54.166+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T13:09:54.167+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@733728644 wrapping com.mysql.cj.jdbc.ConnectionImpl@78ca4c08] will not be managed by Spring
2026-01-08T13:09:54.167+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@86ea87c] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:54.168+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T13:09:54.171+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:54.171+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:54.172+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@905176679 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:54.173+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T13:09:54.173+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:54.179+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T13:09:54.181+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e5dec6c]
2026-01-08T13:09:54.181+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:54.183+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:54.184+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:54.184+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70c7cd60] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:54.185+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T13:09:54.185+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@528317029 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c7264f1] will not be managed by Spring
2026-01-08T13:09:54.185+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T13:09:54.186+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:54.187+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T13:09:54.188+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:54.189+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T13:09:54.190+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:54.190+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:54.191+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:54.191+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@86ea87c]
2026-01-08T13:09:54.191+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e94cd9] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:54.192+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@341fcadb]
2026-01-08T13:09:54.197+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:54.198+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1673543609 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:54.198+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f18f63b] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:54.199+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T13:09:54.199+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T13:09:54.199+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@46701804 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b736c58] will not be managed by Spring
2026-01-08T13:09:54.199+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2026-01-08T13:09:54.200+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T13:09:54.200+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-08T13:09:54.200+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:54.201+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T13:09:54.204+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T13:09:54.205+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70c7cd60]
2026-01-08T13:09:54.207+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:54.209+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T13:09:54.215+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63f69de5] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:54.220+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T13:09:54.222+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T13:09:54.223+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T13:09:54.234+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1631015493 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c7264f1] will not be managed by Spring
2026-01-08T13:09:54.239+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T13:09:54.236+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T13:09:54.237+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e94cd9]
2026-01-08T13:09:54.237+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f18f63b]
2026-01-08T13:09:54.239+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] .i.b.m.E.selectMyApprovedReportsByUserId : <==      Total: 16
2026-01-08T13:09:54.242+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T13:09:54.242+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-08T13:09:54.242+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T13:09:54.246+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:54.247+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@358e8f5]
2026-01-08T13:09:54.248+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T13:09:54.249+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T13:09:54.249+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39a9dbb7] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:54.249+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:54.249+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:54.250+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T13:09:54.253+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@28855191 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b736c58] will not be managed by Spring
2026-01-08T13:09:54.254+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61f31db7] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:54.254+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@105f2667] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:54.257+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:54.257+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T13:09:54.257+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@338030043 wrapping com.mysql.cj.jdbc.ConnectionImpl@89fb78d] will not be managed by Spring
2026-01-08T13:09:54.257+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1087984831 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:54.258+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:54.258+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:54.265+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T13:09:54.266+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:54.266+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T13:09:54.266+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T13:09:54.270+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-08T13:09:54.271+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-08T13:09:54.271+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T13:09:54.272+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63f69de5]
2026-01-08T13:09:54.273+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:54.273+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:54.274+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39a9dbb7]
2026-01-08T13:09:54.273+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:54.273+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T13:09:54.274+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2493d5dc] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:54.274+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:54.276+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61f31db7]
2026-01-08T13:09:54.276+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 6
2026-01-08T13:09:54.278+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:54.280+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1341141052 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c7264f1] will not be managed by Spring
2026-01-08T13:09:54.280+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b5f40a4] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:54.281+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:54.281+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@105f2667]
2026-01-08T13:09:54.281+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59b2e4f2] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:54.281+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T13:09:54.282+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a1efbd3] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:54.282+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@215762971 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b736c58] will not be managed by Spring
2026-01-08T13:09:54.282+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:54.282+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1109726707 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:54.283+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-08T13:09:54.283+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T13:09:54.284+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15633e27] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:54.284+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1945719170 wrapping com.mysql.cj.jdbc.ConnectionImpl@89fb78d] will not be managed by Spring
2026-01-08T13:09:54.284+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T13:09:54.285+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T13:09:54.287+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-08T13:09:54.285+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2095468274 wrapping com.mysql.cj.jdbc.ConnectionImpl@78ca4c08] will not be managed by Spring
2026-01-08T13:09:54.286+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T13:09:54.287+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-08T13:09:54.289+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 6(Long), 1(Long)
2026-01-08T13:09:54.287+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:54.292+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:54.289+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2493d5dc]
2026-01-08T13:09:54.290+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T13:09:54.290+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T13:09:54.296+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59b2e4f2]
2026-01-08T13:09:54.296+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T13:09:54.297+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b5f40a4]
2026-01-08T13:09:54.299+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:54.298+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 22
2026-01-08T13:09:54.298+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T13:09:54.299+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2026-01-08T13:09:54.300+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:54.304+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15633e27]
2026-01-08T13:09:54.302+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@424cbb3] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:54.303+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a1efbd3]
2026-01-08T13:09:54.303+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T13:09:54.304+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T13:09:54.305+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T13:09:54.305+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@92266995 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b736c58] will not be managed by Spring
2026-01-08T13:09:54.311+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T13:09:54.306+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:54.314+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@729cd59d] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:54.307+09:00 DEBUG 23788 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T13:09:54.310+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-08T13:09:54.311+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2026-01-08T13:09:54.314+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T13:09:54.314+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@253847678 wrapping com.mysql.cj.jdbc.ConnectionImpl@89fb78d] will not be managed by Spring
2026-01-08T13:09:54.320+09:00 DEBUG 23788 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T13:09:54.335+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-08T13:09:54.348+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:54.350+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-08T13:09:54.351+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T13:09:54.355+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:54.361+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T13:09:54.357+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10&status%5B%5D=APPROVED", parameters={masked}
2026-01-08T13:09:54.365+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T13:09:54.365+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T13:09:54.365+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T13:09:54.367+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T13:09:54.367+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:54.367+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:54.367+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1863e33f] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:54.372+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1846697234 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:54.368+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c0f7cf0] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:54.369+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T13:09:54.374+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@424cbb3]
2026-01-08T13:09:54.373+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:54.377+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:54.374+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1466513270 wrapping com.mysql.cj.jdbc.ConnectionImpl@78ca4c08] will not be managed by Spring
2026-01-08T13:09:54.374+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:54.382+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e14822c] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:54.382+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1557112590 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b736c58] will not be managed by Spring
2026-01-08T13:09:54.383+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:54.382+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T13:09:54.384+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:54.385+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-08T13:09:54.390+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:54.391+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@729cd59d]
2026-01-08T13:09:54.391+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T13:09:54.393+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=내 결재 문서 조회 성공, data=[ExpenseReportDto(expenseReportId=33, drafterI (truncated)...]
2026-01-08T13:09:54.398+09:00 DEBUG 23788 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T13:09:54.406+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:54.407+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1863e33f]
2026-01-08T13:09:54.407+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:54.408+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19742d91] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:54.408+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@503930779 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:54.411+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:54.413+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:54.416+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:54.416+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 6
2026-01-08T13:09:54.416+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e14822c]
2026-01-08T13:09:54.417+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c0f7cf0]
2026-01-08T13:09:54.417+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:54.417+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:54.417+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22220757] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:54.417+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a9546d4] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:54.418+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@232408970 wrapping com.mysql.cj.jdbc.ConnectionImpl@78ca4c08] will not be managed by Spring
2026-01-08T13:09:54.418+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2029909213 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b736c58] will not be managed by Spring
2026-01-08T13:09:54.418+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:54.419+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T13:09:54.419+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:54.420+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T13:09:54.425+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:54.427+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19742d91]
2026-01-08T13:09:54.429+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:54.429+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f454beb] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:54.431+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@660993335 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:54.431+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/my-approvals
2026-01-08T13:09:54.432+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T13:09:54.437+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-08T13:09:54.437+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/my-approvals
2026-01-08T13:09:54.439+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/my-approvals
2026-01-08T13:09:54.440+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/my-approvals", parameters={}
2026-01-08T13:09:54.441+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMyApprovals()
2026-01-08T13:09:54.449+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:54.449+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@89cb0d7] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:54.450+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1065160275 wrapping com.mysql.cj.jdbc.ConnectionImpl@89fb78d] will not be managed by Spring
2026-01-08T13:09:54.452+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] .i.b.m.E.selectMyApprovedReportsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status IN ('APPROVED', 'REJECTED') AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T13:09:54.455+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] .i.b.m.E.selectMyApprovedReportsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-08T13:09:54.463+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T13:09:54.465+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22220757]
2026-01-08T13:09:54.466+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:54.467+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@524df06e] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:54.467+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:54.468+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1625775567 wrapping com.mysql.cj.jdbc.ConnectionImpl@3b736c58] will not be managed by Spring
2026-01-08T13:09:54.468+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a9546d4]
2026-01-08T13:09:54.469+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:54.469+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T13:09:54.469+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:54.469+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterId= (truncated)...]
2026-01-08T13:09:54.470+09:00 DEBUG 23788 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T13:09:54.474+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-08T13:09:54.475+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f454beb]
2026-01-08T13:09:54.476+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] .i.b.m.E.selectMyApprovedReportsByUserId : <==      Total: 16
2026-01-08T13:09:54.479+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:54.480+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@89cb0d7]
2026-01-08T13:09:54.480+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a8e9d79] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:54.481+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:54.484+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e68cbd3] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:54.482+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1604426192 wrapping com.mysql.cj.jdbc.ConnectionImpl@350f0148] will not be managed by Spring
2026-01-08T13:09:54.485+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1663031489 wrapping com.mysql.cj.jdbc.ConnectionImpl@89fb78d] will not be managed by Spring
2026-01-08T13:09:54.485+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T13:09:54.485+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:54.486+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-08T13:09:54.486+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:54.506+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:54.506+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@524df06e]
2026-01-08T13:09:54.507+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T13:09:54.507+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T13:09:54.509+09:00 DEBUG 23788 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T13:09:54.515+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:54.516+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e68cbd3]
2026-01-08T13:09:54.517+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:54.517+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37d67ca5] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:54.516+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-08T13:09:54.521+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2141720543 wrapping com.mysql.cj.jdbc.ConnectionImpl@89fb78d] will not be managed by Spring
2026-01-08T13:09:54.522+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a8e9d79]
2026-01-08T13:09:54.523+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T13:09:54.523+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T13:09:54.527+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 6(Long), 1(Long)
2026-01-08T13:09:54.528+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2026-01-08T13:09:54.529+09:00 DEBUG 23788 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T13:09:54.540+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-08T13:09:54.546+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-08T13:09:54.547+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-08T13:09:54.548+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-08T13:09:54.548+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T13:09:54.550+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:54.551+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@736f0f77] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:54.552+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@963398355 wrapping com.mysql.cj.jdbc.ConnectionImpl@78ca4c08] will not be managed by Spring
2026-01-08T13:09:54.553+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:54.553+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:54.557+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 22
2026-01-08T13:09:54.557+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37d67ca5]
2026-01-08T13:09:54.557+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:54.558+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ccecc74] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:54.559+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1761195548 wrapping com.mysql.cj.jdbc.ConnectionImpl@89fb78d] will not be managed by Spring
2026-01-08T13:09:54.559+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:54.560+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:54.562+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:54.563+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@736f0f77]
2026-01-08T13:09:54.563+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:54.563+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7644bbe4] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:54.564+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2111506156 wrapping com.mysql.cj.jdbc.ConnectionImpl@78ca4c08] will not be managed by Spring
2026-01-08T13:09:54.564+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:54.564+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:54.567+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:54.567+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ccecc74]
2026-01-08T13:09:54.568+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T13:09:54.570+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=내 결재 문서 조회 성공, data=[ExpenseReportDto(expenseReportId=33, drafterI (truncated)...]
2026-01-08T13:09:54.572+09:00 DEBUG 23788 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T13:09:54.574+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:54.575+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7644bbe4]
2026-01-08T13:09:54.575+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:54.578+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1977dad9] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:54.579+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1245698440 wrapping com.mysql.cj.jdbc.ConnectionImpl@78ca4c08] will not be managed by Spring
2026-01-08T13:09:54.580+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T13:09:54.583+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T13:09:54.590+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T13:09:54.590+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1977dad9]
2026-01-08T13:09:54.590+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:54.595+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e3726ac] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:54.595+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@959551137 wrapping com.mysql.cj.jdbc.ConnectionImpl@78ca4c08] will not be managed by Spring
2026-01-08T13:09:54.598+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:54.598+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:54.615+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:54.615+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e3726ac]
2026-01-08T13:09:54.615+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:54.616+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@500fbc0f] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:54.617+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2007692004 wrapping com.mysql.cj.jdbc.ConnectionImpl@78ca4c08] will not be managed by Spring
2026-01-08T13:09:54.618+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T13:09:54.619+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T13:09:54.630+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T13:09:54.638+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@500fbc0f]
2026-01-08T13:09:54.639+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:54.640+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@788b1fa0] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:54.642+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1430858618 wrapping com.mysql.cj.jdbc.ConnectionImpl@78ca4c08] will not be managed by Spring
2026-01-08T13:09:54.645+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T13:09:54.648+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T13:09:54.657+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T13:09:54.664+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@788b1fa0]
2026-01-08T13:09:54.665+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:54.665+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6863fcf7] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:54.666+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1219860548 wrapping com.mysql.cj.jdbc.ConnectionImpl@78ca4c08] will not be managed by Spring
2026-01-08T13:09:54.666+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:54.667+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:54.669+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:54.672+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6863fcf7]
2026-01-08T13:09:54.673+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:54.673+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cbb747] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:54.674+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1882744589 wrapping com.mysql.cj.jdbc.ConnectionImpl@78ca4c08] will not be managed by Spring
2026-01-08T13:09:54.681+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T13:09:54.682+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T13:09:54.685+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T13:09:54.686+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cbb747]
2026-01-08T13:09:54.689+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:54.690+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bd92950] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:54.691+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1098044643 wrapping com.mysql.cj.jdbc.ConnectionImpl@78ca4c08] will not be managed by Spring
2026-01-08T13:09:54.691+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:54.698+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:54.702+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:54.707+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bd92950]
2026-01-08T13:09:54.709+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T13:09:54.712+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T13:09:54.714+09:00 DEBUG 23788 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T13:09:55.223+09:00 DEBUG 23788 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/export/journal
2026-01-08T13:09:55.232+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/export/journal
2026-01-08T13:09:55.236+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/export/journal
2026-01-08T13:09:55.465+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/export/journal
2026-01-08T13:09:55.534+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/export/journal", parameters={}
2026-01-08T13:09:55.629+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#exportJournalEntries(String, String)
2026-01-08T13:09:55.698+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseController.exportJournalEntries(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T13:09:55.750+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseController.exportJournalEntries(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-08T13:09:55.784+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:55.822+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2555b832] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:55.889+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@810572781 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c7264f1] will not be managed by Spring
2026-01-08T13:09:55.891+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? , ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T13:09:55.898+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), PAID(String), 2147483647(Integer), 0(Integer)
2026-01-08T13:09:55.908+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 15
2026-01-08T13:09:55.908+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2555b832]
2026-01-08T13:09:55.908+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:55.910+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d63542] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:55.912+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1679075412 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c7264f1] will not be managed by Spring
2026-01-08T13:09:55.913+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T13:09:55.914+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-08T13:09:55.917+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T13:09:55.918+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d63542]
2026-01-08T13:09:55.920+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:55.920+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6647012e] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:55.922+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1426609281 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c7264f1] will not be managed by Spring
2026-01-08T13:09:55.922+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T13:09:55.923+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 8(Long), 6(Long), 1(Long)
2026-01-08T13:09:55.965+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 20
2026-01-08T13:09:56.007+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6647012e]
2026-01-08T13:09:56.030+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:56.033+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@434367ff] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:56.033+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@800264971 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c7264f1] will not be managed by Spring
2026-01-08T13:09:56.036+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T13:09:56.038+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long), 6(Long), 8(Long), 13(Long), 14(Long), 16(Long), 17(Long), 18(Long), 19(Long), 20(Long), 27(Long), 31(Long), 32(Long), 24(Long), 33(Long)
2026-01-08T13:09:56.055+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 20
2026-01-08T13:09:56.057+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@434367ff]
2026-01-08T13:09:56.058+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:56.064+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28a829a1] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:56.065+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@523525364 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c7264f1] will not be managed by Spring
2026-01-08T13:09:56.068+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-08T13:09:56.069+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 1(Long), 1(Long)
2026-01-08T13:09:56.108+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-08T13:09:56.111+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28a829a1]
2026-01-08T13:09:56.111+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:56.111+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@246c9ea5] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:56.112+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1298157224 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c7264f1] will not be managed by Spring
2026-01-08T13:09:56.112+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-08T13:09:56.113+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 6(Long), 1(Long)
2026-01-08T13:09:56.120+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-08T13:09:56.122+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@246c9ea5]
2026-01-08T13:09:56.123+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:56.124+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4558ab48] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:56.124+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@83987696 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c7264f1] will not be managed by Spring
2026-01-08T13:09:56.124+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-08T13:09:56.130+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 8(Long), 1(Long)
2026-01-08T13:09:56.135+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-08T13:09:56.140+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4558ab48]
2026-01-08T13:09:56.141+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:56.141+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4996d8b9] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:56.141+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1226061864 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c7264f1] will not be managed by Spring
2026-01-08T13:09:56.142+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-08T13:09:56.147+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 13(Long), 1(Long)
2026-01-08T13:09:56.150+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-08T13:09:56.154+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4996d8b9]
2026-01-08T13:09:56.155+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:56.155+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56891028] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:56.156+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@690313552 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c7264f1] will not be managed by Spring
2026-01-08T13:09:56.158+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-08T13:09:56.158+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 14(Long), 1(Long)
2026-01-08T13:09:56.173+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-08T13:09:56.174+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56891028]
2026-01-08T13:09:56.175+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:56.175+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ba6a61a] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:56.180+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1169224982 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c7264f1] will not be managed by Spring
2026-01-08T13:09:56.181+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-08T13:09:56.181+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 16(Long), 1(Long)
2026-01-08T13:09:56.190+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-08T13:09:56.191+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ba6a61a]
2026-01-08T13:09:56.194+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:56.197+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@404b8317] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:56.203+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@783514482 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c7264f1] will not be managed by Spring
2026-01-08T13:09:56.207+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-08T13:09:56.209+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 17(Long), 1(Long)
2026-01-08T13:09:56.216+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-08T13:09:56.217+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@404b8317]
2026-01-08T13:09:56.217+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:56.217+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ccc38d0] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:56.218+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1342396773 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c7264f1] will not be managed by Spring
2026-01-08T13:09:56.219+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-08T13:09:56.220+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 18(Long), 1(Long)
2026-01-08T13:09:56.222+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-08T13:09:56.223+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ccc38d0]
2026-01-08T13:09:56.223+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:56.224+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@408da12b] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:56.224+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1839860562 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c7264f1] will not be managed by Spring
2026-01-08T13:09:56.224+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-08T13:09:56.227+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 19(Long), 1(Long)
2026-01-08T13:09:56.257+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-08T13:09:56.272+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@408da12b]
2026-01-08T13:09:56.273+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:56.273+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34e2d2da] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:56.285+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@432777620 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c7264f1] will not be managed by Spring
2026-01-08T13:09:56.286+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-08T13:09:56.287+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 20(Long), 1(Long)
2026-01-08T13:09:56.290+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-08T13:09:56.315+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34e2d2da]
2026-01-08T13:09:56.317+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:56.323+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46333530] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:56.324+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1684359982 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c7264f1] will not be managed by Spring
2026-01-08T13:09:56.331+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-08T13:09:56.332+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 27(Long), 1(Long)
2026-01-08T13:09:56.335+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-08T13:09:56.336+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46333530]
2026-01-08T13:09:56.337+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:56.338+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@323921ae] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:56.340+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1836849260 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c7264f1] will not be managed by Spring
2026-01-08T13:09:56.340+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-08T13:09:56.342+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 31(Long), 1(Long)
2026-01-08T13:09:56.349+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-08T13:09:56.349+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@323921ae]
2026-01-08T13:09:56.351+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:56.351+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35f748b9] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:56.352+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1320696824 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c7264f1] will not be managed by Spring
2026-01-08T13:09:56.352+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-08T13:09:56.353+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 32(Long), 1(Long)
2026-01-08T13:09:56.355+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-08T13:09:56.356+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35f748b9]
2026-01-08T13:09:56.357+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:56.357+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1041d73e] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:56.357+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@536667919 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c7264f1] will not be managed by Spring
2026-01-08T13:09:56.358+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-08T13:09:56.358+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 24(Long), 1(Long)
2026-01-08T13:09:56.363+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 2
2026-01-08T13:09:56.363+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1041d73e]
2026-01-08T13:09:56.364+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:56.364+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@423e4e7] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:56.365+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@449133434 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c7264f1] will not be managed by Spring
2026-01-08T13:09:56.365+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-08T13:09:56.366+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 33(Long), 1(Long)
2026-01-08T13:09:56.368+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-08T13:09:56.369+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@423e4e7]
2026-01-08T13:09:56.969+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:56.970+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39fc404b] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:56.973+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@436962900 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c7264f1] will not be managed by Spring
2026-01-08T13:09:56.973+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T13:09:56.978+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-08T13:09:56.982+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T13:09:56.983+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39fc404b]
2026-01-08T13:09:57.018+09:00  WARN 23788 --- [http-nio-8080-exec-5] c.i.backend.service.ExpenseService       : 영수증 이미지가 너무 큽니다 (3585027 bytes). Excel에 삽입하지 않습니다.
2026-01-08T13:09:57.048+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:57.053+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@698ff720] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:57.053+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@216635697 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c7264f1] will not be managed by Spring
2026-01-08T13:09:57.056+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T13:09:57.117+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-08T13:09:57.121+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T13:09:57.131+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@698ff720]
2026-01-08T13:09:57.167+09:00  WARN 23788 --- [http-nio-8080-exec-5] c.i.backend.service.ExpenseService       : 영수증 이미지가 너무 큽니다 (3585027 bytes). Excel에 삽입하지 않습니다.
2026-01-08T13:09:57.181+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:57.183+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f7a3a5] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:57.184+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1473346551 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c7264f1] will not be managed by Spring
2026-01-08T13:09:57.184+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T13:09:57.186+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-08T13:09:57.188+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T13:09:57.188+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f7a3a5]
2026-01-08T13:09:57.197+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:57.202+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47bfdbaf] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:57.203+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2096013942 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c7264f1] will not be managed by Spring
2026-01-08T13:09:57.204+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T13:09:57.205+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-08T13:09:57.218+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T13:09:57.218+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47bfdbaf]
2026-01-08T13:09:57.228+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:57.232+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@185fd4d9] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:57.232+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@553916126 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c7264f1] will not be managed by Spring
2026-01-08T13:09:57.232+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T13:09:57.232+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-08T13:09:57.235+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T13:09:57.236+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@185fd4d9]
2026-01-08T13:09:57.241+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:57.242+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b89dac3] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:57.244+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@227943031 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c7264f1] will not be managed by Spring
2026-01-08T13:09:57.245+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T13:09:57.246+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-08T13:09:57.248+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T13:09:57.248+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b89dac3]
2026-01-08T13:09:57.252+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:57.253+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@239647ce] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:57.253+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@107794109 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c7264f1] will not be managed by Spring
2026-01-08T13:09:57.254+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T13:09:57.255+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-08T13:09:57.256+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T13:09:57.257+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@239647ce]
2026-01-08T13:09:57.262+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:57.262+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c2861e0] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:57.263+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2028313793 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c7264f1] will not be managed by Spring
2026-01-08T13:09:57.263+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T13:09:57.264+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-08T13:09:57.266+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T13:09:57.267+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c2861e0]
2026-01-08T13:09:57.270+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:57.271+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25e3f04c] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:57.271+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@174830193 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c7264f1] will not be managed by Spring
2026-01-08T13:09:57.272+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T13:09:57.273+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), null, 1(Long)
2026-01-08T13:09:57.274+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T13:09:57.277+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25e3f04c]
2026-01-08T13:09:57.281+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:57.282+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25e419b8] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:57.283+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@532671704 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c7264f1] will not be managed by Spring
2026-01-08T13:09:57.284+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T13:09:57.285+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-08T13:09:57.287+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T13:09:57.287+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25e419b8]
2026-01-08T13:09:57.288+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:57.288+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@721ca9e4] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:57.290+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@304435795 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c7264f1] will not be managed by Spring
2026-01-08T13:09:57.291+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T13:09:57.292+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), null, 1(Long)
2026-01-08T13:09:57.295+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T13:09:57.296+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@721ca9e4]
2026-01-08T13:09:57.299+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:57.300+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ee96920] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:57.301+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@959297168 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c7264f1] will not be managed by Spring
2026-01-08T13:09:57.301+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T13:09:57.302+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-08T13:09:57.305+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T13:09:57.305+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ee96920]
2026-01-08T13:09:57.307+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:57.307+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6760be30] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:57.308+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@44399509 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c7264f1] will not be managed by Spring
2026-01-08T13:09:57.309+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T13:09:57.311+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-08T13:09:57.313+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T13:09:57.314+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6760be30]
2026-01-08T13:09:57.317+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:57.317+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@413cb12a] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:57.318+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@600770051 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c7264f1] will not be managed by Spring
2026-01-08T13:09:57.318+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T13:09:57.318+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-08T13:09:57.320+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T13:09:57.321+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@413cb12a]
2026-01-08T13:09:57.321+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:57.321+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a440ee4] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:57.322+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1054169447 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c7264f1] will not be managed by Spring
2026-01-08T13:09:57.322+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T13:09:57.322+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-08T13:09:57.324+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T13:09:57.325+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a440ee4]
2026-01-08T13:09:57.328+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:57.328+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c5bc0f7] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:57.329+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1413444707 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c7264f1] will not be managed by Spring
2026-01-08T13:09:57.330+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T13:09:57.332+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-08T13:09:57.334+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T13:09:57.334+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c5bc0f7]
2026-01-08T13:09:57.336+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:57.337+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bb54456] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:57.340+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@926266731 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c7264f1] will not be managed by Spring
2026-01-08T13:09:57.340+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T13:09:57.341+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-08T13:09:57.345+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T13:09:57.349+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bb54456]
2026-01-08T13:09:57.352+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:57.352+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65cc0225] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:57.353+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2135457050 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c7264f1] will not be managed by Spring
2026-01-08T13:09:57.353+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T13:09:57.354+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-08T13:09:57.357+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T13:09:57.357+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65cc0225]
2026-01-08T13:09:57.360+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:57.365+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@654f7a3] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:57.366+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@59506790 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c7264f1] will not be managed by Spring
2026-01-08T13:09:57.366+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T13:09:57.367+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-08T13:09:57.368+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T13:09:57.369+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@654f7a3]
2026-01-08T13:09:57.370+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:57.370+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@460af71c] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:57.372+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1732438417 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c7264f1] will not be managed by Spring
2026-01-08T13:09:57.372+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T13:09:57.373+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), null, 1(Long)
2026-01-08T13:09:57.374+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T13:09:57.375+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@460af71c]
2026-01-08T13:09:57.383+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:57.383+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b6c2a17] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:57.384+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@709859441 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c7264f1] will not be managed by Spring
2026-01-08T13:09:57.385+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T13:09:57.385+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-08T13:09:57.387+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T13:09:57.387+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b6c2a17]
2026-01-08T13:09:57.388+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:57.388+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c38a483] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:57.388+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1994264449 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c7264f1] will not be managed by Spring
2026-01-08T13:09:57.389+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T13:09:57.390+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-08T13:09:57.394+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T13:09:57.397+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c38a483]
2026-01-08T13:09:57.399+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:57.402+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75768c41] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:57.404+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@478356176 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c7264f1] will not be managed by Spring
2026-01-08T13:09:57.404+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T13:09:57.404+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-08T13:09:57.413+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T13:09:57.413+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75768c41]
2026-01-08T13:09:57.509+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.backend.service.ExpenseService       : 영수증 이미지 삽입 완료: receipt_20260106161341_innersign_logo.png (행: 36)
2026-01-08T13:09:57.511+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:57.512+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f24167c] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:57.512+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1387112255 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c7264f1] will not be managed by Spring
2026-01-08T13:09:57.512+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T13:09:57.513+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-08T13:09:57.515+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T13:09:57.516+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f24167c]
2026-01-08T13:09:57.521+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.backend.service.ExpenseService       : 영수증 이미지 삽입 완료: receipt_20260107140701_innersign_logo.png (행: 38)
2026-01-08T13:09:57.521+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:57.522+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49dc3a20] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:57.523+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@448018890 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c7264f1] will not be managed by Spring
2026-01-08T13:09:57.523+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T13:09:57.524+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-08T13:09:57.526+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T13:09:57.527+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49dc3a20]
2026-01-08T13:09:57.529+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:57.531+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22fbbdc8] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:57.532+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@173969037 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c7264f1] will not be managed by Spring
2026-01-08T13:09:57.532+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T13:09:57.533+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-08T13:09:57.534+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T13:09:57.535+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22fbbdc8]
2026-01-08T13:09:57.540+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.backend.service.ExpenseService       : 영수증 이미지 삽입 완료: receipt_20260106105553_innersign_logo.png (행: 42)
2026-01-08T13:09:57.542+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T13:09:57.543+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@424f9efb] was not registered for synchronization because synchronization is not active
2026-01-08T13:09:57.544+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1034256007 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c7264f1] will not be managed by Spring
2026-01-08T13:09:57.544+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-08T13:09:57.544+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), 123(String), 1(Long)
2026-01-08T13:09:57.547+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-08T13:09:57.548+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@424f9efb]
2026-01-08T13:09:57.551+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] c.i.backend.service.ExpenseService       : 영수증 이미지 삽입 완료: receipt_20260107144205_innersign_logo.png (행: 44)
2026-01-08T13:09:58.202+09:00  INFO 23788 --- [http-nio-8080-exec-5] c.i.backend.service.ExpenseService       : 전표 엑셀 파일 생성 완료 - 파일명: journal_entry_10039412818441496068.xlsx, 건수: 15
2026-01-08T13:09:58.205+09:00  INFO 23788 --- [http-nio-8080-exec-5] c.i.b.controller.ExpenseController       : 전표 다운로드 요청 - userId: 4, startDate: null, endDate: null
2026-01-08T13:09:58.207+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Found 'Content-Type:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' in response
2026-01-08T13:09:58.208+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [file [C:\Users\owner\AppData\Local\Temp\journal_entry_10039412818441496068.xlsx]]
2026-01-08T13:09:58.211+09:00  WARN 23788 --- [http-nio-8080-exec-5] o.apache.coyote.http11.Http11Processor   : The HTTP response header [Content-Disposition] with value [attachment; filename="전표_전체_전체.xlsx"] has been removed from the response because it is invalid

java.lang.IllegalArgumentException: The Unicode character [전] at code point [51,204] cannot be encoded as it is outside the permitted range of 0 to 255
	at org.apache.tomcat.util.buf.MessageBytes.toBytesSimple(MessageBytes.java:306) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.buf.MessageBytes.toBytes(MessageBytes.java:279) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11OutputBuffer.write(Http11OutputBuffer.java:400) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11OutputBuffer.sendHeader(Http11OutputBuffer.java:379) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.writeHeaders(Http11Processor.java:1067) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.prepareResponse(Http11Processor.java:1054) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessor.action(AbstractProcessor.java:377) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.Response.action(Response.java:201) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11OutputBuffer.doWrite(Http11OutputBuffer.java:187) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.Response.doWrite(Response.java:621) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:328) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.flushByteBuffer(OutputBuffer.java:775) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.append(OutputBuffer.java:672) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.writeBytes(OutputBuffer.java:375) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.write(OutputBuffer.java:353) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteOutputStream.write(CoyoteOutputStream.java:99) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.security.web.util.OnCommittedResponseWrapper$SaveContextServletOutputStream.write(OnCommittedResponseWrapper.java:639) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.context.request.async.StandardServletAsyncWebRequest$LifecycleServletOutputStream.write(StandardServletAsyncWebRequest.java:401) ~[spring-web-6.2.14.jar:6.2.14]
	at java.base/java.io.InputStream.transferTo(InputStream.java:783) ~[na:na]
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeContent(ResourceHttpMessageConverter.java:160) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:115) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:46) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.http.converter.AbstractHttpMessageConverter.write(AbstractHttpMessageConverter.java:235) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:344) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:263) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ResponseEntityReturnValueHandler.handleReturnValue(ResponseEntityReturnValueHandler.java:79) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:87) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2026-01-08T13:09:58.314+09:00 DEBUG 23788 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
